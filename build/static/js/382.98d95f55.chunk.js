"use strict";(self.webpackChunkdigital_twin_app=self.webpackChunkdigital_twin_app||[]).push([[382],{382:(e,a,r)=>{r.r(a),r.d(a,{default:()=>n});var t=r(339),s=r(222),l=r(805),d=r(133),i=r(931);const n=()=>{const{currentUser:e}=(0,d.A)(),[a,r]=(0,t.useState)([]),[n,o]=(0,t.useState)(""),[c,u]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.uid)try{const a=(0,s.P)((0,s.rJ)(l.db,"saved_queries"),(0,s._M)("userId","==",e.uid)),t=(await(0,s.GG)(a)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(a){console.error("\u274c Error retrieving saved queries:",a)}})()}),[e]);const x=a.filter((e=>e.query.toLowerCase().includes(n.toLowerCase())));return(0,t.useEffect)((()=>{u(n?[...new Set(a.map((e=>e.query)))].filter((e=>e.toLowerCase().startsWith(n.toLowerCase()))):[])}),[n,a]),(0,i.jsxs)("div",{className:"max-w-6xl mx-auto mt-8 p-8 border bg-white dark:bg-gray-900 rounded-2xl shadow-lg hover:shadow-blue-500/50 rounded-lg",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-center p-2 text-blue-600 dark:text-blue-600 mb-4",children:"Saved Queries"}),(0,i.jsx)("input",{type:"text",placeholder:"Search saved queries...",className:"w-full p-2 mb-4 border focus:ring-2 focus:ring-blue-500 rounded bg-white dark:bg-gray-700",value:n,onChange:e=>o(e.target.value)}),c.length>0&&(0,i.jsx)("ul",{className:"bg-gray-100 border rounded-lg max-h-32 overflow-y-auto mb-4",children:c.map(((e,a)=>(0,i.jsx)("li",{className:"p-2 hover:bg-gray-200 cursor-pointer",onClick:()=>o(e),children:e},a)))}),(0,i.jsx)("div",{className:"flex gap-8 mt-8",children:(0,i.jsx)("div",{className:"flex-1 space-y-4",children:0===a.length?(0,i.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No saved queries available."}):0===x.length?(0,i.jsxs)("p",{className:"text-center text-gray-500 dark:text-gray-400",children:['No matching queries found for "',n,'".']}):x.map((e=>{var a;return(0,i.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-xl shadow",children:[(0,i.jsx)("p",{className:"text-green-600 font-semibold",children:"Query:"}),(0,i.jsx)("p",{className:"text-gray-900 dark:text-white",children:e.query}),(0,i.jsx)("p",{className:"text-green-600 font-semibold mt-2",children:"Response:"}),(0,i.jsx)("p",{className:"text-gray-900 dark:text-gray-300",children:e.response||"No response recorded"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:null!==(a=e.timestamp)&&void 0!==a&&a.seconds?new Date(1e3*e.timestamp.seconds).toLocaleString():"No timestamp available"})]},e.id)}))})})]})}}}]);
//# sourceMappingURL=382.98d95f55.chunk.js.map