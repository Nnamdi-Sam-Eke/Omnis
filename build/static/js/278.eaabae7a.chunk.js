"use strict";(self.webpackChunkomnis=self.webpackChunkomnis||[]).push([[278],{8278:(e,r,s)=>{s.r(r),s.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(5043),t=s(5472),l=s(4895),d=s(9613),o=s(579);const __WEBPACK_DEFAULT_EXPORT__=()=>{const{currentUser:e}=(0,d.As)(),[r,s]=(0,a.useState)([]),[n,c]=(0,a.useState)(""),[i,u]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.uid)try{const r=(0,t.P)((0,t.rJ)(l.db,"saved_queries"),(0,t._M)("userId","==",e.uid)),a=(await(0,t.GG)(r)).docs.map((e=>({id:e.id,...e.data()})));s(a)}catch(r){console.error("\u274c Error retrieving saved queries:",r)}})()}),[e]);const x=r.filter((e=>e.query.toLowerCase().includes(n.toLowerCase())));return(0,a.useEffect)((()=>{u(n?[...new Set(r.map((e=>e.query)))].filter((e=>e.toLowerCase().startsWith(n.toLowerCase()))):[])}),[n,r]),(0,o.jsxs)("div",{className:"max-w-6xl mx-auto mt-8 p-8 border bg-white dark:bg-gray-900 rounded-2xl shadow-lg hover:shadow-blue-500/50 rounded-lg",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-center p-2 text-blue-600 dark:text-blue-300 mb-4",children:"Saved Queries"}),(0,o.jsx)("input",{type:"text",placeholder:"Search saved queries...",className:"w-full p-2 mb-4 border focus:ring-2 focus:ring-blue-500 rounded bg-white dark:bg-gray-700",value:n,onChange:e=>c(e.target.value)}),i.length>0&&(0,o.jsx)("ul",{className:"bg-gray-100 border rounded-lg max-h-32 overflow-y-auto mb-4",children:i.map(((e,r)=>(0,o.jsx)("li",{className:"p-2 hover:bg-gray-200 cursor-pointer",onClick:()=>c(e),children:e},r)))}),(0,o.jsx)("div",{className:"flex gap-8 mt-8",children:(0,o.jsx)("div",{className:"flex-1 space-y-4",children:0===r.length?(0,o.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No saved queries available."}):0===x.length?(0,o.jsxs)("p",{className:"text-center text-gray-500 dark:text-gray-400",children:['No matching queries found for "',n,'".']}):x.map((e=>{var r;return(0,o.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-xl shadow",children:[(0,o.jsx)("p",{className:"text-green-600 font-semibold",children:"Query:"}),(0,o.jsx)("p",{className:"text-gray-900 dark:text-white",children:e.query}),(0,o.jsx)("p",{className:"text-green-600 font-semibold mt-2",children:"Response:"}),(0,o.jsx)("p",{className:"text-gray-900 dark:text-gray-300",children:e.response||"No response recorded"}),(0,o.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:null!==(r=e.timestamp)&&void 0!==r&&r.seconds?new Date(1e3*e.timestamp.seconds).toLocaleString():"No timestamp available"})]},e.id)}))})})]})}}}]);
//# sourceMappingURL=278.eaabae7a.chunk.js.map