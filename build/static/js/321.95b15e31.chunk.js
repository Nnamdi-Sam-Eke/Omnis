"use strict";(self.webpackChunkomnis=self.webpackChunkomnis||[]).push([[321],{9321:(e,r,a)=>{a.r(r),a.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=a(5043),s=a(1362),o=a(579);const __WEBPACK_DEFAULT_EXPORT__=e=>{var r,a;let{onSuccess:d,onClose:i}=e;const[n,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),g=(0,s.xI)().currentUser;return(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg max-w-sm w-full",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Confirm Identity"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"password"===(null===g||void 0===g||null===(r=g.providerData[0])||void 0===r?void 0:r.providerId)?"Please enter your password to continue.":"Please confirm using your provider to continue."}),"password"===(null===g||void 0===g||null===(a=g.providerData[0])||void 0===a?void 0:a.providerId)&&(0,o.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 border rounded dark:bg-gray-700 mb-3",value:n,onChange:e=>l(e.target.value),disabled:p}),c&&(0,o.jsx)("p",{className:"text-red-500 text-sm mb-2",children:c}),(0,o.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,o.jsx)("button",{onClick:async()=>{if(g){m(!0),u("");try{var e;const r=null===(e=g.providerData[0])||void 0===e?void 0:e.providerId;if("password"===r){if(!n)return u("Password is required."),void m(!1);const e=s.IX.credential(g.email,n);await(0,s.kZ)(g,e)}else{if("google.com"!==r)return u("Unsupported authentication method."),void m(!1);{const e=new s.HF;await(0,s.Bm)(g,e)}}m(!1),l(""),u(""),d()}catch(r){console.error(r),u("auth/wrong-password"===r.code?"Incorrect password.":"Reauthentication failed. Try again."),m(!1)}}else u("No authenticated user found.")},className:"px-4 py-2 bg-red-600 text-white rounded transition "+(p?"opacity-50 cursor-not-allowed":"hover:bg-red-700"),disabled:p,children:p?"Verifying...":"Confirm"}),(0,o.jsx)("button",{onClick:i,className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600 transition",disabled:p,children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=321.95b15e31.chunk.js.map