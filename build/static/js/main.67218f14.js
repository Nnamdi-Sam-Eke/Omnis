/*! For license information please see main.67218f14.js.LICENSE.txt */
(()=>{var _={52:(_,$,ee)=>{"use strict";ee.d($,{KO:()=>registerVersion,MF:()=>ft,Sx:()=>getApp,Wp:()=>initializeApp,j6:()=>_getProvider,om:()=>_registerComponent,xZ:()=>_isFirebaseServerApp});var te=ee(8812),ne=ee(443),re=ee(1529),ie=ee(2799);class PlatformLoggerServiceImpl{constructor(_){this.container=_}getPlatformInfoString(){return this.container.getProviders().map((_=>{if(function isVersionServiceProvider(_){const $=_.getComponent();return"VERSION"===(null===$||void 0===$?void 0:$.type)}(_)){const $=_.getImmediate();return`${$.library}/${$.version}`}return null})).filter((_=>_)).join(" ")}}const ae="@firebase/app",oe="0.11.5",se=new ne.Vy("@firebase/app"),le="@firebase/app-compat",de="@firebase/analytics-compat",he="@firebase/analytics",fe="@firebase/app-check-compat",pe="@firebase/app-check",me="@firebase/auth",_e="@firebase/auth-compat",be="@firebase/database",we="@firebase/data-connect",Ee="@firebase/database-compat",ke="@firebase/functions",Ve="@firebase/functions-compat",De="@firebase/installations",Ne="@firebase/installations-compat",Me="@firebase/messaging",je="@firebase/messaging-compat",Le="@firebase/performance",ze="@firebase/performance-compat",qe="@firebase/remote-config",Ke="@firebase/remote-config-compat",et="@firebase/storage",tt="@firebase/storage-compat",nt="@firebase/firestore",rt="@firebase/vertexai",it="@firebase/firestore-compat",at="firebase",ot="[DEFAULT]",st={[ae]:"fire-core",[le]:"fire-core-compat",[he]:"fire-analytics",[de]:"fire-analytics-compat",[pe]:"fire-app-check",[fe]:"fire-app-check-compat",[me]:"fire-auth",[_e]:"fire-auth-compat",[be]:"fire-rtdb",[we]:"fire-data-connect",[Ee]:"fire-rtdb-compat",[ke]:"fire-fn",[Ve]:"fire-fn-compat",[De]:"fire-iid",[Ne]:"fire-iid-compat",[Me]:"fire-fcm",[je]:"fire-fcm-compat",[Le]:"fire-perf",[ze]:"fire-perf-compat",[qe]:"fire-rc",[Ke]:"fire-rc-compat",[et]:"fire-gcs",[tt]:"fire-gcs-compat",[nt]:"fire-fst",[it]:"fire-fst-compat",[rt]:"fire-vertex","fire-js":"fire-js",[at]:"fire-js-all"},lt=new Map,ct=new Map,ut=new Map;function _addComponent(_,$){try{_.container.addComponent($)}catch(ee){se.debug(`Component ${$.name} failed to register with FirebaseApp ${_.name}`,ee)}}function _registerComponent(_){const $=_.name;if(ut.has($))return se.debug(`There were multiple attempts to register component ${$}.`),!1;ut.set($,_);for(const ee of lt.values())_addComponent(ee,_);for(const ee of ct.values())_addComponent(ee,_);return!0}function _getProvider(_,$){const ee=_.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),_.container.getProvider($)}function _isFirebaseServerApp(_){return null!==_&&void 0!==_&&void 0!==_.settings}const dt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ht=new re.FA("app","Firebase",dt);class FirebaseAppImpl{constructor(_,$,ee){this._isDeleted=!1,this._options=Object.assign({},_),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new te.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_){this.checkDestroyed(),this._automaticDataCollectionEnabled=_}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_){this._isDeleted=_}checkDestroyed(){if(this.isDeleted)throw ht.create("app-deleted",{appName:this._name})}}const ft="11.6.1";function initializeApp(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=_;if("object"!==typeof $){$={name:$}}const ne=Object.assign({name:ot,automaticDataCollectionEnabled:!1},$),ie=ne.name;if("string"!==typeof ie||!ie)throw ht.create("bad-app-name",{appName:String(ie)});if(ee||(ee=(0,re.T9)()),!ee)throw ht.create("no-options");const ae=lt.get(ie);if(ae){if((0,re.bD)(ee,ae.options)&&(0,re.bD)(ne,ae.config))return ae;throw ht.create("duplicate-app",{appName:ie})}const oe=new te.h1(ie);for(const te of ut.values())oe.addComponent(te);const se=new FirebaseAppImpl(ee,ne,oe);return lt.set(ie,se),se}function getApp(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;const $=lt.get(_);if(!$&&_===ot&&(0,re.T9)())return initializeApp();if(!$)throw ht.create("no-app",{appName:_});return $}function registerVersion(_,$,ee){var ne;let re=null!==(ne=st[_])&&void 0!==ne?ne:_;ee&&(re+=`-${ee}`);const ie=re.match(/\s|\//),ae=$.match(/\s|\//);if(ie||ae){const _=[`Unable to register library "${re}" with version "${$}":`];return ie&&_.push(`library name "${re}" contains illegal characters (whitespace or "/")`),ie&&ae&&_.push("and"),ae&&_.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void se.warn(_.join(" "))}_registerComponent(new te.uA(`${re}-version`,(()=>({library:re,version:$})),"VERSION"))}const pt="firebase-heartbeat-store";let mt=null;function getDbPromise(){return mt||(mt=(0,ie.P2)("firebase-heartbeat-database",1,{upgrade:(_,$)=>{if(0===$)try{_.createObjectStore(pt)}catch(ee){console.warn(ee)}}}).catch((_=>{throw ht.create("idb-open",{originalErrorMessage:_.message})}))),mt}async function writeHeartbeatsToIndexedDB(_,$){try{const ee=(await getDbPromise()).transaction(pt,"readwrite"),te=ee.objectStore(pt);await te.put($,computeKey(_)),await ee.done}catch(ee){if(ee instanceof re.g)se.warn(ee.message);else{const _=ht.create("idb-set",{originalErrorMessage:null===ee||void 0===ee?void 0:ee.message});se.warn(_.message)}}}function computeKey(_){return`${_.name}!${_.options.appId}`}class HeartbeatServiceImpl{constructor(_){this.container=_,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl($),this._heartbeatsCachePromise=this._storage.read().then((_=>(this._heartbeatsCache=_,_)))}async triggerHeartbeat(){var _,$;try{const ee=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),te=getUTCDateString();if(null==(null===(_=this._heartbeatsCache)||void 0===_?void 0:_.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===($=this._heartbeatsCache)||void 0===$?void 0:$.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===te||this._heartbeatsCache.heartbeats.some((_=>_.date===te)))return;if(this._heartbeatsCache.heartbeats.push({date:te,agent:ee}),this._heartbeatsCache.heartbeats.length>30){const _=function getEarliestHeartbeatIdx(_){if(0===_.length)return-1;let $=0,ee=_[0].date;for(let te=1;te<_.length;te++)_[te].date<ee&&(ee=_[te].date,$=te);return $}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(_,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(ee){se.warn(ee)}}async getHeartbeatsHeader(){var _;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(_=this._heartbeatsCache)||void 0===_?void 0:_.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const $=getUTCDateString(),{heartbeatsToSend:ee,unsentEntries:te}=function extractHeartbeatsForHeader(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const ee=[];let te=_.slice();for(const ne of _){const _=ee.find((_=>_.agent===ne.agent));if(_){if(_.dates.push(ne.date),countBytes(ee)>$){_.dates.pop();break}}else if(ee.push({agent:ne.agent,dates:[ne.date]}),countBytes(ee)>$){ee.pop();break}te=te.slice(1)}return{heartbeatsToSend:ee,unsentEntries:te}}(this._heartbeatsCache.heartbeats),ne=(0,re.Uj)(JSON.stringify({version:2,heartbeats:ee}));return this._heartbeatsCache.lastSentHeartbeatDate=$,te.length>0?(this._heartbeatsCache.heartbeats=te,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ne}catch($){return se.warn($),""}}}function getUTCDateString(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(_){this.app=_,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,re.zW)()&&(0,re.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const _=await async function readHeartbeatsFromIndexedDB(_){try{const $=(await getDbPromise()).transaction(pt),ee=await $.objectStore(pt).get(computeKey(_));return await $.done,ee}catch($){if($ instanceof re.g)se.warn($.message);else{const _=ht.create("idb-get",{originalErrorMessage:null===$||void 0===$?void 0:$.message});se.warn(_.message)}}}(this.app);return(null===_||void 0===_?void 0:_.heartbeats)?_:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(_){var $;if(await this._canUseIndexedDBPromise){const ee=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==($=_.lastSentHeartbeatDate)&&void 0!==$?$:ee.lastSentHeartbeatDate,heartbeats:_.heartbeats})}}async add(_){var $;if(await this._canUseIndexedDBPromise){const ee=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==($=_.lastSentHeartbeatDate)&&void 0!==$?$:ee.lastSentHeartbeatDate,heartbeats:[...ee.heartbeats,..._.heartbeats]})}}}function countBytes(_){return(0,re.Uj)(JSON.stringify({version:2,heartbeats:_})).length}!function registerCoreComponents(_){_registerComponent(new te.uA("platform-logger",(_=>new PlatformLoggerServiceImpl(_)),"PRIVATE")),_registerComponent(new te.uA("heartbeat",(_=>new HeartbeatServiceImpl(_)),"PRIVATE")),registerVersion(ae,oe,_),registerVersion(ae,oe,"esm2017"),registerVersion("fire-js","")}("")},293:(_,$,ee)=>{"use strict";ee.d($,{E:()=>ne});var te=ee(5043);const ne=ee(4735).B?te.useLayoutEffect:te.useEffect},443:(_,$,ee)=>{"use strict";ee.d($,{$b:()=>ne,Vy:()=>Logger});const te=[];var ne;!function(_){_[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT"}(ne||(ne={}));const re={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ie=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},defaultLogHandler=function(_,$){if($<_.logLevel)return;const ee=(new Date).toISOString(),te=ae[$];if(!te)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);for(var ne=arguments.length,re=new Array(ne>2?ne-2:0),ie=2;ie<ne;ie++)re[ie-2]=arguments[ie];console[te](`[${ee}]  ${_.name}:`,...re)};class Logger{constructor(_){this.name=_,this._logLevel=ie,this._logHandler=defaultLogHandler,this._userLogHandler=null,te.push(this)}get logLevel(){return this._logLevel}set logLevel(_){if(!(_ in ne))throw new TypeError(`Invalid value "${_}" assigned to \`logLevel\``);this._logLevel=_}setLogLevel(_){this._logLevel="string"===typeof _?re[_]:_}get logHandler(){return this._logHandler}set logHandler(_){if("function"!==typeof _)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_}get userLogHandler(){return this._userLogHandler}set userLogHandler(_){this._userLogHandler=_}debug(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...$),this._logHandler(this,ne.DEBUG,...$)}log(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...$),this._logHandler(this,ne.VERBOSE,...$)}info(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler(this,ne.INFO,...$),this._logHandler(this,ne.INFO,...$)}warn(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler(this,ne.WARN,...$),this._logHandler(this,ne.WARN,...$)}error(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...$),this._logHandler(this,ne.ERROR,...$)}}},579:(_,$,ee)=>{"use strict";_.exports=ee(1153)},741:(_,$,ee)=>{"use strict";ee.d($,{A:()=>__WEBPACK_DEFAULT_EXPORT__});ee(5043);var te=ee(579);const __WEBPACK_DEFAULT_EXPORT__=_=>{let{height:$="h-6",width:ee="w-full"}=_;return(0,te.jsx)("div",{className:`bg-gray-300 dark:bg-gray-700 animate-pulse rounded ${$} ${ee}`})}},1003:(_,$,ee)=>{"use strict";ee.d($,{W:()=>OmnisProvider,Z:()=>useOmnisContext});var te=ee(5043),ne=ee(1362),re=ee(4895),ie=ee(5472),ae=ee(579);const oe=(0,te.createContext)(),OmnisProvider=_=>{let{children:$}=_;const[ee,se]=(0,te.useState)({location:null,pastQueries:[],preferences:{},sentiment:null,lastIntent:null,chatHistory:[]}),[le,de]=(0,te.useState)([]),[he,fe]=(0,te.useState)(null);(0,te.useEffect)((()=>{const _=(0,ne.xI)();(0,ne.hg)(_,(_=>{fe(_?_.uid:"guest_user")}))}),[]);const pe=he?(0,ie.H9)(re.db,"users",he):null,updateContext=async _=>{const $={...ee,..._};if(se($),de((_=>[..._,$])),le.length>=3&&pe)try{const _=(0,ie.wP)(re.db);le.forEach(($=>_.set(pe,$))),await _.commit(),console.log("\u2705 Batch written to Firestore:",le),de([])}catch(te){console.error("\u274c Error writing batch to Firestore:",te)}};(0,te.useEffect)((()=>{if(!pe)return;(async()=>{const _=await(0,ie.x7)(pe);_.exists()&&se(_.data())})(),navigator.geolocation.getCurrentPosition((async _=>{const{latitude:$,longitude:ee}=_.coords;try{const _=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${$}&longitude=${ee}&localityLanguage=en`),te=await _.json();updateContext({location:{city:te.city,country:te.countryName}})}catch(te){console.error("Error fetching location data:",te)}}),(_=>{console.error("Geolocation error:",_)}))}),[he]);return(0,ae.jsx)(oe.Provider,{value:{contextData:ee,updateContext:updateContext,addFeedback:async(_,$)=>{if(pe)try{const ee=(0,ie.H9)(re.db,"users",he),te=await(0,ie.x7)(ee);if(te.exists()){const ne=te.data().chatHistory.map((ee=>ee.timestamp===_?{...ee,feedback:$}:ee));await(0,ie.mZ)(ee,{chatHistory:ne}),console.log("\u2705 Feedback saved for response:",$)}}catch(ee){console.error("\u274c Error saving feedback:",ee)}},sendContextAwareQuery:async _=>{const{location:$,pastQueries:te,preferences:ne,sentiment:re,chatHistory:ae}=ee,oe=`You are Omnis, an AI assistant. Here is the conversation history:\n\n${ae.map((_=>`User: ${_.userMessage}\nOmnis: ${_.aiResponse}`)).join("\n")}\n\nCurrent user input: ${_}\n\nUser details:\n- Location: ${(null===$||void 0===$?void 0:$.city)||"Unknown"}\n- Preferences: ${JSON.stringify(ne)||"None"}\n- Sentiment: ${re||"Neutral"}\nUse this information to give a well-informed and contextual response.`;try{const $=await fetch("https://api.gemini.com/v1/query",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer YOUR_GEMINI_API_KEY"},body:JSON.stringify({prompt:oe})}),ee=await $.json();return await(async(_,$)=>{const ee={userMessage:_,aiResponse:$,feedback:null,timestamp:Date.now()};se((_=>({..._,chatHistory:[..._.chatHistory,ee]}))),await updateContext({chatHistory:(0,ie.hq)(ee)})})(_,ee.response),ee}catch(le){return console.error("Error fetching AI response:",le),null}}},children:$})},useOmnisContext=()=>(0,te.useContext)(oe)},1051:(_,$,ee)=>{"use strict";ee.d($,{Q:()=>te});const te=(0,ee(5043).createContext)({transformPagePoint:_=>_,isStatic:!1,reducedMotion:"never"})},1153:(_,$,ee)=>{"use strict";var te=ee(5043),ne=Symbol.for("react.element"),re=Symbol.for("react.fragment"),ie=Object.prototype.hasOwnProperty,ae=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oe={key:!0,ref:!0,__self:!0,__source:!0};function q(_,$,ee){var te,re={},se=null,le=null;for(te in void 0!==ee&&(se=""+ee),void 0!==$.key&&(se=""+$.key),void 0!==$.ref&&(le=$.ref),$)ie.call($,te)&&!oe.hasOwnProperty(te)&&(re[te]=$[te]);if(_&&_.defaultProps)for(te in $=_.defaultProps)void 0===re[te]&&(re[te]=$[te]);return{$$typeof:ne,type:_,key:se,ref:le,props:re,_owner:ae.current}}$.Fragment=re,$.jsx=q,$.jsxs=q},1362:(_,$,ee)=>{"use strict";ee.d($,{IX:()=>EmailAuthProvider,HF:()=>GoogleAuthProvider,eJ:()=>createUserWithEmailAndPassword,hG:()=>deleteUser,xI:()=>getAuth,hg:()=>onAuthStateChanged,kZ:()=>reauthenticateWithCredential,Bm:()=>reauthenticateWithPopup,J1:()=>sendPasswordResetEmail,x9:()=>signInWithEmailAndPassword,CI:()=>signOut,f3:()=>updatePassword});var te=ee(52),ne=ee(1529),re=ee(443);function __rest(_,$){var ee={};for(var te in _)Object.prototype.hasOwnProperty.call(_,te)&&$.indexOf(te)<0&&(ee[te]=_[te]);if(null!=_&&"function"===typeof Object.getOwnPropertySymbols){var ne=0;for(te=Object.getOwnPropertySymbols(_);ne<te.length;ne++)$.indexOf(te[ne])<0&&Object.prototype.propertyIsEnumerable.call(_,te[ne])&&(ee[te[ne]]=_[te[ne]])}return ee}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ie=ee(8812);function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ae=_prodErrorMap,oe=new ne.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),se=new re.Vy("@firebase/auth");function _logError(_){if(se.logLevel<=re.$b.ERROR){for(var $=arguments.length,ee=new Array($>1?$-1:0),ne=1;ne<$;ne++)ee[ne-1]=arguments[ne];se.error(`Auth (${te.MF}): ${_}`,...ee)}}function _fail(_){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];throw createErrorInternal(_,...ee)}function _createError(_){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];return createErrorInternal(_,...ee)}function _errorWithCustomMessage(_,$,ee){const te=Object.assign(Object.assign({},ae()),{[$]:ee});return new ne.FA("auth","Firebase",te).create($,{appName:_.name})}function _serverAppCurrentUserOperationNotSupportedError(_){return _errorWithCustomMessage(_,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(_,$,ee){if(!($ instanceof ee))throw ee.name!==$.constructor.name&&_fail(_,"argument-error"),_errorWithCustomMessage(_,"argument-error",`Type of ${$.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(_){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];if("string"!==typeof _){const $=ee[0],te=[...ee.slice(1)];return te[0]&&(te[0].appName=_.name),_._errorFactory.create($,...te)}return oe.create(_,...ee)}function _assert(_,$){if(!_){for(var ee=arguments.length,te=new Array(ee>2?ee-2:0),ne=2;ne<ee;ne++)te[ne-2]=arguments[ne];throw createErrorInternal($,...te)}}function debugFail(_){const $="INTERNAL ASSERTION FAILED: "+_;throw _logError($),new Error($)}function debugAssert(_,$){_||debugFail($)}function _getCurrentUrl(){var _;return"undefined"!==typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _getCurrentScheme(){var _;return"undefined"!==typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Delay{constructor(_,$){this.shortDelay=_,this.longDelay=$,debugAssert($>_,"Short delay should be less than long delay!"),this.isMobile=(0,ne.jZ)()||(0,ne.lV)()}get(){return function _isOnline(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_isHttpOrHttps()||(0,ne.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _emulatorUrl(_,$){debugAssert(_.emulator,"Emulator should always be set here");const{url:ee}=_.emulator;return $?`${ee}${$.startsWith("/")?$.slice(1):$}`:ee}class FetchProvider{static initialize(_,$,ee){this.fetchImpl=_,$&&(this.headersImpl=$),ee&&(this.responseImpl=ee)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},de=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],he=new Delay(3e4,6e4);function _addTidIfNecessary(_,$){return _.tenantId&&!$.tenantId?Object.assign(Object.assign({},$),{tenantId:_.tenantId}):$}async function _performApiRequest(_,$,ee,te){return _performFetchWithErrorHandling(_,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let re={},ie={};te&&("GET"===$?ie=te:re={body:JSON.stringify(te)});const ae=(0,ne.Am)(Object.assign({key:_.config.apiKey},ie)).slice(1),oe=await _._getAdditionalHeaders();oe["Content-Type"]="application/json",_.languageCode&&(oe["X-Firebase-Locale"]=_.languageCode);const se=Object.assign({method:$,headers:oe},re);return(0,ne.c1)()||(se.referrerPolicy="no-referrer"),FetchProvider.fetch()(await _getFinalTarget(_,_.config.apiHost,ee,ae),se)}))}async function _performFetchWithErrorHandling(_,$,ee){_._canInitEmulator=!1;const te=Object.assign(Object.assign({},le),$);try{const $=new NetworkTimeout(_),ne=await Promise.race([ee(),$.promise]);$.clearNetworkTimeout();const re=await ne.json();if("needConfirmation"in re)throw _makeTaggedError(_,"account-exists-with-different-credential",re);if(ne.ok&&!("errorMessage"in re))return re;{const $=ne.ok?re.errorMessage:re.error.message,[ee,ie]=$.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ee)throw _makeTaggedError(_,"credential-already-in-use",re);if("EMAIL_EXISTS"===ee)throw _makeTaggedError(_,"email-already-in-use",re);if("USER_DISABLED"===ee)throw _makeTaggedError(_,"user-disabled",re);const ae=te[ee]||ee.toLowerCase().replace(/[_\s]+/g,"-");if(ie)throw _errorWithCustomMessage(_,ae,ie);_fail(_,ae)}}catch(re){if(re instanceof ne.g)throw re;_fail(_,"network-request-failed",{message:String(re)})}}async function _performSignInRequest(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const re=await _performApiRequest(_,$,ee,te,ne);return"mfaPendingCredential"in re&&_fail(_,"multi-factor-auth-required",{_serverResponse:re}),re}async function _getFinalTarget(_,$,ee,te){const ne=`${$}${ee}?${te}`,re=_,ie=re.config.emulator?_emulatorUrl(_.config,ne):`${_.config.apiScheme}://${ne}`;if(de.includes(ee)&&(await re._persistenceManagerAvailable,"COOKIE"===re._getPersistenceType())){return re._getPersistence()._getFinalTarget(ie).toString()}return ie}function _parseEnforcementState(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(_){this.auth=_,this.timer=null,this.promise=new Promise(((_,$)=>{this.timer=setTimeout((()=>$(_createError(this.auth,"network-request-failed"))),he.get())}))}}function _makeTaggedError(_,$,ee){const te={appName:_.name};ee.email&&(te.email=ee.email),ee.phoneNumber&&(te.phoneNumber=ee.phoneNumber);const ne=_createError(_,$,te);return ne.customData._tokenResponse=ee,ne}function isEnterprise(_){return void 0!==_&&void 0!==_.enterprise}class RecaptchaConfig{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const $ of this.recaptchaEnforcementState)if($.provider&&$.provider===_)return _parseEnforcementState($.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(_,$){return _performApiRequest(_,"GET","/v2/recaptchaConfig",_addTidIfNecessary(_,$))}async function getAccountInfo(_,$){return _performApiRequest(_,"POST","/v1/accounts:lookup",$)}function utcTimestampToDateString(_){if(_)try{const $=new Date(Number(_));if(!isNaN($.getTime()))return $.toUTCString()}catch($){}}function secondsStringToMilliseconds(_){return 1e3*Number(_)}function _parseToken(_){const[$,ee,te]=_.split(".");if(void 0===$||void 0===ee||void 0===te)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,ne.u)(ee);return _?JSON.parse(_):(_logError("Failed to decode base64 JWT payload"),null)}catch(re){return _logError("Caught error parsing JWT payload as JSON",null===re||void 0===re?void 0:re.toString()),null}}function _tokenExpiresIn(_){const $=_parseToken(_);return _assert($,"internal-error"),_assert("undefined"!==typeof $.exp,"internal-error"),_assert("undefined"!==typeof $.iat,"internal-error"),Number($.exp)-Number($.iat)}async function _logoutIfInvalidated(_,$){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return $;try{return await $}catch(ee){throw ee instanceof ne.g&&function isUserInvalidated(_){let{code:$}=_;return"auth/user-disabled"===$||"auth/user-token-expired"===$}(ee)&&_.auth.currentUser===_&&await _.auth.signOut(),ee}}class ProactiveRefresh{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var $;if(_){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const _=(null!==($=this.user.stsTokenManager.expirationTime)&&void 0!==$?$:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(){let _=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const $=this.getInterval(_);this.timerId=setTimeout((async()=>{await this.iteration()}),$)}async iteration(){try{await this.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===_||void 0===_?void 0:_.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(_,$){this.createdAt=_,this.lastLoginAt=$,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _reloadWithoutSaving(_){var $;const ee=_.auth,te=await _.getIdToken(),ne=await _logoutIfInvalidated(_,getAccountInfo(ee,{idToken:te}));_assert(null===ne||void 0===ne?void 0:ne.users.length,ee,"internal-error");const re=ne.users[0];_._notifyReloadListener(re);const ie=(null===($=re.providerUserInfo)||void 0===$?void 0:$.length)?extractProviderData(re.providerUserInfo):[],ae=function mergeProviderData(_,$){return[..._.filter((_=>!$.some(($=>$.providerId===_.providerId)))),...$]}(_.providerData,ie),oe=_.isAnonymous,se=!(_.email&&re.passwordHash)&&!(null===ae||void 0===ae?void 0:ae.length),le=!!oe&&se,de={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:ae,metadata:new UserMetadata(re.createdAt,re.lastLoginAt),isAnonymous:le};Object.assign(_,de)}function extractProviderData(_){return _.map((_=>{var{providerId:$}=_,ee=__rest(_,["providerId"]);return{providerId:$,uid:ee.rawId||"",displayName:ee.displayName||null,email:ee.email||null,phoneNumber:ee.phoneNumber||null,photoURL:ee.photoUrl||null}}))}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){_assert(_.idToken,"internal-error"),_assert("undefined"!==typeof _.idToken,"internal-error"),_assert("undefined"!==typeof _.refreshToken,"internal-error");const $="expiresIn"in _&&"undefined"!==typeof _.expiresIn?Number(_.expiresIn):_tokenExpiresIn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,$)}updateFromIdToken(_){_assert(0!==_.length,"internal-error");const $=_tokenExpiresIn(_);this.updateTokensAndExpiration(_,null,$)}async getToken(_){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(_assert(this.refreshToken,_,"user-token-expired"),this.refreshToken?(await this.refresh(_,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(_,$){const{accessToken:ee,refreshToken:te,expiresIn:re}=await async function requestStsToken(_,$){const ee=await _performFetchWithErrorHandling(_,{},(async()=>{const ee=(0,ne.Am)({grant_type:"refresh_token",refresh_token:$}).slice(1),{tokenApiHost:te,apiKey:re}=_.config,ie=await _getFinalTarget(_,te,"/v1/token",`key=${re}`),ae=await _._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(ie,{method:"POST",headers:ae,body:ee})}));return{accessToken:ee.access_token,expiresIn:ee.expires_in,refreshToken:ee.refresh_token}}(_,$);this.updateTokensAndExpiration(ee,te,Number(re))}updateTokensAndExpiration(_,$,ee){this.refreshToken=$||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*ee}static fromJSON(_,$){const{refreshToken:ee,accessToken:te,expirationTime:ne}=$,re=new StsTokenManager;return ee&&(_assert("string"===typeof ee,"internal-error",{appName:_}),re.refreshToken=ee),te&&(_assert("string"===typeof te,"internal-error",{appName:_}),re.accessToken=te),ne&&(_assert("number"===typeof ne,"internal-error",{appName:_}),re.expirationTime=ne),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}function assertStringOrUndefined(_,$){_assert("string"===typeof _||"undefined"===typeof _,"internal-error",{appName:$})}class UserImpl{constructor(_){var{uid:$,auth:ee,stsTokenManager:te}=_,ne=__rest(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=$,this.auth=ee,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new UserMetadata(ne.createdAt||void 0,ne.lastLoginAt||void 0)}async getIdToken(_){const $=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,_));return _assert($,this.auth,"internal-error"),this.accessToken!==$&&(this.accessToken=$,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),$}getIdTokenResult(_){return async function getIdTokenResult(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const ee=(0,ne.Ku)(_),te=await ee.getIdToken($),re=_parseToken(te);_assert(re&&re.exp&&re.auth_time&&re.iat,ee.auth,"internal-error");const ie="object"===typeof re.firebase?re.firebase:void 0,ae=null===ie||void 0===ie?void 0:ie.sign_in_provider;return{claims:re,token:te,authTime:utcTimestampToDateString(secondsStringToMilliseconds(re.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(re.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(re.exp)),signInProvider:ae||null,signInSecondFactor:(null===ie||void 0===ie?void 0:ie.sign_in_second_factor)||null}}(this,_)}reload(){return async function reload(_){const $=(0,ne.Ku)(_);await _reloadWithoutSaving($),await $.auth._persistUserIfCurrent($),$.auth._notifyListenersIfCurrent($)}(this)}_assign(_){this!==_&&(_assert(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map((_=>Object.assign({},_))),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const $=new UserImpl(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return $.metadata._copy(this.metadata),$}_onReload(_){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ee=!1;_.idToken&&_.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(_),ee=!0),$&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),ee&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,te.xZ)(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const _=await this.getIdToken();return await _logoutIfInvalidated(this,async function deleteAccount(_,$){return _performApiRequest(_,"POST","/v1/accounts:delete",$)}(this.auth,{idToken:_})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((_=>Object.assign({},_))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,$){var ee,te,ne,re,ie,ae,oe,se;const le=null!==(ee=$.displayName)&&void 0!==ee?ee:void 0,de=null!==(te=$.email)&&void 0!==te?te:void 0,he=null!==(ne=$.phoneNumber)&&void 0!==ne?ne:void 0,fe=null!==(re=$.photoURL)&&void 0!==re?re:void 0,pe=null!==(ie=$.tenantId)&&void 0!==ie?ie:void 0,me=null!==(ae=$._redirectEventId)&&void 0!==ae?ae:void 0,_e=null!==(oe=$.createdAt)&&void 0!==oe?oe:void 0,be=null!==(se=$.lastLoginAt)&&void 0!==se?se:void 0,{uid:we,emailVerified:Ee,isAnonymous:ke,providerData:Ve,stsTokenManager:De}=$;_assert(we&&De,_,"internal-error");const Ne=StsTokenManager.fromJSON(this.name,De);_assert("string"===typeof we,_,"internal-error"),assertStringOrUndefined(le,_.name),assertStringOrUndefined(de,_.name),_assert("boolean"===typeof Ee,_,"internal-error"),_assert("boolean"===typeof ke,_,"internal-error"),assertStringOrUndefined(he,_.name),assertStringOrUndefined(fe,_.name),assertStringOrUndefined(pe,_.name),assertStringOrUndefined(me,_.name),assertStringOrUndefined(_e,_.name),assertStringOrUndefined(be,_.name);const Me=new UserImpl({uid:we,auth:_,email:de,emailVerified:Ee,displayName:le,isAnonymous:ke,photoURL:fe,phoneNumber:he,tenantId:pe,stsTokenManager:Ne,createdAt:_e,lastLoginAt:be});return Ve&&Array.isArray(Ve)&&(Me.providerData=Ve.map((_=>Object.assign({},_)))),me&&(Me._redirectEventId=me),Me}static async _fromIdTokenResponse(_,$){let ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const te=new StsTokenManager;te.updateFromServerResponse($);const ne=new UserImpl({uid:$.localId,auth:_,stsTokenManager:te,isAnonymous:ee});return await _reloadWithoutSaving(ne),ne}static async _fromGetAccountInfoResponse(_,$,ee){const te=$.users[0];_assert(void 0!==te.localId,"internal-error");const ne=void 0!==te.providerUserInfo?extractProviderData(te.providerUserInfo):[],re=!(te.email&&te.passwordHash)&&!(null===ne||void 0===ne?void 0:ne.length),ie=new StsTokenManager;ie.updateFromIdToken(ee);const ae=new UserImpl({uid:te.localId,auth:_,stsTokenManager:ie,isAnonymous:re}),oe={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ne,metadata:new UserMetadata(te.createdAt,te.lastLoginAt),isAnonymous:!(te.email&&te.passwordHash)&&!(null===ne||void 0===ne?void 0:ne.length)};return Object.assign(ae,oe),ae}}const fe=new Map;function _getInstance(_){debugAssert(_ instanceof Function,"Expected a class definition");let $=fe.get(_);return $?(debugAssert($ instanceof _,"Instance stored in cache mismatched with class"),$):($=new _,fe.set(_,$),$)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(_,$){this.storage[_]=$}async _get(_){const $=this.storage[_];return void 0===$?null:$}async _remove(_){delete this.storage[_]}_addListener(_,$){}_removeListener(_,$){}}InMemoryPersistence.type="NONE";const pe=InMemoryPersistence;function _persistenceKeyName(_,$,ee){return`firebase:${_}:${$}:${ee}`}class PersistenceUserManager{constructor(_,$,ee){this.persistence=_,this.auth=$,this.userKey=ee;const{config:te,name:ne}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,te.apiKey,ne),this.fullPersistenceKey=_persistenceKeyName("persistence",te.apiKey,ne),this.boundEventHandler=$._onStorageEvent.bind($),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}async getCurrentUser(){const _=await this.persistence._get(this.fullUserKey);if(!_)return null;if("string"===typeof _){const $=await getAccountInfo(this.auth,{idToken:_}).catch((()=>{}));return $?UserImpl._fromGetAccountInfoResponse(this.auth,$,_):null}return UserImpl._fromJSON(this.auth,_)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(_){if(this.persistence===_)return;const $=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=_,$?this.setCurrentUser($):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!$.length)return new PersistenceUserManager(_getInstance(pe),_,ee);const te=(await Promise.all($.map((async _=>{if(await _._isAvailable())return _})))).filter((_=>_));let ne=te[0]||_getInstance(pe);const re=_persistenceKeyName(ee,_.config.apiKey,_.name);let ie=null;for(const se of $)try{const $=await se._get(re);if($){let ee;if("string"===typeof $){const te=await getAccountInfo(_,{idToken:$}).catch((()=>{}));if(!te)break;ee=await UserImpl._fromGetAccountInfoResponse(_,te,$)}else ee=UserImpl._fromJSON(_,$);se!==ne&&(ie=ee),ne=se;break}}catch(oe){}const ae=te.filter((_=>_._shouldAllowMigration));return ne._shouldAllowMigration&&ae.length?(ne=ae[0],ie&&await ne._set(re,ie.toJSON()),await Promise.all($.map((async _=>{if(_!==ne)try{await _._remove(re)}catch(oe){}}))),new PersistenceUserManager(ne,_,ee)):new PersistenceUserManager(ne,_,ee)}}function _getBrowserName(_){const $=_.toLowerCase();if($.includes("opera/")||$.includes("opr/")||$.includes("opios/"))return"Opera";if(_isIEMobile($))return"IEMobile";if($.includes("msie")||$.includes("trident/"))return"IE";if($.includes("edge/"))return"Edge";if(_isFirefox($))return"Firefox";if($.includes("silk/"))return"Silk";if(_isBlackBerry($))return"Blackberry";if(_isWebOS($))return"Webos";if(_isSafari($))return"Safari";if(($.includes("chrome/")||_isChromeIOS($))&&!$.includes("edge/"))return"Chrome";if(_isAndroid($))return"Android";{const $=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,ee=_.match($);if(2===(null===ee||void 0===ee?void 0:ee.length))return ee[1]}return"Other"}function _isFirefox(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/firefox\//i.test(_)}function _isSafari(){const _=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)()).toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function _isChromeIOS(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/crios\//i.test(_)}function _isIEMobile(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/iemobile/i.test(_)}function _isAndroid(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/android/i.test(_)}function _isBlackBerry(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/blackberry/i.test(_)}function _isWebOS(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/webos/i.test(_)}function _isIOS(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function _isMobileBrowser(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)();return _isIOS(_)||_isAndroid(_)||_isWebOS(_)||_isBlackBerry(_)||/windows phone/i.test(_)||_isIEMobile(_)}function _getClientVersion(_){let $,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(_){case"Browser":$=_getBrowserName((0,ne.ZQ)());break;case"Worker":$=`${_getBrowserName((0,ne.ZQ)())}-${_}`;break;default:$=_}const re=ee.length?ee.join(","):"FirebaseCore-web";return`${$}/JsCore/${te.MF}/${re}`}class AuthMiddlewareQueue{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,$){const wrappedCallback=$=>new Promise(((ee,te)=>{try{ee(_($))}catch(ne){te(ne)}}));wrappedCallback.onAbort=$,this.queue.push(wrappedCallback);const ee=this.queue.length-1;return()=>{this.queue[ee]=()=>Promise.resolve()}}async runMiddleware(_){if(this.auth.currentUser===_)return;const $=[];try{for(const ee of this.queue)await ee(_),ee.onAbort&&$.push(ee.onAbort)}catch(ee){$.reverse();for(const _ of $)try{_()}catch(te){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ee||void 0===ee?void 0:ee.message})}}}class PasswordPolicyImpl{constructor(_){var $,ee,te,ne;const re=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==($=re.minPasswordLength)&&void 0!==$?$:6,re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=re.maxPasswordLength),void 0!==re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=re.containsLowercaseCharacter),void 0!==re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=re.containsUppercaseCharacter),void 0!==re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=re.containsNumericCharacter),void 0!==re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=re.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(te=null===(ee=_.allowedNonAlphanumericCharacters)||void 0===ee?void 0:ee.join(""))&&void 0!==te?te:"",this.forceUpgradeOnSignin=null!==(ne=_.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=_.schemaVersion}validatePassword(_){var $,ee,te,ne,re,ie;const ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,ae),this.validatePasswordCharacterOptions(_,ae),ae.isValid&&(ae.isValid=null===($=ae.meetsMinPasswordLength)||void 0===$||$),ae.isValid&&(ae.isValid=null===(ee=ae.meetsMaxPasswordLength)||void 0===ee||ee),ae.isValid&&(ae.isValid=null===(te=ae.containsLowercaseLetter)||void 0===te||te),ae.isValid&&(ae.isValid=null===(ne=ae.containsUppercaseLetter)||void 0===ne||ne),ae.isValid&&(ae.isValid=null===(re=ae.containsNumericCharacter)||void 0===re||re),ae.isValid&&(ae.isValid=null===(ie=ae.containsNonAlphanumericCharacter)||void 0===ie||ie),ae}validatePasswordLengthOptions(_,$){const ee=this.customStrengthOptions.minPasswordLength,te=this.customStrengthOptions.maxPasswordLength;ee&&($.meetsMinPasswordLength=_.length>=ee),te&&($.meetsMaxPasswordLength=_.length<=te)}validatePasswordCharacterOptions(_,$){let ee;this.updatePasswordCharacterOptionsStatuses($,!1,!1,!1,!1);for(let te=0;te<_.length;te++)ee=_.charAt(te),this.updatePasswordCharacterOptionsStatuses($,ee>="a"&&ee<="z",ee>="A"&&ee<="Z",ee>="0"&&ee<="9",this.allowedNonAlphanumericCharacters.includes(ee))}updatePasswordCharacterOptionsStatuses(_,$,ee,te,ne){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=$)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=ee)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=te)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=ne))}}class AuthImpl{constructor(_,$,ee,te){this.app=_,this.heartbeatServiceProvider=$,this.appCheckServiceProvider=ee,this.config=te,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=te.sdkClientVersion,this._persistenceManagerAvailable=new Promise((_=>this._resolvePersistenceManagerAvailable=_))}_initializeWithPersistence(_,$){return $&&(this._popupRedirectResolver=_getInstance($)),this._initializationPromise=this.queue((async()=>{var ee,te,ne;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,_),null===(ee=this._resolvePersistenceManagerAvailable)||void 0===ee||ee.call(this),!this._deleted)){if(null===(te=this._popupRedirectResolver)||void 0===te?void 0:te._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(re){}await this.initializeCurrentUser($),this.lastNotifiedUid=(null===(ne=this.currentUser)||void 0===ne?void 0:ne.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const _=await this.assertedPersistence.getCurrentUser();return this.currentUser||_?this.currentUser&&_&&this.currentUser.uid===_.uid?(this._currentUser._assign(_),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(_,!0):void 0}async initializeCurrentUserFromIdToken(_){try{const $=await getAccountInfo(this,{idToken:_}),ee=await UserImpl._fromGetAccountInfoResponse(this,$,_);await this.directlySetCurrentUser(ee)}catch($){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",$),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(_){var $;if((0,te.xZ)(this.app)){const _=this.app.settings.authIdToken;return _?new Promise(($=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(_).then($,$)))})):this.directlySetCurrentUser(null)}const ee=await this.assertedPersistence.getCurrentUser();let ne=ee,re=!1;if(_&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const ee=null===($=this.redirectUser)||void 0===$?void 0:$._redirectEventId,te=null===ne||void 0===ne?void 0:ne._redirectEventId,ie=await this.tryRedirectSignIn(_);ee&&ee!==te||!(null===ie||void 0===ie?void 0:ie.user)||(ne=ie.user,re=!0)}if(!ne)return this.directlySetCurrentUser(null);if(!ne._redirectEventId){if(re)try{await this.beforeStateQueue.runMiddleware(ne)}catch(ie){ne=ee,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ie)))}return ne?this.reloadAndSetCurrentUserOrClear(ne):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===ne._redirectEventId?this.directlySetCurrentUser(ne):this.reloadAndSetCurrentUserOrClear(ne)}async tryRedirectSignIn(_){let $=null;try{$=await this._popupRedirectResolver._completeRedirectFn(this,_,!0)}catch(ee){await this._setRedirectUser(null)}return $}async reloadAndSetCurrentUserOrClear(_){try{await _reloadWithoutSaving(_)}catch($){if("auth/network-request-failed"!==(null===$||void 0===$?void 0:$.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(_)}useDeviceLanguage(){this.languageCode=function _getUserLanguage(){if("undefined"===typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(_){if((0,te.xZ)(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const $=_?(0,ne.Ku)(_):null;return $&&_assert($.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser($&&$._clone(this))}async _updateCurrentUser(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return _&&_assert(this.tenantId===_.tenantId,this,"tenant-id-mismatch"),$||await this.beforeStateQueue.runMiddleware(_),this.queue((async()=>{await this.directlySetCurrentUser(_),this.notifyAuthListeners()}))}async signOut(){return(0,te.xZ)(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(_){return(0,te.xZ)(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(_getInstance(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(_){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const $=this._getPasswordPolicyInternal();return $.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):$.validatePassword(_)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const _=await async function _getPasswordPolicy(_){return _performApiRequest(_,"GET","/v2/passwordPolicy",_addTidIfNecessary(_,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),$=new PasswordPolicyImpl(_);null===this.tenantId?this._projectPasswordPolicy=$:this._tenantPasswordPolicies[this.tenantId]=$}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(_){this._errorFactory=new ne.FA("auth","Firebase",_())}onAuthStateChanged(_,$,ee){return this.registerStateListener(this.authStateSubscription,_,$,ee)}beforeAuthStateChanged(_,$){return this.beforeStateQueue.pushCallback(_,$)}onIdTokenChanged(_,$,ee){return this.registerStateListener(this.idTokenSubscription,_,$,ee)}authStateReady(){return new Promise(((_,$)=>{if(this.currentUser)_();else{const ee=this.onAuthStateChanged((()=>{ee(),_()}),$)}}))}async revokeAccessToken(_){if(this.currentUser){const $={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&($.tenantId=this.tenantId),await async function revokeToken(_,$){return _performApiRequest(_,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(_,$))}(this,$)}}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}async _setRedirectUser(_,$){const ee=await this.getOrInitRedirectPersistenceManager($);return null===_?ee.removeCurrentUser():ee.setCurrentUser(_)}async getOrInitRedirectPersistenceManager(_){if(!this.redirectPersistenceManager){const $=_&&_getInstance(_)||this._popupRedirectResolver;_assert($,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance($._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(_){var $,ee;return this._isInitialized&&await this.queue((async()=>{})),(null===($=this._currentUser)||void 0===$?void 0:$._redirectEventId)===_?this._currentUser:(null===(ee=this.redirectUser)||void 0===ee?void 0:ee._redirectEventId)===_?this.redirectUser:null}async _persistUserIfCurrent(_){if(_===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(_)))}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,$;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const ee=null!==($=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==$?$:null;this.lastNotifiedUid!==ee&&(this.lastNotifiedUid=ee,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,$,ee,te){if(this._deleted)return()=>{};const ne="function"===typeof $?$:$.next.bind($);let re=!1;const ie=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(ie,this,"internal-error"),ie.then((()=>{re||ne(this.currentUser)})),"function"===typeof $){const ne=_.addObserver($,ee,te);return()=>{re=!0,ne()}}{const ee=_.addObserver($);return()=>{re=!0,ee()}}}async directlySetCurrentUser(_){this.currentUser&&this.currentUser!==_&&this._currentUser._stopProactiveRefresh(),_&&this.isProactiveRefreshEnabled&&_._startProactiveRefresh(),this.currentUser=_,_?await this.assertedPersistence.setCurrentUser(_):await this.assertedPersistence.removeCurrentUser()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){_&&!this.frameworks.includes(_)&&(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _;const $={"X-Client-Version":this.clientVersion};this.app.options.appId&&($["X-Firebase-gmpid"]=this.app.options.appId);const ee=await(null===(_=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader());ee&&($["X-Firebase-Client"]=ee);const te=await this._getAppCheckToken();return te&&($["X-Firebase-AppCheck"]=te),$}async _getAppCheckToken(){var _;if((0,te.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const $=await(null===(_=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken());return(null===$||void 0===$?void 0:$.error)&&function _logWarn(_){if(se.logLevel<=re.$b.WARN){for(var $=arguments.length,ee=new Array($>1?$-1:0),ne=1;ne<$;ne++)ee[ne-1]=arguments[ne];se.warn(`Auth (${te.MF}): ${_}`,...ee)}}(`Error while retrieving App Check token: ${$.error}`),null===$||void 0===$?void 0:$.token}}function _castAuth(_){return(0,ne.Ku)(_)}class Subscription{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,ne.tD)((_=>this.observer=_))}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let me={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _loadJS(_){return me.loadJS(_)}function _generateCallbackName(_){return`__${_}${Math.floor(1e6*Math.random())}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(_){_()}execute(_,$){return Promise.resolve("token")}render(_,$){return""}}class MockGreCAPTCHA{ready(_){_()}execute(_,$){return Promise.resolve("token")}render(_,$){return""}}const _e="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(_){this.type="recaptcha-enterprise",this.auth=_castAuth(_)}async verify(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",$=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function retrieveRecaptchaToken($,ee,te){const ne=window.grecaptcha;isEnterprise(ne)?ne.enterprise.ready((()=>{ne.enterprise.execute($,{action:_}).then((_=>{ee(_)})).catch((()=>{ee(_e)}))})):te(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new MockGreCAPTCHATopLevel).execute("siteKey",{action:"verify"})}return new Promise(((_,ee)=>{(async function retrieveSiteKey(_){if(!$){if(null==_.tenantId&&null!=_._agentRecaptchaConfig)return _._agentRecaptchaConfig.siteKey;if(null!=_.tenantId&&void 0!==_._tenantRecaptchaConfigs[_.tenantId])return _._tenantRecaptchaConfigs[_.tenantId].siteKey}return new Promise((async($,ee)=>{getRecaptchaConfig(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((te=>{if(void 0!==te.recaptchaKey){const ee=new RecaptchaConfig(te);return null==_.tenantId?_._agentRecaptchaConfig=ee:_._tenantRecaptchaConfigs[_.tenantId]=ee,$(ee.siteKey)}ee(new Error("recaptcha Enterprise site key undefined"))})).catch((_=>{ee(_)}))}))})(this.auth).then((te=>{if(!$&&isEnterprise(window.grecaptcha))retrieveRecaptchaToken(te,_,ee);else{if("undefined"===typeof window)return void ee(new Error("RecaptchaVerifier is only supported in browser"));let $=function _recaptchaEnterpriseScriptUrl(){return me.recaptchaEnterpriseScript}();0!==$.length&&($+=te),_loadJS($).then((()=>{retrieveRecaptchaToken(te,_,ee)})).catch((_=>{ee(_)}))}})).catch((_=>{ee(_)}))}))}}async function injectRecaptchaFields(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ne=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const re=new RecaptchaEnterpriseVerifier(_);let ie;if(ne)ie=_e;else try{ie=await re.verify(ee)}catch(oe){ie=await re.verify(ee,!0)}const ae=Object.assign({},$);if("mfaSmsEnrollment"===ee||"mfaSmsSignIn"===ee){if("phoneEnrollmentInfo"in ae){const _=ae.phoneEnrollmentInfo.phoneNumber,$=ae.phoneEnrollmentInfo.recaptchaToken;Object.assign(ae,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:$,captchaResponse:ie,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in ae){const _=ae.phoneSignInInfo.recaptchaToken;Object.assign(ae,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:ie,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return ae}return te?Object.assign(ae,{captchaResp:ie}):Object.assign(ae,{captchaResponse:ie}),Object.assign(ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ae}async function handleRecaptchaFlow(_,$,ee,te,ne){var re,ie;if("EMAIL_PASSWORD_PROVIDER"===ne){if(null===(re=_._getRecaptchaConfig())||void 0===re?void 0:re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=await injectRecaptchaFields(_,$,ee,"getOobCode"===ee);return te(_,ne)}return te(_,$).catch((async ne=>{if("auth/missing-recaptcha-token"===ne.code){console.log(`${ee} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ne=await injectRecaptchaFields(_,$,ee,"getOobCode"===ee);return te(_,ne)}return Promise.reject(ne)}))}if("PHONE_PROVIDER"===ne){if(null===(ie=_._getRecaptchaConfig())||void 0===ie?void 0:ie.isProviderEnabled("PHONE_PROVIDER")){const ne=await injectRecaptchaFields(_,$,ee);return te(_,ne).catch((async ne=>{var re;if("AUDIT"===(null===(re=_._getRecaptchaConfig())||void 0===re?void 0:re.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===ne.code||"auth/invalid-app-credential"===ne.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${ee} flow.`);const ne=await injectRecaptchaFields(_,$,ee,!1,!0);return te(_,ne)}return Promise.reject(ne)}))}{const ne=await injectRecaptchaFields(_,$,ee,!1,!0);return te(_,ne)}}return Promise.reject(ne+" provider is not supported.")}async function _initializeRecaptchaConfig(_){const $=_castAuth(_),ee=await getRecaptchaConfig($,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),te=new RecaptchaConfig(ee);if(null==$.tenantId?$._agentRecaptchaConfig=te:$._tenantRecaptchaConfigs[$.tenantId]=te,te.isAnyProviderEnabled()){new RecaptchaEnterpriseVerifier($).verify()}}function connectAuthEmulator(_,$,ee){const te=_castAuth(_);_assert(/^https?:\/\//.test($),te,"invalid-emulator-scheme");const re=!!(null===ee||void 0===ee?void 0:ee.disableWarnings),ie=extractProtocol($),{host:ae,port:oe}=function extractHostAndPort(_){const $=extractProtocol(_),ee=/(\/\/)?([^?#/]+)/.exec(_.substr($.length));if(!ee)return{host:"",port:null};const te=ee[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(te);if(ne){const _=ne[1];return{host:_,port:parsePort(te.substr(_.length+1))}}{const[_,$]=te.split(":");return{host:_,port:parsePort($)}}}($),se={url:`${ie}//${ae}${null===oe?"":`:${oe}`}/`},le=Object.freeze({host:ae,port:oe,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:re})});if(!te._canInitEmulator)return _assert(te.config.emulator&&te.emulatorConfig,te,"emulator-config-failed"),void _assert((0,ne.bD)(se,te.config.emulator)&&(0,ne.bD)(le,te.emulatorConfig),te,"emulator-config-failed");te.config.emulator=se,te.emulatorConfig=le,te.settings.appVerificationDisabledForTesting=!0,re||function emitEmulatorWarning(){function attachBanner(){const _=document.createElement("p"),$=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",$.position="fixed",$.width="100%",$.backgroundColor="#ffffff",$.border=".1em solid #000000",$.color="#b50000",$.bottom="0px",$.left="0px",$.margin="0px",$.zIndex="10000",$.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",attachBanner):attachBanner())}()}function extractProtocol(_){const $=_.indexOf(":");return $<0?"":_.substr(0,$+1)}function parsePort(_){if(!_)return null;const $=Number(_);return isNaN($)?null:$}class AuthCredential{constructor(_,$){this.providerId=_,this.signInMethod=$}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_){return debugFail("not implemented")}_linkToIdToken(_,$){return debugFail("not implemented")}_getReauthenticationResolver(_){return debugFail("not implemented")}}async function linkEmailPassword(_,$){return _performApiRequest(_,"POST","/v1/accounts:signUp",$)}async function signInWithPassword(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(_,$))}async function sendOobCode(_,$){return _performApiRequest(_,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(_,$))}async function sendPasswordResetEmail$1(_,$){return sendOobCode(_,$)}class EmailAuthCredential extends AuthCredential{constructor(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",ee),this._email=_,this._password=$,this._tenantId=te}static _fromEmailAndPassword(_,$){return new EmailAuthCredential(_,$,"password")}static _fromEmailAndCode(_,$){return new EmailAuthCredential(_,$,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const $="string"===typeof _?JSON.parse(_):_;if((null===$||void 0===$?void 0:$.email)&&(null===$||void 0===$?void 0:$.password)){if("password"===$.signInMethod)return this._fromEmailAndPassword($.email,$.password);if("emailLink"===$.signInMethod)return this._fromEmailAndCode($.email,$.password,$.tenantId)}return null}async _getIdTokenResponse(_){switch(this.signInMethod){case"password":return handleRecaptchaFlow(_,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",signInWithPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function signInWithEmailLink$1(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(_,$))}(_,{email:this._email,oobCode:this._password});default:_fail(_,"internal-error")}}async _linkToIdToken(_,$){switch(this.signInMethod){case"password":return handleRecaptchaFlow(_,{idToken:$,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",linkEmailPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function signInWithEmailLinkForLinking(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(_,$))}(_,{idToken:$,email:this._email,oobCode:this._password});default:_fail(_,"internal-error")}}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}async function signInWithIdp(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(_,$))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const $=new OAuthCredential(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&($.idToken=_.idToken),_.accessToken&&($.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&($.nonce=_.nonce),_.pendingToken&&($.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?($.accessToken=_.oauthToken,$.secret=_.oauthTokenSecret):_fail("argument-error"),$}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const $="string"===typeof _?JSON.parse(_):_,{providerId:ee,signInMethod:te}=$,ne=__rest($,["providerId","signInMethod"]);if(!ee||!te)return null;const re=new OAuthCredential(ee,te);return re.idToken=ne.idToken||void 0,re.accessToken=ne.accessToken||void 0,re.secret=ne.secret,re.nonce=ne.nonce,re.pendingToken=ne.pendingToken||null,re}_getIdTokenResponse(_){return signInWithIdp(_,this.buildRequest())}_linkToIdToken(_,$){const ee=this.buildRequest();return ee.idToken=$,signInWithIdp(_,ee)}_getReauthenticationResolver(_){const $=this.buildRequest();return $.autoCreate=!1,signInWithIdp(_,$)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const $={};this.idToken&&($.id_token=this.idToken),this.accessToken&&($.access_token=this.accessToken),this.secret&&($.oauth_token_secret=this.secret),$.providerId=this.providerId,this.nonce&&!this.pendingToken&&($.nonce=this.nonce),_.postBody=(0,ne.Am)($)}return _}}async function sendPhoneVerificationCode(_,$){return _performApiRequest(_,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(_,$))}const be={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,$){return new PhoneAuthCredential({verificationId:_,verificationCode:$})}static _fromTokenResponse(_,$){return new PhoneAuthCredential({phoneNumber:_,temporaryProof:$})}_getIdTokenResponse(_){return async function signInWithPhoneNumber$1(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(_,$))}(_,this._makeVerificationRequest())}_linkToIdToken(_,$){return async function linkWithPhoneNumber$1(_,$){const ee=await _performSignInRequest(_,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(_,$));if(ee.temporaryProof)throw _makeTaggedError(_,"account-exists-with-different-credential",ee);return ee}(_,Object.assign({idToken:$},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return async function verifyPhoneNumberForExisting(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(_,Object.assign(Object.assign({},$),{operation:"REAUTH"})),be)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:$,verificationId:ee,verificationCode:te}=this.params;return _&&$?{temporaryProof:_,phoneNumber:$}:{sessionInfo:ee,code:te}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"===typeof _&&(_=JSON.parse(_));const{verificationId:$,verificationCode:ee,phoneNumber:te,temporaryProof:ne}=_;return ee||$||te||ne?new PhoneAuthCredential({verificationId:$,verificationCode:ee,phoneNumber:te,temporaryProof:ne}):null}}class ActionCodeURL{constructor(_){var $,ee,te,re,ie,ae;const oe=(0,ne.I9)((0,ne.hp)(_)),se=null!==($=oe.apiKey)&&void 0!==$?$:null,le=null!==(ee=oe.oobCode)&&void 0!==ee?ee:null,de=function parseMode(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=oe.mode)&&void 0!==te?te:null);_assert(se&&le&&de,"argument-error"),this.apiKey=se,this.operation=de,this.code=le,this.continueUrl=null!==(re=oe.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(ie=oe.lang)&&void 0!==ie?ie:null,this.tenantId=null!==(ae=oe.tenantId)&&void 0!==ae?ae:null}static parseLink(_){const $=function parseDeepLink(_){const $=(0,ne.I9)((0,ne.hp)(_)).link,ee=$?(0,ne.I9)((0,ne.hp)($)).deep_link_id:null,te=(0,ne.I9)((0,ne.hp)(_)).deep_link_id;return(te?(0,ne.I9)((0,ne.hp)(te)).link:null)||te||ee||$||_}(_);try{return new ActionCodeURL($)}catch(ee){return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(_,$){return EmailAuthCredential._fromEmailAndPassword(_,$)}static credentialWithLink(_,$){const ee=ActionCodeURL.parseLink($);return _assert(ee,"argument-error"),EmailAuthCredential._fromEmailAndCode(_,ee.code,ee.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(_){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return FacebookAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return FacebookAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject(_){let{_tokenResponse:$}=_;if(!$||!("oauthAccessToken"in $))return null;if(!$.oauthAccessToken)return null;try{return FacebookAuthProvider.credential($.oauthAccessToken)}catch(ee){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(_,$){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:$})}static credentialFromResult(_){return GoogleAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GoogleAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject(_){let{_tokenResponse:$}=_;if(!$)return null;const{oauthIdToken:ee,oauthAccessToken:te}=$;if(!ee&&!te)return null;try{return GoogleAuthProvider.credential(ee,te)}catch(ne){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(_){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return GithubAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GithubAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject(_){let{_tokenResponse:$}=_;if(!$||!("oauthAccessToken"in $))return null;if(!$.oauthAccessToken)return null;try{return GithubAuthProvider.credential($.oauthAccessToken)}catch(ee){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(_,$){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:$})}static credentialFromResult(_){return TwitterAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return TwitterAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject(_){let{_tokenResponse:$}=_;if(!$)return null;const{oauthAccessToken:ee,oauthTokenSecret:te}=$;if(!ee||!te)return null;try{return TwitterAuthProvider.credential(ee,te)}catch(ne){return null}}}async function signUp(_,$){return _performSignInRequest(_,"POST","/v1/accounts:signUp",_addTidIfNecessary(_,$))}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static async _fromIdTokenResponse(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const ne=await UserImpl._fromIdTokenResponse(_,ee,te),re=providerIdForResponse(ee);return new UserCredentialImpl({user:ne,providerId:re,_tokenResponse:ee,operationType:$})}static async _forOperation(_,$,ee){await _._updateTokensIfNecessary(ee,!0);const te=providerIdForResponse(ee);return new UserCredentialImpl({user:_,providerId:te,_tokenResponse:ee,operationType:$})}}function providerIdForResponse(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class MultiFactorError extends ne.g{constructor(_,$,ee,te){var ne;super($.code,$.message),this.operationType=ee,this.user=te,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:_.name,tenantId:null!==(ne=_.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:$.customData._serverResponse,operationType:ee}}static _fromErrorAndOperation(_,$,ee,te){return new MultiFactorError(_,$,ee,te)}}function _processCredentialSavingMfaContextIfNecessary(_,$,ee,te){return("reauthenticate"===$?ee._getReauthenticationResolver(_):ee._getIdTokenResponse(_)).catch((ee=>{if("auth/multi-factor-auth-required"===ee.code)throw MultiFactorError._fromErrorAndOperation(_,ee,$,te);throw ee}))}async function _link$1(_,$){let ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const te=await _logoutIfInvalidated(_,$._linkToIdToken(_.auth,await _.getIdToken()),ee);return UserCredentialImpl._forOperation(_,"link",te)}async function _reauthenticate(_,$){let ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:ne}=_;if((0,te.xZ)(ne.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(ne));const re="reauthenticate";try{const te=await _logoutIfInvalidated(_,_processCredentialSavingMfaContextIfNecessary(ne,re,$,_),ee);_assert(te.idToken,ne,"internal-error");const ie=_parseToken(te.idToken);_assert(ie,ne,"internal-error");const{sub:ae}=ie;return _assert(_.uid===ae,ne,"user-mismatch"),UserCredentialImpl._forOperation(_,re,te)}catch(ie){throw"auth/user-not-found"===(null===ie||void 0===ie?void 0:ie.code)&&_fail(ne,"user-mismatch"),ie}}async function _signInWithCredential(_,$){let ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,te.xZ)(_.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_));const ne="signIn",re=await _processCredentialSavingMfaContextIfNecessary(_,ne,$),ie=await UserCredentialImpl._fromIdTokenResponse(_,ne,re);return ee||await _._updateCurrentUser(ie.user),ie}async function signInWithCredential(_,$){return _signInWithCredential(_castAuth(_),$)}async function reauthenticateWithCredential(_,$){return _reauthenticate((0,ne.Ku)(_),$)}function _setActionCodeSettingsOnRequest(_,$,ee){var te;_assert((null===(te=ee.url)||void 0===te?void 0:te.length)>0,_,"invalid-continue-uri"),_assert("undefined"===typeof ee.dynamicLinkDomain||ee.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),_assert("undefined"===typeof ee.linkDomain||ee.linkDomain.length>0,_,"invalid-hosting-link-domain"),$.continueUrl=ee.url,$.dynamicLinkDomain=ee.dynamicLinkDomain,$.linkDomain=ee.linkDomain,$.canHandleCodeInApp=ee.handleCodeInApp,ee.iOS&&(_assert(ee.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),$.iOSBundleId=ee.iOS.bundleId),ee.android&&(_assert(ee.android.packageName.length>0,_,"missing-android-pkg-name"),$.androidInstallApp=ee.android.installApp,$.androidMinimumVersionCode=ee.android.minimumVersion,$.androidPackageName=ee.android.packageName)}async function recachePasswordPolicy(_){const $=_castAuth(_);$._getPasswordPolicyInternal()&&await $._updatePasswordPolicy()}async function sendPasswordResetEmail(_,$,ee){const te=_castAuth(_),ne={requestType:"PASSWORD_RESET",email:$,clientType:"CLIENT_TYPE_WEB"};ee&&_setActionCodeSettingsOnRequest(te,ne,ee),await handleRecaptchaFlow(te,ne,"getOobCode",sendPasswordResetEmail$1,"EMAIL_PASSWORD_PROVIDER")}async function createUserWithEmailAndPassword(_,$,ee){if((0,te.xZ)(_.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_));const ne=_castAuth(_),re=handleRecaptchaFlow(ne,{returnSecureToken:!0,email:$,password:ee,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp,"EMAIL_PASSWORD_PROVIDER"),ie=await re.catch(($=>{throw"auth/password-does-not-meet-requirements"===$.code&&recachePasswordPolicy(_),$})),ae=await UserCredentialImpl._fromIdTokenResponse(ne,"signIn",ie);return await ne._updateCurrentUser(ae.user),ae}function signInWithEmailAndPassword(_,$,ee){return(0,te.xZ)(_.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_)):signInWithCredential((0,ne.Ku)(_),EmailAuthProvider.credential($,ee)).catch((async $=>{throw"auth/password-does-not-meet-requirements"===$.code&&recachePasswordPolicy(_),$}))}function updatePassword(_,$){return updateEmailOrPassword((0,ne.Ku)(_),null,$)}async function updateEmailOrPassword(_,$,ee){const{auth:te}=_,ne={idToken:await _.getIdToken(),returnSecureToken:!0};$&&(ne.email=$),ee&&(ne.password=ee);const re=await _logoutIfInvalidated(_,async function updateEmailPassword(_,$){return _performApiRequest(_,"POST","/v1/accounts:update",$)}(te,ne));await _._updateTokensIfNecessary(re,!0)}function onAuthStateChanged(_,$,ee,te){return(0,ne.Ku)(_).onAuthStateChanged($,ee,te)}function signOut(_){return(0,ne.Ku)(_).signOut()}async function deleteUser(_){return(0,ne.Ku)(_).delete()}function startEnrollPhoneMfa(_,$){return _performApiRequest(_,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(_,$))}new WeakMap;const we="__sak";class BrowserPersistenceClass{constructor(_,$){this.storageRetriever=_,this.type=$}_isAvailable(){try{return this.storage?(this.storage.setItem(we,"1"),this.storage.removeItem(we),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,$){return this.storage.setItem(_,JSON.stringify($)),Promise.resolve()}_get(_){const $=this.storage.getItem(_);return Promise.resolve($?JSON.parse($):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(_,$)=>this.onStorageEvent(_,$),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const $ of Object.keys(this.listeners)){const ee=this.storage.getItem($),te=this.localCache[$];ee!==te&&_($,te,ee)}}onStorageEvent(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!_.key)return void this.forAllChangedKeys(((_,$,ee)=>{this.notifyListeners(_,ee)}));const ee=_.key;$?this.detachListener():this.stopPolling();const triggerListeners=()=>{const _=this.storage.getItem(ee);($||this.localCache[ee]!==_)&&this.notifyListeners(ee,_)},te=this.storage.getItem(ee);!function _isIE10(){return(0,ne.lT)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?triggerListeners():setTimeout(triggerListeners,10)}notifyListeners(_,$){this.localCache[_]=$;const ee=this.listeners[_];if(ee)for(const te of Array.from(ee))te($?JSON.parse($):$)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((_,$,ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:$,newValue:ee}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,$){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add($)}_removeListener(_,$){this.listeners[_]&&(this.listeners[_].delete($),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(_,$){await super._set(_,$),this.localCache[_]=JSON.stringify($)}async _get(_){const $=await super._get(_);return this.localCache[_]=JSON.stringify($),$}async _remove(_){await super._remove(_),delete this.localCache[_]}}BrowserLocalPersistence.type="LOCAL";const Ee=BrowserLocalPersistence;function getDocumentCookie(_){var $,ee;const te=_.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),ne=RegExp(`${te}=([^;]+)`);return null!==(ee=null===($=document.cookie.match(ne))||void 0===$?void 0:$[1])&&void 0!==ee?ee:null}function getCookieName(_){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${_.split(":")[3]}`}class CookiePersistence{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(_){if(void 0===typeof window)return _;const $=new URL(`${window.location.origin}/__cookies__`);return $.searchParams.set("finalTarget",_),$}async _isAvailable(){var _;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(_=navigator.cookieEnabled)||void 0===_||_))}async _set(_,$){}async _get(_){if(!this._isAvailable())return null;const $=getCookieName(_);if(window.cookieStore){const _=await window.cookieStore.get($);return null===_||void 0===_?void 0:_.value}return getDocumentCookie($)}async _remove(_){if(!this._isAvailable())return;if(!await this._get(_))return;const $=getCookieName(_);document.cookie=`${$}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(_,$){if(!this._isAvailable())return;const ee=getCookieName(_);if(window.cookieStore){const cb=_=>{const te=_.changed.find((_=>_.name===ee));te&&$(te.value);_.deleted.find((_=>_.name===ee))&&$(null)},unsubscribe=()=>window.cookieStore.removeEventListener("change",cb);return this.listenerUnsubscribes.set($,unsubscribe),window.cookieStore.addEventListener("change",cb)}let te=getDocumentCookie(ee);const ne=setInterval((()=>{const _=getDocumentCookie(ee);_!==te&&($(_),te=_)}),1e3);this.listenerUnsubscribes.set($,(()=>clearInterval(ne)))}_removeListener(_,$){const ee=this.listenerUnsubscribes.get($);ee&&(ee(),this.listenerUnsubscribes.delete($))}}CookiePersistence.type="COOKIE";class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(_,$){}_removeListener(_,$){}}BrowserSessionPersistence.type="SESSION";const ke=BrowserSessionPersistence;class Receiver{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const $=this.receivers.find(($=>$.isListeningto(_)));if($)return $;const ee=new Receiver(_);return this.receivers.push(ee),ee}isListeningto(_){return this.eventTarget===_}async handleEvent(_){const $=_,{eventId:ee,eventType:te,data:ne}=$.data,re=this.handlersMap[te];if(!(null===re||void 0===re?void 0:re.size))return;$.ports[0].postMessage({status:"ack",eventId:ee,eventType:te});const ie=Array.from(re).map((async _=>_($.origin,ne))),ae=await function _allSettled(_){return Promise.all(_.map((async _=>{try{return{fulfilled:!0,value:await _}}catch($){return{fulfilled:!1,reason:$}}})))}(ie);$.ports[0].postMessage({status:"done",eventId:ee,eventType:te,response:ae})}_subscribe(_,$){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add($)}_unsubscribe(_,$){this.handlersMap[_]&&$&&this.handlersMap[_].delete($),$&&0!==this.handlersMap[_].size||delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _generateEventId(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,ee="";for(let te=0;te<$;te++)ee+=Math.floor(10*Math.random());return _+ee}Receiver.receivers=[];class Sender{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}async _send(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const te="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let ne,re;return new Promise(((ie,ae)=>{const oe=_generateEventId("",20);te.port1.start();const se=setTimeout((()=>{ae(new Error("unsupported_event"))}),ee);re={messageChannel:te,onMessage(_){const $=_;if($.data.eventId===oe)switch($.data.status){case"ack":clearTimeout(se),ne=setTimeout((()=>{ae(new Error("timeout"))}),3e3);break;case"done":clearTimeout(ne),ie($.data.response);break;default:clearTimeout(se),clearTimeout(ne),ae(new Error("invalid_response"))}}},this.handlers.add(re),te.port1.addEventListener("message",re.onMessage),this.target.postMessage({eventType:_,eventId:oe,data:$},[te.port2])})).finally((()=>{re&&this.removeMessageHandler(re)}))}}function _window(){return window}function _isWorker(){return"undefined"!==typeof _window().WorkerGlobalScope&&"function"===typeof _window().importScripts}const Ve="firebaseLocalStorageDb",De="firebaseLocalStorage",Ne="fbase_key";class DBPromise{constructor(_){this.request=_}toPromise(){return new Promise(((_,$)=>{this.request.addEventListener("success",(()=>{_(this.request.result)})),this.request.addEventListener("error",(()=>{$(this.request.error)}))}))}}function getObjectStore(_,$){return _.transaction([De],$?"readwrite":"readonly").objectStore(De)}function _openDatabase(){const _=indexedDB.open(Ve,1);return new Promise((($,ee)=>{_.addEventListener("error",(()=>{ee(_.error)})),_.addEventListener("upgradeneeded",(()=>{const $=_.result;try{$.createObjectStore(De,{keyPath:Ne})}catch(te){ee(te)}})),_.addEventListener("success",(async()=>{const ee=_.result;ee.objectStoreNames.contains(De)?$(ee):(ee.close(),await function _deleteDatabase(){const _=indexedDB.deleteDatabase(Ve);return new DBPromise(_).toPromise()}(),$(await _openDatabase()))}))}))}async function _putObject(_,$,ee){const te=getObjectStore(_,!0).put({[Ne]:$,value:ee});return new DBPromise(te).toPromise()}function _deleteObject(_,$){const ee=getObjectStore(_,!0).delete($);return new DBPromise(ee).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _openDatabase()),this.db}async _withRetries(_){let $=0;for(;;)try{const $=await this._openDb();return await _($)}catch(ee){if($++>3)throw ee;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(function _getWorkerGlobalScope(){return _isWorker()?self:null}()),this.receiver._subscribe("keyChanged",(async(_,$)=>({keyProcessed:(await this._poll()).includes($.key)}))),this.receiver._subscribe("ping",(async(_,$)=>["keyChanged"]))}async initializeSender(){var _,$;if(this.activeServiceWorker=await async function _getActiveServiceWorker(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(_){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const ee=await this.sender._send("ping",{},800);ee&&(null===(_=ee[0])||void 0===_?void 0:_.fulfilled)&&(null===($=ee[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(_){if(this.sender&&this.activeServiceWorker&&function _getServiceWorkerController(){var _;return(null===(_=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:_},this.serviceWorkerReceiverAvailable?800:50)}catch($){}}async _isAvailable(){try{if(!indexedDB)return!1;const _=await _openDatabase();return await _putObject(_,we,"1"),await _deleteObject(_,we),!0}catch(_){}return!1}async _withPendingWrite(_){this.pendingWrites++;try{await _()}finally{this.pendingWrites--}}async _set(_,$){return this._withPendingWrite((async()=>(await this._withRetries((ee=>_putObject(ee,_,$))),this.localCache[_]=$,this.notifyServiceWorker(_))))}async _get(_){const $=await this._withRetries(($=>async function getObject(_,$){const ee=getObjectStore(_,!1).get($),te=await new DBPromise(ee).toPromise();return void 0===te?null:te.value}($,_)));return this.localCache[_]=$,$}async _remove(_){return this._withPendingWrite((async()=>(await this._withRetries(($=>_deleteObject($,_))),delete this.localCache[_],this.notifyServiceWorker(_))))}async _poll(){const _=await this._withRetries((_=>{const $=getObjectStore(_,!1).getAll();return new DBPromise($).toPromise()}));if(!_)return[];if(0!==this.pendingWrites)return[];const $=[],ee=new Set;if(0!==_.length)for(const{fbase_key:te,value:ne}of _)ee.add(te),JSON.stringify(this.localCache[te])!==JSON.stringify(ne)&&(this.notifyListeners(te,ne),$.push(te));for(const te of Object.keys(this.localCache))this.localCache[te]&&!ee.has(te)&&(this.notifyListeners(te,null),$.push(te));return $}notifyListeners(_,$){this.localCache[_]=$;const ee=this.listeners[_];if(ee)for(const te of Array.from(ee))te($)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,$){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add($)}_removeListener(_,$){this.listeners[_]&&(this.listeners[_].delete($),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const Me=IndexedDBLocalPersistence;function startSignInPhoneMfa(_,$){return _performApiRequest(_,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(_,$))}_generateCallbackName("rcb"),new Delay(3e4,6e4);const je="recaptcha";async function _verifyPhoneNumber(_,$,ee){var te;if(!_._getRecaptchaConfig())try{await _initializeRecaptchaConfig(_)}catch(ne){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let ne;if(ne="string"===typeof $?{phoneNumber:$}:$,"session"in ne){const $=ne.session;if("phoneNumber"in ne){_assert("enroll"===$.type,_,"internal-error");const te={idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},re=handleRecaptchaFlow(_,te,"mfaSmsEnrollment",(async(_,$)=>{if($.phoneEnrollmentInfo.captchaResponse===_e){_assert((null===ee||void 0===ee?void 0:ee.type)===je,_,"argument-error");return startEnrollPhoneMfa(_,await injectRecaptchaV2Token(_,$,ee))}return startEnrollPhoneMfa(_,$)}),"PHONE_PROVIDER");return(await re.catch((_=>Promise.reject(_)))).phoneSessionInfo.sessionInfo}{_assert("signin"===$.type,_,"internal-error");const re=(null===(te=ne.multiFactorHint)||void 0===te?void 0:te.uid)||ne.multiFactorUid;_assert(re,_,"missing-multi-factor-info");const ie={mfaPendingCredential:$.credential,mfaEnrollmentId:re,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},ae=handleRecaptchaFlow(_,ie,"mfaSmsSignIn",(async(_,$)=>{if($.phoneSignInInfo.captchaResponse===_e){_assert((null===ee||void 0===ee?void 0:ee.type)===je,_,"argument-error");return startSignInPhoneMfa(_,await injectRecaptchaV2Token(_,$,ee))}return startSignInPhoneMfa(_,$)}),"PHONE_PROVIDER");return(await ae.catch((_=>Promise.reject(_)))).phoneResponseInfo.sessionInfo}}{const $={phoneNumber:ne.phoneNumber,clientType:"CLIENT_TYPE_WEB"},te=handleRecaptchaFlow(_,$,"sendVerificationCode",(async(_,$)=>{if($.captchaResponse===_e){_assert((null===ee||void 0===ee?void 0:ee.type)===je,_,"argument-error");return sendPhoneVerificationCode(_,await injectRecaptchaV2Token(_,$,ee))}return sendPhoneVerificationCode(_,$)}),"PHONE_PROVIDER");return(await te.catch((_=>Promise.reject(_)))).sessionInfo}}finally{null===ee||void 0===ee||ee._reset()}}async function injectRecaptchaV2Token(_,$,ee){_assert(ee.type===je,_,"argument-error");const te=await ee.verify();_assert("string"===typeof te,_,"argument-error");const ne=Object.assign({},$);if("phoneEnrollmentInfo"in ne){const _=ne.phoneEnrollmentInfo.phoneNumber,$=ne.phoneEnrollmentInfo.captchaResponse,ee=ne.phoneEnrollmentInfo.clientType,re=ne.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(ne,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:te,captchaResponse:$,clientType:ee,recaptchaVersion:re}}),ne}if("phoneSignInInfo"in ne){const _=ne.phoneSignInInfo.captchaResponse,$=ne.phoneSignInInfo.clientType,ee=ne.phoneSignInInfo.recaptchaVersion;return Object.assign(ne,{phoneSignInInfo:{recaptchaToken:te,captchaResponse:_,clientType:$,recaptchaVersion:ee}}),ne}return Object.assign(ne,{recaptchaToken:te}),ne}class PhoneAuthProvider{constructor(_){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=_castAuth(_)}verifyPhoneNumber(_,$){return _verifyPhoneNumber(this.auth,_,(0,ne.Ku)($))}static credential(_,$){return PhoneAuthCredential._fromVerification(_,$)}static credentialFromResult(_){const $=_;return PhoneAuthProvider.credentialFromTaggedObject($)}static credentialFromError(_){return PhoneAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject(_){let{_tokenResponse:$}=_;if(!$)return null;const{phoneNumber:ee,temporaryProof:te}=$;return ee&&te?PhoneAuthCredential._fromTokenResponse(ee,te):null}}function _withDefaultResolver(_,$){return $?_getInstance($):(_assert(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return signInWithIdp(_,this._buildIdpRequest())}_linkToIdToken(_,$){return signInWithIdp(_,this._buildIdpRequest($))}_getReauthenticationResolver(_){return signInWithIdp(_,this._buildIdpRequest())}_buildIdpRequest(_){const $={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&($.idToken=_),$}}function _signIn(_){return _signInWithCredential(_.auth,new IdpCredential(_),_.bypassAuthState)}function _reauth(_){const{auth:$,user:ee}=_;return _assert(ee,$,"internal-error"),_reauthenticate(ee,new IdpCredential(_),_.bypassAuthState)}async function _link(_){const{auth:$,user:ee}=_;return _assert(ee,$,"internal-error"),_link$1(ee,new IdpCredential(_),_.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=_,this.resolver=ee,this.user=te,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray($)?$:[$]}execute(){return new Promise((async(_,$)=>{this.pendingPromise={resolve:_,reject:$};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ee){this.reject(ee)}}))}async onAuthEvent(_){const{urlResponse:$,sessionId:ee,postBody:te,tenantId:ne,error:re,type:ie}=_;if(re)return void this.reject(re);const ae={auth:this.auth,requestUri:$,sessionId:ee,tenantId:ne||void 0,postBody:te||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(ie)(ae))}catch(oe){this.reject(oe)}}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Le=new Delay(2e3,1e4);async function reauthenticateWithPopup(_,$,ee){const re=(0,ne.Ku)(_);if((0,te.xZ)(re.auth.app))return Promise.reject(_createError(re.auth,"operation-not-supported-in-this-environment"));_assertInstanceOf(re.auth,$,FederatedAuthProvider);const ie=_withDefaultResolver(re.auth,ee);return new PopupOperation(re.auth,"reauthViaPopup",$,ie,re).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(_,$,ee,te,ne){super(_,$,te,ne),this.provider=ee,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const _=await this.execute();return _assert(_,this.auth,"internal-error"),_}async onExecution(){debugAssert(1===this.filter.length,"Popup operations only handle one event");const _=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],_),this.authWindow.associatedEvent=_,this.resolver._originValidation(this.auth).catch((_=>{this.reject(_)})),this.resolver._isIframeWebStorageSupported(this.auth,(_=>{_||this.reject(_createError(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const poll=()=>{var _,$;(null===($=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===$?void 0:$.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(poll,Le.get())};poll()}}PopupOperation.currentPopupAction=null;const ze=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(_,$){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],$,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let _=ze.get(this.auth._key());if(!_){try{const $=await async function _getAndClearPendingRedirectStatus(_,$){const ee=pendingRedirectKey($),te=resolverPersistence(_);if(!await te._isAvailable())return!1;const ne="true"===await te._get(ee);return await te._remove(ee),ne}(this.resolver,this.auth)?await super.execute():null;_=()=>Promise.resolve($)}catch($){_=()=>Promise.reject($)}ze.set(this.auth._key(),_)}return this.bypassAuthState||ze.set(this.auth._key(),(()=>Promise.resolve(null))),_()}async onAuthEvent(_){if("signInViaRedirect"===_.type)return super.onAuthEvent(_);if("unknown"!==_.type){if(_.eventId){const $=await this.auth._redirectUserForId(_.eventId);if($)return this.user=$,super.onAuthEvent(_);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _overrideRedirectResult(_,$){ze.set(_._key(),$)}function resolverPersistence(_){return _getInstance(_._redirectPersistence)}function pendingRedirectKey(_){return _persistenceKeyName("pendingRedirect",_.config.apiKey,_.name)}async function _getRedirectResult(_,$){let ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,te.xZ)(_.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_));const ne=_castAuth(_),re=_withDefaultResolver(ne,$),ie=new RedirectAction(ne,re,ee),ae=await ie.execute();return ae&&!ee&&(delete ae.user._redirectEventId,await ne._persistUserIfCurrent(ae.user),await ne._setRedirectUser(null,$)),ae}class AuthEventManager{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let $=!1;return this.consumers.forEach((ee=>{this.isEventForConsumer(_,ee)&&($=!0,this.sendToConsumer(_,ee),this.saveEventToCache(_))})),this.hasHandledPotentialRedirect||!function isRedirectEvent(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(_);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,$||(this.queuedRedirectEvent=_,$=!0)),$}sendToConsumer(_,$){var ee;if(_.error&&!isNullRedirectEvent(_)){const te=(null===(ee=_.error.code)||void 0===ee?void 0:ee.split("auth/")[1])||"internal-error";$.onError(_createError(this.auth,te))}else $.onAuthEvent(_)}isEventForConsumer(_,$){const ee=null===$.eventId||!!_.eventId&&_.eventId===$.eventId;return $.filter.includes(_.type)&&ee}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(_))}saveEventToCache(_){this.cachedEventUids.add(eventUid(_)),this.lastProcessedEventTime=Date.now()}}function eventUid(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter((_=>_)).join("-")}function isNullRedirectEvent(_){let{type:$,error:ee}=_;return"unknown"===$&&"auth/no-auth-event"===(null===ee||void 0===ee?void 0:ee.code)}const qe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ke=/^https?/;async function _validateOrigin(_){if(_.config.emulator)return;const{authorizedDomains:$}=await async function _getProjectConfig(_){return _performApiRequest(_,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(_);for(const te of $)try{if(matchDomain(te))return}catch(ee){}_fail(_,"unauthorized-domain")}function matchDomain(_){const $=_getCurrentUrl(),{protocol:ee,hostname:te}=new URL($);if(_.startsWith("chrome-extension://")){const ne=new URL(_);return""===ne.hostname&&""===te?"chrome-extension:"===ee&&_.replace("chrome-extension://","")===$.replace("chrome-extension://",""):"chrome-extension:"===ee&&ne.hostname===te}if(!Ke.test(ee))return!1;if(qe.test(_))return te===_;const ne=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(te)}const et=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const _=_window().___jsl;if(null===_||void 0===_?void 0:_.H)for(const $ of Object.keys(_.H))if(_.H[$].r=_.H[$].r||[],_.H[$].L=_.H[$].L||[],_.H[$].r=[..._.H[$].L],_.CP)for(let ee=0;ee<_.CP.length;ee++)_.CP[ee]=null}function loadGapi(_){return new Promise((($,ee)=>{var te,ne,re;function loadGapiIframe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{$(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),ee(_createError(_,"network-request-failed"))},timeout:et.get()})}if(null===(ne=null===(te=_window().gapi)||void 0===te?void 0:te.iframes)||void 0===ne?void 0:ne.Iframe)$(gapi.iframes.getContext());else{if(!(null===(re=_window().gapi)||void 0===re?void 0:re.load)){const $=_generateCallbackName("iframefcb");return _window()[$]=()=>{gapi.load?loadGapiIframe():ee(_createError(_,"network-request-failed"))},_loadJS(`${function _gapiScriptUrl(){return me.gapiScript}()}?onload=${$}`).catch((_=>ee(_)))}loadGapiIframe()}})).catch((_=>{throw tt=null,_}))}let tt=null;const nt=new Delay(5e3,15e3),rt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},it=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(_){const $=_.config;_assert($.authDomain,_,"auth-domain-config-required");const ee=$.emulator?_emulatorUrl($,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,re={apiKey:$.apiKey,appName:_.name,v:te.MF},ie=it.get(_.config.apiHost);ie&&(re.eid=ie);const ae=_._getFrameworks();return ae.length&&(re.fw=ae.join(",")),`${ee}?${(0,ne.Am)(re).slice(1)}`}async function _openIframe(_){const $=await function _loadGapi(_){return tt=tt||loadGapi(_),tt}(_),ee=_window().gapi;return _assert(ee,_,"internal-error"),$.open({where:document.body,url:getIframeUrl(_),messageHandlersFilter:ee.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rt,dontclear:!0},($=>new Promise((async(ee,te)=>{await $.restyle({setHideOnLeave:!1});const ne=_createError(_,"network-request-failed"),re=_window().setTimeout((()=>{te(ne)}),nt.get());function clearTimerAndResolve(){_window().clearTimeout(re),ee($)}$.ping(clearTimerAndResolve).then(clearTimerAndResolve,(()=>{te(ne)}))}))))}const at={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function _open(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,re=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const ie=Math.max((window.screen.availHeight-re)/2,0).toString(),ae=Math.max((window.screen.availWidth-te)/2,0).toString();let oe="";const se=Object.assign(Object.assign({},at),{width:te.toString(),height:re.toString(),top:ie,left:ae}),le=(0,ne.ZQ)().toLowerCase();ee&&(oe=_isChromeIOS(le)?"_blank":ee),_isFirefox(le)&&($=$||"http://localhost",se.scrollbars="yes");const de=Object.entries(se).reduce(((_,$)=>{let[ee,te]=$;return`${_}${ee}=${te},`}),"");if(function _isIOSStandalone(){var _;return _isIOS(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ne.ZQ)())&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(le)&&"_self"!==oe)return function openAsNewWindowIOS(_,$){const ee=document.createElement("a");ee.href=_,ee.target=$;const te=document.createEvent("MouseEvent");te.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),ee.dispatchEvent(te)}($||"",oe),new AuthPopup(null);const he=window.open($||"",oe,de);_assert(he,_,"popup-blocked");try{he.focus()}catch(fe){}return new AuthPopup(he)}const ot="__/auth/handler",st="emulator/auth/handler",lt=encodeURIComponent("fac");async function _getRedirectUrl(_,$,ee,re,ie,ae){_assert(_.config.authDomain,_,"auth-domain-config-required"),_assert(_.config.apiKey,_,"invalid-api-key");const oe={apiKey:_.config.apiKey,appName:_.name,authType:ee,redirectUrl:re,v:te.MF,eventId:ie};if($ instanceof FederatedAuthProvider){$.setDefaultLanguage(_.languageCode),oe.providerId=$.providerId||"",(0,ne.Im)($.getCustomParameters())||(oe.customParameters=JSON.stringify($.getCustomParameters()));for(const[_,$]of Object.entries(ae||{}))oe[_]=$}if($ instanceof BaseOAuthProvider){const _=$.getScopes().filter((_=>""!==_));_.length>0&&(oe.scopes=_.join(","))}_.tenantId&&(oe.tid=_.tenantId);const se=oe;for(const te of Object.keys(se))void 0===se[te]&&delete se[te];const le=await _._getAppCheckToken(),de=le?`#${lt}=${encodeURIComponent(le)}`:"";return`${function getHandlerBase(_){let{config:$}=_;if(!$.emulator)return`https://${$.authDomain}/${ot}`;return _emulatorUrl($,st)}(_)}?${(0,ne.Am)(se).slice(1)}${de}`}const ct="webStorageSupport";const ut=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ke,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(_,$,ee,te){var ne;debugAssert(null===(ne=this.eventManagers[_._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");return _open(_,await _getRedirectUrl(_,$,ee,_getCurrentUrl(),te),_generateEventId())}async _openRedirect(_,$,ee,te){await this._originValidation(_);return function _setWindowLocation(_){_window().location.href=_}(await _getRedirectUrl(_,$,ee,_getCurrentUrl(),te)),new Promise((()=>{}))}_initialize(_){const $=_._key();if(this.eventManagers[$]){const{manager:_,promise:ee}=this.eventManagers[$];return _?Promise.resolve(_):(debugAssert(ee,"If manager is not set, promise should be"),ee)}const ee=this.initAndGetManager(_);return this.eventManagers[$]={promise:ee},ee.catch((()=>{delete this.eventManagers[$]})),ee}async initAndGetManager(_){const $=await _openIframe(_),ee=new AuthEventManager(_);return $.register("authEvent",($=>{_assert(null===$||void 0===$?void 0:$.authEvent,_,"invalid-auth-event");return{status:ee.onEvent($.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[_._key()]={manager:ee},this.iframes[_._key()]=$,ee}_isIframeWebStorageSupported(_,$){this.iframes[_._key()].send(ct,{type:ct},(ee=>{var te;const ne=null===(te=null===ee||void 0===ee?void 0:ee[0])||void 0===te?void 0:te[ct];void 0!==ne&&$(!!ne),_fail(_,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const $=_._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=_validateOrigin(_)),this.originValidationPromises[$]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}};var dt="@firebase/auth",ht="1.10.1";class AuthInterop{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}async getToken(_){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(_)}}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const $=this.auth.onIdTokenChanged(($=>{_((null===$||void 0===$?void 0:$.stsTokenManager.accessToken)||null)}));this.internalListeners.set(_,$),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const $=this.internalListeners.get(_);$&&(this.internalListeners.delete(_),$(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ft=(0,ne.XA)("authIdTokenMaxAge")||300;let pt=null;const mintCookieFactory=_=>async $=>{const ee=$&&await $.getIdTokenResult(),te=ee&&((new Date).getTime()-Date.parse(ee.issuedAtTime))/1e3;if(te&&te>ft)return;const ne=null===ee||void 0===ee?void 0:ee.token;pt!==ne&&(pt=ne,await fetch(_,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))};function getAuth(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,te.Sx)();const $=(0,te.j6)(_,"auth");if($.isInitialized())return $.getImmediate();const ee=function initializeAuth(_,$){const ee=(0,te.j6)(_,"auth");if(ee.isInitialized()){const _=ee.getImmediate(),te=ee.getOptions();if((0,ne.bD)(te,null!==$&&void 0!==$?$:{}))return _;_fail(_,"already-initialized")}return ee.initialize({options:$})}(_,{popupRedirectResolver:ut,persistence:[Me,Ee,ke]}),re=(0,ne.XA)("authTokenSyncURL");if(re&&"boolean"===typeof isSecureContext&&isSecureContext){const _=new URL(re,location.origin);if(location.origin===_.origin){const $=mintCookieFactory(_.toString());!function beforeAuthStateChanged(_,$,ee){return(0,ne.Ku)(_).beforeAuthStateChanged($,ee)}(ee,$,(()=>$(ee.currentUser))),function onIdTokenChanged(_,$,ee,te){return(0,ne.Ku)(_).onIdTokenChanged($,ee,te)}(ee,(_=>$(_)))}}const ie=(0,ne.Tj)("auth");return ie&&connectAuthEmulator(ee,`http://${ie}`),ee}!function _setExternalJSProvider(_){me=_}({loadJS:_=>new Promise((($,ee)=>{const te=document.createElement("script");te.setAttribute("src",_),te.onload=$,te.onerror=_=>{const $=_createError("internal-error");$.customData=_,ee($)},te.type="text/javascript",te.charset="UTF-8",function getScriptParentElement(){var _,$;return null!==($=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==$?$:document}().appendChild(te)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function registerAuth(_){(0,te.om)(new ie.uA("auth",(($,ee)=>{let{options:te}=ee;const ne=$.getProvider("app").getImmediate(),re=$.getProvider("heartbeat"),ie=$.getProvider("app-check-internal"),{apiKey:ae,authDomain:oe}=ne.options;_assert(ae&&!ae.includes(":"),"invalid-api-key",{appName:ne.name});const se={apiKey:ae,authDomain:oe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(_)},le=new AuthImpl(ne,re,ie,se);return function _initializeAuthInstance(_,$){const ee=(null===$||void 0===$?void 0:$.persistence)||[],te=(Array.isArray(ee)?ee:[ee]).map(_getInstance);(null===$||void 0===$?void 0:$.errorMap)&&_._updateErrorMap($.errorMap),_._initializeWithPersistence(te,null===$||void 0===$?void 0:$.popupRedirectResolver)}(le,te),le}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((_,$,ee)=>{_.getProvider("auth-internal").initialize()}))),(0,te.om)(new ie.uA("auth-internal",(_=>(_=>new AuthInterop(_))(_castAuth(_.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.KO)(dt,ht,function getVersionForPlatform(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),(0,te.KO)(dt,ht,"esm2017")}("Browser")},1497:(_,$,ee)=>{"use strict";var te=ee(3218);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,_.exports=function(){function shim(_,$,ee,ne,re,ie){if(ie!==te){var ae=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ae.name="Invariant Violation",ae}}function getShim(){return shim}shim.isRequired=shim;var _={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _.PropTypes=_,_}},1529:(_,$,ee)=>{"use strict";ee.d($,{cY:()=>Deferred,FA:()=>ErrorFactory,g:()=>FirebaseError,dM:()=>areCookiesEnabled,u:()=>base64Decode,Uj:()=>base64urlEncodeWithoutPadding,Fy:()=>createMockUserToken,tD:()=>createSubscribe,bD:()=>deepEqual,hp:()=>extractQuerystring,T9:()=>getDefaultAppConfig,Tj:()=>getDefaultEmulatorHost,yU:()=>getDefaultEmulatorHostnameAndPort,XA:()=>getExperimentalSetting,mS:()=>getGlobal,Ku:()=>getModularInstance,ZQ:()=>getUA,sr:()=>isBrowserExtension,c1:()=>isCloudflareWorker,Im:()=>isEmpty,lT:()=>isIE,zW:()=>isIndexedDBAvailable,jZ:()=>isMobileCordova,lV:()=>isReactNative,nr:()=>isSafari,Am:()=>querystring,I9:()=>querystringDecode,eX:()=>validateIndexedDBOpenable});const stringToByteArray$1=function(_){const $=[];let ee=0;for(let te=0;te<_.length;te++){let ne=_.charCodeAt(te);ne<128?$[ee++]=ne:ne<2048?($[ee++]=ne>>6|192,$[ee++]=63&ne|128):55296===(64512&ne)&&te+1<_.length&&56320===(64512&_.charCodeAt(te+1))?(ne=65536+((1023&ne)<<10)+(1023&_.charCodeAt(++te)),$[ee++]=ne>>18|240,$[ee++]=ne>>12&63|128,$[ee++]=ne>>6&63|128,$[ee++]=63&ne|128):($[ee++]=ne>>12|224,$[ee++]=ne>>6&63|128,$[ee++]=63&ne|128)}return $},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(_,$){if(!Array.isArray(_))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let ne=0;ne<_.length;ne+=3){const $=_[ne],re=ne+1<_.length,ie=re?_[ne+1]:0,ae=ne+2<_.length,oe=ae?_[ne+2]:0,se=$>>2,le=(3&$)<<4|ie>>4;let de=(15&ie)<<2|oe>>6,he=63&oe;ae||(he=64,re||(de=64)),te.push(ee[se],ee[le],ee[de],ee[he])}return te.join("")},encodeString(_,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(_):this.encodeByteArray(stringToByteArray$1(_),$)},decodeString(_,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(_):function(_){const $=[];let ee=0,te=0;for(;ee<_.length;){const ne=_[ee++];if(ne<128)$[te++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const re=_[ee++];$[te++]=String.fromCharCode((31&ne)<<6|63&re)}else if(ne>239&&ne<365){const re=((7&ne)<<18|(63&_[ee++])<<12|(63&_[ee++])<<6|63&_[ee++])-65536;$[te++]=String.fromCharCode(55296+(re>>10)),$[te++]=String.fromCharCode(56320+(1023&re))}else{const re=_[ee++],ie=_[ee++];$[te++]=String.fromCharCode((15&ne)<<12|(63&re)<<6|63&ie)}}return $.join("")}(this.decodeStringToByteArray(_,$))},decodeStringToByteArray(_,$){this.init_();const ee=$?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let ne=0;ne<_.length;){const $=ee[_.charAt(ne++)],re=ne<_.length?ee[_.charAt(ne)]:0;++ne;const ie=ne<_.length?ee[_.charAt(ne)]:64;++ne;const ae=ne<_.length?ee[_.charAt(ne)]:64;if(++ne,null==$||null==re||null==ie||null==ae)throw new DecodeBase64StringError;const oe=$<<2|re>>4;if(te.push(oe),64!==ie){const _=re<<4&240|ie>>2;if(te.push(_),64!==ae){const _=ie<<6&192|ae;te.push(_)}}}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _=0;_<this.ENCODED_VALS.length;_++)this.byteToCharMap_[_]=this.ENCODED_VALS.charAt(_),this.charToByteMap_[this.byteToCharMap_[_]]=_,this.byteToCharMapWebSafe_[_]=this.ENCODED_VALS_WEBSAFE.charAt(_),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_]]=_,_>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_)]=_,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_)]=_)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64urlEncodeWithoutPadding=function(_){return function(_){const $=stringToByteArray$1(_);return te.encodeByteArray($,!0)}(_).replace(/\./g,"")},base64Decode=function(_){try{return te.decodeString(_,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function getGlobal(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof ee.g)return ee.g;throw new Error("Unable to locate global object.")}const getDefaults=()=>{try{return getGlobal().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const _={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBc3CNH5hAatFsuvAhrsOoNBZxIgUdfdCU",REACT_APP_APP_ID:"1:404132163896:web:4be038cbee416c56c7d1cd",REACT_APP_AUTH_DOMAIN:"the-digital-twin-app-3e2b1.firebaseapp.com",REACT_APP_DATABASE_URL:"https://the-digital-twin-app-3e2b1-default-rtdb.firebaseio.com",REACT_APP_GEMINI_API_KEY:"AIzaSyBhpcN4VvqSrc3yP7FBZ-AQwaQX3LYajuA",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyB_Yumt17bMTYFQQDl6ApkLEB9hsAQtT2c",REACT_APP_MEASUREMENT_ID:"G-BZNSJW940T",REACT_APP_MESSAGING_SENDER_ID:"404132163896",REACT_APP_PROJECT_ID:"the-digital-twin-app-3e2b1",REACT_APP_STORAGE_BUCKET:"the-digital-twin-app-3e2b1.appspot.com",REACT_APP_WEATHER_API_KEY:"e40bc0808aec437cb29190809251002"}.__FIREBASE_DEFAULTS__;return _?JSON.parse(_):void 0})()||(()=>{if("undefined"===typeof document)return;let _;try{_=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ee){return}const $=_&&base64Decode(_[1]);return $&&JSON.parse($)})()}catch(_){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_}`)}},getDefaultEmulatorHost=_=>{var $,ee;return null===(ee=null===($=getDefaults())||void 0===$?void 0:$.emulatorHosts)||void 0===ee?void 0:ee[_]},getDefaultEmulatorHostnameAndPort=_=>{const $=getDefaultEmulatorHost(_);if(!$)return;const ee=$.lastIndexOf(":");if(ee<=0||ee+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const te=parseInt($.substring(ee+1),10);return"["===$[0]?[$.substring(1,ee-1),te]:[$.substring(0,ee),te]},getDefaultAppConfig=()=>{var _;return null===(_=getDefaults())||void 0===_?void 0:_.config},getExperimentalSetting=_=>{var $;return null===($=getDefaults())||void 0===$?void 0:$[`_${_}`]};class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((_,$)=>{this.resolve=_,this.reject=$}))}wrapCallback(_){return($,ee)=>{$?this.reject($):this.resolve(ee),"function"===typeof _&&(this.promise.catch((()=>{})),1===_.length?_($):_($,ee))}}}function createMockUserToken(_,$){if(_.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=$||"demo-project",te=_.iat||0,ne=_.sub||_.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:te,exp:te+3600,auth_time:te,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},_);return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(re)),""].join(".")}function getUA(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function isMobileCordova(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isCloudflareWorker(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function isBrowserExtension(){const _="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof _&&void 0!==_.id}function isReactNative(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function isIE(){const _=getUA();return _.indexOf("MSIE ")>=0||_.indexOf("Trident/")>=0}function isSafari(){return!function isNode(){var _;const $=null===(_=getDefaults())||void 0===_?void 0:_.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(ee.g.process)}catch(te){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return"object"===typeof indexedDB}catch(_){return!1}}function validateIndexedDBOpenable(){return new Promise(((_,$)=>{try{let ee=!0;const te="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(te);ne.onsuccess=()=>{ne.result.close(),ee||self.indexedDB.deleteDatabase(te),_(!0)},ne.onupgradeneeded=()=>{ee=!1},ne.onerror=()=>{var _;$((null===(_=ne.error)||void 0===_?void 0:_.message)||"")}}catch(ee){$(ee)}}))}function areCookiesEnabled(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class FirebaseError extends Error{constructor(_,$,ee){super($),this.code=_,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_,$,ee){this.service=_,this.serviceName=$,this.errors=ee}create(_){const $=(arguments.length<=1?void 0:arguments[1])||{},ee=`${this.service}/${_}`,te=this.errors[_],re=te?function replaceTemplate(_,$){return _.replace(ne,((_,ee)=>{const te=$[ee];return null!=te?String(te):`<${ee}?>`}))}(te,$):"Error",ie=`${this.serviceName}: ${re} (${ee}).`;return new FirebaseError(ee,ie,$)}}const ne=/\{\$([^}]+)}/g;function isEmpty(_){for(const $ in _)if(Object.prototype.hasOwnProperty.call(_,$))return!1;return!0}function deepEqual(_,$){if(_===$)return!0;const ee=Object.keys(_),te=Object.keys($);for(const ne of ee){if(!te.includes(ne))return!1;const ee=_[ne],re=$[ne];if(isObject(ee)&&isObject(re)){if(!deepEqual(ee,re))return!1}else if(ee!==re)return!1}for(const ne of te)if(!ee.includes(ne))return!1;return!0}function isObject(_){return null!==_&&"object"===typeof _}function querystring(_){const $=[];for(const[ee,te]of Object.entries(_))Array.isArray(te)?te.forEach((_=>{$.push(encodeURIComponent(ee)+"="+encodeURIComponent(_))})):$.push(encodeURIComponent(ee)+"="+encodeURIComponent(te));return $.length?"&"+$.join("&"):""}function querystringDecode(_){const $={};return _.replace(/^\?/,"").split("&").forEach((_=>{if(_){const[ee,te]=_.split("=");$[decodeURIComponent(ee)]=decodeURIComponent(te)}})),$}function extractQuerystring(_){const $=_.indexOf("?");if(!$)return"";const ee=_.indexOf("#",$);return _.substring($,ee>0?ee:void 0)}function createSubscribe(_,$){const ee=new ObserverProxy(_,$);return ee.subscribe.bind(ee)}class ObserverProxy{constructor(_,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then((()=>{_(this)})).catch((_=>{this.error(_)}))}next(_){this.forEachObserver(($=>{$.next(_)}))}error(_){this.forEachObserver(($=>{$.error(_)})),this.close(_)}complete(){this.forEachObserver((_=>{_.complete()})),this.close()}subscribe(_,$,ee){let te;if(void 0===_&&void 0===$&&void 0===ee)throw new Error("Missing Observer.");te=function implementsAnyMethods(_,$){if("object"!==typeof _||null===_)return!1;for(const ee of $)if(ee in _&&"function"===typeof _[ee])return!0;return!1}(_,["next","error","complete"])?_:{next:_,error:$,complete:ee},void 0===te.next&&(te.next=noop),void 0===te.error&&(te.error=noop),void 0===te.complete&&(te.complete=noop);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(_){}})),this.observers.push(te),ne}unsubscribeOne(_){void 0!==this.observers&&void 0!==this.observers[_]&&(delete this.observers[_],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,_)}sendOne(_,$){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[_])try{$(this.observers[_])}catch(ee){"undefined"!==typeof console&&console.error&&console.error(ee)}}))}close(_){this.finalized||(this.finalized=!0,void 0!==_&&(this.finalError=_),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function noop(){}function getModularInstance(_){return _&&_._delegate?_._delegate:_}},2190:(_,$,ee)=>{"use strict";ee.d($,{L:()=>te});const te=(0,ee(5043).createContext)({})},2219:(_,$,ee)=>{"use strict";"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var te=ee(5043),ne=ee(8853);function p(_){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_,ee=1;ee<arguments.length;ee++)$+="&args[]="+encodeURIComponent(arguments[ee]);return"Minified React error #"+_+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var re=new Set,ie={};function fa(_,$){ha(_,$),ha(_+"Capture",$)}function ha(_,$){for(ie[_]=$,_=0;_<$.length;_++)re.add($[_])}var ae=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),oe=Object.prototype.hasOwnProperty,se=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,le={},de={};function qa(_,$,ee,te,ne,re,ie){this.acceptsBooleans=2===$||3===$||4===$,this.attributeName=te,this.attributeNamespace=ne,this.mustUseProperty=ee,this.propertyName=_,this.type=$,this.sanitizeURL=re,this.removeEmptyString=ie}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(_){he[_]=new qa(_,0,!1,_,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(_){var $=_[0];he[$]=new qa($,1,!1,_[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(_){he[_]=new qa(_,2,!1,_.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(_){he[_]=new qa(_,2,!1,_,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(_){he[_]=new qa(_,3,!1,_.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(_){he[_]=new qa(_,3,!0,_,null,!1,!1)})),["capture","download"].forEach((function(_){he[_]=new qa(_,4,!1,_,null,!1,!1)})),["cols","rows","size","span"].forEach((function(_){he[_]=new qa(_,6,!1,_,null,!1,!1)})),["rowSpan","start"].forEach((function(_){he[_]=new qa(_,5,!1,_.toLowerCase(),null,!1,!1)}));var fe=/[\-:]([a-z])/g;function ta(_){return _[1].toUpperCase()}function ua(_,$,ee,te){var ne=he.hasOwnProperty($)?he[$]:null;(null!==ne?0!==ne.type:te||!(2<$.length)||"o"!==$[0]&&"O"!==$[0]||"n"!==$[1]&&"N"!==$[1])&&(function pa(_,$,ee,te){if(null===$||"undefined"===typeof $||function oa(_,$,ee,te){if(null!==ee&&0===ee.type)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return!te&&(null!==ee?!ee.acceptsBooleans:"data-"!==(_=_.toLowerCase().slice(0,5))&&"aria-"!==_);default:return!1}}(_,$,ee,te))return!0;if(te)return!1;if(null!==ee)switch(ee.type){case 3:return!$;case 4:return!1===$;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}($,ee,ne,te)&&(ee=null),te||null===ne?function na(_){return!!oe.call(de,_)||!oe.call(le,_)&&(se.test(_)?de[_]=!0:(le[_]=!0,!1))}($)&&(null===ee?_.removeAttribute($):_.setAttribute($,""+ee)):ne.mustUseProperty?_[ne.propertyName]=null===ee?3!==ne.type&&"":ee:($=ne.attributeName,te=ne.attributeNamespace,null===ee?_.removeAttribute($):(ee=3===(ne=ne.type)||4===ne&&!0===ee?"":""+ee,te?_.setAttributeNS(te,$,ee):_.setAttribute($,ee))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(_){var $=_.replace(fe,ta);he[$]=new qa($,1,!1,_,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(_){var $=_.replace(fe,ta);he[$]=new qa($,1,!1,_,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(_){var $=_.replace(fe,ta);he[$]=new qa($,1,!1,_,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(_){he[_]=new qa(_,1,!1,_.toLowerCase(),null,!1,!1)})),he.xlinkHref=new qa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(_){he[_]=new qa(_,1,!1,_.toLowerCase(),null,!0,!0)}));var pe=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),_e=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Le=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ze=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var qe=Symbol.iterator;function Ka(_){return null===_||"object"!==typeof _?null:"function"===typeof(_=qe&&_[qe]||_["@@iterator"])?_:null}var Ke,et=Object.assign;function Ma(_){if(void 0===Ke)try{throw Error()}catch(ee){var $=ee.stack.trim().match(/\n( *(at )?)/);Ke=$&&$[1]||""}return"\n"+Ke+_}var tt=!1;function Oa(_,$){if(!_||tt)return"";tt=!0;var ee=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct($,[])}catch(se){var te=se}Reflect.construct(_,[],$)}else{try{$.call()}catch(se){te=se}_.call($.prototype)}else{try{throw Error()}catch(se){te=se}_()}}catch(se){if(se&&te&&"string"===typeof se.stack){for(var ne=se.stack.split("\n"),re=te.stack.split("\n"),ie=ne.length-1,ae=re.length-1;1<=ie&&0<=ae&&ne[ie]!==re[ae];)ae--;for(;1<=ie&&0<=ae;ie--,ae--)if(ne[ie]!==re[ae]){if(1!==ie||1!==ae)do{if(ie--,0>--ae||ne[ie]!==re[ae]){var oe="\n"+ne[ie].replace(" at new "," at ");return _.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",_.displayName)),oe}}while(1<=ie&&0<=ae);break}}}finally{tt=!1,Error.prepareStackTrace=ee}return(_=_?_.displayName||_.name:"")?Ma(_):""}function Pa(_){switch(_.tag){case 5:return Ma(_.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _=Oa(_.type,!1);case 11:return _=Oa(_.type.render,!1);case 1:return _=Oa(_.type,!0);default:return""}}function Qa(_){if(null==_)return null;if("function"===typeof _)return _.displayName||_.name||null;if("string"===typeof _)return _;switch(_){case be:return"Fragment";case _e:return"Portal";case Ee:return"Profiler";case we:return"StrictMode";case Ne:return"Suspense";case Me:return"SuspenseList"}if("object"===typeof _)switch(_.$$typeof){case Ve:return(_.displayName||"Context")+".Consumer";case ke:return(_._context.displayName||"Context")+".Provider";case De:var $=_.render;return(_=_.displayName)||(_=""!==(_=$.displayName||$.name||"")?"ForwardRef("+_+")":"ForwardRef"),_;case je:return null!==($=_.displayName||null)?$:Qa(_.type)||"Memo";case Le:$=_._payload,_=_._init;try{return Qa(_($))}catch(ee){}}return null}function Ra(_){var $=_.type;switch(_.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=(_=$.render).displayName||_.name||"",$.displayName||(""!==_?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===we?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof $)return $.displayName||$.name||null;if("string"===typeof $)return $}return null}function Sa(_){switch(typeof _){case"boolean":case"number":case"string":case"undefined":case"object":return _;default:return""}}function Ta(_){var $=_.type;return(_=_.nodeName)&&"input"===_.toLowerCase()&&("checkbox"===$||"radio"===$)}function Va(_){_._valueTracker||(_._valueTracker=function Ua(_){var $=Ta(_)?"checked":"value",ee=Object.getOwnPropertyDescriptor(_.constructor.prototype,$),te=""+_[$];if(!_.hasOwnProperty($)&&"undefined"!==typeof ee&&"function"===typeof ee.get&&"function"===typeof ee.set){var ne=ee.get,re=ee.set;return Object.defineProperty(_,$,{configurable:!0,get:function(){return ne.call(this)},set:function(_){te=""+_,re.call(this,_)}}),Object.defineProperty(_,$,{enumerable:ee.enumerable}),{getValue:function(){return te},setValue:function(_){te=""+_},stopTracking:function(){_._valueTracker=null,delete _[$]}}}}(_))}function Wa(_){if(!_)return!1;var $=_._valueTracker;if(!$)return!0;var ee=$.getValue(),te="";return _&&(te=Ta(_)?_.checked?"true":"false":_.value),(_=te)!==ee&&($.setValue(_),!0)}function Xa(_){if("undefined"===typeof(_=_||("undefined"!==typeof document?document:void 0)))return null;try{return _.activeElement||_.body}catch($){return _.body}}function Ya(_,$){var ee=$.checked;return et({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=ee?ee:_._wrapperState.initialChecked})}function Za(_,$){var ee=null==$.defaultValue?"":$.defaultValue,te=null!=$.checked?$.checked:$.defaultChecked;ee=Sa(null!=$.value?$.value:ee),_._wrapperState={initialChecked:te,initialValue:ee,controlled:"checkbox"===$.type||"radio"===$.type?null!=$.checked:null!=$.value}}function $a(_,$){null!=($=$.checked)&&ua(_,"checked",$,!1)}function ab(_,$){$a(_,$);var ee=Sa($.value),te=$.type;if(null!=ee)"number"===te?(0===ee&&""===_.value||_.value!=ee)&&(_.value=""+ee):_.value!==""+ee&&(_.value=""+ee);else if("submit"===te||"reset"===te)return void _.removeAttribute("value");$.hasOwnProperty("value")?bb(_,$.type,ee):$.hasOwnProperty("defaultValue")&&bb(_,$.type,Sa($.defaultValue)),null==$.checked&&null!=$.defaultChecked&&(_.defaultChecked=!!$.defaultChecked)}function cb(_,$,ee){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var te=$.type;if(!("submit"!==te&&"reset"!==te||void 0!==$.value&&null!==$.value))return;$=""+_._wrapperState.initialValue,ee||$===_.value||(_.value=$),_.defaultValue=$}""!==(ee=_.name)&&(_.name=""),_.defaultChecked=!!_._wrapperState.initialChecked,""!==ee&&(_.name=ee)}function bb(_,$,ee){"number"===$&&Xa(_.ownerDocument)===_||(null==ee?_.defaultValue=""+_._wrapperState.initialValue:_.defaultValue!==""+ee&&(_.defaultValue=""+ee))}var nt=Array.isArray;function eb(_,$,ee,te){if(_=_.options,$){$={};for(var ne=0;ne<ee.length;ne++)$["$"+ee[ne]]=!0;for(ee=0;ee<_.length;ee++)ne=$.hasOwnProperty("$"+_[ee].value),_[ee].selected!==ne&&(_[ee].selected=ne),ne&&te&&(_[ee].defaultSelected=!0)}else{for(ee=""+Sa(ee),$=null,ne=0;ne<_.length;ne++){if(_[ne].value===ee)return _[ne].selected=!0,void(te&&(_[ne].defaultSelected=!0));null!==$||_[ne].disabled||($=_[ne])}null!==$&&($.selected=!0)}}function fb(_,$){if(null!=$.dangerouslySetInnerHTML)throw Error(p(91));return et({},$,{value:void 0,defaultValue:void 0,children:""+_._wrapperState.initialValue})}function gb(_,$){var ee=$.value;if(null==ee){if(ee=$.children,$=$.defaultValue,null!=ee){if(null!=$)throw Error(p(92));if(nt(ee)){if(1<ee.length)throw Error(p(93));ee=ee[0]}$=ee}null==$&&($=""),ee=$}_._wrapperState={initialValue:Sa(ee)}}function hb(_,$){var ee=Sa($.value),te=Sa($.defaultValue);null!=ee&&((ee=""+ee)!==_.value&&(_.value=ee),null==$.defaultValue&&_.defaultValue!==ee&&(_.defaultValue=ee)),null!=te&&(_.defaultValue=""+te)}function ib(_){var $=_.textContent;$===_._wrapperState.initialValue&&""!==$&&null!==$&&(_.value=$)}function jb(_){switch(_){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kb(_,$){return null==_||"http://www.w3.org/1999/xhtml"===_?jb($):"http://www.w3.org/2000/svg"===_&&"foreignObject"===$?"http://www.w3.org/1999/xhtml":_}var rt,it,at=(it=function(_,$){if("http://www.w3.org/2000/svg"!==_.namespaceURI||"innerHTML"in _)_.innerHTML=$;else{for((rt=rt||document.createElement("div")).innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=rt.firstChild;_.firstChild;)_.removeChild(_.firstChild);for(;$.firstChild;)_.appendChild($.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(_,$,ee,te){MSApp.execUnsafeLocalFunction((function(){return it(_,$)}))}:it);function ob(_,$){if($){var ee=_.firstChild;if(ee&&ee===_.lastChild&&3===ee.nodeType)return void(ee.nodeValue=$)}_.textContent=$}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];function rb(_,$,ee){return null==$||"boolean"===typeof $||""===$?"":ee||"number"!==typeof $||0===$||ot.hasOwnProperty(_)&&ot[_]?(""+$).trim():$+"px"}function sb(_,$){for(var ee in _=_.style,$)if($.hasOwnProperty(ee)){var te=0===ee.indexOf("--"),ne=rb(ee,$[ee],te);"float"===ee&&(ee="cssFloat"),te?_.setProperty(ee,ne):_[ee]=ne}}Object.keys(ot).forEach((function(_){st.forEach((function($){$=$+_.charAt(0).toUpperCase()+_.substring(1),ot[$]=ot[_]}))}));var lt=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_,$){if($){if(lt[_]&&(null!=$.children||null!=$.dangerouslySetInnerHTML))throw Error(p(137,_));if(null!=$.dangerouslySetInnerHTML){if(null!=$.children)throw Error(p(60));if("object"!==typeof $.dangerouslySetInnerHTML||!("__html"in $.dangerouslySetInnerHTML))throw Error(p(61))}if(null!=$.style&&"object"!==typeof $.style)throw Error(p(62))}}function vb(_,$){if(-1===_.indexOf("-"))return"string"===typeof $.is;switch(_){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function xb(_){return(_=_.target||_.srcElement||window).correspondingUseElement&&(_=_.correspondingUseElement),3===_.nodeType?_.parentNode:_}var ut=null,dt=null,ht=null;function Bb(_){if(_=Cb(_)){if("function"!==typeof ut)throw Error(p(280));var $=_.stateNode;$&&($=Db($),ut(_.stateNode,_.type,$))}}function Eb(_){dt?ht?ht.push(_):ht=[_]:dt=_}function Fb(){if(dt){var _=dt,$=ht;if(ht=dt=null,Bb(_),$)for(_=0;_<$.length;_++)Bb($[_])}}function Gb(_,$){return _($)}function Hb(){}var ft=!1;function Jb(_,$,ee){if(ft)return _($,ee);ft=!0;try{return Gb(_,$,ee)}finally{ft=!1,(null!==dt||null!==ht)&&(Hb(),Fb())}}function Kb(_,$){var ee=_.stateNode;if(null===ee)return null;var te=Db(ee);if(null===te)return null;ee=te[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(te=!te.disabled)||(te=!("button"===(_=_.type)||"input"===_||"select"===_||"textarea"===_)),_=!te;break e;default:_=!1}if(_)return null;if(ee&&"function"!==typeof ee)throw Error(p(231,$,typeof ee));return ee}var pt=!1;if(ae)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){pt=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch(it){pt=!1}function Nb(_,$,ee,te,ne,re,ie,ae,oe){var se=Array.prototype.slice.call(arguments,3);try{$.apply(ee,se)}catch(le){this.onError(le)}}var gt=!1,_t=null,yt=!1,vt=null,bt={onError:function(_){gt=!0,_t=_}};function Tb(_,$,ee,te,ne,re,ie,ae,oe){gt=!1,_t=null,Nb.apply(bt,arguments)}function Vb(_){var $=_,ee=_;if(_.alternate)for(;$.return;)$=$.return;else{_=$;do{0!==(4098&($=_).flags)&&(ee=$.return),_=$.return}while(_)}return 3===$.tag?ee:null}function Wb(_){if(13===_.tag){var $=_.memoizedState;if(null===$&&(null!==(_=_.alternate)&&($=_.memoizedState)),null!==$)return $.dehydrated}return null}function Xb(_){if(Vb(_)!==_)throw Error(p(188))}function Zb(_){return null!==(_=function Yb(_){var $=_.alternate;if(!$){if(null===($=Vb(_)))throw Error(p(188));return $!==_?null:_}for(var ee=_,te=$;;){var ne=ee.return;if(null===ne)break;var re=ne.alternate;if(null===re){if(null!==(te=ne.return)){ee=te;continue}break}if(ne.child===re.child){for(re=ne.child;re;){if(re===ee)return Xb(ne),_;if(re===te)return Xb(ne),$;re=re.sibling}throw Error(p(188))}if(ee.return!==te.return)ee=ne,te=re;else{for(var ie=!1,ae=ne.child;ae;){if(ae===ee){ie=!0,ee=ne,te=re;break}if(ae===te){ie=!0,te=ne,ee=re;break}ae=ae.sibling}if(!ie){for(ae=re.child;ae;){if(ae===ee){ie=!0,ee=re,te=ne;break}if(ae===te){ie=!0,te=re,ee=ne;break}ae=ae.sibling}if(!ie)throw Error(p(189))}}if(ee.alternate!==te)throw Error(p(190))}if(3!==ee.tag)throw Error(p(188));return ee.stateNode.current===ee?_:$}(_))?$b(_):null}function $b(_){if(5===_.tag||6===_.tag)return _;for(_=_.child;null!==_;){var $=$b(_);if(null!==$)return $;_=_.sibling}return null}var wt=ne.unstable_scheduleCallback,xt=ne.unstable_cancelCallback,Et=ne.unstable_shouldYield,Tt=ne.unstable_requestPaint,At=ne.unstable_now,kt=ne.unstable_getCurrentPriorityLevel,Pt=ne.unstable_ImmediatePriority,It=ne.unstable_UserBlockingPriority,St=ne.unstable_NormalPriority,Rt=ne.unstable_LowPriority,Ct=ne.unstable_IdlePriority,Vt=null,Dt=null,Nt=null,Ot="undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function oc(_){Nt=_}function pc(){for(var _=new Map,$=1,ee=0;31>ee;ee++){var te=qc($);_.set($,te),$*=2}return _}function rc(){null!==Nt&&"function"===typeof Nt.markCommitStopped&&Nt.markCommitStopped()}function sc(_){null!==Nt&&"function"===typeof Nt.markComponentRenderStarted&&Nt.markComponentRenderStarted(_)}function tc(){null!==Nt&&"function"===typeof Nt.markComponentRenderStopped&&Nt.markComponentRenderStopped()}function uc(_){null!==Nt&&"function"===typeof Nt.markComponentLayoutEffectUnmountStarted&&Nt.markComponentLayoutEffectUnmountStarted(_)}function vc(){null!==Nt&&"function"===typeof Nt.markComponentLayoutEffectUnmountStopped&&Nt.markComponentLayoutEffectUnmountStopped()}function wc(_){null!==Nt&&"function"===typeof Nt.markRenderStarted&&Nt.markRenderStarted(_)}function xc(){null!==Nt&&"function"===typeof Nt.markRenderStopped&&Nt.markRenderStopped()}function yc(_,$){null!==Nt&&"function"===typeof Nt.markStateUpdateScheduled&&Nt.markStateUpdateScheduled(_,$)}var Mt=Math.clz32?Math.clz32:function zc(_){return _>>>=0,0===_?32:31-(Ft(_)/jt|0)|0},Ft=Math.log,jt=Math.LN2;function qc(_){return 1&_?"Sync":2&_?"InputContinuousHydration":4&_?"InputContinuous":8&_?"DefaultHydration":16&_?"Default":32&_?"TransitionHydration":4194240&_?"Transition":130023424&_?"Retry":134217728&_?"SelectiveHydration":268435456&_?"IdleHydration":536870912&_?"Idle":1073741824&_?"Offscreen":void 0}var Lt=64,Ut=4194304;function Fc(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&_;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&_;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function Gc(_,$){var ee=_.pendingLanes;if(0===ee)return 0;var te=0,ne=_.suspendedLanes,re=_.pingedLanes,ie=268435455&ee;if(0!==ie){var ae=ie&~ne;0!==ae?te=Fc(ae):0!==(re&=ie)&&(te=Fc(re))}else 0!==(ie=ee&~ne)?te=Fc(ie):0!==re&&(te=Fc(re));if(0===te)return 0;if(0!==$&&$!==te&&0===($&ne)&&((ne=te&-te)>=(re=$&-$)||16===ne&&0!==(4194240&re)))return $;if(0!==(4&te)&&(te|=16&ee),0!==($=_.entangledLanes))for(_=_.entanglements,$&=te;0<$;)ne=1<<(ee=31-Mt($)),te|=_[ee],$&=~ne;return te}function Hc(_,$){switch(_){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;default:return-1}}function Jc(_){return 0!==(_=-1073741825&_.pendingLanes)?_:1073741824&_?1073741824:0}function Kc(){var _=Lt;return 0===(4194240&(Lt<<=1))&&(Lt=64),_}function Lc(_){for(var $=[],ee=0;31>ee;ee++)$.push(_);return $}function Mc(_,$,ee){_.pendingLanes|=$,536870912!==$&&(_.suspendedLanes=0,_.pingedLanes=0),(_=_.eventTimes)[$=31-Mt($)]=ee}function Oc(_,$){var ee=_.entangledLanes|=$;for(_=_.entanglements;ee;){var te=31-Mt(ee),ne=1<<te;ne&$|_[te]&$&&(_[te]|=$),ee&=~ne}}function Pc(_,$,ee){if(Ot)for(_=_.pendingUpdatersLaneMap;0<ee;){var te=31-Mt(ee),ne=1<<te;_[te].add($),ee&=~ne}}function Qc(_,$){if(Ot)for(var ee=_.pendingUpdatersLaneMap,te=_.memoizedUpdaters;0<$;){var ne=31-Mt($);_=1<<ne,0<(ne=ee[ne]).size&&(ne.forEach((function(_){var $=_.alternate;null!==$&&te.has($)||te.add(_)})),ne.clear()),$&=~_}}var Bt=0;function Rc(_){return 1<(_&=-_)?4<_?0!==(268435455&_)?16:536870912:4:1}var zt,qt,Wt,Ht,$t,Kt=!1,Gt=[],Yt=null,Qt=null,Xt=null,Jt=new Map,Zt=new Map,en=[],tn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(_,$){switch(_){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Jt.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zt.delete($.pointerId)}}function gd(_,$,ee,te,ne,re){return null===_||_.nativeEvent!==re?(_={blockedOn:$,domEventName:ee,eventSystemFlags:te,nativeEvent:re,targetContainers:[ne]},null!==$&&(null!==($=Cb($))&&qt($)),_):(_.eventSystemFlags|=te,$=_.targetContainers,null!==ne&&-1===$.indexOf(ne)&&$.push(ne),_)}function id(_){var $=jd(_.target);if(null!==$){var ee=Vb($);if(null!==ee)if(13===($=ee.tag)){if(null!==($=Wb(ee)))return _.blockedOn=$,void $t(_.priority,(function(){Wt(ee)}))}else if(3===$&&ee.stateNode.current.memoizedState.isDehydrated)return void(_.blockedOn=3===ee.tag?ee.stateNode.containerInfo:null)}_.blockedOn=null}function kd(_){if(null!==_.blockedOn)return!1;for(var $=_.targetContainers;0<$.length;){var ee=ld(_.domEventName,_.eventSystemFlags,$[0],_.nativeEvent);if(null!==ee)return null!==($=Cb(ee))&&qt($),_.blockedOn=ee,!1;var te=new(ee=_.nativeEvent).constructor(ee.type,ee);ct=te,ee.target.dispatchEvent(te),ct=null,$.shift()}return!0}function md(_,$,ee){kd(_)&&ee.delete($)}function nd(){Kt=!1,null!==Yt&&kd(Yt)&&(Yt=null),null!==Qt&&kd(Qt)&&(Qt=null),null!==Xt&&kd(Xt)&&(Xt=null),Jt.forEach(md),Zt.forEach(md)}function od(_,$){_.blockedOn===$&&(_.blockedOn=null,Kt||(Kt=!0,ne.unstable_scheduleCallback(ne.unstable_NormalPriority,nd)))}function pd(_){function b($){return od($,_)}if(0<Gt.length){od(Gt[0],_);for(var $=1;$<Gt.length;$++){var ee=Gt[$];ee.blockedOn===_&&(ee.blockedOn=null)}}for(null!==Yt&&od(Yt,_),null!==Qt&&od(Qt,_),null!==Xt&&od(Xt,_),Jt.forEach(b),Zt.forEach(b),$=0;$<en.length;$++)(ee=en[$]).blockedOn===_&&(ee.blockedOn=null);for(;0<en.length&&null===($=en[0]).blockedOn;)id($),null===$.blockedOn&&en.shift()}var nn=pe.ReactCurrentBatchConfig,rn=!0;function sd(_,$,ee,te){var ne=Bt,re=nn.transition;nn.transition=null;try{Bt=1,td(_,$,ee,te)}finally{Bt=ne,nn.transition=re}}function ud(_,$,ee,te){var ne=Bt,re=nn.transition;nn.transition=null;try{Bt=4,td(_,$,ee,te)}finally{Bt=ne,nn.transition=re}}function td(_,$,ee,te){if(rn){var ne=ld(_,$,ee,te);if(null===ne)vd(_,$,te,an,ee),fd(_,te);else if(function hd(_,$,ee,te,ne){switch($){case"focusin":return Yt=gd(Yt,_,$,ee,te,ne),!0;case"dragenter":return Qt=gd(Qt,_,$,ee,te,ne),!0;case"mouseover":return Xt=gd(Xt,_,$,ee,te,ne),!0;case"pointerover":var re=ne.pointerId;return Jt.set(re,gd(Jt.get(re)||null,_,$,ee,te,ne)),!0;case"gotpointercapture":return re=ne.pointerId,Zt.set(re,gd(Zt.get(re)||null,_,$,ee,te,ne)),!0}return!1}(ne,_,$,ee,te))te.stopPropagation();else if(fd(_,te),4&$&&-1<tn.indexOf(_)){for(;null!==ne;){var re=Cb(ne);if(null!==re&&zt(re),null===(re=ld(_,$,ee,te))&&vd(_,$,te,an,ee),re===ne)break;ne=re}null!==ne&&te.stopPropagation()}else vd(_,$,te,null,ee)}}var an=null;function ld(_,$,ee,te){if(an=null,null!==(_=jd(_=xb(te))))if(null===($=Vb(_)))_=null;else if(13===(ee=$.tag)){if(null!==(_=Wb($)))return _;_=null}else if(3===ee){if($.stateNode.current.memoizedState.isDehydrated)return 3===$.tag?$.stateNode.containerInfo:null;_=null}else $!==_&&(_=null);return an=_,null}function xd(_){switch(_){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kt()){case Pt:return 1;case It:return 4;case St:case Rt:return 16;case Ct:return 536870912;default:return 16}default:return 16}}var on=null,sn=null,ln=null;function Bd(){if(ln)return ln;var _,$,ee=sn,te=ee.length,ne="value"in on?on.value:on.textContent,re=ne.length;for(_=0;_<te&&ee[_]===ne[_];_++);var ie=te-_;for($=1;$<=ie&&ee[te-$]===ne[re-$];$++);return ln=ne.slice(_,1<$?1-$:void 0)}function Cd(_){var $=_.keyCode;return"charCode"in _?0===(_=_.charCode)&&13===$&&(_=13):_=$,10===_&&(_=13),32<=_||13===_?_:0}function Dd(){return!0}function Ed(){return!1}function Fd(_){function b($,ee,te,ne,re){for(var ie in this._reactName=$,this._targetInst=te,this.type=ee,this.nativeEvent=ne,this.target=re,this.currentTarget=null,_)_.hasOwnProperty(ie)&&($=_[ie],this[ie]=$?$(ne):ne[ie]);return this.isDefaultPrevented=(null!=ne.defaultPrevented?ne.defaultPrevented:!1===ne.returnValue)?Dd:Ed,this.isPropagationStopped=Ed,this}return et(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():"unknown"!==typeof _.returnValue&&(_.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():"unknown"!==typeof _.cancelBubble&&(_.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),b}var cn,un,dn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_){return _.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=Fd(hn),pn=et({},hn,{view:0,detail:0}),mn=Fd(pn),gn=et({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(_){return void 0===_.relatedTarget?_.fromElement===_.srcElement?_.toElement:_.fromElement:_.relatedTarget},movementX:function(_){return"movementX"in _?_.movementX:(_!==dn&&(dn&&"mousemove"===_.type?(cn=_.screenX-dn.screenX,un=_.screenY-dn.screenY):un=cn=0,dn=_),cn)},movementY:function(_){return"movementY"in _?_.movementY:un}}),_n=Fd(gn),yn=Fd(et({},gn,{dataTransfer:0})),vn=Fd(et({},pn,{relatedTarget:0})),bn=Fd(et({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=et({},hn,{clipboardData:function(_){return"clipboardData"in _?_.clipboardData:window.clipboardData}}),xn=Fd(wn),En=Fd(et({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(_){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_):!!(_=kn[_])&&!!$[_]}function Nd(){return ce}var Pn=et({},pn,{key:function(_){if(_.key){var $=Tn[_.key]||_.key;if("Unidentified"!==$)return $}return"keypress"===_.type?13===(_=Cd(_))?"Enter":String.fromCharCode(_):"keydown"===_.type||"keyup"===_.type?An[_.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(_){return"keypress"===_.type?Cd(_):0},keyCode:function(_){return"keydown"===_.type||"keyup"===_.type?_.keyCode:0},which:function(_){return"keypress"===_.type?Cd(_):"keydown"===_.type||"keyup"===_.type?_.keyCode:0}}),In=Fd(Pn),Sn=Fd(et({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=Fd(et({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd})),Cn=Fd(et({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=et({},gn,{deltaX:function(_){return"deltaX"in _?_.deltaX:"wheelDeltaX"in _?-_.wheelDeltaX:0},deltaY:function(_){return"deltaY"in _?_.deltaY:"wheelDeltaY"in _?-_.wheelDeltaY:"wheelDelta"in _?-_.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=Fd(Vn),Nn=[9,13,27,32],On=ae&&"CompositionEvent"in window,Mn=null;ae&&"documentMode"in document&&(Mn=document.documentMode);var Fn=ae&&"TextEvent"in window&&!Mn,jn=ae&&(!On||Mn&&8<Mn&&11>=Mn),Ln=String.fromCharCode(32),Un=!1;function ue(_,$){switch(_){case"keyup":return-1!==Nn.indexOf($.keyCode);case"keydown":return 229!==$.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(_){return"object"===typeof(_=_.detail)&&"data"in _?_.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(_){var $=_&&_.nodeName&&_.nodeName.toLowerCase();return"input"===$?!!zn[_.type]:"textarea"===$}function Be(_,$,ee,te){Eb(te),0<($=Ce($,"onChange")).length&&(ee=new fn("onChange","change",null,ee,te),_.push({event:ee,listeners:$}))}var qn=null,Wn=null;function Fe(_){Ge(_,0)}function He(_){if(Wa(Ie(_)))return _}function Je(_,$){if("change"===_)return $}var Hn=!1;if(ae){var $n;if(ae){var Kn="oninput"in document;if(!Kn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Kn="function"===typeof Gn.oninput}$n=Kn}else $n=!1;Hn=$n&&(!document.documentMode||9<document.documentMode)}function Oe(){qn&&(qn.detachEvent("onpropertychange",Pe),Wn=qn=null)}function Pe(_){if("value"===_.propertyName&&He(Wn)){var $=[];Be($,Wn,_,xb(_)),Jb(Fe,$)}}function Qe(_,$,ee){"focusin"===_?(Oe(),Wn=ee,(qn=$).attachEvent("onpropertychange",Pe)):"focusout"===_&&Oe()}function Re(_){if("selectionchange"===_||"keyup"===_||"keydown"===_)return He(Wn)}function Se(_,$){if("click"===_)return He($)}function Te(_,$){if("input"===_||"change"===_)return He($)}var Yn="function"===typeof Object.is?Object.is:function Ue(_,$){return _===$&&(0!==_||1/_===1/$)||_!==_&&$!==$};function We(_,$){if(Yn(_,$))return!0;if("object"!==typeof _||null===_||"object"!==typeof $||null===$)return!1;var ee=Object.keys(_),te=Object.keys($);if(ee.length!==te.length)return!1;for(te=0;te<ee.length;te++){var ne=ee[te];if(!oe.call($,ne)||!Yn(_[ne],$[ne]))return!1}return!0}function Xe(_){for(;_&&_.firstChild;)_=_.firstChild;return _}function Ye(_,$){var ee,te=Xe(_);for(_=0;te;){if(3===te.nodeType){if(ee=_+te.textContent.length,_<=$&&ee>=$)return{node:te,offset:$-_};_=ee}e:{for(;te;){if(te.nextSibling){te=te.nextSibling;break e}te=te.parentNode}te=void 0}te=Xe(te)}}function Ze(_,$){return!(!_||!$)&&(_===$||(!_||3!==_.nodeType)&&($&&3===$.nodeType?Ze(_,$.parentNode):"contains"in _?_.contains($):!!_.compareDocumentPosition&&!!(16&_.compareDocumentPosition($))))}function $e(){for(var _=window,$=Xa();$ instanceof _.HTMLIFrameElement;){try{var ee="string"===typeof $.contentWindow.location.href}catch(te){ee=!1}if(!ee)break;$=Xa((_=$.contentWindow).document)}return $}function af(_){var $=_&&_.nodeName&&_.nodeName.toLowerCase();return $&&("input"===$&&("text"===_.type||"search"===_.type||"tel"===_.type||"url"===_.type||"password"===_.type)||"textarea"===$||"true"===_.contentEditable)}function bf(_){var $=$e(),ee=_.focusedElem,te=_.selectionRange;if($!==ee&&ee&&ee.ownerDocument&&Ze(ee.ownerDocument.documentElement,ee)){if(null!==te&&af(ee))if($=te.start,void 0===(_=te.end)&&(_=$),"selectionStart"in ee)ee.selectionStart=$,ee.selectionEnd=Math.min(_,ee.value.length);else if((_=($=ee.ownerDocument||document)&&$.defaultView||window).getSelection){_=_.getSelection();var ne=ee.textContent.length,re=Math.min(te.start,ne);te=void 0===te.end?re:Math.min(te.end,ne),!_.extend&&re>te&&(ne=te,te=re,re=ne),ne=Ye(ee,re);var ie=Ye(ee,te);ne&&ie&&(1!==_.rangeCount||_.anchorNode!==ne.node||_.anchorOffset!==ne.offset||_.focusNode!==ie.node||_.focusOffset!==ie.offset)&&(($=$.createRange()).setStart(ne.node,ne.offset),_.removeAllRanges(),re>te?(_.addRange($),_.extend(ie.node,ie.offset)):($.setEnd(ie.node,ie.offset),_.addRange($)))}for($=[],_=ee;_=_.parentNode;)1===_.nodeType&&$.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof ee.focus&&ee.focus(),ee=0;ee<$.length;ee++)(_=$[ee]).element.scrollLeft=_.left,_.element.scrollTop=_.top}}var Qn=ae&&"documentMode"in document&&11>=document.documentMode,Xn=null,Jn=null,Zn=null,er=!1;function hf(_,$,ee){var te=ee.window===ee?ee.document:9===ee.nodeType?ee:ee.ownerDocument;er||null==Xn||Xn!==Xa(te)||("selectionStart"in(te=Xn)&&af(te)?te={start:te.selectionStart,end:te.selectionEnd}:te={anchorNode:(te=(te.ownerDocument&&te.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:te.anchorOffset,focusNode:te.focusNode,focusOffset:te.focusOffset},Zn&&We(Zn,te)||(Zn=te,0<(te=Ce(Jn,"onSelect")).length&&($=new fn("onSelect","select",null,$,ee),_.push({event:$,listeners:te}),$.target=Xn)))}function jf(_,$){var ee={};return ee[_.toLowerCase()]=$.toLowerCase(),ee["Webkit"+_]="webkit"+$,ee["Moz"+_]="moz"+$,ee}var tr={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},nr={},rr={};function nf(_){if(nr[_])return nr[_];if(!tr[_])return _;var $,ee=tr[_];for($ in ee)if(ee.hasOwnProperty($)&&$ in rr)return nr[_]=ee[$];return _}ae&&(rr=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);var ir=nf("animationend"),ar=nf("animationiteration"),or=nf("animationstart"),sr=nf("transitionend"),lr=new Map,cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uf(_,$){lr.set(_,$),fa($,[_])}for(var ur=0;ur<cr.length;ur++){var dr=cr[ur];uf(dr.toLowerCase(),"on"+(dr[0].toUpperCase()+dr.slice(1)))}uf(ir,"onAnimationEnd"),uf(ar,"onAnimationIteration"),uf(or,"onAnimationStart"),uf("dblclick","onDoubleClick"),uf("focusin","onFocus"),uf("focusout","onBlur"),uf(sr,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(hr));function Bf(_,$,ee){var te=_.type||"unknown-event";_.currentTarget=ee,function Ub(_,$,ee,te,ne,re,ie,ae,oe){if(Tb.apply(this,arguments),gt){if(!gt)throw Error(p(198));var se=_t;gt=!1,_t=null,yt||(yt=!0,vt=se)}}(te,$,void 0,_),_.currentTarget=null}function Ge(_,$){$=0!==(4&$);for(var ee=0;ee<_.length;ee++){var te=_[ee],ne=te.event;te=te.listeners;e:{var re=void 0;if($)for(var ie=te.length-1;0<=ie;ie--){var ae=te[ie],oe=ae.instance,se=ae.currentTarget;if(ae=ae.listener,oe!==re&&ne.isPropagationStopped())break e;Bf(ne,ae,se),re=oe}else for(ie=0;ie<te.length;ie++){if(oe=(ae=te[ie]).instance,se=ae.currentTarget,ae=ae.listener,oe!==re&&ne.isPropagationStopped())break e;Bf(ne,ae,se),re=oe}}}if(yt)throw _=vt,yt=!1,vt=null,_}function F(_,$){var ee=$[Pr];void 0===ee&&(ee=$[Pr]=new Set);var te=_+"__bubble";ee.has(te)||(Df($,_,2,!1),ee.add(te))}function Ef(_,$,ee){var te=0;$&&(te|=4),Df(ee,_,te,$)}var pr="_reactListening"+Math.random().toString(36).slice(2);function Gf(_){if(!_[pr]){_[pr]=!0,re.forEach((function($){"selectionchange"!==$&&(fr.has($)||Ef($,!1,_),Ef($,!0,_))}));var $=9===_.nodeType?_:_.ownerDocument;null===$||$[pr]||($[pr]=!0,Ef("selectionchange",!1,$))}}function Df(_,$,ee,te){switch(xd($)){case 1:var ne=sd;break;case 4:ne=ud;break;default:ne=td}ee=ne.bind(null,$,ee,_),ne=void 0,!pt||"touchstart"!==$&&"touchmove"!==$&&"wheel"!==$||(ne=!0),te?void 0!==ne?_.addEventListener($,ee,{capture:!0,passive:ne}):_.addEventListener($,ee,!0):void 0!==ne?_.addEventListener($,ee,{passive:ne}):_.addEventListener($,ee,!1)}function vd(_,$,ee,te,ne){var re=te;if(0===(1&$)&&0===(2&$)&&null!==te)e:for(;;){if(null===te)return;var ie=te.tag;if(3===ie||4===ie){var ae=te.stateNode.containerInfo;if(ae===ne||8===ae.nodeType&&ae.parentNode===ne)break;if(4===ie)for(ie=te.return;null!==ie;){var oe=ie.tag;if((3===oe||4===oe)&&((oe=ie.stateNode.containerInfo)===ne||8===oe.nodeType&&oe.parentNode===ne))return;ie=ie.return}for(;null!==ae;){if(null===(ie=jd(ae)))return;if(5===(oe=ie.tag)||6===oe){te=re=ie;continue e}ae=ae.parentNode}}te=te.return}Jb((function(){var te=re,ne=xb(ee),ie=[];e:{var ae=lr.get(_);if(void 0!==ae){var oe=fn,se=_;switch(_){case"keypress":if(0===Cd(ee))break e;case"keydown":case"keyup":oe=In;break;case"focusin":se="focus",oe=vn;break;case"focusout":se="blur",oe=vn;break;case"beforeblur":case"afterblur":oe=vn;break;case"click":if(2===ee.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Rn;break;case ir:case ar:case or:oe=bn;break;case sr:oe=Cn;break;case"scroll":oe=mn;break;case"wheel":oe=Dn;break;case"copy":case"cut":case"paste":oe=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Sn}var le=0!==(4&$),de=!le&&"scroll"===_,he=le?null!==ae?ae+"Capture":null:ae;le=[];for(var fe,pe=te;null!==pe;){var me=(fe=pe).stateNode;if(5===fe.tag&&null!==me&&(fe=me,null!==he&&(null!=(me=Kb(pe,he))&&le.push(Hf(pe,me,fe)))),de)break;pe=pe.return}0<le.length&&(ae=new oe(ae,se,null,ee,ne),ie.push({event:ae,listeners:le}))}}if(0===(7&$)){if(oe="mouseout"===_||"pointerout"===_,(!(ae="mouseover"===_||"pointerover"===_)||ee===ct||!(se=ee.relatedTarget||ee.fromElement)||!jd(se)&&!se[kr])&&(oe||ae)&&(ae=ne.window===ne?ne:(ae=ne.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(oe=te,null!==(se=(se=ee.relatedTarget||ee.toElement)?jd(se):null)&&(se!==(de=Vb(se))||5!==se.tag&&6!==se.tag)&&(se=null)):(oe=null,se=te),oe!==se)){if(le=_n,me="onMouseLeave",he="onMouseEnter",pe="mouse","pointerout"!==_&&"pointerover"!==_||(le=Sn,me="onPointerLeave",he="onPointerEnter",pe="pointer"),de=null==oe?ae:Ie(oe),fe=null==se?ae:Ie(se),(ae=new le(me,pe+"leave",oe,ee,ne)).target=de,ae.relatedTarget=fe,me=null,jd(ne)===te&&((le=new le(he,pe+"enter",se,ee,ne)).target=fe,le.relatedTarget=de,me=le),de=me,oe&&se)e:{for(he=se,pe=0,fe=le=oe;fe;fe=Jf(fe))pe++;for(fe=0,me=he;me;me=Jf(me))fe++;for(;0<pe-fe;)le=Jf(le),pe--;for(;0<fe-pe;)he=Jf(he),fe--;for(;pe--;){if(le===he||null!==he&&le===he.alternate)break e;le=Jf(le),he=Jf(he)}le=null}else le=null;null!==oe&&Kf(ie,ae,oe,le,!1),null!==se&&null!==de&&Kf(ie,de,se,le,!0)}if("select"===(oe=(ae=te?Ie(te):window).nodeName&&ae.nodeName.toLowerCase())||"input"===oe&&"file"===ae.type)var _e=Je;else if(Ae(ae))if(Hn)_e=Te;else{_e=Re;var be=Qe}else(oe=ae.nodeName)&&"input"===oe.toLowerCase()&&("checkbox"===ae.type||"radio"===ae.type)&&(_e=Se);switch(_e&&(_e=_e(_,te))?Be(ie,_e,ee,ne):(be&&be(_,ae,te),"focusout"===_&&(be=ae._wrapperState)&&be.controlled&&"number"===ae.type&&bb(ae,"number",ae.value)),be=te?Ie(te):window,_){case"focusin":(Ae(be)||"true"===be.contentEditable)&&(Xn=be,Jn=te,Zn=null);break;case"focusout":Zn=Jn=Xn=null;break;case"mousedown":er=!0;break;case"contextmenu":case"mouseup":case"dragend":er=!1,hf(ie,ee,ne);break;case"selectionchange":if(Qn)break;case"keydown":case"keyup":hf(ie,ee,ne)}var we;if(On)e:{switch(_){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Bn?ue(_,ee)&&(Ee="onCompositionEnd"):"keydown"===_&&229===ee.keyCode&&(Ee="onCompositionStart");Ee&&(jn&&"ko"!==ee.locale&&(Bn||"onCompositionStart"!==Ee?"onCompositionEnd"===Ee&&Bn&&(we=Bd()):(sn="value"in(on=ne)?on.value:on.textContent,Bn=!0)),0<(be=Ce(te,Ee)).length&&(Ee=new En(Ee,_,null,ee,ne),ie.push({event:Ee,listeners:be}),we?Ee.data=we:null!==(we=ve(ee))&&(Ee.data=we))),(we=Fn?function xe(_,$){switch(_){case"compositionend":return ve($);case"keypress":return 32!==$.which?null:(Un=!0,Ln);case"textInput":return(_=$.data)===Ln&&Un?null:_;default:return null}}(_,ee):function ye(_,$){if(Bn)return"compositionend"===_||!On&&ue(_,$)?(_=Bd(),ln=sn=on=null,Bn=!1,_):null;switch(_){case"paste":default:return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return jn&&"ko"!==$.locale?null:$.data}}(_,ee))&&(0<(te=Ce(te,"onBeforeInput")).length&&(ne=new En("onBeforeInput","beforeinput",null,ee,ne),ie.push({event:ne,listeners:te}),ne.data=we))}Ge(ie,$)}))}function Hf(_,$,ee){return{instance:_,listener:$,currentTarget:ee}}function Ce(_,$){for(var ee=$+"Capture",te=[];null!==_;){var ne=_,re=ne.stateNode;5===ne.tag&&null!==re&&(ne=re,null!=(re=Kb(_,ee))&&te.unshift(Hf(_,re,ne)),null!=(re=Kb(_,$))&&te.push(Hf(_,re,ne))),_=_.return}return te}function Jf(_){if(null===_)return null;do{_=_.return}while(_&&5!==_.tag);return _||null}function Kf(_,$,ee,te,ne){for(var re=$._reactName,ie=[];null!==ee&&ee!==te;){var ae=ee,oe=ae.alternate,se=ae.stateNode;if(null!==oe&&oe===te)break;5===ae.tag&&null!==se&&(ae=se,ne?null!=(oe=Kb(ee,re))&&ie.unshift(Hf(ee,oe,ae)):ne||null!=(oe=Kb(ee,re))&&ie.push(Hf(ee,oe,ae))),ee=ee.return}0!==ie.length&&_.push({event:$,listeners:ie})}var mr=/\r\n?/g,gr=/\u0000|\uFFFD/g;function Nf(_){return("string"===typeof _?_:""+_).replace(mr,"\n").replace(gr,"")}function Of(_,$,ee){if($=Nf($),Nf(_)!==$&&ee)throw Error(p(425))}function Pf(){}var _r=null,yr=null;function Sf(_,$){return"textarea"===_||"noscript"===_||"string"===typeof $.children||"number"===typeof $.children||"object"===typeof $.dangerouslySetInnerHTML&&null!==$.dangerouslySetInnerHTML&&null!=$.dangerouslySetInnerHTML.__html}var vr="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0,wr="function"===typeof Promise?Promise:void 0,xr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wr?function(_){return wr.resolve(null).then(_).catch(Wf)}:vr;function Wf(_){setTimeout((function(){throw _}))}function Yf(_,$){var ee=$,te=0;do{var ne=ee.nextSibling;if(_.removeChild(ee),ne&&8===ne.nodeType)if("/$"===(ee=ne.data)){if(0===te)return _.removeChild(ne),void pd($);te--}else"$"!==ee&&"$?"!==ee&&"$!"!==ee||te++;ee=ne}while(ee);pd($)}function Zf(_){for(;null!=_;_=_.nextSibling){var $=_.nodeType;if(1===$||3===$)break;if(8===$){if("$"===($=_.data)||"$!"===$||"$?"===$)break;if("/$"===$)return null}}return _}function $f(_){_=_.previousSibling;for(var $=0;_;){if(8===_.nodeType){var ee=_.data;if("$"===ee||"$!"===ee||"$?"===ee){if(0===$)return _;$--}else"/$"===ee&&$++}_=_.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Er,Ar="__reactProps$"+Er,kr="__reactContainer$"+Er,Pr="__reactEvents$"+Er,Ir="__reactListeners$"+Er,Sr="__reactHandles$"+Er;function jd(_){var $=_[Tr];if($)return $;for(var ee=_.parentNode;ee;){if($=ee[kr]||ee[Tr]){if(ee=$.alternate,null!==$.child||null!==ee&&null!==ee.child)for(_=$f(_);null!==_;){if(ee=_[Tr])return ee;_=$f(_)}return $}ee=(_=ee).parentNode}return null}function Cb(_){return!(_=_[Tr]||_[kr])||5!==_.tag&&6!==_.tag&&13!==_.tag&&3!==_.tag?null:_}function Ie(_){if(5===_.tag||6===_.tag)return _.stateNode;throw Error(p(33))}function Db(_){return _[Ar]||null}var Rr=[],Cr=-1;function hg(_){return{current:_}}function G(_){0>Cr||(_.current=Rr[Cr],Rr[Cr]=null,Cr--)}function H(_,$){Cr++,Rr[Cr]=_.current,_.current=$}var Vr={},Dr=hg(Vr),Nr=hg(!1),Or=Vr;function lg(_,$){var ee=_.type.contextTypes;if(!ee)return Vr;var te=_.stateNode;if(te&&te.__reactInternalMemoizedUnmaskedChildContext===$)return te.__reactInternalMemoizedMaskedChildContext;var ne,re={};for(ne in ee)re[ne]=$[ne];return te&&((_=_.stateNode).__reactInternalMemoizedUnmaskedChildContext=$,_.__reactInternalMemoizedMaskedChildContext=re),re}function mg(_){return null!==(_=_.childContextTypes)&&void 0!==_}function ng(){G(Nr),G(Dr)}function og(_,$,ee){if(Dr.current!==Vr)throw Error(p(168));H(Dr,$),H(Nr,ee)}function pg(_,$,ee){var te=_.stateNode;if($=$.childContextTypes,"function"!==typeof te.getChildContext)return ee;for(var ne in te=te.getChildContext())if(!(ne in $))throw Error(p(108,Ra(_)||"Unknown",ne));return et({},ee,te)}function qg(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||Vr,Or=Dr.current,H(Dr,_),H(Nr,Nr.current),!0}function rg(_,$,ee){var te=_.stateNode;if(!te)throw Error(p(169));ee?(_=pg(_,$,Or),te.__reactInternalMemoizedMergedChildContext=_,G(Nr),G(Dr),H(Dr,_)):G(Nr),H(Nr,ee)}var Mr=null,Fr=!1,jr=!1;function vg(_){null===Mr?Mr=[_]:Mr.push(_)}function xg(){if(!jr&&null!==Mr){jr=!0;var _=0,$=Bt;try{var ee=Mr;for(Bt=1;_<ee.length;_++){var te=ee[_];do{te=te(!0)}while(null!==te)}Mr=null,Fr=!1}catch(ne){throw null!==Mr&&(Mr=Mr.slice(_+1)),wt(Pt,xg),ne}finally{Bt=$,jr=!1}}return null}var Lr=[],Ur=0,Br=null,zr=0,qr=[],Wr=0,Hr=null,$r=1,Kr="";function Hg(_,$){Lr[Ur++]=zr,Lr[Ur++]=Br,Br=_,zr=$}function Ig(_,$,ee){qr[Wr++]=$r,qr[Wr++]=Kr,qr[Wr++]=Hr,Hr=_;var te=$r;_=Kr;var ne=32-Mt(te)-1;te&=~(1<<ne),ee+=1;var re=32-Mt($)+ne;if(30<re){var ie=ne-ne%5;re=(te&(1<<ie)-1).toString(32),te>>=ie,ne-=ie,$r=1<<32-Mt($)+ne|ee<<ne|te,Kr=re+_}else $r=1<<re|ee<<ne|te,Kr=_}function Jg(_){null!==_.return&&(Hg(_,1),Ig(_,1,0))}function Kg(_){for(;_===Br;)Br=Lr[--Ur],Lr[Ur]=null,zr=Lr[--Ur],Lr[Ur]=null;for(;_===Hr;)Hr=qr[--Wr],qr[Wr]=null,Kr=qr[--Wr],qr[Wr]=null,$r=qr[--Wr],qr[Wr]=null}var Gr=null,Yr=null,Qr=!1,Xr=null;function Og(_,$){var ee=Pg(5,null,null,0);ee.elementType="DELETED",ee.stateNode=$,ee.return=_,null===($=_.deletions)?(_.deletions=[ee],_.flags|=16):$.push(ee)}function Qg(_,$){switch(_.tag){case 5:var ee=_.type;return null!==($=1!==$.nodeType||ee.toLowerCase()!==$.nodeName.toLowerCase()?null:$)&&(_.stateNode=$,Gr=_,Yr=Zf($.firstChild),!0);case 6:return null!==($=""===_.pendingProps||3!==$.nodeType?null:$)&&(_.stateNode=$,Gr=_,Yr=null,!0);case 13:return null!==($=8!==$.nodeType?null:$)&&(ee=null!==Hr?{id:$r,overflow:Kr}:null,_.memoizedState={dehydrated:$,treeContext:ee,retryLane:1073741824},(ee=Pg(18,null,null,0)).stateNode=$,ee.return=_,_.child=ee,Gr=_,Yr=null,!0);default:return!1}}function Rg(_){return 0!==(1&_.mode)&&0===(128&_.flags)}function Sg(_){if(Qr){var $=Yr;if($){var ee=$;if(!Qg(_,$)){if(Rg(_))throw Error(p(418));$=Zf(ee.nextSibling);var te=Gr;$&&Qg(_,$)?Og(te,ee):(_.flags=-4097&_.flags|2,Qr=!1,Gr=_)}}else{if(Rg(_))throw Error(p(418));_.flags=-4097&_.flags|2,Qr=!1,Gr=_}}}function Tg(_){for(_=_.return;null!==_&&5!==_.tag&&3!==_.tag&&13!==_.tag;)_=_.return;Gr=_}function Ug(_){if(_!==Gr)return!1;if(!Qr)return Tg(_),Qr=!0,!1;var $;if(($=3!==_.tag)&&!($=5!==_.tag)&&($="head"!==($=_.type)&&"body"!==$&&!Sf(_.type,_.memoizedProps)),$&&($=Yr)){if(Rg(_))throw Vg(),Error(p(418));for(;$;)Og(_,$),$=Zf($.nextSibling)}if(Tg(_),13===_.tag){if(!(_=null!==(_=_.memoizedState)?_.dehydrated:null))throw Error(p(317));e:{for(_=_.nextSibling,$=0;_;){if(8===_.nodeType){var ee=_.data;if("/$"===ee){if(0===$){Yr=Zf(_.nextSibling);break e}$--}else"$"!==ee&&"$!"!==ee&&"$?"!==ee||$++}_=_.nextSibling}Yr=null}}else Yr=Gr?Zf(_.stateNode.nextSibling):null;return!0}function Vg(){for(var _=Yr;_;)_=Zf(_.nextSibling)}function Wg(){Yr=Gr=null,Qr=!1}function Xg(_){null===Xr?Xr=[_]:Xr.push(_)}var Jr=pe.ReactCurrentBatchConfig;function Zg(_,$,ee){if(null!==(_=ee.ref)&&"function"!==typeof _&&"object"!==typeof _){if(ee._owner){if(ee=ee._owner){if(1!==ee.tag)throw Error(p(309));var te=ee.stateNode}if(!te)throw Error(p(147,_));var ne=te,re=""+_;return null!==$&&null!==$.ref&&"function"===typeof $.ref&&$.ref._stringRef===re?$.ref:($=function(_){var $=ne.refs;null===_?delete $[re]:$[re]=_},$._stringRef=re,$)}if("string"!==typeof _)throw Error(p(284));if(!ee._owner)throw Error(p(290,_))}return _}function $g(_,$){throw _=Object.prototype.toString.call($),Error(p(31,"[object Object]"===_?"object with keys {"+Object.keys($).join(", ")+"}":_))}function ah(_){return(0,_._init)(_._payload)}function bh(_){function b($,ee){if(_){var te=$.deletions;null===te?($.deletions=[ee],$.flags|=16):te.push(ee)}}function c($,ee){if(!_)return null;for(;null!==ee;)b($,ee),ee=ee.sibling;return null}function d(_,$){for(_=new Map;null!==$;)null!==$.key?_.set($.key,$):_.set($.index,$),$=$.sibling;return _}function e(_,$){return(_=ch(_,$)).index=0,_.sibling=null,_}function f($,ee,te){return $.index=te,_?null!==(te=$.alternate)?(te=te.index)<ee?($.flags|=2,ee):te:($.flags|=2,ee):($.flags|=1048576,ee)}function g($){return _&&null===$.alternate&&($.flags|=2),$}function h(_,$,ee,te){return null===$||6!==$.tag?(($=dh(ee,_.mode,te)).return=_,$):(($=e($,ee)).return=_,$)}function k(_,$,ee,te){var ne=ee.type;return ne===be?n(_,$,ee.props.children,te,ee.key):null!==$&&($.elementType===ne||"object"===typeof ne&&null!==ne&&ne.$$typeof===Le&&ah(ne)===$.type)?((te=e($,ee.props)).ref=Zg(_,$,ee),te.return=_,te):((te=eh(ee.type,ee.key,ee.props,null,_.mode,te)).ref=Zg(_,$,ee),te.return=_,te)}function l(_,$,ee,te){return null===$||4!==$.tag||$.stateNode.containerInfo!==ee.containerInfo||$.stateNode.implementation!==ee.implementation?(($=fh(ee,_.mode,te)).return=_,$):(($=e($,ee.children||[])).return=_,$)}function n(_,$,ee,te,ne){return null===$||7!==$.tag?(($=gh(ee,_.mode,te,ne)).return=_,$):(($=e($,ee)).return=_,$)}function q(_,$,ee){if("string"===typeof $&&""!==$||"number"===typeof $)return($=dh(""+$,_.mode,ee)).return=_,$;if("object"===typeof $&&null!==$){switch($.$$typeof){case me:return(ee=eh($.type,$.key,$.props,null,_.mode,ee)).ref=Zg(_,null,$),ee.return=_,ee;case _e:return($=fh($,_.mode,ee)).return=_,$;case Le:return q(_,(0,$._init)($._payload),ee)}if(nt($)||Ka($))return($=gh($,_.mode,ee,null)).return=_,$;$g(_,$)}return null}function r(_,$,ee,te){var ne=null!==$?$.key:null;if("string"===typeof ee&&""!==ee||"number"===typeof ee)return null!==ne?null:h(_,$,""+ee,te);if("object"===typeof ee&&null!==ee){switch(ee.$$typeof){case me:return ee.key===ne?k(_,$,ee,te):null;case _e:return ee.key===ne?l(_,$,ee,te):null;case Le:return r(_,$,(ne=ee._init)(ee._payload),te)}if(nt(ee)||Ka(ee))return null!==ne?null:n(_,$,ee,te,null);$g(_,ee)}return null}function z(_,$,ee,te,ne){if("string"===typeof te&&""!==te||"number"===typeof te)return h($,_=_.get(ee)||null,""+te,ne);if("object"===typeof te&&null!==te){switch(te.$$typeof){case me:return k($,_=_.get(null===te.key?ee:te.key)||null,te,ne);case _e:return l($,_=_.get(null===te.key?ee:te.key)||null,te,ne);case Le:return z(_,$,ee,(0,te._init)(te._payload),ne)}if(nt(te)||Ka(te))return n($,_=_.get(ee)||null,te,ne,null);$g($,te)}return null}function m($,ee,te,ne){for(var re=null,ie=null,ae=ee,oe=ee=0,se=null;null!==ae&&oe<te.length;oe++){ae.index>oe?(se=ae,ae=null):se=ae.sibling;var le=r($,ae,te[oe],ne);if(null===le){null===ae&&(ae=se);break}_&&ae&&null===le.alternate&&b($,ae),ee=f(le,ee,oe),null===ie?re=le:ie.sibling=le,ie=le,ae=se}if(oe===te.length)return c($,ae),Qr&&Hg($,oe),re;if(null===ae){for(;oe<te.length;oe++)null!==(ae=q($,te[oe],ne))&&(ee=f(ae,ee,oe),null===ie?re=ae:ie.sibling=ae,ie=ae);return Qr&&Hg($,oe),re}for(ae=d($,ae);oe<te.length;oe++)null!==(se=z(ae,$,oe,te[oe],ne))&&(_&&null!==se.alternate&&ae.delete(null===se.key?oe:se.key),ee=f(se,ee,oe),null===ie?re=se:ie.sibling=se,ie=se);return _&&ae.forEach((function(_){return b($,_)})),Qr&&Hg($,oe),re}function w($,ee,te,ne){var re=Ka(te);if("function"!==typeof re)throw Error(p(150));if(null==(te=re.call(te)))throw Error(p(151));for(var ie=re=null,ae=ee,oe=ee=0,se=null,le=te.next();null!==ae&&!le.done;oe++,le=te.next()){ae.index>oe?(se=ae,ae=null):se=ae.sibling;var de=r($,ae,le.value,ne);if(null===de){null===ae&&(ae=se);break}_&&ae&&null===de.alternate&&b($,ae),ee=f(de,ee,oe),null===ie?re=de:ie.sibling=de,ie=de,ae=se}if(le.done)return c($,ae),Qr&&Hg($,oe),re;if(null===ae){for(;!le.done;oe++,le=te.next())null!==(le=q($,le.value,ne))&&(ee=f(le,ee,oe),null===ie?re=le:ie.sibling=le,ie=le);return Qr&&Hg($,oe),re}for(ae=d($,ae);!le.done;oe++,le=te.next())null!==(le=z(ae,$,oe,le.value,ne))&&(_&&null!==le.alternate&&ae.delete(null===le.key?oe:le.key),ee=f(le,ee,oe),null===ie?re=le:ie.sibling=le,ie=le);return _&&ae.forEach((function(_){return b($,_)})),Qr&&Hg($,oe),re}return function C(_,$,ee,te){if("object"===typeof ee&&null!==ee&&ee.type===be&&null===ee.key&&(ee=ee.props.children),"object"===typeof ee&&null!==ee){switch(ee.$$typeof){case me:e:{for(var ne=ee.key,re=$;null!==re;){if(re.key===ne){if((ne=ee.type)===be){if(7===re.tag){c(_,re.sibling),($=e(re,ee.props.children)).return=_,_=$;break e}}else if(re.elementType===ne||"object"===typeof ne&&null!==ne&&ne.$$typeof===Le&&ah(ne)===re.type){c(_,re.sibling),($=e(re,ee.props)).ref=Zg(_,re,ee),$.return=_,_=$;break e}c(_,re);break}b(_,re),re=re.sibling}ee.type===be?(($=gh(ee.props.children,_.mode,te,ee.key)).return=_,_=$):((te=eh(ee.type,ee.key,ee.props,null,_.mode,te)).ref=Zg(_,$,ee),te.return=_,_=te)}return g(_);case _e:e:{for(re=ee.key;null!==$;){if($.key===re){if(4===$.tag&&$.stateNode.containerInfo===ee.containerInfo&&$.stateNode.implementation===ee.implementation){c(_,$.sibling),($=e($,ee.children||[])).return=_,_=$;break e}c(_,$);break}b(_,$),$=$.sibling}($=fh(ee,_.mode,te)).return=_,_=$}return g(_);case Le:return C(_,$,(re=ee._init)(ee._payload),te)}if(nt(ee))return m(_,$,ee,te);if(Ka(ee))return w(_,$,ee,te);$g(_,ee)}return"string"===typeof ee&&""!==ee||"number"===typeof ee?(ee=""+ee,null!==$&&6===$.tag?(c(_,$.sibling),($=e($,ee)).return=_,_=$):(c(_,$),($=dh(ee,_.mode,te)).return=_,_=$),g(_)):c(_,$)}}var Zr=bh(!0),ei=bh(!1),ci=hg(null),di=null,_i=null,yi=null;function nh(){yi=_i=di=null}function oh(_){var $=ci.current;G(ci),_._currentValue=$}function ph(_,$,ee){for(;null!==_;){var te=_.alternate;if((_.childLanes&$)!==$?(_.childLanes|=$,null!==te&&(te.childLanes|=$)):null!==te&&(te.childLanes&$)!==$&&(te.childLanes|=$),_===ee)break;_=_.return}}function qh(_,$){di=_,yi=_i=null,null!==(_=_.dependencies)&&null!==_.firstContext&&(0!==(_.lanes&$)&&(po=!0),_.firstContext=null)}function sh(_){var $=_._currentValue;if(yi!==_)if(_={context:_,memoizedValue:$,next:null},null===_i){if(null===di)throw Error(p(308));_i=_,di.dependencies={lanes:0,firstContext:_}}else _i=_i.next=_;return $}var bi=null;function uh(_){null===bi?bi=[_]:bi.push(_)}function vh(_,$,ee,te){var ne=$.interleaved;return null===ne?(ee.next=ee,uh($)):(ee.next=ne.next,ne.next=ee),$.interleaved=ee,wh(_,te)}function wh(_,$){_.lanes|=$;var ee=_.alternate;for(null!==ee&&(ee.lanes|=$),ee=_,_=_.return;null!==_;)_.childLanes|=$,null!==(ee=_.alternate)&&(ee.childLanes|=$),ee=_,_=_.return;return 3===ee.tag?ee.stateNode:null}var Ti=!1;function yh(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zh(_,$){_=_.updateQueue,$.updateQueue===_&&($.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function Ah(_,$){return{eventTime:_,lane:$,tag:0,payload:null,callback:null,next:null}}function Bh(_,$,ee){var te=_.updateQueue;if(null===te)return null;if(te=te.shared,0!==(2&Oo)){var ne=te.pending;return null===ne?$.next=$:($.next=ne.next,ne.next=$),te.pending=$,wh(_,ee)}return null===(ne=te.interleaved)?($.next=$,uh(te)):($.next=ne.next,ne.next=$),te.interleaved=$,wh(_,ee)}function Ch(_,$,ee){if(null!==($=$.updateQueue)&&($=$.shared,0!==(4194240&ee))){var te=$.lanes;ee|=te&=_.pendingLanes,$.lanes=ee,Oc(_,ee)}}function Dh(_,$){var ee=_.updateQueue,te=_.alternate;if(null!==te&&ee===(te=te.updateQueue)){var ne=null,re=null;if(null!==(ee=ee.firstBaseUpdate)){do{var ie={eventTime:ee.eventTime,lane:ee.lane,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null};null===re?ne=re=ie:re=re.next=ie,ee=ee.next}while(null!==ee);null===re?ne=re=$:re=re.next=$}else ne=re=$;return ee={baseState:te.baseState,firstBaseUpdate:ne,lastBaseUpdate:re,shared:te.shared,effects:te.effects},void(_.updateQueue=ee)}null===(_=ee.lastBaseUpdate)?ee.firstBaseUpdate=$:_.next=$,ee.lastBaseUpdate=$}function Eh(_,$,ee,te){var ne=_.updateQueue;Ti=!1;var re=ne.firstBaseUpdate,ie=ne.lastBaseUpdate,ae=ne.shared.pending;if(null!==ae){ne.shared.pending=null;var oe=ae,se=oe.next;oe.next=null,null===ie?re=se:ie.next=se,ie=oe;var le=_.alternate;null!==le&&((ae=(le=le.updateQueue).lastBaseUpdate)!==ie&&(null===ae?le.firstBaseUpdate=se:ae.next=se,le.lastBaseUpdate=oe))}if(null!==re){var de=ne.baseState;for(ie=0,le=se=oe=null,ae=re;;){var he=ae.lane,fe=ae.eventTime;if((te&he)===he){null!==le&&(le=le.next={eventTime:fe,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var pe=_,me=ae;switch(he=$,fe=ee,me.tag){case 1:if("function"===typeof(pe=me.payload)){de=pe.call(fe,de,he);break e}de=pe;break e;case 3:pe.flags=-65537&pe.flags|128;case 0:if(null===(he="function"===typeof(pe=me.payload)?pe.call(fe,de,he):pe)||void 0===he)break e;de=et({},de,he);break e;case 2:Ti=!0}}null!==ae.callback&&0!==ae.lane&&(_.flags|=64,null===(he=ne.effects)?ne.effects=[ae]:he.push(ae))}else fe={eventTime:fe,lane:he,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},null===le?(se=le=fe,oe=de):le=le.next=fe,ie|=he;if(null===(ae=ae.next)){if(null===(ae=ne.shared.pending))break;ae=(he=ae).next,he.next=null,ne.lastBaseUpdate=he,ne.shared.pending=null}}if(null===le&&(oe=de),ne.baseState=oe,ne.firstBaseUpdate=se,ne.lastBaseUpdate=le,null!==($=ne.shared.interleaved)){ne=$;do{ie|=ne.lane,ne=ne.next}while(ne!==$)}else null===re&&(ne.shared.lanes=0);qo|=ie,_.lanes=ie,_.memoizedState=de}}function Gh(_,$,ee){if(_=$.effects,$.effects=null,null!==_)for($=0;$<_.length;$++){var te=_[$],ne=te.callback;if(null!==ne){if(te.callback=null,te=ee,"function"!==typeof ne)throw Error(p(191,ne));ne.call(te)}}}var Vi={},Ui=hg(Vi),zi=hg(Vi),Wi=hg(Vi);function Lh(_){if(_===Vi)throw Error(p(174));return _}function Mh(_,$){switch(H(Wi,$),H(zi,_),H(Ui,Vi),_=$.nodeType){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:kb(null,"");break;default:$=kb($=(_=8===_?$.parentNode:$).namespaceURI||null,_=_.tagName)}G(Ui),H(Ui,$)}function Nh(){G(Ui),G(zi),G(Wi)}function Oh(_){Lh(Wi.current);var $=Lh(Ui.current),ee=kb($,_.type);$!==ee&&(H(zi,_),H(Ui,ee))}function Ph(_){zi.current===_&&(G(Ui),G(zi))}var Yi=hg(0);function Qh(_){for(var $=_;null!==$;){if(13===$.tag){var ee=$.memoizedState;if(null!==ee&&(null===(ee=ee.dehydrated)||"$?"===ee.data||"$!"===ee.data))return $}else if(19===$.tag&&void 0!==$.memoizedProps.revealOrder){if(0!==(128&$.flags))return $}else if(null!==$.child){$.child.return=$,$=$.child;continue}if($===_)break;for(;null===$.sibling;){if(null===$.return||$.return===_)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Xi=[];function Sh(){for(var _=0;_<Xi.length;_++)Xi[_]._workInProgressVersionPrimary=null;Xi.length=0}var Zi=pe.ReactCurrentDispatcher,aa=pe.ReactCurrentBatchConfig,ca=0,ga=null,_a=null,ya=null,Na=!1,Fa=!1,Ba=0,za=0;function P(){throw Error(p(321))}function $h(_,$){if(null===$)return!1;for(var ee=0;ee<$.length&&ee<_.length;ee++)if(!Yn(_[ee],$[ee]))return!1;return!0}function ai(_,$,ee,te,ne,re){if(ca=re,ga=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Zi.current=null===_||null===_.memoizedState?Ga:eo,_=ee(te,ne),Fa){re=0;do{if(Fa=!1,Ba=0,25<=re)throw Error(p(301));re+=1,ya=_a=null,$.updateQueue=null,Zi.current=no,_=ee(te,ne)}while(Fa)}if(Zi.current=Ha,$=null!==_a&&null!==_a.next,ca=0,ya=_a=ga=null,Na=!1,$)throw Error(p(300));return _}function fi(){var _=0!==Ba;return Ba=0,_}function gi(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ga.memoizedState=ya=_:ya=ya.next=_,ya}function hi(){if(null===_a){var _=ga.alternate;_=null!==_?_.memoizedState:null}else _=_a.next;var $=null===ya?ga.memoizedState:ya.next;if(null!==$)ya=$,_a=_;else{if(null===_)throw Error(p(310));_={memoizedState:(_a=_).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===ya?ga.memoizedState=ya=_:ya=ya.next=_}return ya}function ii(_,$){return"function"===typeof $?$(_):$}function ji(_){var $=hi(),ee=$.queue;if(null===ee)throw Error(p(311));ee.lastRenderedReducer=_;var te=_a,ne=te.baseQueue,re=ee.pending;if(null!==re){if(null!==ne){var ie=ne.next;ne.next=re.next,re.next=ie}te.baseQueue=ne=re,ee.pending=null}if(null!==ne){re=ne.next,te=te.baseState;var ae=ie=null,oe=null,se=re;do{var le=se.lane;if((ca&le)===le)null!==oe&&(oe=oe.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),te=se.hasEagerState?se.eagerState:_(te,se.action);else{var de={lane:le,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};null===oe?(ae=oe=de,ie=te):oe=oe.next=de,ga.lanes|=le,qo|=le}se=se.next}while(null!==se&&se!==re);null===oe?ie=te:oe.next=ae,Yn(te,$.memoizedState)||(po=!0),$.memoizedState=te,$.baseState=ie,$.baseQueue=oe,ee.lastRenderedState=te}if(null!==(_=ee.interleaved)){ne=_;do{re=ne.lane,ga.lanes|=re,qo|=re,ne=ne.next}while(ne!==_)}else null===ne&&(ee.lanes=0);return[$.memoizedState,ee.dispatch]}function ki(_){var $=hi(),ee=$.queue;if(null===ee)throw Error(p(311));ee.lastRenderedReducer=_;var te=ee.dispatch,ne=ee.pending,re=$.memoizedState;if(null!==ne){ee.pending=null;var ie=ne=ne.next;do{re=_(re,ie.action),ie=ie.next}while(ie!==ne);Yn(re,$.memoizedState)||(po=!0),$.memoizedState=re,null===$.baseQueue&&($.baseState=re),ee.lastRenderedState=re}return[re,te]}function li(){}function mi(_,$){var ee=ga,te=hi(),ne=$(),re=!Yn(te.memoizedState,ne);if(re&&(te.memoizedState=ne,po=!0),te=te.queue,ni(oi.bind(null,ee,te,_),[_]),te.getSnapshot!==$||re||null!==ya&&1&ya.memoizedState.tag){if(ee.flags|=2048,pi(9,qi.bind(null,ee,te,ne,$),void 0,null),null===Mo)throw Error(p(349));0!==(30&ca)||ri(ee,$,ne)}return ne}function ri(_,$,ee){_.flags|=16384,_={getSnapshot:$,value:ee},null===($=ga.updateQueue)?($={lastEffect:null,stores:null},ga.updateQueue=$,$.stores=[_]):null===(ee=$.stores)?$.stores=[_]:ee.push(_)}function qi(_,$,ee,te){$.value=ee,$.getSnapshot=te,si($)&&ti(_)}function oi(_,$,ee){return ee((function(){si($)&&ti(_)}))}function si(_){var $=_.getSnapshot;_=_.value;try{var ee=$();return!Yn(_,ee)}catch(te){return!0}}function ti(_){var $=wh(_,1);null!==$&&ui($,_,1,-1)}function vi(_){var $=gi();return"function"===typeof _&&(_=_()),$.memoizedState=$.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:_},$.queue=_,_=_.dispatch=wi.bind(null,ga,_),[$.memoizedState,_]}function pi(_,$,ee,te){return _={tag:_,create:$,destroy:ee,deps:te,next:null},null===($=ga.updateQueue)?($={lastEffect:null,stores:null},ga.updateQueue=$,$.lastEffect=_.next=_):null===(ee=$.lastEffect)?$.lastEffect=_.next=_:(te=ee.next,ee.next=_,_.next=te,$.lastEffect=_),_}function xi(){return hi().memoizedState}function Ai(_,$,ee,te){var ne=gi();ga.flags|=_,ne.memoizedState=pi(1|$,ee,void 0,void 0===te?null:te)}function Bi(_,$,ee,te){var ne=hi();te=void 0===te?null:te;var re=void 0;if(null!==_a){var ie=_a.memoizedState;if(re=ie.destroy,null!==te&&$h(te,ie.deps))return void(ne.memoizedState=pi($,ee,re,te))}ga.flags|=_,ne.memoizedState=pi(1|$,ee,re,te)}function Ci(_,$){return Ai(8390656,8,_,$)}function ni(_,$){return Bi(2048,8,_,$)}function Di(_,$){return Bi(4,2,_,$)}function Ei(_,$){return Bi(4,4,_,$)}function Fi(_,$){return"function"===typeof $?(_=_(),$(_),function(){$(null)}):null!==$&&void 0!==$?(_=_(),$.current=_,function(){$.current=null}):void 0}function Gi(_,$,ee){return ee=null!==ee&&void 0!==ee?ee.concat([_]):null,Bi(4,4,Fi.bind(null,$,_),ee)}function Hi(){}function Ii(_,$){var ee=hi();$=void 0===$?null:$;var te=ee.memoizedState;return null!==te&&null!==$&&$h($,te[1])?te[0]:(ee.memoizedState=[_,$],_)}function Ji(_,$){var ee=hi();$=void 0===$?null:$;var te=ee.memoizedState;return null!==te&&null!==$&&$h($,te[1])?te[0]:(_=_(),ee.memoizedState=[_,$],_)}function Ki(_,$,ee){return 0===(21&ca)?(_.baseState&&(_.baseState=!1,po=!0),_.memoizedState=ee):(Yn(ee,$)||(ee=Kc(),ga.lanes|=ee,qo|=ee,_.baseState=!0),$)}function Li(_,$){var ee=Bt;Bt=0!==ee&&4>ee?ee:4,_(!0);var te=aa.transition;aa.transition={};try{_(!1),$()}finally{Bt=ee,aa.transition=te}}function Mi(){return hi().memoizedState}function Ni(_,$,ee){var te=Oi(_);if(ee={lane:te,action:ee,hasEagerState:!1,eagerState:null,next:null},Pi(_))Qi($,ee);else if(null!==(ee=vh(_,$,ee,te))){ui(ee,_,te,Ri()),Si(ee,$,te)}yc(_,te)}function wi(_,$,ee){var te=Oi(_),ne={lane:te,action:ee,hasEagerState:!1,eagerState:null,next:null};if(Pi(_))Qi($,ne);else{var re=_.alternate;if(0===_.lanes&&(null===re||0===re.lanes)&&null!==(re=$.lastRenderedReducer))try{var ie=$.lastRenderedState,ae=re(ie,ee);if(ne.hasEagerState=!0,ne.eagerState=ae,Yn(ae,ie)){var oe=$.interleaved;return null===oe?(ne.next=ne,uh($)):(ne.next=oe.next,oe.next=ne),void($.interleaved=ne)}}catch(se){}null!==(ee=vh(_,$,ne,te))&&(ui(ee,_,te,ne=Ri()),Si(ee,$,te))}yc(_,te)}function Pi(_){var $=_.alternate;return _===ga||null!==$&&$===ga}function Qi(_,$){Fa=Na=!0;var ee=_.pending;null===ee?$.next=$:($.next=ee.next,ee.next=$),_.pending=$}function Si(_,$,ee){if(0!==(4194240&ee)){var te=$.lanes;ee|=te&=_.pendingLanes,$.lanes=ee,Oc(_,ee)}}var Ha={readContext:sh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Ga={readContext:sh,useCallback:function(_,$){return gi().memoizedState=[_,void 0===$?null:$],_},useContext:sh,useEffect:Ci,useImperativeHandle:function(_,$,ee){return ee=null!==ee&&void 0!==ee?ee.concat([_]):null,Ai(4194308,4,Fi.bind(null,$,_),ee)},useLayoutEffect:function(_,$){return Ai(4194308,4,_,$)},useInsertionEffect:function(_,$){return Ai(4,2,_,$)},useMemo:function(_,$){var ee=gi();return $=void 0===$?null:$,_=_(),ee.memoizedState=[_,$],_},useReducer:function(_,$,ee){var te=gi();return $=void 0!==ee?ee($):$,te.memoizedState=te.baseState=$,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:$},te.queue=_,_=_.dispatch=Ni.bind(null,ga,_),[te.memoizedState,_]},useRef:function(_){return _={current:_},gi().memoizedState=_},useState:vi,useDebugValue:Hi,useDeferredValue:function(_){return gi().memoizedState=_},useTransition:function(){var _=vi(!1),$=_[0];return _=Li.bind(null,_[1]),gi().memoizedState=_,[$,_]},useMutableSource:function(){},useSyncExternalStore:function(_,$,ee){var te=ga,ne=gi();if(Qr){if(void 0===ee)throw Error(p(407));ee=ee()}else{if(ee=$(),null===Mo)throw Error(p(349));0!==(30&ca)||ri(te,$,ee)}ne.memoizedState=ee;var re={value:ee,getSnapshot:$};return ne.queue=re,Ci(oi.bind(null,te,re,_),[_]),te.flags|=2048,pi(9,qi.bind(null,te,re,ee,$),void 0,null),ee},useId:function(){var _=gi(),$=Mo.identifierPrefix;if(Qr){var ee=Kr;$=":"+$+"R"+(ee=($r&~(1<<32-Mt($r)-1)).toString(32)+ee),0<(ee=Ba++)&&($+="H"+ee.toString(32)),$+=":"}else $=":"+$+"r"+(ee=za++).toString(32)+":";return _.memoizedState=$},unstable_isNewReconciler:!1},eo={readContext:sh,useCallback:Ii,useContext:sh,useEffect:ni,useImperativeHandle:Gi,useInsertionEffect:Di,useLayoutEffect:Ei,useMemo:Ji,useReducer:ji,useRef:xi,useState:function(){return ji(ii)},useDebugValue:Hi,useDeferredValue:function(_){return Ki(hi(),_a.memoizedState,_)},useTransition:function(){return[ji(ii)[0],hi().memoizedState]},useMutableSource:li,useSyncExternalStore:mi,useId:Mi,unstable_isNewReconciler:!1},no={readContext:sh,useCallback:Ii,useContext:sh,useEffect:ni,useImperativeHandle:Gi,useInsertionEffect:Di,useLayoutEffect:Ei,useMemo:Ji,useReducer:ki,useRef:xi,useState:function(){return ki(ii)},useDebugValue:Hi,useDeferredValue:function(_){var $=hi();return null===_a?$.memoizedState=_:Ki($,_a.memoizedState,_)},useTransition:function(){return[ki(ii)[0],hi().memoizedState]},useMutableSource:li,useSyncExternalStore:mi,useId:Mi,unstable_isNewReconciler:!1},ro=ne.unstable_now,io=0,ao=-1,oo=-1,so=-1,lo=!1,co=!1;function $i(_,$){if(0<=oo){var ee=ro()-oo;_.actualDuration+=ee,$&&(_.selfBaseDuration=ee),oo=-1}}function aj(_){if(0<=ao){var $=ro()-ao;for(ao=-1,_=_.return;null!==_;){switch(_.tag){case 3:case 12:return void(_.stateNode.effectDuration+=$)}_=_.return}}}function bj(_){if(0<=so){var $=ro()-so;for(so=-1,_=_.return;null!==_;){switch(_.tag){case 3:case 12:return void(null!==(_=_.stateNode)&&(_.passiveEffectDuration+=$))}_=_.return}}}function cj(){ao=ro()}function dj(_){for(var $=_.child;$;)_.actualDuration+=$.actualDuration,$=$.sibling}function ej(_,$){if(_&&_.defaultProps){for(var ee in $=et({},$),_=_.defaultProps)void 0===$[ee]&&($[ee]=_[ee]);return $}return $}function fj(_,$,ee,te){ee=null===(ee=ee(te,$=_.memoizedState))||void 0===ee?$:et({},$,ee),_.memoizedState=ee,0===_.lanes&&(_.updateQueue.baseState=ee)}var uo={isMounted:function(_){return!!(_=_._reactInternals)&&Vb(_)===_},enqueueSetState:function(_,$,ee){_=_._reactInternals;var te=Ri(),ne=Oi(_),re=Ah(te,ne);re.payload=$,void 0!==ee&&null!==ee&&(re.callback=ee),null!==($=Bh(_,re,ne))&&(ui($,_,ne,te),Ch($,_,ne)),yc(_,ne)},enqueueReplaceState:function(_,$,ee){_=_._reactInternals;var te=Ri(),ne=Oi(_),re=Ah(te,ne);re.tag=1,re.payload=$,void 0!==ee&&null!==ee&&(re.callback=ee),null!==($=Bh(_,re,ne))&&(ui($,_,ne,te),Ch($,_,ne)),yc(_,ne)},enqueueForceUpdate:function(_,$){_=_._reactInternals;var ee=Ri(),te=Oi(_),ne=Ah(ee,te);ne.tag=2,void 0!==$&&null!==$&&(ne.callback=$),null!==($=Bh(_,ne,te))&&(ui($,_,te,ee),Ch($,_,te)),null!==Nt&&"function"===typeof Nt.markForceUpdateScheduled&&Nt.markForceUpdateScheduled(_,te)}};function hj(_,$,ee,te,ne,re,ie){return"function"===typeof(_=_.stateNode).shouldComponentUpdate?_.shouldComponentUpdate(te,re,ie):!$.prototype||!$.prototype.isPureReactComponent||(!We(ee,te)||!We(ne,re))}function ij(_,$,ee){var te=!1,ne=Vr,re=$.contextType;return"object"===typeof re&&null!==re?re=sh(re):(ne=mg($)?Or:Dr.current,re=(te=null!==(te=$.contextTypes)&&void 0!==te)?lg(_,ne):Vr),$=new $(ee,re),_.memoizedState=null!==$.state&&void 0!==$.state?$.state:null,$.updater=uo,_.stateNode=$,$._reactInternals=_,te&&((_=_.stateNode).__reactInternalMemoizedUnmaskedChildContext=ne,_.__reactInternalMemoizedMaskedChildContext=re),$}function jj(_,$,ee,te){_=$.state,"function"===typeof $.componentWillReceiveProps&&$.componentWillReceiveProps(ee,te),"function"===typeof $.UNSAFE_componentWillReceiveProps&&$.UNSAFE_componentWillReceiveProps(ee,te),$.state!==_&&uo.enqueueReplaceState($,$.state,null)}function kj(_,$,ee,te){var ne=_.stateNode;ne.props=ee,ne.state=_.memoizedState,ne.refs={},yh(_);var re=$.contextType;"object"===typeof re&&null!==re?ne.context=sh(re):(re=mg($)?Or:Dr.current,ne.context=lg(_,re)),ne.state=_.memoizedState,"function"===typeof(re=$.getDerivedStateFromProps)&&(fj(_,$,re,ee),ne.state=_.memoizedState),"function"===typeof $.getDerivedStateFromProps||"function"===typeof ne.getSnapshotBeforeUpdate||"function"!==typeof ne.UNSAFE_componentWillMount&&"function"!==typeof ne.componentWillMount||($=ne.state,"function"===typeof ne.componentWillMount&&ne.componentWillMount(),"function"===typeof ne.UNSAFE_componentWillMount&&ne.UNSAFE_componentWillMount(),$!==ne.state&&uo.enqueueReplaceState(ne,ne.state,null),Eh(_,ee,ne,te),ne.state=_.memoizedState),"function"===typeof ne.componentDidMount&&(_.flags|=4194308)}function lj(_,$){try{var ee="",te=$;do{ee+=Pa(te),te=te.return}while(te);var ne=ee}catch(re){ne="\nError generating stack: "+re.message+"\n"+re.stack}return{value:_,source:$,stack:ne,digest:null}}function mj(_,$,ee){return{value:_,source:null,stack:null!=ee?ee:null,digest:null!=$?$:null}}function nj(_,$){try{console.error($.value)}catch(ee){setTimeout((function(){throw ee}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function pj(_,$,ee){(ee=Ah(-1,ee)).tag=3,ee.payload={element:null};var te=$.value;return ee.callback=function(){Xo||(Xo=!0,Jo=te),nj(0,$)},ee}function sj(_,$,ee){(ee=Ah(-1,ee)).tag=3;var te=_.type.getDerivedStateFromError;if("function"===typeof te){var ne=$.value;ee.payload=function(){return te(ne)},ee.callback=function(){nj(0,$)}}var re=_.stateNode;return null!==re&&"function"===typeof re.componentDidCatch&&(ee.callback=function(){nj(0,$),"function"!==typeof te&&(null===Zo?Zo=new Set([this]):Zo.add(this));var _=$.stack;this.componentDidCatch($.value,{componentStack:null!==_?_:""})}),ee}function uj(_,$,ee){var te=_.pingCache;if(null===te){te=_.pingCache=new ho;var ne=new Set;te.set($,ne)}else void 0===(ne=te.get($))&&(ne=new Set,te.set($,ne));ne.has(ee)||(ne.add(ee),te=vj.bind(null,_,$,ee),Ot&&wj(_,ee),$.then(te,te))}function xj(_){do{var $;if(($=13===_.tag)&&($=null===($=_.memoizedState)||null!==$.dehydrated),$)return _;_=_.return}while(null!==_);return null}function yj(_,$,ee,te,ne){return 0===(1&_.mode)?(_===$?_.flags|=65536:(_.flags|=128,ee.flags|=131072,ee.flags&=-52805,1===ee.tag&&(null===ee.alternate?ee.tag=17:(($=Ah(-1,1)).tag=2,Bh(ee,$,1))),ee.lanes|=1),_):(_.flags|=65536,_.lanes=ne,_)}var fo=pe.ReactCurrentOwner,po=!1;function Aj(_,$,ee,te){$.child=null===_?ei($,null,ee,te):Zr($,_.child,ee,te)}function Bj(_,$,ee,te,ne){ee=ee.render;var re=$.ref;return qh($,ne),sc($),te=ai(_,$,ee,te,re,ne),ee=fi(),tc(),null===_||po?(Qr&&ee&&Jg($),$.flags|=1,Aj(_,$,te,ne),$.child):($.updateQueue=_.updateQueue,$.flags&=-2053,_.lanes&=~ne,Cj(_,$,ne))}function Dj(_,$,ee,te,ne){if(null===_){var re=ee.type;return"function"!==typeof re||Ej(re)||void 0!==re.defaultProps||null!==ee.compare||void 0!==ee.defaultProps?((_=eh(ee.type,null,te,$,$.mode,ne)).ref=$.ref,_.return=$,$.child=_):($.tag=15,$.type=re,Fj(_,$,re,te,ne))}if(re=_.child,0===(_.lanes&ne)){var ie=re.memoizedProps;if((ee=null!==(ee=ee.compare)?ee:We)(ie,te)&&_.ref===$.ref)return Cj(_,$,ne)}return $.flags|=1,(_=ch(re,te)).ref=$.ref,_.return=$,$.child=_}function Fj(_,$,ee,te,ne){if(null!==_){var re=_.memoizedProps;if(We(re,te)&&_.ref===$.ref){if(po=!1,$.pendingProps=te=re,0===(_.lanes&ne))return $.lanes=_.lanes,Cj(_,$,ne);0!==(131072&_.flags)&&(po=!0)}}return Gj(_,$,ee,te,ne)}function Hj(_,$,ee){var te=$.pendingProps,ne=te.children,re=null!==_?_.memoizedState:null;if("hidden"===te.mode)if(0===(1&$.mode))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Uo,Lo),Lo|=ee;else{if(0===(1073741824&ee))return _=null!==re?re.baseLanes|ee:ee,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_,cachePool:null,transitions:null},$.updateQueue=null,H(Uo,Lo),Lo|=_,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},te=null!==re?re.baseLanes:ee,H(Uo,Lo),Lo|=te}else null!==re?(te=re.baseLanes|ee,$.memoizedState=null):te=ee,H(Uo,Lo),Lo|=te;return Aj(_,$,ne,ee),$.child}function Kj(_,$){var ee=$.ref;(null===_&&null!==ee||null!==_&&_.ref!==ee)&&($.flags|=512,$.flags|=2097152)}function Gj(_,$,ee,te,ne){var re=mg(ee)?Or:Dr.current;return re=lg($,re),qh($,ne),sc($),ee=ai(_,$,ee,te,re,ne),te=fi(),tc(),null===_||po?(Qr&&te&&Jg($),$.flags|=1,Aj(_,$,ee,ne),$.child):($.updateQueue=_.updateQueue,$.flags&=-2053,_.lanes&=~ne,Cj(_,$,ne))}function Lj(_,$,ee,te,ne){if(mg(ee)){var re=!0;qg($)}else re=!1;if(qh($,ne),null===$.stateNode)Mj(_,$),ij($,ee,te),kj($,ee,te,ne),te=!0;else if(null===_){var ie=$.stateNode,ae=$.memoizedProps;ie.props=ae;var oe=ie.context,se=ee.contextType;"object"===typeof se&&null!==se?se=sh(se):se=lg($,se=mg(ee)?Or:Dr.current);var le=ee.getDerivedStateFromProps,de="function"===typeof le||"function"===typeof ie.getSnapshotBeforeUpdate;de||"function"!==typeof ie.UNSAFE_componentWillReceiveProps&&"function"!==typeof ie.componentWillReceiveProps||(ae!==te||oe!==se)&&jj($,ie,te,se),Ti=!1;var he=$.memoizedState;ie.state=he,Eh($,te,ie,ne),oe=$.memoizedState,ae!==te||he!==oe||Nr.current||Ti?("function"===typeof le&&(fj($,ee,le,te),oe=$.memoizedState),(ae=Ti||hj($,ee,ae,te,he,oe,se))?(de||"function"!==typeof ie.UNSAFE_componentWillMount&&"function"!==typeof ie.componentWillMount||("function"===typeof ie.componentWillMount&&ie.componentWillMount(),"function"===typeof ie.UNSAFE_componentWillMount&&ie.UNSAFE_componentWillMount()),"function"===typeof ie.componentDidMount&&($.flags|=4194308)):("function"===typeof ie.componentDidMount&&($.flags|=4194308),$.memoizedProps=te,$.memoizedState=oe),ie.props=te,ie.state=oe,ie.context=se,te=ae):("function"===typeof ie.componentDidMount&&($.flags|=4194308),te=!1)}else{ie=$.stateNode,zh(_,$),ae=$.memoizedProps,se=$.type===$.elementType?ae:ej($.type,ae),ie.props=se,de=$.pendingProps,he=ie.context,"object"===typeof(oe=ee.contextType)&&null!==oe?oe=sh(oe):oe=lg($,oe=mg(ee)?Or:Dr.current);var fe=ee.getDerivedStateFromProps;(le="function"===typeof fe||"function"===typeof ie.getSnapshotBeforeUpdate)||"function"!==typeof ie.UNSAFE_componentWillReceiveProps&&"function"!==typeof ie.componentWillReceiveProps||(ae!==de||he!==oe)&&jj($,ie,te,oe),Ti=!1,he=$.memoizedState,ie.state=he,Eh($,te,ie,ne);var pe=$.memoizedState;ae!==de||he!==pe||Nr.current||Ti?("function"===typeof fe&&(fj($,ee,fe,te),pe=$.memoizedState),(se=Ti||hj($,ee,se,te,he,pe,oe)||!1)?(le||"function"!==typeof ie.UNSAFE_componentWillUpdate&&"function"!==typeof ie.componentWillUpdate||("function"===typeof ie.componentWillUpdate&&ie.componentWillUpdate(te,pe,oe),"function"===typeof ie.UNSAFE_componentWillUpdate&&ie.UNSAFE_componentWillUpdate(te,pe,oe)),"function"===typeof ie.componentDidUpdate&&($.flags|=4),"function"===typeof ie.getSnapshotBeforeUpdate&&($.flags|=1024)):("function"!==typeof ie.componentDidUpdate||ae===_.memoizedProps&&he===_.memoizedState||($.flags|=4),"function"!==typeof ie.getSnapshotBeforeUpdate||ae===_.memoizedProps&&he===_.memoizedState||($.flags|=1024),$.memoizedProps=te,$.memoizedState=pe),ie.props=te,ie.state=pe,ie.context=oe,te=se):("function"!==typeof ie.componentDidUpdate||ae===_.memoizedProps&&he===_.memoizedState||($.flags|=4),"function"!==typeof ie.getSnapshotBeforeUpdate||ae===_.memoizedProps&&he===_.memoizedState||($.flags|=1024),te=!1)}return Nj(_,$,ee,te,re,ne)}function Nj(_,$,ee,te,ne,re){Kj(_,$);var ie=0!==(128&$.flags);if(!te&&!ie)return ne&&rg($,ee,!1),Cj(_,$,re);if(te=$.stateNode,fo.current=$,ie&&"function"!==typeof ee.getDerivedStateFromError){var ae=null;oo=-1}else sc($),ae=te.render(),tc();return $.flags|=1,null!==_&&ie?(ie=ae,$.child=Zr($,_.child,null,re),$.child=Zr($,null,ie,re)):Aj(_,$,ae,re),$.memoizedState=te.state,ne&&rg($,ee,!0),$.child}function Oj(_){var $=_.stateNode;$.pendingContext?og(0,$.pendingContext,$.pendingContext!==$.context):$.context&&og(0,$.context,!1),Mh(_,$.containerInfo)}function Rj(_,$,ee,te,ne){return Wg(),Xg(ne),$.flags|=256,Aj(_,$,ee,te),$.child}var mo,_o,yo,vo,bo={dehydrated:null,treeContext:null,retryLane:0};function Tj(_){return{baseLanes:_,cachePool:null,transitions:null}}function Uj(_,$,ee){var te,ne=$.pendingProps,re=Yi.current,ie=!1,ae=0!==(128&$.flags);if((te=ae)||(te=(null===_||null!==_.memoizedState)&&0!==(2&re)),te?(ie=!0,$.flags&=-129):null!==_&&null===_.memoizedState||(re|=1),H(Yi,1&re),null===_)return Sg($),null!==(_=$.memoizedState)&&null!==(_=_.dehydrated)?(0===(1&$.mode)?$.lanes=1:"$!"===_.data?$.lanes=8:$.lanes=1073741824,null):(ae=ne.children,_=ne.fallback,ie?(ne=$.mode,ie=$.child,ae={mode:"hidden",children:ae},0===(1&ne)&&null!==ie?(ie.childLanes=0,ie.pendingProps=ae,2&$.mode&&(ie.actualDuration=0,ie.actualStartTime=-1,ie.selfBaseDuration=0,ie.treeBaseDuration=0)):ie=Vj(ae,ne,0,null),_=gh(_,ne,ee,null),ie.return=$,_.return=$,ie.sibling=_,$.child=ie,$.child.memoizedState=Tj(ee),$.memoizedState=bo,_):Wj($,ae));if(null!==(re=_.memoizedState)&&null!==(te=re.dehydrated))return function Xj(_,$,ee,te,ne,re,ie){if(ee)return 256&$.flags?($.flags&=-257,Yj(_,$,ie,te=mj(Error(p(422))))):null!==$.memoizedState?($.child=_.child,$.flags|=128,null):(re=te.fallback,ne=$.mode,te=Vj({mode:"visible",children:te.children},ne,0,null),(re=gh(re,ne,ie,null)).flags|=2,te.return=$,re.return=$,te.sibling=re,$.child=te,0!==(1&$.mode)&&Zr($,_.child,null,ie),$.child.memoizedState=Tj(ie),$.memoizedState=bo,re);if(0===(1&$.mode))return Yj(_,$,ie,null);if("$!"===ne.data){if(te=ne.nextSibling&&ne.nextSibling.dataset)var ae=te.dgst;return te=ae,Yj(_,$,ie,te=mj(re=Error(p(419)),te,void 0))}if(ae=0!==(ie&_.childLanes),po||ae){if(null!==(te=Mo)){switch(ie&-ie){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}0!==(ne=0!==(ne&(te.suspendedLanes|ie))?0:ne)&&ne!==re.retryLane&&(re.retryLane=ne,wh(_,ne),ui(te,_,ne,-1))}return Zj(),Yj(_,$,ie,te=mj(Error(p(421))))}return"$?"===ne.data?($.flags|=128,$.child=_.child,$=ak.bind(null,_),ne._reactRetry=$,null):(_=re.treeContext,Yr=Zf(ne.nextSibling),Gr=$,Qr=!0,Xr=null,null!==_&&(qr[Wr++]=$r,qr[Wr++]=Kr,qr[Wr++]=Hr,$r=_.id,Kr=_.overflow,Hr=$),$=Wj($,te.children),$.flags|=4096,$)}(_,$,ae,ne,te,re,ee);if(ie){ie=ne.fallback,ae=$.mode,te=(re=_.child).sibling;var oe={mode:"hidden",children:ne.children};return 0===(1&ae)&&$.child!==re?((ne=$.child).childLanes=0,ne.pendingProps=oe,2&$.mode&&(ne.actualDuration=0,ne.actualStartTime=-1,ne.selfBaseDuration=re.selfBaseDuration,ne.treeBaseDuration=re.treeBaseDuration),$.deletions=null):(ne=ch(re,oe)).subtreeFlags=14680064&re.subtreeFlags,null!==te?ie=ch(te,ie):(ie=gh(ie,ae,ee,null)).flags|=2,ie.return=$,ne.return=$,ne.sibling=ie,$.child=ne,ne=ie,ie=$.child,ae=null===(ae=_.child.memoizedState)?Tj(ee):{baseLanes:ae.baseLanes|ee,cachePool:null,transitions:ae.transitions},ie.memoizedState=ae,ie.childLanes=_.childLanes&~ee,$.memoizedState=bo,ne}return _=(ie=_.child).sibling,ne=ch(ie,{mode:"visible",children:ne.children}),0===(1&$.mode)&&(ne.lanes=ee),ne.return=$,ne.sibling=null,null!==_&&(null===(ee=$.deletions)?($.deletions=[_],$.flags|=16):ee.push(_)),$.child=ne,$.memoizedState=null,ne}function Wj(_,$){return($=Vj({mode:"visible",children:$},_.mode,0,null)).return=_,_.child=$}function Yj(_,$,ee,te){return null!==te&&Xg(te),Zr($,_.child,null,ee),(_=Wj($,$.pendingProps.children)).flags|=2,$.memoizedState=null,_}function bk(_,$,ee){_.lanes|=$;var te=_.alternate;null!==te&&(te.lanes|=$),ph(_.return,$,ee)}function ck(_,$,ee,te,ne){var re=_.memoizedState;null===re?_.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:te,tail:ee,tailMode:ne}:(re.isBackwards=$,re.rendering=null,re.renderingStartTime=0,re.last=te,re.tail=ee,re.tailMode=ne)}function dk(_,$,ee){var te=$.pendingProps,ne=te.revealOrder,re=te.tail;if(Aj(_,$,te.children,ee),0!==(2&(te=Yi.current)))te=1&te|2,$.flags|=128;else{if(null!==_&&0!==(128&_.flags))e:for(_=$.child;null!==_;){if(13===_.tag)null!==_.memoizedState&&bk(_,ee,$);else if(19===_.tag)bk(_,ee,$);else if(null!==_.child){_.child.return=_,_=_.child;continue}if(_===$)break e;for(;null===_.sibling;){if(null===_.return||_.return===$)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}te&=1}if(H(Yi,te),0===(1&$.mode))$.memoizedState=null;else switch(ne){case"forwards":for(ee=$.child,ne=null;null!==ee;)null!==(_=ee.alternate)&&null===Qh(_)&&(ne=ee),ee=ee.sibling;null===(ee=ne)?(ne=$.child,$.child=null):(ne=ee.sibling,ee.sibling=null),ck($,!1,ne,ee,re);break;case"backwards":for(ee=null,ne=$.child,$.child=null;null!==ne;){if(null!==(_=ne.alternate)&&null===Qh(_)){$.child=ne;break}_=ne.sibling,ne.sibling=ee,ee=ne,ne=_}ck($,!0,ee,null,re);break;case"together":ck($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function Mj(_,$){0===(1&$.mode)&&null!==_&&(_.alternate=null,$.alternate=null,$.flags|=2)}function Cj(_,$,ee){if(null!==_&&($.dependencies=_.dependencies),oo=-1,qo|=$.lanes,0===(ee&$.childLanes))return null;if(null!==_&&$.child!==_.child)throw Error(p(153));if(null!==$.child){for(ee=ch(_=$.child,_.pendingProps),$.child=ee,ee.return=$;null!==_.sibling;)_=_.sibling,(ee=ee.sibling=ch(_,_.pendingProps)).return=$;ee.sibling=null}return $.child}function jk(_,$){if(!Qr)switch(_.tailMode){case"hidden":$=_.tail;for(var ee=null;null!==$;)null!==$.alternate&&(ee=$),$=$.sibling;null===ee?_.tail=null:ee.sibling=null;break;case"collapsed":ee=_.tail;for(var te=null;null!==ee;)null!==ee.alternate&&(te=ee),ee=ee.sibling;null===te?$||null===_.tail?_.tail=null:_.tail.sibling=null:te.sibling=null}}function S(_){var $=null!==_.alternate&&_.alternate.child===_.child,ee=0,te=0;if($)if(0!==(2&_.mode)){for(var ne=_.selfBaseDuration,re=_.child;null!==re;)ee|=re.lanes|re.childLanes,te|=14680064&re.subtreeFlags,te|=14680064&re.flags,ne+=re.treeBaseDuration,re=re.sibling;_.treeBaseDuration=ne}else for(ne=_.child;null!==ne;)ee|=ne.lanes|ne.childLanes,te|=14680064&ne.subtreeFlags,te|=14680064&ne.flags,ne.return=_,ne=ne.sibling;else if(0!==(2&_.mode)){ne=_.actualDuration,re=_.selfBaseDuration;for(var ie=_.child;null!==ie;)ee|=ie.lanes|ie.childLanes,te|=ie.subtreeFlags,te|=ie.flags,ne+=ie.actualDuration,re+=ie.treeBaseDuration,ie=ie.sibling;_.actualDuration=ne,_.treeBaseDuration=re}else for(ne=_.child;null!==ne;)ee|=ne.lanes|ne.childLanes,te|=ne.subtreeFlags,te|=ne.flags,ne.return=_,ne=ne.sibling;return _.subtreeFlags|=te,_.childLanes=ee,$}function kk(_,$,ee){var te=$.pendingProps;switch(Kg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S($),null;case 1:case 17:return mg($.type)&&ng(),S($),null;case 3:return te=$.stateNode,Nh(),G(Nr),G(Dr),Sh(),te.pendingContext&&(te.context=te.pendingContext,te.pendingContext=null),null!==_&&null!==_.child||(Ug($)?$.flags|=4:null===_||_.memoizedState.isDehydrated&&0===(256&$.flags)||($.flags|=1024,null!==Xr&&(lk(Xr),Xr=null))),_o(_,$),S($),null;case 5:Ph($);var ne=Lh(Wi.current);if(ee=$.type,null!==_&&null!=$.stateNode)yo(_,$,ee,te,ne),_.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!te){if(null===$.stateNode)throw Error(p(166));return S($),null}if(_=Lh(Ui.current),Ug($)){te=$.stateNode,_=$.type,ee=$.memoizedProps,te[Tr]=$,te[Ar]=ee;var re=0!==(1&$.mode);switch(_){case"dialog":F("cancel",te),F("close",te);break;case"iframe":case"object":case"embed":F("load",te);break;case"video":case"audio":for(ne=0;ne<hr.length;ne++)F(hr[ne],te);break;case"source":F("error",te);break;case"img":case"image":case"link":F("error",te),F("load",te);break;case"details":F("toggle",te);break;case"input":Za(te,ee),F("invalid",te);break;case"select":te._wrapperState={wasMultiple:!!ee.multiple},F("invalid",te);break;case"textarea":gb(te,ee),F("invalid",te)}for(var ae in ub(_,ee),ne=null,ee)if(ee.hasOwnProperty(ae)){var oe=ee[ae];"children"===ae?"string"===typeof oe?te.textContent!==oe&&(!0!==ee.suppressHydrationWarning&&Of(te.textContent,oe,re),ne=["children",oe]):"number"===typeof oe&&te.textContent!==""+oe&&(!0!==ee.suppressHydrationWarning&&Of(te.textContent,oe,re),ne=["children",""+oe]):ie.hasOwnProperty(ae)&&null!=oe&&"onScroll"===ae&&F("scroll",te)}switch(_){case"input":Va(te),cb(te,ee,!0);break;case"textarea":Va(te),ib(te);break;case"select":case"option":break;default:"function"===typeof ee.onClick&&(te.onclick=Pf)}te=ne,$.updateQueue=te,null!==te&&($.flags|=4)}else{ae=9===ne.nodeType?ne:ne.ownerDocument,"http://www.w3.org/1999/xhtml"===_&&(_=jb(ee)),"http://www.w3.org/1999/xhtml"===_?"script"===ee?((_=ae.createElement("div")).innerHTML="<script><\/script>",_=_.removeChild(_.firstChild)):"string"===typeof te.is?_=ae.createElement(ee,{is:te.is}):(_=ae.createElement(ee),"select"===ee&&(ae=_,te.multiple?ae.multiple=!0:te.size&&(ae.size=te.size))):_=ae.createElementNS(_,ee),_[Tr]=$,_[Ar]=te,mo(_,$,!1,!1),$.stateNode=_;e:{switch(ae=vb(ee,te),ee){case"dialog":F("cancel",_),F("close",_),ne=te;break;case"iframe":case"object":case"embed":F("load",_),ne=te;break;case"video":case"audio":for(ne=0;ne<hr.length;ne++)F(hr[ne],_);ne=te;break;case"source":F("error",_),ne=te;break;case"img":case"image":case"link":F("error",_),F("load",_),ne=te;break;case"details":F("toggle",_),ne=te;break;case"input":Za(_,te),ne=Ya(_,te),F("invalid",_);break;case"option":default:ne=te;break;case"select":_._wrapperState={wasMultiple:!!te.multiple},ne=et({},te,{value:void 0}),F("invalid",_);break;case"textarea":gb(_,te),ne=fb(_,te),F("invalid",_)}for(re in ub(ee,ne),oe=ne)if(oe.hasOwnProperty(re)){var se=oe[re];"style"===re?sb(_,se):"dangerouslySetInnerHTML"===re?null!=(se=se?se.__html:void 0)&&at(_,se):"children"===re?"string"===typeof se?("textarea"!==ee||""!==se)&&ob(_,se):"number"===typeof se&&ob(_,""+se):"suppressContentEditableWarning"!==re&&"suppressHydrationWarning"!==re&&"autoFocus"!==re&&(ie.hasOwnProperty(re)?null!=se&&"onScroll"===re&&F("scroll",_):null!=se&&ua(_,re,se,ae))}switch(ee){case"input":Va(_),cb(_,te,!1);break;case"textarea":Va(_),ib(_);break;case"option":null!=te.value&&_.setAttribute("value",""+Sa(te.value));break;case"select":_.multiple=!!te.multiple,null!=(re=te.value)?eb(_,!!te.multiple,re,!1):null!=te.defaultValue&&eb(_,!!te.multiple,te.defaultValue,!0);break;default:"function"===typeof ne.onClick&&(_.onclick=Pf)}switch(ee){case"button":case"input":case"select":case"textarea":te=!!te.autoFocus;break e;case"img":te=!0;break e;default:te=!1}}te&&($.flags|=4)}null!==$.ref&&($.flags|=512,$.flags|=2097152)}return S($),null;case 6:if(_&&null!=$.stateNode)vo(_,$,_.memoizedProps,te);else{if("string"!==typeof te&&null===$.stateNode)throw Error(p(166));if(_=Lh(Wi.current),Lh(Ui.current),Ug($)){if(te=$.stateNode,_=$.memoizedProps,te[Tr]=$,(ee=te.nodeValue!==_)&&null!==(re=Gr))switch(re.tag){case 3:Of(te.nodeValue,_,0!==(1&re.mode));break;case 5:!0!==re.memoizedProps.suppressHydrationWarning&&Of(te.nodeValue,_,0!==(1&re.mode))}ee&&($.flags|=4)}else(te=(9===_.nodeType?_:_.ownerDocument).createTextNode(te))[Tr]=$,$.stateNode=te}return S($),null;case 13:if(G(Yi),te=$.memoizedState,null===_||null!==_.memoizedState&&null!==_.memoizedState.dehydrated){if(Qr&&null!==Yr&&0!==(1&$.mode)&&0===(128&$.flags))Vg(),Wg(),$.flags|=98560,re=!1;else if(re=Ug($),null!==te&&null!==te.dehydrated){if(null===_){if(!re)throw Error(p(318));if(!(re=null!==(re=$.memoizedState)?re.dehydrated:null))throw Error(p(317));re[Tr]=$,S($),0!==(2&$.mode)&&null!==te&&(null!==(re=$.child)&&($.treeBaseDuration-=re.treeBaseDuration))}else Wg(),0===(128&$.flags)&&($.memoizedState=null),$.flags|=4,S($),0!==(2&$.mode)&&null!==te&&(null!==(re=$.child)&&($.treeBaseDuration-=re.treeBaseDuration));re=!1}else null!==Xr&&(lk(Xr),Xr=null),re=!0;if(!re)return 65536&$.flags?$:null}return 0!==(128&$.flags)?($.lanes=ee,0!==(2&$.mode)&&dj($),$):((te=null!==te)!==(null!==_&&null!==_.memoizedState)&&te&&($.child.flags|=8192,0!==(1&$.mode)&&(null===_||0!==(1&Yi.current)?0===Bo&&(Bo=3):Zj())),null!==$.updateQueue&&($.flags|=4),S($),0!==(2&$.mode)&&te&&(null!==(te=$.child)&&($.treeBaseDuration-=te.treeBaseDuration)),null);case 4:return Nh(),_o(_,$),null===_&&Gf($.stateNode.containerInfo),S($),null;case 10:return oh($.type._context),S($),null;case 19:if(G(Yi),null===(re=$.memoizedState))return S($),null;if(te=0!==(128&$.flags),null===(ae=re.rendering))if(te)jk(re,!1);else{if(0!==Bo||null!==_&&0!==(128&_.flags))for(_=$.child;null!==_;){if(null!==(ae=Qh(_))){for($.flags|=128,jk(re,!1),null!==(te=ae.updateQueue)&&($.updateQueue=te,$.flags|=4),$.subtreeFlags=0,te=ee,_=$.child;null!==_;)ae=te,(ee=_).flags&=14680066,null===(re=ee.alternate)?(ee.childLanes=0,ee.lanes=ae,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null,ee.selfBaseDuration=0,ee.treeBaseDuration=0):(ee.childLanes=re.childLanes,ee.lanes=re.lanes,ee.child=re.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=re.memoizedProps,ee.memoizedState=re.memoizedState,ee.updateQueue=re.updateQueue,ee.type=re.type,ae=re.dependencies,ee.dependencies=null===ae?null:{lanes:ae.lanes,firstContext:ae.firstContext},ee.selfBaseDuration=re.selfBaseDuration,ee.treeBaseDuration=re.treeBaseDuration),_=_.sibling;return H(Yi,1&Yi.current|2),$.child}_=_.sibling}null!==re.tail&&At()>Yo&&($.flags|=128,te=!0,jk(re,!1),$.lanes=4194304)}else{if(!te)if(null!==(_=Qh(ae))){if($.flags|=128,te=!0,null!==(_=_.updateQueue)&&($.updateQueue=_,$.flags|=4),jk(re,!0),null===re.tail&&"hidden"===re.tailMode&&!ae.alternate&&!Qr)return S($),null}else 2*At()-re.renderingStartTime>Yo&&1073741824!==ee&&($.flags|=128,te=!0,jk(re,!1),$.lanes=4194304);re.isBackwards?(ae.sibling=$.child,$.child=ae):(null!==(_=re.last)?_.sibling=ae:$.child=ae,re.last=ae)}return null!==re.tail?($=re.tail,re.rendering=$,re.tail=$.sibling,re.renderingStartTime=At(),$.sibling=null,_=Yi.current,H(Yi,te?1&_|2:1&_),$):(S($),null);case 22:case 23:return nk(),te=null!==$.memoizedState,null!==_&&null!==_.memoizedState!==te&&($.flags|=8192),te&&0!==(1&$.mode)?0!==(1073741824&Lo)&&(S($),6&$.subtreeFlags&&($.flags|=8192)):S($),null;case 24:case 25:return null}throw Error(p(156,$.tag))}function ok(_,$){switch(Kg($),$.tag){case 1:return mg($.type)&&ng(),65536&(_=$.flags)?($.flags=-65537&_|128,0!==(2&$.mode)&&dj($),$):null;case 3:return Nh(),G(Nr),G(Dr),Sh(),0!==(65536&(_=$.flags))&&0===(128&_)?($.flags=-65537&_|128,$):null;case 5:return Ph($),null;case 13:if(G(Yi),null!==(_=$.memoizedState)&&null!==_.dehydrated){if(null===$.alternate)throw Error(p(340));Wg()}return 65536&(_=$.flags)?($.flags=-65537&_|128,0!==(2&$.mode)&&dj($),$):null;case 19:return G(Yi),null;case 4:return Nh(),null;case 10:return oh($.type._context),null;case 22:case 23:return nk(),null;default:return null}}mo=function(_,$){for(var ee=$.child;null!==ee;){if(5===ee.tag||6===ee.tag)_.appendChild(ee.stateNode);else if(4!==ee.tag&&null!==ee.child){ee.child.return=ee,ee=ee.child;continue}if(ee===$)break;for(;null===ee.sibling;){if(null===ee.return||ee.return===$)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}},_o=function(){},yo=function(_,$,ee,te){var ne=_.memoizedProps;if(ne!==te){_=$.stateNode,Lh(Ui.current);var re,ae=null;switch(ee){case"input":ne=Ya(_,ne),te=Ya(_,te),ae=[];break;case"select":ne=et({},ne,{value:void 0}),te=et({},te,{value:void 0}),ae=[];break;case"textarea":ne=fb(_,ne),te=fb(_,te),ae=[];break;default:"function"!==typeof ne.onClick&&"function"===typeof te.onClick&&(_.onclick=Pf)}for(le in ub(ee,te),ee=null,ne)if(!te.hasOwnProperty(le)&&ne.hasOwnProperty(le)&&null!=ne[le])if("style"===le){var oe=ne[le];for(re in oe)oe.hasOwnProperty(re)&&(ee||(ee={}),ee[re]="")}else"dangerouslySetInnerHTML"!==le&&"children"!==le&&"suppressContentEditableWarning"!==le&&"suppressHydrationWarning"!==le&&"autoFocus"!==le&&(ie.hasOwnProperty(le)?ae||(ae=[]):(ae=ae||[]).push(le,null));for(le in te){var se=te[le];if(oe=null!=ne?ne[le]:void 0,te.hasOwnProperty(le)&&se!==oe&&(null!=se||null!=oe))if("style"===le)if(oe){for(re in oe)!oe.hasOwnProperty(re)||se&&se.hasOwnProperty(re)||(ee||(ee={}),ee[re]="");for(re in se)se.hasOwnProperty(re)&&oe[re]!==se[re]&&(ee||(ee={}),ee[re]=se[re])}else ee||(ae||(ae=[]),ae.push(le,ee)),ee=se;else"dangerouslySetInnerHTML"===le?(se=se?se.__html:void 0,oe=oe?oe.__html:void 0,null!=se&&oe!==se&&(ae=ae||[]).push(le,se)):"children"===le?"string"!==typeof se&&"number"!==typeof se||(ae=ae||[]).push(le,""+se):"suppressContentEditableWarning"!==le&&"suppressHydrationWarning"!==le&&(ie.hasOwnProperty(le)?(null!=se&&"onScroll"===le&&F("scroll",_),ae||oe===se||(ae=[])):(ae=ae||[]).push(le,se))}ee&&(ae=ae||[]).push("style",ee);var le=ae;($.updateQueue=le)&&($.flags|=4)}},vo=function(_,$,ee,te){ee!==te&&($.flags|=4)};var wo=!1,xo=!1,Eo="function"===typeof WeakSet?WeakSet:Set,To=null,Ao=null,ko=null;function uk(_,$){if($.props=_.memoizedProps,$.state=_.memoizedState,2&_.mode)try{cj(),$.componentWillUnmount()}finally{aj(_)}else $.componentWillUnmount()}function vk(_,$){var ee=_.ref;if(null!==ee)if("function"===typeof ee)try{if(2&_.mode)try{cj(),ee(null)}finally{aj(_)}else ee(null)}catch(te){W(_,$,te)}else ee.current=null}function wk(_,$,ee){try{ee()}catch(te){W(_,$,te)}}var Po=!1;function zk(_,$,ee){var te=$.updateQueue;if(null!==(te=null!==te?te.lastEffect:null)){var ne=te=te.next;do{if((ne.tag&_)===_){var re=ne.destroy;ne.destroy=void 0,void 0!==re&&(0!==(8&_)?null!==Nt&&"function"===typeof Nt.markComponentPassiveEffectUnmountStarted&&Nt.markComponentPassiveEffectUnmountStarted($):0!==(4&_)&&uc($),wk($,ee,re),0!==(8&_)?null!==Nt&&"function"===typeof Nt.markComponentPassiveEffectUnmountStopped&&Nt.markComponentPassiveEffectUnmountStopped():0!==(4&_)&&vc())}ne=ne.next}while(ne!==te)}}function Ak(_,$){var ee=$.updateQueue;if(null!==(ee=null!==ee?ee.lastEffect:null)){var te=ee=ee.next;do{if((te.tag&_)===_){0!==(8&_)?null!==Nt&&"function"===typeof Nt.markComponentPassiveEffectMountStarted&&Nt.markComponentPassiveEffectMountStarted($):0!==(4&_)&&null!==Nt&&"function"===typeof Nt.markComponentLayoutEffectMountStarted&&Nt.markComponentLayoutEffectMountStarted($);var ne=te.create;te.destroy=ne(),0!==(8&_)?null!==Nt&&"function"===typeof Nt.markComponentPassiveEffectMountStopped&&Nt.markComponentPassiveEffectMountStopped():0!==(4&_)&&null!==Nt&&"function"===typeof Nt.markComponentLayoutEffectMountStopped&&Nt.markComponentLayoutEffectMountStopped()}te=te.next}while(te!==ee)}}function Bk(_){var $=_.ref;if(null!==$){var ee=_.stateNode;if("function"===typeof $)if(2&_.mode)try{cj(),$(ee)}finally{aj(_)}else $(ee);else $.current=ee}}function Ck(_){var $=_.alternate;null!==$&&(_.alternate=null,Ck($)),_.child=null,_.deletions=null,_.sibling=null,5===_.tag&&(null!==($=_.stateNode)&&(delete $[Tr],delete $[Ar],delete $[Pr],delete $[Ir],delete $[Sr])),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function Dk(_){return 5===_.tag||3===_.tag||4===_.tag}function Ek(_){e:for(;;){for(;null===_.sibling;){if(null===_.return||Dk(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;5!==_.tag&&6!==_.tag&&18!==_.tag;){if(2&_.flags)continue e;if(null===_.child||4===_.tag)continue e;_.child.return=_,_=_.child}if(!(2&_.flags))return _.stateNode}}function Fk(_,$,ee){var te=_.tag;if(5===te||6===te)_=_.stateNode,$?8===ee.nodeType?ee.parentNode.insertBefore(_,$):ee.insertBefore(_,$):(8===ee.nodeType?($=ee.parentNode).insertBefore(_,ee):($=ee).appendChild(_),null!==(ee=ee._reactRootContainer)&&void 0!==ee||null!==$.onclick||($.onclick=Pf));else if(4!==te&&null!==(_=_.child))for(Fk(_,$,ee),_=_.sibling;null!==_;)Fk(_,$,ee),_=_.sibling}function Gk(_,$,ee){var te=_.tag;if(5===te||6===te)_=_.stateNode,$?ee.insertBefore(_,$):ee.appendChild(_);else if(4!==te&&null!==(_=_.child))for(Gk(_,$,ee),_=_.sibling;null!==_;)Gk(_,$,ee),_=_.sibling}var Io=null,So=!1;function Ik(_,$,ee){for(ee=ee.child;null!==ee;)Jk(_,$,ee),ee=ee.sibling}function Jk(_,$,ee){if(Dt&&"function"===typeof Dt.onCommitFiberUnmount)try{Dt.onCommitFiberUnmount(Vt,ee)}catch(ae){}switch(ee.tag){case 5:xo||vk(ee,$);case 6:var te=Io,ne=So;Io=null,Ik(_,$,ee),So=ne,null!==(Io=te)&&(So?(_=Io,ee=ee.stateNode,8===_.nodeType?_.parentNode.removeChild(ee):_.removeChild(ee)):Io.removeChild(ee.stateNode));break;case 18:null!==Io&&(So?(_=Io,ee=ee.stateNode,8===_.nodeType?Yf(_.parentNode,ee):1===_.nodeType&&Yf(_,ee),pd(_)):Yf(Io,ee.stateNode));break;case 4:te=Io,ne=So,Io=ee.stateNode.containerInfo,So=!0,Ik(_,$,ee),Io=te,So=ne;break;case 0:case 11:case 14:case 15:if(!xo&&(null!==(te=ee.updateQueue)&&null!==(te=te.lastEffect))){ne=te=te.next;do{var re=ne,ie=re.destroy;re=re.tag,void 0!==ie&&(0!==(2&re)?wk(ee,$,ie):0!==(4&re)&&(uc(ee),2&ee.mode?(cj(),wk(ee,$,ie),aj(ee)):wk(ee,$,ie),vc())),ne=ne.next}while(ne!==te)}Ik(_,$,ee);break;case 1:if(!xo&&(vk(ee,$),"function"===typeof(te=ee.stateNode).componentWillUnmount))try{uk(ee,te)}catch(ae){W(ee,$,ae)}Ik(_,$,ee);break;case 21:Ik(_,$,ee);break;case 22:1&ee.mode?(xo=(te=xo)||null!==ee.memoizedState,Ik(_,$,ee),xo=te):Ik(_,$,ee);break;default:Ik(_,$,ee)}}function Kk(_){var $=_.updateQueue;if(null!==$){_.updateQueue=null;var ee=_.stateNode;null===ee&&(ee=_.stateNode=new Eo),$.forEach((function($){var te=Lk.bind(null,_,$);if(!ee.has($)){if(ee.add($),Ot){if(null===Ao||null===ko)throw Error(p(413));wj(ko,Ao)}$.then(te,te)}}))}}function Ok(_,$){var ee=$.deletions;if(null!==ee)for(var te=0;te<ee.length;te++){var ne=ee[te];try{var re=_,ie=$,ae=ie;e:for(;null!==ae;){switch(ae.tag){case 5:Io=ae.stateNode,So=!1;break e;case 3:case 4:Io=ae.stateNode.containerInfo,So=!0;break e}ae=ae.return}if(null===Io)throw Error(p(160));Jk(re,ie,ne),Io=null,So=!1;var oe=ne.alternate;null!==oe&&(oe.return=null),ne.return=null}catch(se){W(ne,$,se)}}if(12854&$.subtreeFlags)for($=$.child;null!==$;)Nk($,_),$=$.sibling}function Nk(_,$){var ee=_.alternate,te=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:if(Ok($,_),Pk(_),4&te){try{zk(3,_,_.return),Ak(3,_)}catch(pe){W(_,_.return,pe)}if(2&_.mode){try{cj(),zk(5,_,_.return)}catch(pe){W(_,_.return,pe)}aj(_)}else try{zk(5,_,_.return)}catch(pe){W(_,_.return,pe)}}break;case 1:Ok($,_),Pk(_),512&te&&null!==ee&&vk(ee,ee.return);break;case 5:if(Ok($,_),Pk(_),512&te&&null!==ee&&vk(ee,ee.return),32&_.flags){var ne=_.stateNode;try{ob(ne,"")}catch(pe){W(_,_.return,pe)}}if(4&te&&null!=(ne=_.stateNode)){var re=_.memoizedProps,ie=null!==ee?ee.memoizedProps:re,ae=_.type,oe=_.updateQueue;if(_.updateQueue=null,null!==oe)try{"input"===ae&&"radio"===re.type&&null!=re.name&&$a(ne,re),vb(ae,ie);var se=vb(ae,re);for(ie=0;ie<oe.length;ie+=2){var le=oe[ie],de=oe[ie+1];"style"===le?sb(ne,de):"dangerouslySetInnerHTML"===le?at(ne,de):"children"===le?ob(ne,de):ua(ne,le,de,se)}switch(ae){case"input":ab(ne,re);break;case"textarea":hb(ne,re);break;case"select":var he=ne._wrapperState.wasMultiple;ne._wrapperState.wasMultiple=!!re.multiple;var fe=re.value;null!=fe?eb(ne,!!re.multiple,fe,!1):he!==!!re.multiple&&(null!=re.defaultValue?eb(ne,!!re.multiple,re.defaultValue,!0):eb(ne,!!re.multiple,re.multiple?[]:"",!1))}ne[Ar]=re}catch(pe){W(_,_.return,pe)}}break;case 6:if(Ok($,_),Pk(_),4&te){if(null===_.stateNode)throw Error(p(162));ne=_.stateNode,re=_.memoizedProps;try{ne.nodeValue=re}catch(pe){W(_,_.return,pe)}}break;case 3:if(Ok($,_),Pk(_),4&te&&null!==ee&&ee.memoizedState.isDehydrated)try{pd($.containerInfo)}catch(pe){W(_,_.return,pe)}break;case 4:default:Ok($,_),Pk(_);break;case 13:Ok($,_),Pk(_),8192&(ne=_.child).flags&&(re=null!==ne.memoizedState,ne.stateNode.isHidden=re,!re||null!==ne.alternate&&null!==ne.alternate.memoizedState||(Go=At())),4&te&&Kk(_);break;case 22:if(le=null!==ee&&null!==ee.memoizedState,1&_.mode?(xo=(se=xo)||le,Ok($,_),xo=se):Ok($,_),Pk(_),8192&te){if(se=null!==_.memoizedState,(_.stateNode.isHidden=se)&&!le&&0!==(1&_.mode))for(To=_,le=_.child;null!==le;){for(de=To=le;null!==To;){switch(fe=(he=To).child,he.tag){case 0:case 11:case 14:case 15:if(2&he.mode)try{cj(),zk(4,he,he.return)}finally{aj(he)}else zk(4,he,he.return);break;case 1:if(vk(he,he.return),"function"===typeof(te=he.stateNode).componentWillUnmount){ee=he,$=he.return;try{uk(ee,te)}catch(pe){W(ee,$,pe)}}break;case 5:vk(he,he.return);break;case 22:if(null!==he.memoizedState){Rk(de);continue}}null!==fe?(fe.return=he,To=fe):Rk(de)}le=le.sibling}e:for(le=null,de=_;;){if(5===de.tag){if(null===le){le=de;try{ne=de.stateNode,se?"function"===typeof(re=ne.style).setProperty?re.setProperty("display","none","important"):re.display="none":(ae=de.stateNode,ie=void 0!==(oe=de.memoizedProps.style)&&null!==oe&&oe.hasOwnProperty("display")?oe.display:null,ae.style.display=rb("display",ie))}catch(pe){W(_,_.return,pe)}}}else if(6===de.tag){if(null===le)try{de.stateNode.nodeValue=se?"":de.memoizedProps}catch(pe){W(_,_.return,pe)}}else if((22!==de.tag&&23!==de.tag||null===de.memoizedState||de===_)&&null!==de.child){de.child.return=de,de=de.child;continue}if(de===_)break e;for(;null===de.sibling;){if(null===de.return||de.return===_)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Ok($,_),Pk(_),4&te&&Kk(_);case 21:}}function Pk(_){var $=_.flags;if(2&$){try{e:{for(var ee=_.return;null!==ee;){if(Dk(ee)){var te=ee;break e}ee=ee.return}throw Error(p(160))}switch(te.tag){case 5:var ne=te.stateNode;32&te.flags&&(ob(ne,""),te.flags&=-33),Gk(_,Ek(_),ne);break;case 3:case 4:var re=te.stateNode.containerInfo;Fk(_,Ek(_),re);break;default:throw Error(p(161))}}catch(ie){W(_,_.return,ie)}_.flags&=-3}4096&$&&(_.flags&=-4097)}function Sk(_,$,ee){Ao=ee,ko=$,To=_,Tk(_,$,ee),ko=Ao=null}function Tk(_,$,ee){for(var te=0!==(1&_.mode);null!==To;){var ne=To,re=ne.child;if(22===ne.tag&&te){var ie=null!==ne.memoizedState||wo;if(!ie){var ae=ne.alternate,oe=null!==ae&&null!==ae.memoizedState||xo;ae=wo;var se=xo;if(wo=ie,(xo=oe)&&!se)for(To=ne;null!==To;)oe=(ie=To).child,22===ie.tag&&null!==ie.memoizedState?Uk(ne):null!==oe?(oe.return=ie,To=oe):Uk(ne);for(;null!==re;)To=re,Tk(re,$,ee),re=re.sibling;To=ne,wo=ae,xo=se}Vk(_)}else 0!==(8772&ne.subtreeFlags)&&null!==re?(re.return=ne,To=re):Vk(_)}}function Vk(_){for(;null!==To;){var $=To;if(0!==(8772&$.flags)){var ee=$.alternate;try{if(0!==(8772&$.flags))switch($.tag){case 0:case 11:case 15:if(!xo)if(2&$.mode)try{cj(),Ak(5,$)}finally{aj($)}else Ak(5,$);break;case 1:var te=$.stateNode;if(4&$.flags&&!xo)if(null===ee)if(2&$.mode)try{cj(),te.componentDidMount()}finally{aj($)}else te.componentDidMount();else{var ne=$.elementType===$.type?ee.memoizedProps:ej($.type,ee.memoizedProps),re=ee.memoizedState;if(2&$.mode)try{cj(),te.componentDidUpdate(ne,re,te.__reactInternalSnapshotBeforeUpdate)}finally{aj($)}else te.componentDidUpdate(ne,re,te.__reactInternalSnapshotBeforeUpdate)}var ie=$.updateQueue;null!==ie&&Gh($,ie,te);break;case 3:var ae=$.updateQueue;if(null!==ae){var oe=null;if(null!==$.child)switch($.child.tag){case 5:case 1:oe=$.child.stateNode}Gh($,ae,oe)}break;case 5:var se=$.stateNode;if(null===ee&&4&$.flags){oe=se;var le=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&oe.focus();break;case"img":le.src&&(oe.src=le.src)}}break;case 6:case 4:case 19:case 17:case 21:case 22:case 23:case 25:break;case 12:var de=$.memoizedProps,he=de.onCommit,fe=de.onRender,pe=$.stateNode.effectDuration;oe=io,ee=null===ee?"mount":"update",lo&&(ee="nested-update"),"function"===typeof fe&&fe($.memoizedProps.id,ee,$.actualDuration,$.treeBaseDuration,$.actualStartTime,oe),"function"===typeof he&&he($.memoizedProps.id,ee,pe,oe),Wk($);var me=$.return;e:for(;null!==me;){switch(me.tag){case 3:case 12:me.stateNode.effectDuration+=pe;break e}me=me.return}break;case 13:if(null===$.memoizedState){var _e=$.alternate;if(null!==_e){var be=_e.memoizedState;if(null!==be){var we=be.dehydrated;null!==we&&pd(we)}}}break;default:throw Error(p(163))}xo||512&$.flags&&Bk($)}catch(Ee){W($,$.return,Ee)}}if($===_){To=null;break}if(null!==(oe=$.sibling)){oe.return=$.return,To=oe;break}To=$.return}}function Rk(_){for(;null!==To;){var $=To;if($===_){To=null;break}var ee=$.sibling;if(null!==ee){ee.return=$.return,To=ee;break}To=$.return}}function Uk(_){for(;null!==To;){var $=To;try{switch($.tag){case 0:case 11:case 15:if(2&$.mode)try{cj();var ee=$.return;try{Ak(4,$)}catch(se){W($,ee,se)}}finally{aj($)}else{var te=$.return;try{Ak(4,$)}catch(se){W($,te,se)}}break;case 1:var ne=$.stateNode;if("function"===typeof ne.componentDidMount){var re=$.return;try{ne.componentDidMount()}catch(se){W($,re,se)}}var ie=$.return;try{Bk($)}catch(se){W($,ie,se)}break;case 5:var ae=$.return;try{Bk($)}catch(se){W($,ae,se)}}}catch(se){W($,$.return,se)}if($===_){To=null;break}var oe=$.sibling;if(null!==oe){oe.return=$.return,To=oe;break}To=$.return}}var Ro,Co=Math.ceil,Vo=pe.ReactCurrentDispatcher,Do=pe.ReactCurrentOwner,No=pe.ReactCurrentBatchConfig,Oo=0,Mo=null,Fo=null,jo=0,Lo=0,Uo=hg(0),Bo=0,zo=null,qo=0,Wo=0,Ho=0,$o=null,Ko=null,Go=0,Yo=1/0,Qo=null,Xo=!1,Jo=null,Zo=null,es=!1,ts=null,ns=0,rs=[],is=0,os=null,ss=-1,ls=0;function Ri(){return 0!==(6&Oo)?At():-1!==ss?ss:ss=At()}function Oi(_){return 0===(1&_.mode)?1:0!==(2&Oo)&&0!==jo?jo&-jo:null!==Jr.transition?(0===ls&&(ls=Kc()),ls):0!==(_=Bt)?_:_=void 0===(_=window.event)?16:xd(_.type)}function ui(_,$,ee,te){if(50<is)throw is=0,os=null,Error(p(185));Mc(_,ee,te),0!==(2&Oo)&&_===Mo||(Ot&&Pc(_,$,ee),_===Mo&&(0===(2&Oo)&&(Wo|=ee),4===Bo&&ol(_,jo)),pl(_,te),1===ee&&0===Oo&&0===(1&$.mode)&&(Yo=At()+500,Fr&&xg()))}function pl(_,$){var ee=_.callbackNode;!function Ic(_,$){for(var ee=_.suspendedLanes,te=_.pingedLanes,ne=_.expirationTimes,re=_.pendingLanes;0<re;){var ie=31-Mt(re),ae=1<<ie,oe=ne[ie];-1===oe?0!==(ae&ee)&&0===(ae&te)||(ne[ie]=Hc(ae,$)):oe<=$&&(_.expiredLanes|=ae),re&=~ae}}(_,$);var te=Gc(_,_===Mo?jo:0);if(0===te)null!==ee&&xt(ee),_.callbackNode=null,_.callbackPriority=0;else if($=te&-te,_.callbackPriority!==$){if(null!=ee&&xt(ee),1===$)0===_.tag?function wg(_){Fr=!0,vg(_)}(ql.bind(null,_)):vg(ql.bind(null,_)),xr((function(){0===(6&Oo)&&xg()})),ee=null;else{switch(Rc(te)){case 1:ee=Pt;break;case 4:ee=It;break;case 16:default:ee=St;break;case 536870912:ee=Ct}ee=rl(ee,sl.bind(null,_))}_.callbackPriority=$,_.callbackNode=ee}}function sl(_,$){if(co=lo=!1,ss=-1,ls=0,0!==(6&Oo))throw Error(p(327));var ee=_.callbackNode;if(tl()&&_.callbackNode!==ee)return null;var te=Gc(_,_===Mo?jo:0);if(0===te)return null;if(0!==(30&te)||0!==(te&_.expiredLanes)||$)$=ul(_,te);else{$=te;var ne=Oo;Oo|=2;var re=vl();if(Mo!==_||jo!==$){if(Ot){var ie=_.memoizedUpdaters;0<ie.size&&(wj(_,jo),ie.clear()),Qc(_,$)}Qo=null,Yo=At()+500,wl(_,$)}for(wc($);;)try{xl();break}catch(ae){yl(_,ae)}nh(),Vo.current=re,Oo=ne,null!==Fo?(null!==Nt&&"function"===typeof Nt.markRenderYielded&&Nt.markRenderYielded(),$=0):(xc(),Mo=null,jo=0,$=Bo)}if(0!==$){if(2===$&&(0!==(ne=Jc(_))&&(te=ne,$=zl(_,ne))),1===$)throw ee=zo,wl(_,0),ol(_,te),pl(_,At()),ee;if(6===$)ol(_,te);else{if(ne=_.current.alternate,0===(30&te)&&!function Al(_){for(var $=_;;){if(16384&$.flags){var ee=$.updateQueue;if(null!==ee&&null!==(ee=ee.stores))for(var te=0;te<ee.length;te++){var ne=ee[te],re=ne.getSnapshot;ne=ne.value;try{if(!Yn(re(),ne))return!1}catch(ie){return!1}}}if(ee=$.child,16384&$.subtreeFlags&&null!==ee)ee.return=$,$=ee;else{if($===_)break;for(;null===$.sibling;){if(null===$.return||$.return===_)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}(ne)&&(2===($=ul(_,te))&&(0!==(re=Jc(_))&&(te=re,$=zl(_,re))),1===$))throw ee=zo,wl(_,0),ol(_,te),pl(_,At()),ee;switch(_.finishedWork=ne,_.finishedLanes=te,$){case 0:case 1:throw Error(p(345));case 2:case 5:Cl(_,Ko,Qo);break;case 3:if(ol(_,te),(130023424&te)===te&&10<($=Go+500-At())){if(0!==Gc(_,0))break;if(((ne=_.suspendedLanes)&te)!==te){Ri(),_.pingedLanes|=_.suspendedLanes&ne;break}_.timeoutHandle=vr(Cl.bind(null,_,Ko,Qo),$);break}Cl(_,Ko,Qo);break;case 4:if(ol(_,te),(4194240&te)===te)break;for($=_.eventTimes,ne=-1;0<te;)re=1<<(ie=31-Mt(te)),(ie=$[ie])>ne&&(ne=ie),te&=~re;if(te=ne,10<(te=(120>(te=At()-te)?120:480>te?480:1080>te?1080:1920>te?1920:3e3>te?3e3:4320>te?4320:1960*Co(te/1960))-te)){_.timeoutHandle=vr(Cl.bind(null,_,Ko,Qo),te);break}Cl(_,Ko,Qo);break;default:throw Error(p(329))}}}return pl(_,At()),_.callbackNode===ee?sl.bind(null,_):null}function zl(_,$){var ee=$o;return _.current.memoizedState.isDehydrated&&(wl(_,$).flags|=256),2!==(_=ul(_,$))&&($=Ko,Ko=ee,null!==$&&lk($)),_}function lk(_){null===Ko?Ko=_:Ko.push.apply(Ko,_)}function ol(_,$){for($&=~Ho,$&=~Wo,_.suspendedLanes|=$,_.pingedLanes&=~$,_=_.expirationTimes;0<$;){var ee=31-Mt($),te=1<<ee;_[ee]=-1,$&=~te}}function ql(_){if(lo=co,co=!1,0!==(6&Oo))throw Error(p(327));tl();var $=Gc(_,0);if(0===(1&$))return pl(_,At()),null;var ee=ul(_,$);if(0!==_.tag&&2===ee){var te=Jc(_);0!==te&&($=te,ee=zl(_,te))}if(1===ee)throw ee=zo,wl(_,0),ol(_,$),pl(_,At()),ee;if(6===ee)throw Error(p(345));return _.finishedWork=_.current.alternate,_.finishedLanes=$,Cl(_,Ko,Qo),pl(_,At()),null}function Dl(_,$){var ee=Oo;Oo|=1;try{return _($)}finally{0===(Oo=ee)&&(Yo=At()+500,Fr&&xg())}}function El(_){null!==ts&&0===ts.tag&&0===(6&Oo)&&tl();var $=Oo;Oo|=1;var ee=No.transition,te=Bt;try{if(No.transition=null,Bt=1,_)return _()}finally{Bt=te,No.transition=ee,0===(6&(Oo=$))&&xg()}}function nk(){Lo=Uo.current,G(Uo)}function wl(_,$){_.finishedWork=null,_.finishedLanes=0;var ee=_.timeoutHandle;if(-1!==ee&&(_.timeoutHandle=-1,br(ee)),null!==Fo)for(ee=Fo.return;null!==ee;){var te=ee;switch(Kg(te),te.tag){case 1:null!==(te=te.type.childContextTypes)&&void 0!==te&&ng();break;case 3:Nh(),G(Nr),G(Dr),Sh();break;case 5:Ph(te);break;case 4:Nh();break;case 13:case 19:G(Yi);break;case 10:oh(te.type._context);break;case 22:case 23:nk()}ee=ee.return}if(Mo=_,Fo=_=ch(_.current,null),jo=Lo=$,Bo=0,zo=null,Ho=Wo=qo=0,Ko=$o=null,null!==bi){for($=0;$<bi.length;$++)if(null!==(te=(ee=bi[$]).interleaved)){ee.interleaved=null;var ne=te.next,re=ee.pending;if(null!==re){var ie=re.next;re.next=ne,te.next=ie}ee.pending=te}bi=null}return _}function yl(_,$){for(;;){var ee=Fo;try{if(nh(),Zi.current=Ha,Na){for(var te=ga.memoizedState;null!==te;){var ne=te.queue;null!==ne&&(ne.pending=null),te=te.next}Na=!1}if(ca=0,ya=_a=ga=null,Fa=!1,Ba=0,Do.current=null,null===ee||null===ee.return){Bo=1,zo=$,Fo=null;break}if(2&ee.mode&&$i(ee,!0),tc(),null!==$&&"object"===typeof $&&"function"===typeof $.then){var re=$;null!==Nt&&"function"===typeof Nt.markComponentSuspended&&Nt.markComponentSuspended(ee,re,jo)}else null!==Nt&&"function"===typeof Nt.markComponentErrored&&Nt.markComponentErrored(ee,$,jo);e:{var ie=_,ae=ee.return,oe=ee;if(re=$,$=jo,oe.flags|=32768,Ot&&wj(ie,$),null!==re&&"object"===typeof re&&"function"===typeof re.then){var se=re,le=oe,de=le.tag;if(0===(1&le.mode)&&(0===de||11===de||15===de)){var he=le.alternate;he?(le.updateQueue=he.updateQueue,le.memoizedState=he.memoizedState,le.lanes=he.lanes):(le.updateQueue=null,le.memoizedState=null)}var fe=xj(ae);if(null!==fe){fe.flags&=-257,yj(fe,ae,oe,0,$),1&fe.mode&&uj(ie,se,$),re=se;var pe=($=fe).updateQueue;if(null===pe){var me=new Set;me.add(re),$.updateQueue=me}else pe.add(re);break e}if(0===(1&$)){uj(ie,se,$),Zj();break e}re=Error(p(426))}else if(Qr&&1&oe.mode){var _e=xj(ae);if(null!==_e){0===(65536&_e.flags)&&(_e.flags|=256),yj(_e,ae,oe,0,$),Xg(lj(re,oe));break e}}ie=re=lj(re,oe),4!==Bo&&(Bo=2),null===$o?$o=[ie]:$o.push(ie),ie=ae;do{switch(ie.tag){case 3:ie.flags|=65536,$&=-$,ie.lanes|=$,Dh(ie,pj(0,re,$));break e;case 1:oe=re;var be=ie.type,we=ie.stateNode;if(0===(128&ie.flags)&&("function"===typeof be.getDerivedStateFromError||null!==we&&"function"===typeof we.componentDidCatch&&(null===Zo||!Zo.has(we)))){ie.flags|=65536,$&=-$,ie.lanes|=$,Dh(ie,sj(ie,oe,$));break e}}ie=ie.return}while(null!==ie)}Fl(ee)}catch(Ee){$=Ee,Fo===ee&&null!==ee&&(Fo=ee=ee.return);continue}break}}function vl(){var _=Vo.current;return Vo.current=Ha,null===_?Ha:_}function Zj(){0!==Bo&&3!==Bo&&2!==Bo||(Bo=4),null===Mo||0===(268435455&qo)&&0===(268435455&Wo)||ol(Mo,jo)}function ul(_,$){var ee=Oo;Oo|=2;var te=vl();if(Mo!==_||jo!==$){if(Ot){var ne=_.memoizedUpdaters;0<ne.size&&(wj(_,jo),ne.clear()),Qc(_,$)}Qo=null,wl(_,$)}for(wc($);;)try{Gl();break}catch(re){yl(_,re)}if(nh(),Oo=ee,Vo.current=te,null!==Fo)throw Error(p(261));return xc(),Mo=null,jo=0,Bo}function Gl(){for(;null!==Fo;)Hl(Fo)}function xl(){for(;null!==Fo&&!Et();)Hl(Fo)}function Hl(_){var $=_.alternate;0!==(2&_.mode)?(oo=ro(),0>_.actualStartTime&&(_.actualStartTime=ro()),$=Ro($,_,Lo),$i(_,!0)):$=Ro($,_,Lo),_.memoizedProps=_.pendingProps,null===$?Fl(_):Fo=$,Do.current=null}function Fl(_){var $=_;do{var ee=$.alternate;if(_=$.return,0===(32768&$.flags)){if(0===(2&$.mode))ee=kk(ee,$,Lo);else{var te=$;oo=ro(),0>te.actualStartTime&&(te.actualStartTime=ro()),ee=kk(ee,$,Lo),$i($,!1)}if(null!==ee)return void(Fo=ee)}else{if(null!==(ee=ok(ee,$)))return ee.flags&=32767,void(Fo=ee);if(0!==(2&$.mode)){for($i($,!1),ee=$.actualDuration,te=$.child;null!==te;)ee+=te.actualDuration,te=te.sibling;$.actualDuration=ee}if(null===_)return Bo=6,void(Fo=null);_.flags|=32768,_.subtreeFlags=0,_.deletions=null}if(null!==($=$.sibling))return void(Fo=$);Fo=$=_}while(null!==$);0===Bo&&(Bo=5)}function Cl(_,$,ee){var te=Bt,ne=No.transition;try{No.transition=null,Bt=1,function Jl(_,$,ee,te){do{tl()}while(null!==ts);if(0!==(6&Oo))throw Error(p(327));ee=_.finishedWork;var ne=_.finishedLanes;if(null!==Nt&&"function"===typeof Nt.markCommitStarted&&Nt.markCommitStarted(ne),null===ee)return rc(),null;if(_.finishedWork=null,_.finishedLanes=0,ee===_.current)throw Error(p(177));_.callbackNode=null,_.callbackPriority=0;var re=ee.lanes|ee.childLanes;if(function Nc(_,$){var ee=_.pendingLanes&~$;_.pendingLanes=$,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=$,_.mutableReadLanes&=$,_.entangledLanes&=$,$=_.entanglements;var te=_.eventTimes;for(_=_.expirationTimes;0<ee;){var ne=31-Mt(ee),re=1<<ne;$[ne]=0,te[ne]=-1,_[ne]=-1,ee&=~re}}(_,re),_===Mo&&(Fo=Mo=null,jo=0),0===(2064&ee.subtreeFlags)&&0===(2064&ee.flags)||es||(es=!0,rl(St,(function(){return tl(),null}))),re=0!==(15990&ee.flags),0!==(15990&ee.subtreeFlags)||re){re=No.transition,No.transition=null;var ie=Bt;Bt=1;var ae=Oo;Oo|=4,Do.current=null,function yk(_,$){if(_r=rn,af(_=$e())){if("selectionStart"in _)var ee={start:_.selectionStart,end:_.selectionEnd};else e:{var te=(ee=(ee=_.ownerDocument)&&ee.defaultView||window).getSelection&&ee.getSelection();if(te&&0!==te.rangeCount){ee=te.anchorNode;var ne=te.anchorOffset,re=te.focusNode;te=te.focusOffset;try{ee.nodeType,re.nodeType}catch(ke){ee=null;break e}var ie=0,ae=-1,oe=-1,se=0,le=0,de=_,he=null;t:for(;;){for(var fe;de!==ee||0!==ne&&3!==de.nodeType||(ae=ie+ne),de!==re||0!==te&&3!==de.nodeType||(oe=ie+te),3===de.nodeType&&(ie+=de.nodeValue.length),null!==(fe=de.firstChild);)he=de,de=fe;for(;;){if(de===_)break t;if(he===ee&&++se===ne&&(ae=ie),he===re&&++le===te&&(oe=ie),null!==(fe=de.nextSibling))break;he=(de=he).parentNode}de=fe}ee=-1===ae||-1===oe?null:{start:ae,end:oe}}else ee=null}ee=ee||{start:0,end:0}}else ee=null;for(yr={focusedElem:_,selectionRange:ee},rn=!1,To=$;null!==To;)if(_=($=To).child,0!==(1028&$.subtreeFlags)&&null!==_)_.return=$,To=_;else for(;null!==To;){$=To;try{var pe=$.alternate;if(0!==(1024&$.flags))switch($.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==pe){var me=pe.memoizedProps,_e=pe.memoizedState,be=$.stateNode,we=be.getSnapshotBeforeUpdate($.elementType===$.type?me:ej($.type,me),_e);be.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Ee=$.stateNode.containerInfo;1===Ee.nodeType?Ee.textContent="":9===Ee.nodeType&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;default:throw Error(p(163))}}catch(ke){W($,$.return,ke)}if(null!==(_=$.sibling)){_.return=$.return,To=_;break}To=$.return}return pe=Po,Po=!1,pe}(_,ee),io=ro(),function Mk(_,$,ee){Ao=ee,ko=_,Nk($,_),ko=Ao=null}(_,ee,ne),bf(yr),rn=!!_r,yr=_r=null,_.current=ee,null!==Nt&&"function"===typeof Nt.markLayoutEffectsStarted&&Nt.markLayoutEffectsStarted(ne),Sk(ee,_,ne),null!==Nt&&"function"===typeof Nt.markLayoutEffectsStopped&&Nt.markLayoutEffectsStopped(),Tt(),Oo=ae,Bt=ie,No.transition=re}else _.current=ee,io=ro();if(es&&(es=!1,ts=_,ns=ne),re=_.pendingLanes,0===re&&(Zo=null),function nc(_,$){if(Dt&&"function"===typeof Dt.onCommitFiberRoot)try{var ee=128===(128&_.current.flags);switch($){case 1:var te=Pt;break;case 4:te=It;break;case 16:default:te=St;break;case 536870912:te=Ct}Dt.onCommitFiberRoot(Vt,_,te,ee)}catch(ne){}}(ee.stateNode,te),Ot&&_.memoizedUpdaters.clear(),pl(_,At()),null!==$)for(te=_.onRecoverableError,ee=0;ee<$.length;ee++)ne=$[ee],te(ne.value,{componentStack:ne.stack,digest:ne.digest});if(Xo)throw Xo=!1,_=Jo,Jo=null,_;return 0!==(1&ns)&&0!==_.tag&&tl(),re=_.pendingLanes,0!==(1&re)?(co=!0,_===os?is++:(is=0,os=_)):is=0,xg(),rc(),null}(_,$,ee,te)}finally{No.transition=ne,Bt=te}return null}function tl(){if(null!==ts){var _=Rc(ns),$=No.transition,ee=Bt;try{if(No.transition=null,Bt=16>_?16:_,null===ts)var te=!1;else{_=ts;var ne=ns;if(ts=null,ns=0,0!==(6&Oo))throw Error(p(331));for(null!==Nt&&"function"===typeof Nt.markPassiveEffectsStarted&&Nt.markPassiveEffectsStarted(ne),ne=Oo,Oo|=4,To=_.current;null!==To;){var re=To,ie=re.child;if(0!==(16&To.flags)){var ae=re.deletions;if(null!==ae){for(var oe=0;oe<ae.length;oe++){var se=ae[oe];for(To=se;null!==To;){var le=To,de=le;switch(de.tag){case 0:case 11:case 15:2&de.mode?(so=ro(),zk(8,de,re),bj(de)):zk(8,de,re)}var he=le.child;if(null!==he)he.return=le,To=he;else for(;null!==To;){var fe=(le=To).sibling,pe=le.return;if(Ck(le),le===se){To=null;break}if(null!==fe){fe.return=pe,To=fe;break}To=pe}}}var me=re.alternate;if(null!==me){var _e=me.child;if(null!==_e){me.child=null;do{var be=_e.sibling;_e.sibling=null,_e=be}while(null!==_e)}}To=re}}if(0!==(2064&re.subtreeFlags)&&null!==ie)ie.return=re,To=ie;else e:for(;null!==To;){if(0!==(2048&(re=To).flags))switch(oe=re,oe.tag){case 0:case 11:case 15:2&oe.mode?(so=ro(),zk(9,oe,oe.return),bj(oe)):zk(9,oe,oe.return)}var we=re.sibling;if(null!==we){we.return=re.return,To=we;break e}To=re.return}}var Ee=_.current;for(To=Ee;null!==To;){var ke=(ie=To).child;if(0!==(2064&ie.subtreeFlags)&&null!==ke)ke.return=ie,To=ke;else e:for(ie=Ee;null!==To;){if(0!==(2048&(ae=To).flags))try{switch((se=ae).tag){case 0:case 11:case 15:if(2&se.mode){so=ro();try{Ak(9,se)}finally{bj(se)}}else Ak(9,se)}}catch(et){W(ae,ae.return,et)}if(ae===ie){To=null;break e}var Ve=ae.sibling;if(null!==Ve){Ve.return=ae.return,To=Ve;break e}To=ae.return}}for(Ee=rs,rs=[],ke=0;ke<Ee.length;ke++){var De=Ee[ke];if(0!==(4&De.flags)&&12===De.tag){var Ne=De.stateNode.passiveEffectDuration,Me=De.memoizedProps,je=Me.id,Le=Me.onPostCommit;Ve=io;var ze=null===De.alternate?"mount":"update";lo&&(ze="nested-update"),"function"===typeof Le&&Le(je,ze,Ne,Ve);var qe=De.return;e:for(;null!==qe;){switch(qe.tag){case 3:case 12:qe.stateNode.passiveEffectDuration+=Ne;break e}qe=qe.return}}}if(null!==Nt&&"function"===typeof Nt.markPassiveEffectsStopped&&Nt.markPassiveEffectsStopped(),Oo=ne,xg(),Dt&&"function"===typeof Dt.onPostCommitFiberRoot)try{Dt.onPostCommitFiberRoot(Vt,_)}catch(et){}var Ke=_.current.stateNode;Ke.effectDuration=0,Ke.passiveEffectDuration=0,te=!0}return te}finally{Bt=ee,No.transition=$}}return!1}function Wk(_){rs.push(_),es||(es=!0,rl(St,(function(){return tl(),null})))}function Kl(_,$,ee){_=Bh(_,$=pj(0,$=lj(ee,$),1),1),$=Ri(),null!==_&&(Mc(_,1,$),pl(_,$))}function W(_,$,ee){if(3===_.tag)Kl(_,_,ee);else for(;null!==$;){if(3===$.tag){Kl($,_,ee);break}if(1===$.tag){var te=$.stateNode;if("function"===typeof $.type.getDerivedStateFromError||"function"===typeof te.componentDidCatch&&(null===Zo||!Zo.has(te))){$=Bh($,_=sj($,_=lj(ee,_),1),1),_=Ri(),null!==$&&(Mc($,1,_),pl($,_));break}}$=$.return}}function vj(_,$,ee){var te=_.pingCache;null!==te&&te.delete($),$=Ri(),_.pingedLanes|=_.suspendedLanes&ee,Mo===_&&(jo&ee)===ee&&(4===Bo||3===Bo&&(130023424&jo)===jo&&500>At()-Go?wl(_,0):Ho|=ee),pl(_,$)}function Ll(_,$){0===$&&(0===(1&_.mode)?$=1:($=Ut,0===(130023424&(Ut<<=1))&&(Ut=4194304)));var ee=Ri();null!==(_=wh(_,$))&&(Mc(_,$,ee),pl(_,ee))}function ak(_){var $=_.memoizedState,ee=0;null!==$&&(ee=$.retryLane),Ll(_,ee)}function Lk(_,$){var ee=0;switch(_.tag){case 13:var te=_.stateNode,ne=_.memoizedState;null!==ne&&(ee=ne.retryLane);break;case 19:te=_.stateNode;break;default:throw Error(p(314))}null!==te&&te.delete($),Ll(_,ee)}function wj(_,$){Ot&&_.memoizedUpdaters.forEach((function(ee){Pc(_,ee,$)}))}function rl(_,$){return wt(_,$)}function Nl(_,$,ee,te){this.tag=_,this.key=ee,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=te,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=0,this.actualStartTime=-1,this.treeBaseDuration=this.selfBaseDuration=0}function Pg(_,$,ee,te){return new Nl(_,$,ee,te)}function Ej(_){return!(!(_=_.prototype)||!_.isReactComponent)}function ch(_,$){var ee=_.alternate;return null===ee?((ee=Pg(_.tag,$,_.key,_.mode)).elementType=_.elementType,ee.type=_.type,ee.stateNode=_.stateNode,ee.alternate=_,_.alternate=ee):(ee.pendingProps=$,ee.type=_.type,ee.flags=0,ee.subtreeFlags=0,ee.deletions=null,ee.actualDuration=0,ee.actualStartTime=-1),ee.flags=14680064&_.flags,ee.childLanes=_.childLanes,ee.lanes=_.lanes,ee.child=_.child,ee.memoizedProps=_.memoizedProps,ee.memoizedState=_.memoizedState,ee.updateQueue=_.updateQueue,$=_.dependencies,ee.dependencies=null===$?null:{lanes:$.lanes,firstContext:$.firstContext},ee.sibling=_.sibling,ee.index=_.index,ee.ref=_.ref,ee.selfBaseDuration=_.selfBaseDuration,ee.treeBaseDuration=_.treeBaseDuration,ee}function eh(_,$,ee,te,ne,re){var ie=2;if(te=_,"function"===typeof _)Ej(_)&&(ie=1);else if("string"===typeof _)ie=5;else e:switch(_){case be:return gh(ee.children,ne,re,$);case we:ie=8,ne|=8;break;case Ee:return(_=Pg(12,ee,$,2|ne)).elementType=Ee,_.lanes=re,_.stateNode={effectDuration:0,passiveEffectDuration:0},_;case Ne:return(_=Pg(13,ee,$,ne)).elementType=Ne,_.lanes=re,_;case Me:return(_=Pg(19,ee,$,ne)).elementType=Me,_.lanes=re,_;case ze:return Vj(ee,ne,re,$);default:if("object"===typeof _&&null!==_)switch(_.$$typeof){case ke:ie=10;break e;case Ve:ie=9;break e;case De:ie=11;break e;case je:ie=14;break e;case Le:ie=16,te=null;break e}throw Error(p(130,null==_?_:typeof _,""))}return($=Pg(ie,ee,$,ne)).elementType=_,$.type=te,$.lanes=re,$}function gh(_,$,ee,te){return(_=Pg(7,_,te,$)).lanes=ee,_}function Vj(_,$,ee,te){return(_=Pg(22,_,te,$)).elementType=ze,_.lanes=ee,_.stateNode={isHidden:!1},_}function dh(_,$,ee){return(_=Pg(6,_,null,$)).lanes=ee,_}function fh(_,$,ee){return($=Pg(4,null!==_.children?_.children:[],_.key,$)).lanes=ee,$.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},$}function Ol(_,$,ee,te,ne){for(this.tag=$,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=te,this.onRecoverableError=ne,this.mutableSourceEagerHydrationData=null,this.passiveEffectDuration=this.effectDuration=0,this.memoizedUpdaters=new Set,_=this.pendingUpdatersLaneMap=[],$=0;31>$;$++)_.push(new Set)}function Pl(_,$,ee,te,ne,re,ie,ae,oe){return _=new Ol(_,$,ee,ae,oe),1===$?($=1,!0===re&&($|=8)):$=0,Ot&&($|=2),re=Pg(3,null,null,$),_.current=re,re.stateNode=_,re.memoizedState={element:te,isDehydrated:ee,cache:null,transitions:null,pendingSuspenseBoundaries:null},yh(re),_}function Rl(_){if(!_)return Vr;e:{if(Vb(_=_._reactInternals)!==_||1!==_.tag)throw Error(p(170));var $=_;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(mg($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while(null!==$);throw Error(p(171))}if(1===_.tag){var ee=_.type;if(mg(ee))return pg(_,ee,$)}return $}function Sl(_,$,ee,te,ne,re,ie,ae,oe){return(_=Pl(ee,te,!0,_,0,re,0,ae,oe)).context=Rl(null),ee=_.current,(re=Ah(te=Ri(),ne=Oi(ee))).callback=void 0!==$&&null!==$?$:null,Bh(ee,re,ne),_.current.lanes=ne,Mc(_,ne,te),pl(_,te),_}function Tl(_,$,ee,te){var ne=$.current,re=Ri(),ie=Oi(ne);return null!==Nt&&"function"===typeof Nt.markRenderScheduled&&Nt.markRenderScheduled(ie),ee=Rl(ee),null===$.context?$.context=ee:$.pendingContext=ee,($=Ah(re,ie)).payload={element:_},null!==(te=void 0===te?null:te)&&($.callback=te),null!==(_=Bh(ne,$,ie))&&(ui(_,ne,ie,re),Ch(_,ne,ie)),ie}function Ul(_){return(_=_.current).child?(_.child.tag,_.child.stateNode):null}function Vl(_,$){if(null!==(_=_.memoizedState)&&null!==_.dehydrated){var ee=_.retryLane;_.retryLane=0!==ee&&ee<$?ee:$}}function Wl(_,$){Vl(_,$),(_=_.alternate)&&Vl(_,$)}Ro=function(_,$,ee){if(null!==_)if(_.memoizedProps!==$.pendingProps||Nr.current)po=!0;else{if(0===(_.lanes&ee)&&0===(128&$.flags))return po=!1,function ek(_,$,ee){switch($.tag){case 3:Oj($),Wg();break;case 5:Oh($);break;case 1:mg($.type)&&qg($);break;case 4:Mh($,$.stateNode.containerInfo);break;case 10:var te=$.type._context,ne=$.memoizedProps.value;H(ci,te._currentValue),te._currentValue=ne;break;case 12:0!==(ee&$.childLanes)&&($.flags|=4),(te=$.stateNode).effectDuration=0,te.passiveEffectDuration=0;break;case 13:if(null!==(te=$.memoizedState))return null!==te.dehydrated?(H(Yi,1&Yi.current),$.flags|=128,null):0!==(ee&$.child.childLanes)?Uj(_,$,ee):(H(Yi,1&Yi.current),null!==(_=Cj(_,$,ee))?_.sibling:null);H(Yi,1&Yi.current);break;case 19:if(te=0!==(ee&$.childLanes),0!==(128&_.flags)){if(te)return dk(_,$,ee);$.flags|=128}if(null!==(ne=$.memoizedState)&&(ne.rendering=null,ne.tail=null,ne.lastEffect=null),H(Yi,Yi.current),te)break;return null;case 22:case 23:return $.lanes=0,Hj(_,$,ee)}return Cj(_,$,ee)}(_,$,ee);po=0!==(131072&_.flags)}else po=!1,Qr&&0!==(1048576&$.flags)&&Ig($,zr,$.index);switch($.lanes=0,$.tag){case 2:var te=$.type;Mj(_,$),_=$.pendingProps;var ne=lg($,Dr.current);qh($,ee),sc($),ne=ai(null,$,te,_,ne,ee);var re=fi();return tc(),$.flags|=1,"object"===typeof ne&&null!==ne&&"function"===typeof ne.render&&void 0===ne.$$typeof?($.tag=1,$.memoizedState=null,$.updateQueue=null,mg(te)?(re=!0,qg($)):re=!1,$.memoizedState=null!==ne.state&&void 0!==ne.state?ne.state:null,yh($),ne.updater=uo,$.stateNode=ne,ne._reactInternals=$,kj($,te,_,ee),$=Nj(null,$,te,!0,re,ee)):($.tag=0,Qr&&re&&Jg($),Aj(null,$,ne,ee),$=$.child),$;case 16:te=$.elementType;e:{switch(Mj(_,$),_=$.pendingProps,te=(ne=te._init)(te._payload),$.type=te,ne=$.tag=function Ml(_){if("function"===typeof _)return Ej(_)?1:0;if(void 0!==_&&null!==_){if((_=_.$$typeof)===De)return 11;if(_===je)return 14}return 2}(te),_=ej(te,_),ne){case 0:$=Gj(null,$,te,_,ee);break e;case 1:$=Lj(null,$,te,_,ee);break e;case 11:$=Bj(null,$,te,_,ee);break e;case 14:$=Dj(null,$,te,ej(te.type,_),ee);break e}throw Error(p(306,te,""))}return $;case 0:return te=$.type,ne=$.pendingProps,Gj(_,$,te,ne=$.elementType===te?ne:ej(te,ne),ee);case 1:return te=$.type,ne=$.pendingProps,Lj(_,$,te,ne=$.elementType===te?ne:ej(te,ne),ee);case 3:e:{if(Oj($),null===_)throw Error(p(387));te=$.pendingProps,ne=(re=$.memoizedState).element,zh(_,$),Eh($,te,null,ee);var ie=$.memoizedState;if(te=ie.element,re.isDehydrated){if(re={element:te,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},$.updateQueue.baseState=re,$.memoizedState=re,256&$.flags){$=Rj(_,$,te,ee,ne=lj(Error(p(423)),$));break e}if(te!==ne){$=Rj(_,$,te,ee,ne=lj(Error(p(424)),$));break e}for(Yr=Zf($.stateNode.containerInfo.firstChild),Gr=$,Qr=!0,Xr=null,ee=ei($,null,te,ee),$.child=ee;ee;)ee.flags=-3&ee.flags|4096,ee=ee.sibling}else{if(Wg(),te===ne){$=Cj(_,$,ee);break e}Aj(_,$,te,ee)}$=$.child}return $;case 5:return Oh($),null===_&&Sg($),te=$.type,ne=$.pendingProps,re=null!==_?_.memoizedProps:null,ie=ne.children,Sf(te,ne)?ie=null:null!==re&&Sf(te,re)&&($.flags|=32),Kj(_,$),Aj(_,$,ie,ee),$.child;case 6:return null===_&&Sg($),null;case 13:return Uj(_,$,ee);case 4:return Mh($,$.stateNode.containerInfo),te=$.pendingProps,null===_?$.child=Zr($,null,te,ee):Aj(_,$,te,ee),$.child;case 11:return te=$.type,ne=$.pendingProps,Bj(_,$,te,ne=$.elementType===te?ne:ej(te,ne),ee);case 7:return Aj(_,$,$.pendingProps,ee),$.child;case 8:return Aj(_,$,$.pendingProps.children,ee),$.child;case 12:return $.flags|=4,(te=$.stateNode).effectDuration=0,te.passiveEffectDuration=0,Aj(_,$,$.pendingProps.children,ee),$.child;case 10:e:{if(te=$.type._context,ne=$.pendingProps,re=$.memoizedProps,ie=ne.value,H(ci,te._currentValue),te._currentValue=ie,null!==re)if(Yn(re.value,ie)){if(re.children===ne.children&&!Nr.current){$=Cj(_,$,ee);break e}}else for(null!==(re=$.child)&&(re.return=$);null!==re;){var ae=re.dependencies;if(null!==ae){ie=re.child;for(var oe=ae.firstContext;null!==oe;){if(oe.context===te){if(1===re.tag){(oe=Ah(-1,ee&-ee)).tag=2;var se=re.updateQueue;if(null!==se){var le=(se=se.shared).pending;null===le?oe.next=oe:(oe.next=le.next,le.next=oe),se.pending=oe}}re.lanes|=ee,null!==(oe=re.alternate)&&(oe.lanes|=ee),ph(re.return,ee,$),ae.lanes|=ee;break}oe=oe.next}}else if(10===re.tag)ie=re.type===$.type?null:re.child;else if(18===re.tag){if(null===(ie=re.return))throw Error(p(341));ie.lanes|=ee,null!==(ae=ie.alternate)&&(ae.lanes|=ee),ph(ie,ee,$),ie=re.sibling}else ie=re.child;if(null!==ie)ie.return=re;else for(ie=re;null!==ie;){if(ie===$){ie=null;break}if(null!==(re=ie.sibling)){re.return=ie.return,ie=re;break}ie=ie.return}re=ie}Aj(_,$,ne.children,ee),$=$.child}return $;case 9:return ne=$.type,te=$.pendingProps.children,qh($,ee),ne=sh(ne),sc($),te=te(ne),tc(),$.flags|=1,Aj(_,$,te,ee),$.child;case 14:return ne=ej(te=$.type,$.pendingProps),Dj(_,$,te,ne=ej(te.type,ne),ee);case 15:return Fj(_,$,$.type,$.pendingProps,ee);case 17:return te=$.type,ne=$.pendingProps,ne=$.elementType===te?ne:ej(te,ne),Mj(_,$),$.tag=1,mg(te)?(_=!0,qg($)):_=!1,qh($,ee),ij($,te,ne),kj($,te,ne,ee),Nj(null,$,te,!0,_,ee);case 19:return dk(_,$,ee);case 22:return Hj(_,$,ee)}throw Error(p(156,$.tag))};var cs="function"===typeof reportError?reportError:function(_){console.error(_)};function Zl(_){this._internalRoot=_}function $l(_){this._internalRoot=_}function am(_){return!(!_||1!==_.nodeType&&9!==_.nodeType&&11!==_.nodeType)}function bm(_){return!(!_||1!==_.nodeType&&9!==_.nodeType&&11!==_.nodeType&&(8!==_.nodeType||" react-mount-point-unstable "!==_.nodeValue))}function cm(){}function em(_,$,ee,te,ne){var re=ee._reactRootContainer;if(re){var ie=re;if("function"===typeof ne){var ae=ne;ne=function(){var _=Ul(ie);ae.call(_)}}Tl($,ie,_,ne)}else ie=function dm(_,$,ee,te,ne){if(ne){if("function"===typeof te){var re=te;te=function(){var _=Ul(ie);re.call(_)}}var ie=Sl($,te,_,0,null,!1,0,"",cm);return _._reactRootContainer=ie,_[kr]=ie.current,Gf(8===_.nodeType?_.parentNode:_),El(),ie}for(;ne=_.lastChild;)_.removeChild(ne);if("function"===typeof te){var ae=te;te=function(){var _=Ul(oe);ae.call(_)}}var oe=Pl(_,0,!1,null,0,!1,0,"",cm);return _._reactRootContainer=oe,_[kr]=oe.current,Gf(8===_.nodeType?_.parentNode:_),El((function(){Tl($,oe,ee,te)})),oe}(ee,$,_,ne,te);return Ul(ie)}$l.prototype.render=Zl.prototype.render=function(_){var $=this._internalRoot;if(null===$)throw Error(p(409));Tl(_,$,null,null)},$l.prototype.unmount=Zl.prototype.unmount=function(){var _=this._internalRoot;if(null!==_){this._internalRoot=null;var $=_.containerInfo;El((function(){Tl(null,_,null,null)})),$[kr]=null}},$l.prototype.unstable_scheduleHydration=function(_){if(_){var $=Ht();_={blockedOn:null,target:_,priority:$};for(var ee=0;ee<en.length&&0!==$&&$<en[ee].priority;ee++);en.splice(ee,0,_),0===ee&&id(_)}},zt=function(_){switch(_.tag){case 3:var $=_.stateNode;if($.current.memoizedState.isDehydrated){var ee=Fc($.pendingLanes);0!==ee&&(Oc($,1|ee),pl($,At()),0===(6&Oo)&&(Yo=At()+500,xg()))}break;case 13:El((function(){var $=wh(_,1);if(null!==$){var ee=Ri();ui($,_,1,ee)}})),Wl(_,1)}},qt=function(_){if(13===_.tag){var $=wh(_,134217728);if(null!==$)ui($,_,134217728,Ri());Wl(_,134217728)}},Wt=function(_){if(13===_.tag){var $=Oi(_),ee=wh(_,$);if(null!==ee)ui(ee,_,$,Ri());Wl(_,$)}},Ht=function(){return Bt},$t=function(_,$){var ee=Bt;try{return Bt=_,$()}finally{Bt=ee}},ut=function(_,$,ee){switch($){case"input":if(ab(_,ee),$=ee.name,"radio"===ee.type&&null!=$){for(ee=_;ee.parentNode;)ee=ee.parentNode;for(ee=ee.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ee.length;$++){var te=ee[$];if(te!==_&&te.form===_.form){var ne=Db(te);if(!ne)throw Error(p(90));Wa(te),ab(te,ne)}}}break;case"textarea":hb(_,ee);break;case"select":null!=($=ee.value)&&eb(_,!!ee.multiple,$,!1)}},Gb=Dl,Hb=El;var us={usingClientEntryPoint:!1,Events:[Cb,Ie,Db,Eb,Fb,Dl]},ds={findFiberByHostInstance:jd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"};!function(_){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var $=__REACT_DEVTOOLS_GLOBAL_HOOK__;if($.isDisabled||!$.supportsFiber)return!0;try{_=et({},_,{getLaneLabelMap:pc,injectProfilingHooks:oc}),Vt=$.inject(_),Dt=$}catch(ee){}$.checkDCE}({bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(_){return null===(_=Zb(_))?null:_.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||function Xl(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"}),$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=us,$.createPortal=function(_,$){var ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!am($))throw Error(p(200));return function Ql(_,$,ee){var te=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_e,key:null==te?null:""+te,children:_,containerInfo:$,implementation:ee}}(_,$,null,ee)},$.createRoot=function(_,$){if(!am(_))throw Error(p(299));var ee=!1,te="",ne=cs;return null!==$&&void 0!==$&&(!0===$.unstable_strictMode&&(ee=!0),void 0!==$.identifierPrefix&&(te=$.identifierPrefix),void 0!==$.onRecoverableError&&(ne=$.onRecoverableError)),$=Pl(_,1,!1,null,0,ee,0,te,ne),_[kr]=$.current,Gf(8===_.nodeType?_.parentNode:_),new Zl($)},$.findDOMNode=function(_){if(null==_)return null;if(1===_.nodeType)return _;var $=_._reactInternals;if(void 0===$){if("function"===typeof _.render)throw Error(p(188));throw _=Object.keys(_).join(","),Error(p(268,_))}return _=null===(_=Zb($))?null:_.stateNode},$.flushSync=function(_){return El(_)},$.hydrate=function(_,$,ee){if(!bm($))throw Error(p(200));return em(null,_,$,!0,ee)},$.hydrateRoot=function(_,$,ee){if(!am(_))throw Error(p(405));var te=null!=ee&&ee.hydratedSources||null,ne=!1,re="",ie=cs;if(null!==ee&&void 0!==ee&&(!0===ee.unstable_strictMode&&(ne=!0),void 0!==ee.identifierPrefix&&(re=ee.identifierPrefix),void 0!==ee.onRecoverableError&&(ie=ee.onRecoverableError)),$=Sl($,null,_,1,null!=ee?ee:null,ne,0,re,ie),_[kr]=$.current,Gf(_),te)for(_=0;_<te.length;_++)ne=(ne=(ee=te[_])._getVersion)(ee._source),null==$.mutableSourceEagerHydrationData?$.mutableSourceEagerHydrationData=[ee,ne]:$.mutableSourceEagerHydrationData.push(ee,ne);return new $l($)},$.render=function(_,$,ee){if(!bm($))throw Error(p(200));return em(null,_,$,!1,ee)},$.unmountComponentAtNode=function(_){if(!bm(_))throw Error(p(40));return!!_._reactRootContainer&&(El((function(){em(null,null,_,!1,(function(){_._reactRootContainer=null,_[kr]=null}))})),!0)},$.unstable_batchedUpdates=Dl,$.unstable_renderSubtreeIntoContainer=function(_,$,ee,te){if(!bm(ee))throw Error(p(200));if(null==_||void 0===_._reactInternals)throw Error(p(38));return em(_,$,ee,!1,te)},$.version="18.3.1-next-f1338f8080-20240426","undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)},2308:(_,$,ee)=>{"use strict";function createDOMMotionComponentProxy(_){if("undefined"===typeof Proxy)return _;const $=new Map;return new Proxy((function(){return _(...arguments)}),{get:(ee,te)=>"create"===te?_:($.has(te)||$.set(te,_(te)),$.get(te))})}function isAnimationControls(_){return null!==_&&"object"===typeof _&&"function"===typeof _.start}function getValueState(_){const $=[{},{}];return _?.values.forEach(((_,ee)=>{$[0][ee]=_.get(),$[1][ee]=_.getVelocity()})),$}function resolveVariantFromProps(_,$,ee,te){if("function"===typeof $){const[ne,re]=getValueState(te);$=$(void 0!==ee?ee:_.custom,ne,re)}if("string"===typeof $&&($=_.variants&&_.variants[$]),"function"===typeof $){const[ne,re]=getValueState(te);$=$(void 0!==ee?ee:_.custom,ne,re)}return $}function resolveVariant(_,$,ee){const te=_.getProps();return resolveVariantFromProps(te,$,void 0!==ee?ee:te.custom,_)}function getValueTransition(_,$){return _?.[$]??_?.default??_}ee.d($,{P:()=>xr});const noop=_=>_,te={},ne=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],re={value:null,addProjectionMetrics:null};function createRenderBatcher(_,$){let ee=!1,ie=!0;const ae={delta:0,timestamp:0,isProcessing:!1},flagRunNextFrame=()=>ee=!0,oe=ne.reduce(((_,ee)=>(_[ee]=function createRenderStep(_,$){let ee=new Set,te=new Set,ne=!1,ie=!1;const ae=new WeakSet;let oe={delta:0,timestamp:0,isProcessing:!1},se=0;function triggerCallback($){ae.has($)&&(le.schedule($),_()),se++,$(oe)}const le={schedule:function(_){const $=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&ne?ee:te;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&ae.add(_),$.has(_)||$.add(_),_},cancel:_=>{te.delete(_),ae.delete(_)},process:_=>{oe=_,ne?ie=!0:(ne=!0,[ee,te]=[te,ee],ee.forEach(triggerCallback),$&&re.value&&re.value.frameloop[$].push(se),se=0,ee.clear(),ne=!1,ie&&(ie=!1,le.process(_)))}};return le}(flagRunNextFrame,$?ee:void 0),_)),{}),{setup:se,read:le,resolveKeyframes:de,preUpdate:he,update:fe,preRender:pe,render:me,postRender:_e}=oe,processBatch=()=>{const ne=te.useManualTiming?ae.timestamp:performance.now();ee=!1,te.useManualTiming||(ae.delta=ie?1e3/60:Math.max(Math.min(ne-ae.timestamp,40),1)),ae.timestamp=ne,ae.isProcessing=!0,se.process(ae),le.process(ae),de.process(ae),he.process(ae),fe.process(ae),pe.process(ae),me.process(ae),_e.process(ae),ae.isProcessing=!1,ee&&$&&(ie=!1,_(processBatch))},be=ne.reduce((($,te)=>{const ne=oe[te];return $[te]=function($){let te=arguments.length>1&&void 0!==arguments[1]&&arguments[1],re=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ee||(ee=!0,ie=!0,ae.isProcessing||_(processBatch)),ne.schedule($,te,re)},$}),{});return{schedule:be,cancel:_=>{for(let $=0;$<ne.length;$++)oe[ne[$]].cancel(_)},state:ae,steps:oe}}const{schedule:ie,cancel:ae,state:oe,steps:se}=createRenderBatcher("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:noop,!0),le=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],de=(()=>new Set(le))(),he=new Set(["width","height","top","left","right","bottom",...le]);function addUniqueItem(_,$){-1===_.indexOf($)&&_.push($)}function removeItem(_,$){const ee=_.indexOf($);ee>-1&&_.splice(ee,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_){return addUniqueItem(this.subscriptions,_),()=>removeItem(this.subscriptions,_)}notify(_,$,ee){const te=this.subscriptions.length;if(te)if(1===te)this.subscriptions[0](_,$,ee);else for(let ne=0;ne<te;ne++){const te=this.subscriptions[ne];te&&te(_,$,ee)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(_,$){return $?_*(1e3/$):0}let fe;function clearTime(){fe=void 0}const pe={now:()=>(void 0===fe&&pe.set(oe.isProcessing||te.useManualTiming?oe.timestamp:performance.now()),fe),set:_=>{fe=_,queueMicrotask(clearTime)}},me={current:void 0};class MotionValue{constructor(_){var $=this;let ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(_){let ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const te=pe.now();$.updatedAt!==te&&$.setPrevFrameValue(),$.prev=$.current,$.setCurrent(_),$.current!==$.prev&&$.events.change?.notify($.current),ee&&$.events.renderRequest?.notify($.current)},this.hasAnimated=!1,this.setCurrent(_),this.owner=ee.owner}setCurrent(_){var $;this.current=_,this.updatedAt=pe.now(),null===this.canTrackVelocity&&void 0!==_&&(this.canTrackVelocity=($=this.current,!isNaN(parseFloat($))))}setPrevFrameValue(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=_,this.prevUpdatedAt=this.updatedAt}onChange(_){return this.on("change",_)}on(_,$){this.events[_]||(this.events[_]=new SubscriptionManager);const ee=this.events[_].add($);return"change"===_?()=>{ee(),ie.read((()=>{this.events.change.getSize()||this.stop()}))}:ee}clearListeners(){for(const _ in this.events)this.events[_].clear()}attach(_,$){this.passiveEffect=_,this.stopPassiveEffect=$}set(_){let $=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];$&&this.passiveEffect?this.passiveEffect(_,this.updateAndNotify):this.updateAndNotify(_,$)}setWithVelocity(_,$,ee){this.set($),this.prev=void 0,this.prevFrameValue=_,this.prevUpdatedAt=this.updatedAt-ee}jump(_){let $=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(_),this.prev=_,this.prevUpdatedAt=this.prevFrameValue=void 0,$&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return me.current&&me.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const _=pe.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||_-this.updatedAt>30)return 0;const $=Math.min(this.updatedAt-this.prevUpdatedAt,30);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),$)}start(_){return this.stop(),new Promise(($=>{this.hasAnimated=!0,this.animation=_($),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_,$){return new MotionValue(_,$)}const isKeyframesTarget=_=>Array.isArray(_);function setMotionValue(_,$,ee){_.hasValue($)?_.getValue($).set(ee):_.addValue($,motionValue(ee))}const isMotionValue=_=>Boolean(_&&_.getVelocity);function addValueToWillChange(_,$){const ee=_.getValue("willChange");if(function isWillChangeMotionValue(_){return Boolean(isMotionValue(_)&&_.add)}(ee))return ee.add($);if(!ee&&te.WillChange){const ee=new te.WillChange("auto");_.addValue("willChange",ee),ee.add($)}}const camelToDash=_=>_.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_e="data-"+camelToDash("framerAppearId");function getOptimisedAppearId(_){return _.props[_e]}const combineFunctions=(_,$)=>ee=>$(_(ee)),pipe=function(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];return $.reduce(combineFunctions)},clamp=(_,$,ee)=>ee>$?$:ee<_?_:ee,time_conversion_secondsToMilliseconds=_=>1e3*_,millisecondsToSeconds=_=>_/1e3,be={layout:0,mainThread:0,waapi:0};const checkStringStartsWith=_=>$=>"string"===typeof $&&$.startsWith(_),we=checkStringStartsWith("--"),Ee=checkStringStartsWith("var(--"),isCSSVariableToken=_=>!!Ee(_)&&ke.test(_.split("/*")[0].trim()),ke=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ve={test:_=>"number"===typeof _,parse:parseFloat,transform:_=>_},De={...Ve,transform:_=>clamp(0,1,_)},Ne={...Ve,default:1},sanitize=_=>Math.round(1e5*_)/1e5,Me=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const je=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(_,$)=>ee=>Boolean("string"===typeof ee&&je.test(ee)&&ee.startsWith(_)||$&&!function isNullish(_){return null==_}(ee)&&Object.prototype.hasOwnProperty.call(ee,$)),splitColor=(_,$,ee)=>te=>{if("string"!==typeof te)return te;const[ne,re,ie,ae]=te.match(Me);return{[_]:parseFloat(ne),[$]:parseFloat(re),[ee]:parseFloat(ie),alpha:void 0!==ae?parseFloat(ae):1}},Le={...Ve,transform:_=>Math.round((_=>clamp(0,255,_))(_))},ze={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:_=>{let{red:$,green:ee,blue:te,alpha:ne=1}=_;return"rgba("+Le.transform($)+", "+Le.transform(ee)+", "+Le.transform(te)+", "+sanitize(De.transform(ne))+")"}};const qe={test:isColorString("#"),parse:function parseHex(_){let $="",ee="",te="",ne="";return _.length>5?($=_.substring(1,3),ee=_.substring(3,5),te=_.substring(5,7),ne=_.substring(7,9)):($=_.substring(1,2),ee=_.substring(2,3),te=_.substring(3,4),ne=_.substring(4,5),$+=$,ee+=ee,te+=te,ne+=ne),{red:parseInt($,16),green:parseInt(ee,16),blue:parseInt(te,16),alpha:ne?parseInt(ne,16)/255:1}},transform:ze.transform},createUnitType=_=>({test:$=>"string"===typeof $&&$.endsWith(_)&&1===$.split(" ").length,parse:parseFloat,transform:$=>`${$}${_}`}),Ke=createUnitType("deg"),et=createUnitType("%"),tt=createUnitType("px"),nt=createUnitType("vh"),rt=createUnitType("vw"),it=(()=>({...et,parse:_=>et.parse(_)/100,transform:_=>et.transform(100*_)}))(),at={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:_=>{let{hue:$,saturation:ee,lightness:te,alpha:ne=1}=_;return"hsla("+Math.round($)+", "+et.transform(sanitize(ee))+", "+et.transform(sanitize(te))+", "+sanitize(De.transform(ne))+")"}},ot={test:_=>ze.test(_)||qe.test(_)||at.test(_),parse:_=>ze.test(_)?ze.parse(_):at.test(_)?at.parse(_):qe.parse(_),transform:_=>"string"===typeof _?_:_.hasOwnProperty("red")?ze.transform(_):at.transform(_)},st=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const lt="number",ct="color",ut=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_){const $=_.toString(),ee=[],te={color:[],number:[],var:[]},ne=[];let re=0;const ie=$.replace(ut,(_=>(ot.test(_)?(te.color.push(re),ne.push(ct),ee.push(ot.parse(_))):_.startsWith("var(")?(te.var.push(re),ne.push("var"),ee.push(_)):(te.number.push(re),ne.push(lt),ee.push(parseFloat(_))),++re,"${}"))).split("${}");return{values:ee,split:ie,indexes:te,types:ne}}function parseComplexValue(_){return analyseComplexValue(_).values}function createTransformer(_){const{split:$,types:ee}=analyseComplexValue(_),te=$.length;return _=>{let ne="";for(let re=0;re<te;re++)if(ne+=$[re],void 0!==_[re]){const $=ee[re];ne+=$===lt?sanitize(_[re]):$===ct?ot.transform(_[re]):_[re]}return ne}}const convertNumbersToZero=_=>"number"===typeof _?0:_;const dt={test:function test(_){return isNaN(_)&&"string"===typeof _&&(_.match(Me)?.length||0)+(_.match(st)?.length||0)>0},parse:parseComplexValue,createTransformer:createTransformer,getAnimatableNone:function getAnimatableNone(_){const $=parseComplexValue(_);return createTransformer(_)($.map(convertNumbersToZero))}};function hueToRgb(_,$,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<1/6?_+6*($-_)*ee:ee<.5?$:ee<2/3?_+($-_)*(2/3-ee)*6:_}function mixImmediate(_,$){return ee=>ee>0?$:_}const mixNumber=(_,$,ee)=>_+($-_)*ee,mixLinearColor=(_,$,ee)=>{const te=_*_,ne=ee*($*$-te)+te;return ne<0?0:Math.sqrt(ne)},ht=[qe,ze,at];function asRGBA(_){const $=(ee=_,ht.find((_=>_.test(ee))));var ee;if(Boolean($),!Boolean($))return!1;let te=$.parse(_);return $===at&&(te=function hslaToRgba(_){let{hue:$,saturation:ee,lightness:te,alpha:ne}=_;$/=360,ee/=100,te/=100;let re=0,ie=0,ae=0;if(ee){const _=te<.5?te*(1+ee):te+ee-te*ee,ne=2*te-_;re=hueToRgb(ne,_,$+1/3),ie=hueToRgb(ne,_,$),ae=hueToRgb(ne,_,$-1/3)}else re=ie=ae=te;return{red:Math.round(255*re),green:Math.round(255*ie),blue:Math.round(255*ae),alpha:ne}}(te)),te}const mixColor=(_,$)=>{const ee=asRGBA(_),te=asRGBA($);if(!ee||!te)return mixImmediate(_,$);const ne={...ee};return _=>(ne.red=mixLinearColor(ee.red,te.red,_),ne.green=mixLinearColor(ee.green,te.green,_),ne.blue=mixLinearColor(ee.blue,te.blue,_),ne.alpha=mixNumber(ee.alpha,te.alpha,_),ze.transform(ne))},ft=new Set(["none","hidden"]);function complex_mixNumber(_,$){return ee=>mixNumber(_,$,ee)}function getMixer(_){return"number"===typeof _?complex_mixNumber:"string"===typeof _?isCSSVariableToken(_)?mixImmediate:ot.test(_)?mixColor:mixComplex:Array.isArray(_)?mixArray:"object"===typeof _?ot.test(_)?mixColor:mixObject:mixImmediate}function mixArray(_,$){const ee=[..._],te=ee.length,ne=_.map(((_,ee)=>getMixer(_)(_,$[ee])));return _=>{for(let $=0;$<te;$++)ee[$]=ne[$](_);return ee}}function mixObject(_,$){const ee={..._,...$},te={};for(const ne in ee)void 0!==_[ne]&&void 0!==$[ne]&&(te[ne]=getMixer(_[ne])(_[ne],$[ne]));return _=>{for(const $ in te)ee[$]=te[$](_);return ee}}const mixComplex=(_,$)=>{const ee=dt.createTransformer($),te=analyseComplexValue(_),ne=analyseComplexValue($);return te.indexes.var.length===ne.indexes.var.length&&te.indexes.color.length===ne.indexes.color.length&&te.indexes.number.length>=ne.indexes.number.length?ft.has(_)&&!ne.values.length||ft.has($)&&!te.values.length?function mixVisibility(_,$){return ft.has(_)?ee=>ee<=0?_:$:ee=>ee>=1?$:_}(_,$):pipe(mixArray(function matchOrder(_,$){const ee=[],te={color:0,var:0,number:0};for(let ne=0;ne<$.values.length;ne++){const re=$.types[ne],ie=_.indexes[re][te[re]],ae=_.values[ie]??0;ee[ne]=ae,te[re]++}return ee}(te,ne),ne.values),ee):mixImmediate(_,$)};function mix(_,$,ee){if("number"===typeof _&&"number"===typeof $&&"number"===typeof ee)return mixNumber(_,$,ee);return getMixer(_)(_,$)}const frameloopDriver=_=>{const passTimestamp=$=>{let{timestamp:ee}=$;return _(ee)};return{start:()=>ie.update(passTimestamp,!0),stop:()=>ae(passTimestamp),now:()=>oe.isProcessing?oe.timestamp:pe.now()}},generateLinearEasing=function(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,te="";const ne=Math.max(Math.round($/ee),2);for(let re=0;re<ne;re++)te+=_(re/(ne-1))+", ";return`linear(${te.substring(0,te.length-2)})`},pt=2e4;function calcGeneratorDuration(_){let $=0;let ee=_.next($);for(;!ee.done&&$<pt;)$+=50,ee=_.next($);return $>=pt?1/0:$}function calcGeneratorVelocity(_,$,ee){const te=Math.max($-5,0);return velocityPerSecond(ee-_(te),$-te)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gt=.001;function findSpring(_){let $,ee,{duration:te=mt.duration,bounce:ne=mt.bounce,velocity:re=mt.velocity,mass:ie=mt.mass}=_;time_conversion_secondsToMilliseconds(mt.maxDuration);let ae=1-ne;ae=clamp(mt.minDamping,mt.maxDamping,ae),te=clamp(mt.minDuration,mt.maxDuration,millisecondsToSeconds(te)),ae<1?($=_=>{const $=_*ae,ee=$*te,ne=$-re,ie=calcAngularFreq(_,ae),oe=Math.exp(-ee);return gt-ne/ie*oe},ee=_=>{const ee=_*ae*te,ne=ee*re+re,ie=Math.pow(ae,2)*Math.pow(_,2)*te,oe=Math.exp(-ee),se=calcAngularFreq(Math.pow(_,2),ae);return(-$(_)+gt>0?-1:1)*((ne-ie)*oe)/se}):($=_=>Math.exp(-_*te)*((_-re)*te+1)-.001,ee=_=>Math.exp(-_*te)*(te*te*(re-_)));const oe=function approximateRoot(_,$,ee){let te=ee;for(let ne=1;ne<_t;ne++)te-=_(te)/$(te);return te}($,ee,5/te);if(te=time_conversion_secondsToMilliseconds(te),isNaN(oe))return{stiffness:mt.stiffness,damping:mt.damping,duration:te};{const _=Math.pow(oe,2)*ie;return{stiffness:_,damping:2*ae*Math.sqrt(ie*_),duration:te}}}const _t=12;function calcAngularFreq(_,$){return _*Math.sqrt(1-$*$)}const yt=["duration","bounce"],vt=["stiffness","damping","mass"];function isSpringType(_,$){return $.some(($=>void 0!==_[$]))}function spring(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt.visualDuration,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.bounce;const ee="object"!==typeof _?{visualDuration:_,keyframes:[0,1],bounce:$}:_;let{restSpeed:te,restDelta:ne}=ee;const re=ee.keyframes[0],ie=ee.keyframes[ee.keyframes.length-1],ae={done:!1,value:re},{stiffness:oe,damping:se,mass:le,duration:de,velocity:he,isResolvedFromDuration:fe}=function getSpringOptions(_){let $={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,..._};if(!isSpringType(_,vt)&&isSpringType(_,yt))if(_.visualDuration){const ee=_.visualDuration,te=2*Math.PI/(1.2*ee),ne=te*te,re=2*clamp(.05,1,1-(_.bounce||0))*Math.sqrt(ne);$={...$,mass:mt.mass,stiffness:ne,damping:re}}else{const ee=findSpring(_);$={...$,...ee,mass:mt.mass},$.isResolvedFromDuration=!0}return $}({...ee,velocity:-millisecondsToSeconds(ee.velocity||0)}),pe=he||0,me=se/(2*Math.sqrt(oe*le)),_e=ie-re,be=millisecondsToSeconds(Math.sqrt(oe/le)),we=Math.abs(_e)<5;let Ee;if(te||(te=we?mt.restSpeed.granular:mt.restSpeed.default),ne||(ne=we?mt.restDelta.granular:mt.restDelta.default),me<1){const _=calcAngularFreq(be,me);Ee=$=>{const ee=Math.exp(-me*be*$);return ie-ee*((pe+me*be*_e)/_*Math.sin(_*$)+_e*Math.cos(_*$))}}else if(1===me)Ee=_=>ie-Math.exp(-be*_)*(_e+(pe+be*_e)*_);else{const _=be*Math.sqrt(me*me-1);Ee=$=>{const ee=Math.exp(-me*be*$),te=Math.min(_*$,300);return ie-ee*((pe+me*be*_e)*Math.sinh(te)+_*_e*Math.cosh(te))/_}}const ke={calculatedDuration:fe&&de||null,next:_=>{const $=Ee(_);if(fe)ae.done=_>=de;else{let ee=0===_?pe:0;me<1&&(ee=0===_?time_conversion_secondsToMilliseconds(pe):calcGeneratorVelocity(Ee,_,$));const re=Math.abs(ee)<=te,oe=Math.abs(ie-$)<=ne;ae.done=re&&oe}return ae.value=ae.done?ie:$,ae},toString:()=>{const _=Math.min(calcGeneratorDuration(ke),pt),$=generateLinearEasing(($=>ke.next(_*$).value),_,30);return _+"ms "+$},toTransition:()=>{}};return ke}function inertia(_){let{keyframes:$,velocity:ee=0,power:te=.8,timeConstant:ne=325,bounceDamping:re=10,bounceStiffness:ie=500,modifyTarget:ae,min:oe,max:se,restDelta:le=.5,restSpeed:de}=_;const he=$[0],fe={done:!1,value:he},nearestBoundary=_=>void 0===oe?se:void 0===se||Math.abs(oe-_)<Math.abs(se-_)?oe:se;let pe=te*ee;const me=he+pe,_e=void 0===ae?me:ae(me);_e!==me&&(pe=_e-he);const calcDelta=_=>-pe*Math.exp(-_/ne),calcLatest=_=>_e+calcDelta(_),applyFriction=_=>{const $=calcDelta(_),ee=calcLatest(_);fe.done=Math.abs($)<=le,fe.value=fe.done?_e:ee};let be,we;const checkCatchBoundary=_=>{var $;($=fe.value,void 0!==oe&&$<oe||void 0!==se&&$>se)&&(be=_,we=spring({keyframes:[fe.value,nearestBoundary(fe.value)],velocity:calcGeneratorVelocity(calcLatest,_,fe.value),damping:re,stiffness:ie,restDelta:le,restSpeed:de}))};return checkCatchBoundary(0),{calculatedDuration:null,next:_=>{let $=!1;return we||void 0!==be||($=!0,applyFriction(_),checkCatchBoundary(_)),void 0!==be&&_>=be?we.next(_-be):(!$&&applyFriction(_),fe)}}}spring.applyToOptions=_=>{const $=function createGeneratorEasing(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const ee=(arguments.length>2?arguments[2]:void 0)({..._,keyframes:[0,$]}),te=Math.min(calcGeneratorDuration(ee),pt);return{type:"keyframes",ease:_=>ee.next(te*_).value/$,duration:millisecondsToSeconds(te)}}(_,100,spring);return _.ease=$.ease,_.duration=time_conversion_secondsToMilliseconds($.duration),_.type="keyframes",_};const calcBezier=(_,$,ee)=>(((1-3*ee+3*$)*_+(3*ee-6*$))*_+3*$)*_;function cubicBezier(_,$,ee,te){if(_===$&&ee===te)return noop;const getTForX=$=>function binarySubdivide(_,$,ee,te,ne){let re,ie,ae=0;do{ie=$+(ee-$)/2,re=calcBezier(ie,te,ne)-_,re>0?ee=ie:$=ie}while(Math.abs(re)>1e-7&&++ae<12);return ie}($,0,1,_,ee);return _=>0===_||1===_?_:calcBezier(getTForX(_),$,te)}const bt=cubicBezier(.42,0,1,1),wt=cubicBezier(0,0,.58,1),xt=cubicBezier(.42,0,.58,1),mirrorEasing=_=>$=>$<=.5?_(2*$)/2:(2-_(2*(1-$)))/2,reverseEasing=_=>$=>1-_(1-$),Et=cubicBezier(.33,1.53,.69,.99),Tt=reverseEasing(Et),At=mirrorEasing(Tt),anticipate=_=>(_*=2)<1?.5*Tt(_):.5*(2-Math.pow(2,-10*(_-1))),circIn=_=>1-Math.sin(Math.acos(_)),kt=reverseEasing(circIn),Pt=mirrorEasing(circIn),isBezierDefinition=_=>Array.isArray(_)&&"number"===typeof _[0],It={linear:noop,easeIn:bt,easeInOut:xt,easeOut:wt,circIn:circIn,circInOut:Pt,circOut:kt,backIn:Tt,backInOut:At,backOut:Et,anticipate:anticipate},easingDefinitionToFunction=_=>{if(isBezierDefinition(_)){_.length;const[$,ee,te,ne]=_;return cubicBezier($,ee,te,ne)}return"string"===typeof _?It[_]:_},progress=(_,$,ee)=>{const te=$-_;return 0===te?1:(ee-_)/te};function interpolate(_,$){let{clamp:ee=!0,ease:ne,mixer:re}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ie=_.length;if($.length,1===ie)return()=>$[0];if(2===ie&&$[0]===$[1])return()=>$[1];const ae=_[0]===_[1];_[0]>_[ie-1]&&(_=[..._].reverse(),$=[...$].reverse());const oe=function createMixers(_,$,ee){const ne=[],re=ee||te.mix||mix,ie=_.length-1;for(let te=0;te<ie;te++){let ee=re(_[te],_[te+1]);if($){const _=Array.isArray($)?$[te]||noop:$;ee=pipe(_,ee)}ne.push(ee)}return ne}($,ne,re),se=oe.length,interpolator=ee=>{if(ae&&ee<_[0])return $[0];let te=0;if(se>1)for(;te<_.length-2&&!(ee<_[te+1]);te++);const ne=progress(_[te],_[te+1],ee);return oe[te](ne)};return ee?$=>interpolator(clamp(_[0],_[ie-1],$)):interpolator}function defaultOffset(_){const $=[0];return function fillOffset(_,$){const ee=_[_.length-1];for(let te=1;te<=$;te++){const ne=progress(0,$,te);_.push(mixNumber(ee,1,ne))}}($,_.length-1),$}function keyframes(_){let{duration:$=300,keyframes:ee,times:te,ease:ne="easeInOut"}=_;const re=(_=>Array.isArray(_)&&"number"!==typeof _[0])(ne)?ne.map(easingDefinitionToFunction):easingDefinitionToFunction(ne),ie={done:!1,value:ee[0]},ae=function convertOffsetToTimes(_,$){return _.map((_=>_*$))}(te&&te.length===ee.length?te:defaultOffset(ee),$),oe=interpolate(ae,ee,{ease:Array.isArray(re)?re:(se=ee,le=re,se.map((()=>le||xt)).splice(0,se.length-1))});var se,le;return{calculatedDuration:$,next:_=>(ie.value=oe(_),ie.done=_>=$,ie)}}const isNotNull=_=>null!==_;function getFinalKeyframe(_,$,ee){let{repeat:te,repeatType:ne="loop"}=$,re=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const ie=_.filter(isNotNull),ae=re<0||te&&"loop"!==ne&&te%2===1?0:ie.length-1;return ae&&void 0!==ee?ee:ie[ae]}const St={decay:inertia,inertia:inertia,tween:keyframes,keyframes:keyframes,spring:spring};function replaceTransitionType(_){"string"===typeof _.type&&(_.type=St[_.type])}class WithPromise{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise((_=>{this.resolve=_}))}notifyFinished(){this.resolve()}then(_,$){return this.finished.then(_,$)}}const percentToProgress=_=>_/100;class JSAnimation extends WithPromise{constructor(_){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:_}=this.options;if(_&&_.updatedAt!==pe.now()&&this.tick(pe.now()),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:$}=this.options;$&&$()},be.mainThread++,this.options=_,this.initAnimation(),this.play(),!1===_.autoplay&&this.pause()}initAnimation(){const{options:_}=this;replaceTransitionType(_);const{type:$=keyframes,repeat:ee=0,repeatDelay:te=0,repeatType:ne,velocity:re=0}=_;let{keyframes:ie}=_;const ae=$||keyframes;ae!==keyframes&&"number"!==typeof ie[0]&&(this.mixKeyframes=pipe(percentToProgress,mix(ie[0],ie[1])),ie=[0,100]);const oe=ae({..._,keyframes:ie});"mirror"===ne&&(this.mirroredGenerator=ae({..._,keyframes:[...ie].reverse(),velocity:-re})),null===oe.calculatedDuration&&(oe.calculatedDuration=calcGeneratorDuration(oe));const{calculatedDuration:se}=oe;this.calculatedDuration=se,this.resolvedDuration=se+te,this.totalDuration=this.resolvedDuration*(ee+1)-te,this.generator=oe}updateTime(_){const $=Math.round(_-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=$}tick(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:ee,totalDuration:te,mixKeyframes:ne,mirroredGenerator:re,resolvedDuration:ie,calculatedDuration:ae}=this;if(null===this.startTime)return ee.next(0);const{delay:oe=0,keyframes:se,repeat:le,repeatType:de,repeatDelay:he,type:fe,onUpdate:pe,finalKeyframe:me}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_):this.speed<0&&(this.startTime=Math.min(_-te/this.speed,this.startTime)),$?this.currentTime=_:this.updateTime(_);const _e=this.currentTime-oe*(this.playbackSpeed>=0?1:-1),be=this.playbackSpeed>=0?_e<0:_e>te;this.currentTime=Math.max(_e,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=te);let we=this.currentTime,Ee=ee;if(le){const _=Math.min(this.currentTime,te)/ie;let $=Math.floor(_),ee=_%1;!ee&&_>=1&&(ee=1),1===ee&&$--,$=Math.min($,le+1);Boolean($%2)&&("reverse"===de?(ee=1-ee,he&&(ee-=he/ie)):"mirror"===de&&(Ee=re)),we=clamp(0,1,ee)*ie}const ke=be?{done:!1,value:se[0]}:Ee.next(we);ne&&(ke.value=ne(ke.value));let{done:Ve}=ke;be||null===ae||(Ve=this.playbackSpeed>=0?this.currentTime>=te:this.currentTime<=0);const De=null===this.holdTime&&("finished"===this.state||"running"===this.state&&Ve);return De&&fe!==inertia&&(ke.value=getFinalKeyframe(se,this.options,me,this.speed)),pe&&pe(ke.value),De&&this.finish(),ke}then(_,$){return this.finished.then(_,$)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(_){_=time_conversion_secondsToMilliseconds(_),this.currentTime=_,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=_:this.driver&&(this.startTime=this.driver.now()-_/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(_){this.updateTime(pe.now());const $=this.playbackSpeed!==_;this.playbackSpeed=_,$&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:_=frameloopDriver,onPlay:$,startTime:ee}=this.options;this.driver||(this.driver=_((_=>this.tick(_)))),$&&$();const te=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=te):null!==this.holdTime?this.startTime=te-this.holdTime:this.startTime||(this.startTime=ee??te),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pe.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:_}=this.options;_&&_()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,be.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_){return this.startTime=0,this.tick(_,!0)}attachTimeline(_){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),_.observe(this)}}const radToDeg=_=>180*_/Math.PI,rotate=_=>{const $=radToDeg(Math.atan2(_[1],_[0]));return rebaseAngle($)},Rt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:_=>(Math.abs(_[0])+Math.abs(_[3]))/2,rotate:rotate,rotateZ:rotate,skewX:_=>radToDeg(Math.atan(_[1])),skewY:_=>radToDeg(Math.atan(_[2])),skew:_=>(Math.abs(_[1])+Math.abs(_[2]))/2},rebaseAngle=_=>((_%=360)<0&&(_+=360),_),scaleX=_=>Math.sqrt(_[0]*_[0]+_[1]*_[1]),scaleY=_=>Math.sqrt(_[4]*_[4]+_[5]*_[5]),Ct={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:scaleX,scaleY:scaleY,scale:_=>(scaleX(_)+scaleY(_))/2,rotateX:_=>rebaseAngle(radToDeg(Math.atan2(_[6],_[5]))),rotateY:_=>rebaseAngle(radToDeg(Math.atan2(-_[2],_[0]))),rotateZ:rotate,rotate:rotate,skewX:_=>radToDeg(Math.atan(_[4])),skewY:_=>radToDeg(Math.atan(_[1])),skew:_=>(Math.abs(_[1])+Math.abs(_[4]))/2};function defaultTransformValue(_){return _.includes("scale")?1:0}function parseValueFromTransform(_,$){if(!_||"none"===_)return defaultTransformValue($);const ee=_.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let te,ne;if(ee)te=Ct,ne=ee;else{const $=_.match(/^matrix\(([-\d.e\s,]+)\)$/u);te=Rt,ne=$}if(!ne)return defaultTransformValue($);const re=te[$],ie=ne[1].split(",").map(convertTransformToNumber);return"function"===typeof re?re(ie):ie[re]}function convertTransformToNumber(_){return parseFloat(_.trim())}const isNumOrPxType=_=>_===Ve||_===tt,Vt=new Set(["x","y","z"]),Dt=le.filter((_=>!Vt.has(_)));const Nt={width:(_,$)=>{let{x:ee}=_,{paddingLeft:te="0",paddingRight:ne="0"}=$;return ee.max-ee.min-parseFloat(te)-parseFloat(ne)},height:(_,$)=>{let{y:ee}=_,{paddingTop:te="0",paddingBottom:ne="0"}=$;return ee.max-ee.min-parseFloat(te)-parseFloat(ne)},top:(_,$)=>{let{top:ee}=$;return parseFloat(ee)},left:(_,$)=>{let{left:ee}=$;return parseFloat(ee)},bottom:(_,$)=>{let{y:ee}=_,{top:te}=$;return parseFloat(te)+(ee.max-ee.min)},right:(_,$)=>{let{x:ee}=_,{left:te}=$;return parseFloat(te)+(ee.max-ee.min)},x:(_,$)=>{let{transform:ee}=$;return parseValueFromTransform(ee,"x")},y:(_,$)=>{let{transform:ee}=$;return parseValueFromTransform(ee,"y")}};Nt.translateX=Nt.x,Nt.translateY=Nt.y;const Ot=new Set;let Mt=!1,Ft=!1,jt=!1;function measureAllKeyframes(){if(Ft){const _=Array.from(Ot).filter((_=>_.needsMeasurement)),$=new Set(_.map((_=>_.element))),ee=new Map;$.forEach((_=>{const $=function removeNonTranslationalTransform(_){const $=[];return Dt.forEach((ee=>{const te=_.getValue(ee);void 0!==te&&($.push([ee,te.get()]),te.set(ee.startsWith("scale")?1:0))})),$}(_);$.length&&(ee.set(_,$),_.render())})),_.forEach((_=>_.measureInitialState())),$.forEach((_=>{_.render();const $=ee.get(_);$&&$.forEach(($=>{let[ee,te]=$;_.getValue(ee)?.set(te)}))})),_.forEach((_=>_.measureEndState())),_.forEach((_=>{void 0!==_.suspendedScrollY&&window.scrollTo(0,_.suspendedScrollY)}))}Ft=!1,Mt=!1,Ot.forEach((_=>_.complete(jt))),Ot.clear()}function readAllKeyframes(){Ot.forEach((_=>{_.readKeyframes(),_.needsMeasurement&&(Ft=!0)}))}class KeyframeResolver{constructor(_,$,ee,te,ne){let re=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[..._],this.onComplete=$,this.name=ee,this.motionValue=te,this.element=ne,this.isAsync=re}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ot.add(this),Mt||(Mt=!0,ie.read(readAllKeyframes),ie.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_,name:$,element:ee,motionValue:te}=this;if(null===_[0]){const ne=te?.get(),re=_[_.length-1];if(void 0!==ne)_[0]=ne;else if(ee&&$){const te=ee.readValue($,re);void 0!==te&&null!==te&&(_[0]=te)}void 0===_[0]&&(_[0]=re),te&&void 0===ne&&te.set(_[0])}!function fillWildcards(_){for(let $=1;$<_.length;$++)_[$]??(_[$]=_[$-1])}(_)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let _=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,_),Ot.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ot.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}function memo(_){let $;return()=>(void 0===$&&($=_()),$)}const Lt=memo((()=>void 0!==window.ScrollTimeline)),Ut={};function memoSupports(_,$){const ee=memo(_);return()=>Ut[$]??ee()}const Bt=memoSupports((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(_){return!1}return!0}),"linearEasing"),cubicBezierAsString=_=>{let[$,ee,te,ne]=_;return`cubic-bezier(${$}, ${ee}, ${te}, ${ne})`},zt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(_,$){return _?"function"===typeof _?Bt()?generateLinearEasing(_,$):"ease-out":isBezierDefinition(_)?cubicBezierAsString(_):Array.isArray(_)?_.map((_=>mapEasingToNativeEasing(_,$)||zt.easeOut)):zt[_]:void 0}function startWaapiAnimation(_,$,ee){let{delay:te=0,duration:ne=300,repeat:ie=0,repeatType:ae="loop",ease:oe="easeOut",times:se}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},le=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const de={[$]:ee};se&&(de.offset=se);const he=mapEasingToNativeEasing(oe,ne);Array.isArray(he)&&(de.easing=he),re.value&&be.waapi++;const fe={delay:te,duration:ne,easing:Array.isArray(he)?"linear":he,fill:"both",iterations:ie+1,direction:"reverse"===ae?"alternate":"normal"};le&&(fe.pseudoElement=le);const pe=_.animate(de,fe);return re.value&&pe.finished.finally((()=>{be.waapi--})),pe}function isGenerator(_){return"function"===typeof _&&"applyToOptions"in _}class NativeAnimation extends WithPromise{constructor(_){if(super(),this.finishedTime=null,this.isStopped=!1,!_)return;const{element:$,name:ee,keyframes:te,pseudoElement:ne,allowFlatten:re=!1,finalKeyframe:ie,onComplete:ae}=_;this.isPseudoElement=Boolean(ne),this.allowFlatten=re,this.options=_,_.type;const oe=function applyGeneratorOptions(_){let{type:$,...ee}=_;return isGenerator($)&&Bt()?$.applyToOptions(ee):(ee.duration??(ee.duration=300),ee.ease??(ee.ease="easeOut"),ee)}(_);this.animation=startWaapiAnimation($,ee,te,oe,ne),!1===oe.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!ne){const _=getFinalKeyframe(te,this.options,ie,this.speed);this.updateMotionValue?this.updateMotionValue(_):function setStyle(_,$,ee){(_=>_.startsWith("--"))($)?_.style.setProperty($,ee):_.style[$]=ee}($,ee,_),this.animation.cancel()}ae?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(_){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:_}=this;"idle"!==_&&"finished"!==_&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const _=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(_))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(_){this.finishedTime=null,this.animation.currentTime=time_conversion_secondsToMilliseconds(_)}get speed(){return this.animation.playbackRate}set speed(_){_<0&&(this.finishedTime=null),this.animation.playbackRate=_}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(_){this.animation.startTime=_}attachTimeline(_){let{timeline:$,observe:ee}=_;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,$&&Lt()?(this.animation.timeline=$,noop):ee(this)}}const qt={anticipate:anticipate,backInOut:At,circInOut:Pt};function replaceStringEasing(_){"string"===typeof _.ease&&function isUnsupportedEase(_){return _ in qt}(_.ease)&&(_.ease=qt[_.ease])}class NativeAnimationExtended extends NativeAnimation{constructor(_){replaceStringEasing(_),replaceTransitionType(_),super(_),_.startTime&&(this.startTime=_.startTime),this.options=_}updateMotionValue(_){const{motionValue:$,onUpdate:ee,onComplete:te,element:ne,...re}=this.options;if(!$)return;if(void 0!==_)return void $.set(_);const ie=new JSAnimation({...re,autoplay:!1}),ae=time_conversion_secondsToMilliseconds(this.finishedTime??this.time);$.setWithVelocity(ie.sample(ae-10).value,ie.sample(ae).value,10),ie.stop()}}const isAnimatable=(_,$)=>"zIndex"!==$&&(!("number"!==typeof _&&!Array.isArray(_))||!("string"!==typeof _||!dt.test(_)&&"0"!==_||_.startsWith("url(")));const Wt=new Set(["opacity","clipPath","filter","transform"]),Ht=memo((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class AsyncMotionValueAnimation extends WithPromise{constructor(_){let{autoplay:$=!0,delay:ee=0,type:te="keyframes",repeat:ne=0,repeatDelay:re=0,repeatType:ie="loop",keyframes:ae,name:oe,motionValue:se,element:le,...de}=_;super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=pe.now();const he={autoplay:$,delay:ee,type:te,repeat:ne,repeatDelay:re,repeatType:ie,name:oe,motionValue:se,element:le,...de},fe=le?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new fe(ae,((_,$,ee)=>this.onKeyframesResolved(_,$,he,!ee)),oe,se,le),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(_,$,ee,ne){this.keyframeResolver=void 0;const{name:re,type:ie,velocity:ae,delay:oe,isHandoff:se,onUpdate:le}=ee;this.resolvedAt=pe.now(),function canAnimate(_,$,ee,te){const ne=_[0];if(null===ne)return!1;if("display"===$||"visibility"===$)return!0;const re=_[_.length-1],ie=isAnimatable(ne,$),ae=isAnimatable(re,$);return!(!ie||!ae)&&(function hasKeyframesChanged(_){const $=_[0];if(1===_.length)return!0;for(let ee=0;ee<_.length;ee++)if(_[ee]!==$)return!0}(_)||("spring"===ee||isGenerator(ee))&&te)}(_,re,ie,ae)||(!te.instantAnimations&&oe||le?.(getFinalKeyframe(_,ee,$)),_[0]=_[_.length-1],ee.duration=0,ee.repeat=0);const de={startTime:ne?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:$,...ee,keyframes:_},he=!se&&function supportsBrowserAnimation(_){const{motionValue:$,name:ee,repeatDelay:te,repeatType:ne,damping:re,type:ie}=_;if(!$||!$.owner||!($.owner.current instanceof HTMLElement))return!1;const{onUpdate:ae,transformTemplate:oe}=$.owner.getProps();return Ht()&&ee&&Wt.has(ee)&&("transform"!==ee||!oe)&&!ae&&!te&&"mirror"!==ne&&0!==re&&"inertia"!==ie}(de)?new NativeAnimationExtended({...de,element:de.motionValue.owner.current}):new JSAnimation(de);he.finished.then((()=>this.notifyFinished())).catch(noop),this.pendingTimeline&&(this.stopTimeline=he.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=he}get finished(){return this._animation?this.animation.finished:this._finished}then(_,$){return this.finished.finally(_).then((()=>{}))}get animation(){return this._animation||function flushKeyframeResolvers(){jt=!0,readAllKeyframes(),measureAllKeyframes(),jt=!1}(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(_){this.animation.time=_}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(_){this.animation.speed=_}get startTime(){return this.animation.startTime}attachTimeline(_){return this._animation?this.stopTimeline=this.animation.attachTimeline(_):this.pendingTimeline=_,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const get_final_keyframe_isNotNull=_=>null!==_;const $t={type:"spring",stiffness:500,damping:25,restSpeed:10},Kt={type:"keyframes",duration:.8},Gt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_,$)=>{let{keyframes:ee}=$;return ee.length>2?Kt:de.has(_)?_.startsWith("scale")?{type:"spring",stiffness:550,damping:0===ee[1]?2*Math.sqrt(550):30,restSpeed:10}:$t:Gt};const animateMotionValue=function(_,$,ee){let ne=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},re=arguments.length>4?arguments[4]:void 0,ae=arguments.length>5?arguments[5]:void 0;return oe=>{const se=getValueTransition(ne,_)||{},le=se.delay||ne.delay||0;let{elapsed:de=0}=ne;de-=time_conversion_secondsToMilliseconds(le);const he={keyframes:Array.isArray(ee)?ee:[null,ee],ease:"easeOut",velocity:$.getVelocity(),...se,delay:-de,onUpdate:_=>{$.set(_),se.onUpdate&&se.onUpdate(_)},onComplete:()=>{oe(),se.onComplete&&se.onComplete()},name:_,motionValue:$,element:ae?void 0:re};(function isTransitionDefined(_){let{when:$,delay:ee,delayChildren:te,staggerChildren:ne,staggerDirection:re,repeat:ie,repeatType:ae,repeatDelay:oe,from:se,elapsed:le,...de}=_;return!!Object.keys(de).length})(se)||Object.assign(he,getDefaultTransition(_,he)),he.duration&&(he.duration=time_conversion_secondsToMilliseconds(he.duration)),he.repeatDelay&&(he.repeatDelay=time_conversion_secondsToMilliseconds(he.repeatDelay)),void 0!==he.from&&(he.keyframes[0]=he.from);let fe=!1;if((!1===he.type||0===he.duration&&!he.repeatDelay)&&(he.duration=0,0===he.delay&&(fe=!0)),(te.instantAnimations||te.skipAnimations)&&(fe=!0,he.duration=0,he.delay=0),he.allowFlatten=!se.type&&!se.ease,fe&&!ae&&void 0!==$.get()){const _=function get_final_keyframe_getFinalKeyframe(_,$,ee){let{repeat:te,repeatType:ne="loop"}=$;const re=_.filter(get_final_keyframe_isNotNull),ie=te&&"loop"!==ne&&te%2===1?0:re.length-1;return ie&&void 0!==ee?ee:re[ie]}(he.keyframes,se);if(void 0!==_)return void ie.update((()=>{he.onUpdate(_),he.onComplete()}))}return new AsyncMotionValueAnimation(he)}};function shouldBlockAnimation(_,$){let{protectedKeys:ee,needsAnimating:te}=_;const ne=ee.hasOwnProperty($)&&!0!==te[$];return te[$]=!1,ne}function animateTarget(_,$){let{delay:ee=0,transitionOverride:te,type:ne}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:re=_.getDefaultTransition(),transitionEnd:ae,...oe}=$;te&&(re=te);const se=[],le=ne&&_.animationState&&_.animationState.getState()[ne];for(const de in oe){const $=_.getValue(de,_.latestValues[de]??null),te=oe[de];if(void 0===te||le&&shouldBlockAnimation(le,de))continue;const ne={delay:ee,...getValueTransition(re||{},de)},ae=$.get();if(void 0!==ae&&!$.isAnimating&&!Array.isArray(te)&&te===ae&&!ne.velocity)continue;let fe=!1;if(window.MotionHandoffAnimation){const $=getOptimisedAppearId(_);if($){const _=window.MotionHandoffAnimation($,de,ie);null!==_&&(ne.startTime=_,fe=!0)}}addValueToWillChange(_,de),$.start(animateMotionValue(de,$,te,_.shouldReduceMotion&&he.has(de)?{type:!1}:ne,_,fe));const pe=$.animation;pe&&se.push(pe)}return ae&&Promise.all(se).then((()=>{ie.update((()=>{ae&&function setTarget(_,$){const ee=resolveVariant(_,$);let{transitionEnd:te={},transition:ne={},...re}=ee||{};re={...re,...te};for(const ae in re)setMotionValue(_,ae,(ie=re[ae],isKeyframesTarget(ie)?ie[ie.length-1]||0:ie));var ie}(_,ae)}))})),se}function animateVariant(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const te=resolveVariant(_,$,"exit"===ee.type?_.presenceContext?.custom:void 0);let{transition:ne=_.getDefaultTransition()||{}}=te||{};ee.transitionOverride&&(ne=ee.transitionOverride);const re=te?()=>Promise.all(animateTarget(_,te,ee)):()=>Promise.resolve(),ie=_.variantChildren&&_.variantChildren.size?function(){let te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:re=0,staggerChildren:ie,staggerDirection:ae}=ne;return function animateChildren(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,re=arguments.length>5?arguments[5]:void 0;const ie=[],ae=(_.variantChildren.size-1)*te,oe=1===ne?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*te}:function(){return ae-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*te};return Array.from(_.variantChildren).sort(sortByTreeOrder).forEach(((_,te)=>{_.notify("AnimationStart",$),ie.push(animateVariant(_,$,{...re,delay:ee+oe(te)}).then((()=>_.notify("AnimationComplete",$))))})),Promise.all(ie)}(_,$,re+te,ie,ae,ee)}:()=>Promise.resolve(),{when:ae}=ne;if(ae){const[_,$]="beforeChildren"===ae?[re,ie]:[ie,re];return _().then((()=>$()))}return Promise.all([re(),ie(ee.delay)])}function sortByTreeOrder(_,$){return _.sortNodePosition($)}function shallowCompare(_,$){if(!Array.isArray($))return!1;const ee=$.length;if(ee!==_.length)return!1;for(let te=0;te<ee;te++)if($[te]!==_[te])return!1;return!0}function isVariantLabel(_){return"string"===typeof _||Array.isArray(_)}const Yt=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qt=["initial",...Yt],Xt=Qt.length;function getVariantContext(_){if(!_)return;if(!_.isControllingVariants){const $=_.parent&&getVariantContext(_.parent)||{};return void 0!==_.props.initial&&($.initial=_.props.initial),$}const $={};for(let ee=0;ee<Xt;ee++){const te=Qt[ee],ne=_.props[te];(isVariantLabel(ne)||!1===ne)&&($[te]=ne)}return $}const Jt=[...Yt].reverse(),Zt=Yt.length;function animateList(_){return $=>Promise.all($.map(($=>{let{animation:ee,options:te}=$;return function animateVisualElement(_,$){let ee,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_.notify("AnimationStart",$),Array.isArray($)){const ne=$.map(($=>animateVariant(_,$,te)));ee=Promise.all(ne)}else if("string"===typeof $)ee=animateVariant(_,$,te);else{const ne="function"===typeof $?resolveVariant(_,$,te.custom):$;ee=Promise.all(animateTarget(_,ne,te))}return ee.then((()=>{_.notify("AnimationComplete",$)}))}(_,ee,te)})))}function createAnimationState(_){let $=animateList(_),ee=createState(),te=!0;const buildResolvedTypeValues=$=>(ee,te)=>{const ne=resolveVariant(_,te,"exit"===$?_.presenceContext?.custom:void 0);if(ne){const{transition:_,transitionEnd:$,...te}=ne;ee={...ee,...te,...$}}return ee};function animateChanges(ne){const{props:re}=_,ie=getVariantContext(_.parent)||{},ae=[],oe=new Set;let se={},le=1/0;for(let $=0;$<Zt;$++){const de=Jt[$],he=ee[de],fe=void 0!==re[de]?re[de]:ie[de],pe=isVariantLabel(fe),me=de===ne?he.isActive:null;!1===me&&(le=$);let _e=fe===ie[de]&&fe!==re[de]&&pe;if(_e&&te&&_.manuallyAnimateOnMount&&(_e=!1),he.protectedKeys={...se},!he.isActive&&null===me||!fe&&!he.prevProp||isAnimationControls(fe)||"boolean"===typeof fe)continue;const be=checkVariantsDidChange(he.prevProp,fe);let we=be||de===ne&&he.isActive&&!_e&&pe||$>le&&pe,Ee=!1;const ke=Array.isArray(fe)?fe:[fe];let Ve=ke.reduce(buildResolvedTypeValues(de),{});!1===me&&(Ve={});const{prevResolvedValues:De={}}=he,Ne={...De,...Ve},markToAnimate=$=>{we=!0,oe.has($)&&(Ee=!0,oe.delete($)),he.needsAnimating[$]=!0;const ee=_.getValue($);ee&&(ee.liveStyle=!1)};for(const _ in Ne){const $=Ve[_],ee=De[_];if(se.hasOwnProperty(_))continue;let te=!1;te=isKeyframesTarget($)&&isKeyframesTarget(ee)?!shallowCompare($,ee):$!==ee,te?void 0!==$&&null!==$?markToAnimate(_):oe.add(_):void 0!==$&&oe.has(_)?markToAnimate(_):he.protectedKeys[_]=!0}he.prevProp=fe,he.prevResolvedValues=Ve,he.isActive&&(se={...se,...Ve}),te&&_.blockInitialAnimation&&(we=!1);we&&(!(_e&&be)||Ee)&&ae.push(...ke.map((_=>({animation:_,options:{type:de}}))))}if(oe.size){const $={};if("boolean"!==typeof re.initial){const ee=resolveVariant(_,Array.isArray(re.initial)?re.initial[0]:re.initial);ee&&ee.transition&&($.transition=ee.transition)}oe.forEach((ee=>{const te=_.getBaseTarget(ee),ne=_.getValue(ee);ne&&(ne.liveStyle=!0),$[ee]=te??null})),ae.push({animation:$})}let de=Boolean(ae.length);return!te||!1!==re.initial&&re.initial!==re.animate||_.manuallyAnimateOnMount||(de=!1),te=!1,de?$(ae):Promise.resolve()}return{animateChanges:animateChanges,setActive:function setActive($,te){if(ee[$].isActive===te)return Promise.resolve();_.variantChildren?.forEach((_=>_.animationState?.setActive($,te))),ee[$].isActive=te;const ne=animateChanges($);for(const _ in ee)ee[_].protectedKeys={};return ne},setAnimateFunction:function setAnimateFunction(ee){$=ee(_)},getState:()=>ee,reset:()=>{ee=createState(),te=!0}}}function checkVariantsDidChange(_,$){return"string"===typeof $?$!==_:!!Array.isArray($)&&!shallowCompare($,_)}function createTypeState(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(_){this.isMounted=!1,this.node=_}update(){}}let en=0;const tn={animation:{Feature:class AnimationFeature extends Feature{constructor(_){super(_),_.animationState||(_.animationState=createAnimationState(_))}updateAnimationControlsSubscription(){const{animate:_}=this.node.getProps();isAnimationControls(_)&&(this.unmountControls=_.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_}=this.node.getProps(),{animate:$}=this.node.prevProps||{};_!==$&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=en++}update(){if(!this.node.presenceContext)return;const{isPresent:_,onExitComplete:$}=this.node.presenceContext,{isPresent:ee}=this.node.prevPresenceContext||{};if(!this.node.animationState||_===ee)return;const te=this.node.animationState.setActive("exit",!_);$&&!_&&te.then((()=>{$(this.id)}))}mount(){const{register:_,onExitComplete:$}=this.node.presenceContext||{};$&&$(this.id),_&&(this.unmount=_(this.id))}unmount(){}}}},nn={x:!1,y:!1};function isDragActive(){return nn.x||nn.y}function addDomEvent(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return _.addEventListener($,ee,te),()=>_.removeEventListener($,ee)}const isPrimaryPointer=_=>"mouse"===_.pointerType?"number"!==typeof _.button||_.button<=0:!1!==_.isPrimary;function extractEventInfo(_){return{point:{x:_.pageX,y:_.pageY}}}function addPointerEvent(_,$,ee,te){return addDomEvent(_,$,(_=>$=>isPrimaryPointer($)&&_($,extractEventInfo($)))(ee),te)}function convertBoundingBoxToBox(_){let{top:$,left:ee,right:te,bottom:ne}=_;return{x:{min:ee,max:te},y:{min:$,max:ne}}}function calcLength(_){return _.max-_.min}function calcAxisDelta(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;_.origin=te,_.originPoint=mixNumber($.min,$.max,_.origin),_.scale=calcLength(ee)/calcLength($),_.translate=mixNumber(ee.min,ee.max,_.origin)-_.originPoint,(_.scale>=.9999&&_.scale<=1.0001||isNaN(_.scale))&&(_.scale=1),(_.translate>=-.01&&_.translate<=.01||isNaN(_.translate))&&(_.translate=0)}function calcBoxDelta(_,$,ee,te){calcAxisDelta(_.x,$.x,ee.x,te?te.originX:void 0),calcAxisDelta(_.y,$.y,ee.y,te?te.originY:void 0)}function calcRelativeAxis(_,$,ee){_.min=ee.min+$.min,_.max=_.min+calcLength($)}function calcRelativeAxisPosition(_,$,ee){_.min=$.min-ee.min,_.max=_.min+calcLength($)}function calcRelativePosition(_,$,ee){calcRelativeAxisPosition(_.x,$.x,ee.x),calcRelativeAxisPosition(_.y,$.y,ee.y)}const createBox=()=>({x:{min:0,max:0},y:{min:0,max:0}});function eachAxis(_){return[_("x"),_("y")]}function isIdentityScale(_){return void 0===_||1===_}function hasScale(_){let{scale:$,scaleX:ee,scaleY:te}=_;return!isIdentityScale($)||!isIdentityScale(ee)||!isIdentityScale(te)}function hasTransform(_){return hasScale(_)||has2DTranslate(_)||_.z||_.rotate||_.rotateX||_.rotateY||_.skewX||_.skewY}function has2DTranslate(_){return is2DTranslate(_.x)||is2DTranslate(_.y)}function is2DTranslate(_){return _&&"0%"!==_}function scalePoint(_,$,ee){return ee+$*(_-ee)}function applyPointDelta(_,$,ee,te,ne){return void 0!==ne&&(_=scalePoint(_,ne,te)),scalePoint(_,ee,te)+$}function applyAxisDelta(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,te=arguments.length>3?arguments[3]:void 0,ne=arguments.length>4?arguments[4]:void 0;_.min=applyPointDelta(_.min,$,ee,te,ne),_.max=applyPointDelta(_.max,$,ee,te,ne)}function applyBoxDelta(_,$){let{x:ee,y:te}=$;applyAxisDelta(_.x,ee.translate,ee.scale,ee.originPoint),applyAxisDelta(_.y,te.translate,te.scale,te.originPoint)}const rn=.999999999999,an=1.0000000000001;function translateAxis(_,$){_.min=_.min+$,_.max=_.max+$}function transformAxis(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;applyAxisDelta(_,$,ee,mixNumber(_.min,_.max,ne),te)}function transformBox(_,$){transformAxis(_.x,$.x,$.scaleX,$.scale,$.originX),transformAxis(_.y,$.y,$.scaleY,$.scale,$.originY)}function measureViewportBox(_,$){return convertBoundingBoxToBox(function transformBoxPoints(_,$){if(!$)return _;const ee=$({x:_.left,y:_.top}),te=$({x:_.right,y:_.bottom});return{top:ee.y,left:ee.x,bottom:te.y,right:te.x}}(_.getBoundingClientRect(),$))}const getContextWindow=_=>{let{current:$}=_;return $?$.ownerDocument.defaultView:null};function isRefObject(_){return _&&"object"===typeof _&&Object.prototype.hasOwnProperty.call(_,"current")}const distance=(_,$)=>Math.abs(_-$);class PanSession{constructor(_,$){let{transformPagePoint:ee,contextWindow:te,dragSnapToOrigin:ne=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const _=getPanInfo(this.lastMoveEventInfo,this.history),$=null!==this.startEvent,ee=function distance2D(_,$){const ee=distance(_.x,$.x),te=distance(_.y,$.y);return Math.sqrt(ee**2+te**2)}(_.offset,{x:0,y:0})>=3;if(!$&&!ee)return;const{point:te}=_,{timestamp:ne}=oe;this.history.push({...te,timestamp:ne});const{onStart:re,onMove:ie}=this.handlers;$||(re&&re(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),ie&&ie(this.lastMoveEvent,_)},this.handlePointerMove=(_,$)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint($,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(_,$)=>{this.end();const{onEnd:ee,onSessionEnd:te,resumeAnimation:ne}=this.handlers;if(this.dragSnapToOrigin&&ne&&ne(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const re=getPanInfo("pointercancel"===_.type?this.lastMoveEventInfo:transformPoint($,this.transformPagePoint),this.history);this.startEvent&&ee&&ee(_,re),te&&te(_,re)},!isPrimaryPointer(_))return;this.dragSnapToOrigin=ne,this.handlers=$,this.transformPagePoint=ee,this.contextWindow=te||window;const re=transformPoint(extractEventInfo(_),this.transformPagePoint),{point:ae}=re,{timestamp:se}=oe;this.history=[{...ae,timestamp:se}];const{onSessionStart:le}=$;le&&le(_,getPanInfo(re,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_){this.handlers=_}end(){this.removeListeners&&this.removeListeners(),ae(this.updatePoint)}}function transformPoint(_,$){return $?{point:$(_.point)}:_}function subtractPoint(_,$){return{x:_.x-$.x,y:_.y-$.y}}function getPanInfo(_,$){let{point:ee}=_;return{point:ee,delta:subtractPoint(ee,lastDevicePoint($)),offset:subtractPoint(ee,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(_){return _[0]}function lastDevicePoint(_){return _[_.length-1]}function getVelocity(_,$){if(_.length<2)return{x:0,y:0};let ee=_.length-1,te=null;const ne=lastDevicePoint(_);for(;ee>=0&&(te=_[ee],!(ne.timestamp-te.timestamp>time_conversion_secondsToMilliseconds($)));)ee--;if(!te)return{x:0,y:0};const re=millisecondsToSeconds(ne.timestamp-te.timestamp);if(0===re)return{x:0,y:0};const ie={x:(ne.x-te.x)/re,y:(ne.y-te.y)/re};return ie.x===1/0&&(ie.x=0),ie.y===1/0&&(ie.y=0),ie}function calcRelativeAxisConstraints(_,$,ee){return{min:void 0!==$?_.min+$:void 0,max:void 0!==ee?_.max+ee-(_.max-_.min):void 0}}function calcViewportAxisConstraints(_,$){let ee=$.min-_.min,te=$.max-_.max;return $.max-$.min<_.max-_.min&&([ee,te]=[te,ee]),{min:ee,max:te}}const on=.35;function resolveAxisElastic(_,$,ee){return{min:resolvePointElastic(_,$),max:resolvePointElastic(_,ee)}}function resolvePointElastic(_,$){return"number"===typeof _?_:_[$]||0}const sn=new WeakMap;class VisualElementDragControls{constructor(_){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=_}start(_){let{snapToCursor:$=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:ee}=this.visualElement;if(ee&&!1===ee.isPresent)return;const{dragSnapToOrigin:te}=this.getProps();this.panSession=new PanSession(_,{onSessionStart:_=>{const{dragSnapToOrigin:ee}=this.getProps();ee?this.pauseAnimation():this.stopAnimation(),$&&this.snapToCursor(extractEventInfo(_).point)},onStart:(_,$)=>{const{drag:ee,dragPropagation:te,onDragStart:ne}=this.getProps();if(ee&&!te&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function setDragLock(_){return"x"===_||"y"===_?nn[_]?null:(nn[_]=!0,()=>{nn[_]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}(ee),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis((_=>{let $=this.getAxisMotionValue(_).get()||0;if(et.test($)){const{projection:ee}=this.visualElement;if(ee&&ee.layout){const te=ee.layout.layoutBox[_];if(te){$=calcLength(te)*(parseFloat($)/100)}}}this.originPoint[_]=$})),ne&&ie.postRender((()=>ne(_,$))),addValueToWillChange(this.visualElement,"transform");const{animationState:re}=this.visualElement;re&&re.setActive("whileDrag",!0)},onMove:(_,$)=>{const{dragPropagation:ee,dragDirectionLock:te,onDirectionLock:ne,onDrag:re}=this.getProps();if(!ee&&!this.openDragLock)return;const{offset:ie}=$;if(te&&null===this.currentDirection)return this.currentDirection=function getCurrentDirection(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,ee=null;Math.abs(_.y)>$?ee="y":Math.abs(_.x)>$&&(ee="x");return ee}(ie),void(null!==this.currentDirection&&ne&&ne(this.currentDirection));this.updateAxis("x",$.point,ie),this.updateAxis("y",$.point,ie),this.visualElement.render(),re&&re(_,$)},onSessionEnd:(_,$)=>this.stop(_,$),resumeAnimation:()=>eachAxis((_=>"paused"===this.getAnimationState(_)&&this.getAxisMotionValue(_).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:te,contextWindow:getContextWindow(this.visualElement)})}stop(_,$){const ee=this.isDragging;if(this.cancel(),!ee)return;const{velocity:te}=$;this.startAnimation(te);const{onDragEnd:ne}=this.getProps();ne&&ie.postRender((()=>ne(_,$)))}cancel(){this.isDragging=!1;const{projection:_,animationState:$}=this.visualElement;_&&(_.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:ee}=this.getProps();!ee&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),$&&$.setActive("whileDrag",!1)}updateAxis(_,$,ee){const{drag:te}=this.getProps();if(!ee||!shouldDrag(_,te,this.currentDirection))return;const ne=this.getAxisMotionValue(_);let re=this.originPoint[_]+ee[_];this.constraints&&this.constraints[_]&&(re=function applyConstraints(_,$,ee){let{min:te,max:ne}=$;return void 0!==te&&_<te?_=ee?mixNumber(te,_,ee.min):Math.max(_,te):void 0!==ne&&_>ne&&(_=ee?mixNumber(ne,_,ee.max):Math.min(_,ne)),_}(re,this.constraints[_],this.elastic[_])),ne.set(re)}resolveConstraints(){const{dragConstraints:_,dragElastic:$}=this.getProps(),ee=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,te=this.constraints;_&&isRefObject(_)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!_||!ee)&&function calcRelativeConstraints(_,$){let{top:ee,left:te,bottom:ne,right:re}=$;return{x:calcRelativeAxisConstraints(_.x,te,re),y:calcRelativeAxisConstraints(_.y,ee,ne)}}(ee.layoutBox,_),this.elastic=function resolveDragElastic(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return!1===_?_=0:!0===_&&(_=on),{x:resolveAxisElastic(_,"left","right"),y:resolveAxisElastic(_,"top","bottom")}}($),te!==this.constraints&&ee&&this.constraints&&!this.hasMutatedConstraints&&eachAxis((_=>{!1!==this.constraints&&this.getAxisMotionValue(_)&&(this.constraints[_]=function rebaseAxisConstraints(_,$){const ee={};return void 0!==$.min&&(ee.min=$.min-_.min),void 0!==$.max&&(ee.max=$.max-_.min),ee}(ee.layoutBox[_],this.constraints[_]))}))}resolveRefConstraints(){const{dragConstraints:_,onMeasureDragConstraints:$}=this.getProps();if(!_||!isRefObject(_))return!1;const ee=_.current,{projection:te}=this.visualElement;if(!te||!te.layout)return!1;const ne=function measurePageBox(_,$,ee){const te=measureViewportBox(_,ee),{scroll:ne}=$;return ne&&(translateAxis(te.x,ne.offset.x),translateAxis(te.y,ne.offset.y)),te}(ee,te.root,this.visualElement.getTransformPagePoint());let re=function calcViewportConstraints(_,$){return{x:calcViewportAxisConstraints(_.x,$.x),y:calcViewportAxisConstraints(_.y,$.y)}}(te.layout.layoutBox,ne);if($){const _=$(function convertBoxToBoundingBox(_){let{x:$,y:ee}=_;return{top:ee.min,right:$.max,bottom:ee.max,left:$.min}}(re));this.hasMutatedConstraints=!!_,_&&(re=convertBoundingBoxToBox(_))}return re}startAnimation(_){const{drag:$,dragMomentum:ee,dragElastic:te,dragTransition:ne,dragSnapToOrigin:re,onDragTransitionEnd:ie}=this.getProps(),ae=this.constraints||{},oe=eachAxis((ie=>{if(!shouldDrag(ie,$,this.currentDirection))return;let oe=ae&&ae[ie]||{};re&&(oe={min:0,max:0});const se=te?200:1e6,le=te?40:1e7,de={type:"inertia",velocity:ee?_[ie]:0,bounceStiffness:se,bounceDamping:le,timeConstant:750,restDelta:1,restSpeed:10,...ne,...oe};return this.startAxisValueAnimation(ie,de)}));return Promise.all(oe).then(ie)}startAxisValueAnimation(_,$){const ee=this.getAxisMotionValue(_);return addValueToWillChange(this.visualElement,_),ee.start(animateMotionValue(_,ee,0,$,this.visualElement,!1))}stopAnimation(){eachAxis((_=>this.getAxisMotionValue(_).stop()))}pauseAnimation(){eachAxis((_=>this.getAxisMotionValue(_).animation?.pause()))}getAnimationState(_){return this.getAxisMotionValue(_).animation?.state}getAxisMotionValue(_){const $=`_drag${_.toUpperCase()}`,ee=this.visualElement.getProps(),te=ee[$];return te||this.visualElement.getValue(_,(ee.initial?ee.initial[_]:void 0)||0)}snapToCursor(_){eachAxis(($=>{const{drag:ee}=this.getProps();if(!shouldDrag($,ee,this.currentDirection))return;const{projection:te}=this.visualElement,ne=this.getAxisMotionValue($);if(te&&te.layout){const{min:ee,max:re}=te.layout.layoutBox[$];ne.set(_[$]-mixNumber(ee,re,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_,dragConstraints:$}=this.getProps(),{projection:ee}=this.visualElement;if(!isRefObject($)||!ee||!this.constraints)return;this.stopAnimation();const te={x:0,y:0};eachAxis((_=>{const $=this.getAxisMotionValue(_);if($&&!1!==this.constraints){const ee=$.get();te[_]=function calcOrigin(_,$){let ee=.5;const te=calcLength(_),ne=calcLength($);return ne>te?ee=progress($.min,$.max-te,_.min):te>ne&&(ee=progress(_.min,_.max-ne,$.min)),clamp(0,1,ee)}({min:ee,max:ee},this.constraints[_])}}));const{transformTemplate:ne}=this.visualElement.getProps();this.visualElement.current.style.transform=ne?ne({},""):"none",ee.root&&ee.root.updateScroll(),ee.updateLayout(),this.resolveConstraints(),eachAxis(($=>{if(!shouldDrag($,_,null))return;const ee=this.getAxisMotionValue($),{min:ne,max:re}=this.constraints[$];ee.set(mixNumber(ne,re,te[$]))}))}addListeners(){if(!this.visualElement.current)return;sn.set(this.visualElement,this);const _=addPointerEvent(this.visualElement.current,"pointerdown",(_=>{const{drag:$,dragListener:ee=!0}=this.getProps();$&&ee&&this.start(_)})),measureDragConstraints=()=>{const{dragConstraints:_}=this.getProps();isRefObject(_)&&_.current&&(this.constraints=this.resolveRefConstraints())},{projection:$}=this.visualElement,ee=$.addEventListener("measure",measureDragConstraints);$&&!$.layout&&($.root&&$.root.updateScroll(),$.updateLayout()),ie.read(measureDragConstraints);const te=addDomEvent(window,"resize",(()=>this.scalePositionWithinConstraints())),ne=$.addEventListener("didUpdate",(_=>{let{delta:$,hasLayoutChanged:ee}=_;this.isDragging&&ee&&(eachAxis((_=>{const ee=this.getAxisMotionValue(_);ee&&(this.originPoint[_]+=$[_].translate,ee.set(ee.get()+$[_].translate))})),this.visualElement.render())}));return()=>{te(),_(),ee(),ne&&ne()}}getProps(){const _=this.visualElement.getProps(),{drag:$=!1,dragDirectionLock:ee=!1,dragPropagation:te=!1,dragConstraints:ne=!1,dragElastic:re=on,dragMomentum:ie=!0}=_;return{..._,drag:$,dragDirectionLock:ee,dragPropagation:te,dragConstraints:ne,dragElastic:re,dragMomentum:ie}}}function shouldDrag(_,$,ee){return(!0===$||$===_)&&(null===ee||ee===_)}const asyncHandler=_=>($,ee)=>{_&&ie.postRender((()=>_($,ee)))};var ln=ee(579);const{schedule:cn,cancel:un}=createRenderBatcher(queueMicrotask,!1);var dn=ee(5043),hn=ee(8917),fn=ee(2190);const pn=(0,dn.createContext)({}),mn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_,$){return $.max===$.min?0:_/($.max-$.min)*100}const gn={correct:(_,$)=>{if(!$.target)return _;if("string"===typeof _){if(!tt.test(_))return _;_=parseFloat(_)}return`${pixelsToPercent(_,$.target.x)}% ${pixelsToPercent(_,$.target.y)}%`}},_n={correct:(_,$)=>{let{treeScale:ee,projectionDelta:te}=$;const ne=_,re=dt.parse(_);if(re.length>5)return ne;const ie=dt.createTransformer(_),ae="number"!==typeof re[0]?1:0,oe=te.x.scale*ee.x,se=te.y.scale*ee.y;re[0+ae]/=oe,re[1+ae]/=se;const le=mixNumber(oe,se,.5);return"number"===typeof re[2+ae]&&(re[2+ae]/=le),"number"===typeof re[3+ae]&&(re[3+ae]/=le),ie(re)}},yn={};class MeasureLayoutWithContext extends dn.Component{componentDidMount(){const{visualElement:_,layoutGroup:$,switchLayoutGroup:ee,layoutId:te}=this.props,{projection:ne}=_;!function addScaleCorrector(_){for(const $ in _)yn[$]=_[$],we($)&&(yn[$].isCSSVariable=!0)}(vn),ne&&($.group&&$.group.add(ne),ee&&ee.register&&te&&ee.register(ne),ne.root.didUpdate(),ne.addEventListener("animationComplete",(()=>{this.safeToRemove()})),ne.setOptions({...ne.options,onExitComplete:()=>this.safeToRemove()})),mn.hasEverUpdated=!0}getSnapshotBeforeUpdate(_){const{layoutDependency:$,visualElement:ee,drag:te,isPresent:ne}=this.props,re=ee.projection;return re?(re.isPresent=ne,te||_.layoutDependency!==$||void 0===$||_.isPresent!==ne?re.willUpdate():this.safeToRemove(),_.isPresent!==ne&&(ne?re.promote():re.relegate()||ie.postRender((()=>{const _=re.getStack();_&&_.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:_}=this.props.visualElement;_&&(_.root.didUpdate(),cn.postRender((()=>{!_.currentAnimation&&_.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:_,layoutGroup:$,switchLayoutGroup:ee}=this.props,{projection:te}=_;te&&(te.scheduleCheckAfterUnmount(),$&&$.group&&$.group.remove(te),ee&&ee.deregister&&ee.deregister(te))}safeToRemove(){const{safeToRemove:_}=this.props;_&&_()}render(){return null}}function MeasureLayout(_){const[$,ee]=(0,hn.xQ)(),te=(0,dn.useContext)(fn.L);return(0,ln.jsx)(MeasureLayoutWithContext,{..._,layoutGroup:te,switchLayoutGroup:(0,dn.useContext)(pn),isPresent:$,safeToRemove:ee})}const vn={borderRadius:{...gn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gn,borderTopRightRadius:gn,borderBottomLeftRadius:gn,borderBottomRightRadius:gn,boxShadow:_n};const compareByDepth=(_,$)=>_.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_){addUniqueItem(this.children,_),this.isDirty=!0}remove(_){removeItem(this.children,_),this.isDirty=!0}forEach(_){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_)}}function delay(_,$){const ee=pe.now(),checkElapsed=te=>{let{timestamp:ne}=te;const re=ne-ee;re>=$&&(ae(checkElapsed),_(re-$))};return ie.setup(checkElapsed,!0),()=>ae(checkElapsed)}function resolveMotionValue(_){return isMotionValue(_)?_.get():_}const bn=["TopLeft","TopRight","BottomLeft","BottomRight"],wn=bn.length,asNumber=_=>"string"===typeof _?parseFloat(_):_,isPx=_=>"number"===typeof _||tt.test(_);function getRadius(_,$){return void 0!==_[$]?_[$]:_.borderRadius}const xn=compress(0,.5,kt),En=compress(.5,.95,noop);function compress(_,$,ee){return te=>te<_?0:te>$?1:ee(progress(_,$,te))}function copyAxisInto(_,$){_.min=$.min,_.max=$.max}function copyBoxInto(_,$){copyAxisInto(_.x,$.x),copyAxisInto(_.y,$.y)}function copyAxisDeltaInto(_,$){_.translate=$.translate,_.scale=$.scale,_.originPoint=$.originPoint,_.origin=$.origin}function removePointDelta(_,$,ee,te,ne){return _=scalePoint(_-=$,1/ee,te),void 0!==ne&&(_=scalePoint(_,1/ne,te)),_}function removeAxisTransforms(_,$,ee,te,ne){let[re,ie,ae]=ee;!function removeAxisDelta(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,ne=arguments.length>4?arguments[4]:void 0,re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_,ie=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_;et.test($)&&($=parseFloat($),$=mixNumber(ie.min,ie.max,$/100)-ie.min);if("number"!==typeof $)return;let ae=mixNumber(re.min,re.max,te);_===re&&(ae-=$),_.min=removePointDelta(_.min,$,ee,ae,ne),_.max=removePointDelta(_.max,$,ee,ae,ne)}(_,$[re],$[ie],$[ae],$.scale,te,ne)}const Tn=["x","scaleX","originX"],An=["y","scaleY","originY"];function removeBoxTransforms(_,$,ee,te){removeAxisTransforms(_.x,$,Tn,ee?ee.x:void 0,te?te.x:void 0),removeAxisTransforms(_.y,$,An,ee?ee.y:void 0,te?te.y:void 0)}function isAxisDeltaZero(_){return 0===_.translate&&1===_.scale}function isDeltaZero(_){return isAxisDeltaZero(_.x)&&isAxisDeltaZero(_.y)}function axisEquals(_,$){return _.min===$.min&&_.max===$.max}function axisEqualsRounded(_,$){return Math.round(_.min)===Math.round($.min)&&Math.round(_.max)===Math.round($.max)}function boxEqualsRounded(_,$){return axisEqualsRounded(_.x,$.x)&&axisEqualsRounded(_.y,$.y)}function aspectRatio(_){return calcLength(_.x)/calcLength(_.y)}function axisDeltaEquals(_,$){return _.translate===$.translate&&_.scale===$.scale&&_.originPoint===$.originPoint}class NodeStack{constructor(){this.members=[]}add(_){addUniqueItem(this.members,_),_.scheduleRender()}remove(_){if(removeItem(this.members,_),_===this.prevLead&&(this.prevLead=void 0),_===this.lead){const _=this.members[this.members.length-1];_&&this.promote(_)}}relegate(_){const $=this.members.findIndex(($=>_===$));if(0===$)return!1;let ee;for(let te=$;te>=0;te--){const _=this.members[te];if(!1!==_.isPresent){ee=_;break}}return!!ee&&(this.promote(ee),!0)}promote(_,$){const ee=this.lead;if(_!==ee&&(this.prevLead=ee,this.lead=_,_.show(),ee)){ee.instance&&ee.scheduleRender(),_.scheduleRender(),_.resumeFrom=ee,$&&(_.resumeFrom.preserveOpacity=!0),ee.snapshot&&(_.snapshot=ee.snapshot,_.snapshot.latestValues=ee.animationValues||ee.latestValues),_.root&&_.root.isUpdating&&(_.isLayoutDirty=!0);const{crossfade:te}=_.options;!1===te&&ee.hide()}}exitAnimationComplete(){this.members.forEach((_=>{const{options:$,resumingFrom:ee}=_;$.onExitComplete&&$.onExitComplete(),ee&&ee.options.onExitComplete&&ee.options.onExitComplete()}))}scheduleRender(){this.members.forEach((_=>{_.instance&&_.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kn={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Pn=["","X","Y","Z"],In={visibility:"hidden"};let Sn=0;function resetDistortingTransform(_,$,ee,te){const{latestValues:ne}=$;ne[_]&&(ee[_]=ne[_],$.setStaticValue(_,0),te&&(te[_]=0))}function cancelTreeOptimisedTransformAnimations(_){if(_.hasCheckedOptimisedAppear=!0,_.root===_)return;const{visualElement:$}=_.options;if(!$)return;const ee=getOptimisedAppearId($);if(window.MotionHasOptimisedAnimation(ee,"transform")){const{layout:$,layoutId:te}=_.options;window.MotionCancelOptimisedAnimation(ee,"transform",ie,!($||te))}const{parent:te}=_;te&&!te.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(te)}function createProjectionNode(_){let{attachResizeListener:$,defaultParent:ee,measureScroll:te,checkIsScrollRoot:ne,resetTransform:le}=_;return class ProjectionNode{constructor(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee?.();this.id=Sn++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,re.value&&(kn.nodes=kn.calculatedTargetDeltas=kn.calculatedProjections=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),re.addProjectionMetrics&&re.addProjectionMetrics(kn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=_,this.root=$?$.root||$:this,this.path=$?[...$.path,$]:[],this.parent=$,this.depth=$?$.depth+1:0;for(let ee=0;ee<this.path.length;ee++)this.path[ee].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(_,$){return this.eventHandlers.has(_)||this.eventHandlers.set(_,new SubscriptionManager),this.eventHandlers.get(_).add($)}notifyListeners(_){const $=this.eventHandlers.get(_);for(var ee=arguments.length,te=new Array(ee>1?ee-1:0),ne=1;ne<ee;ne++)te[ne-1]=arguments[ne];$&&$.notify(...te)}hasListeners(_){return this.eventHandlers.has(_)}mount(_){let ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;this.isSVG=function isSVGElement(_){return _ instanceof SVGElement&&"svg"!==_.tagName}(_),this.instance=_;const{layoutId:te,layout:ne,visualElement:re}=this.options;if(re&&!re.current&&re.mount(_),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ee&&(ne||te)&&(this.isLayoutDirty=!0),$){let ee;const resizeUnblockUpdate=()=>this.root.updateBlockedByResize=!1;$(_,(()=>{this.root.updateBlockedByResize=!0,ee&&ee(),ee=delay(resizeUnblockUpdate,250),mn.hasAnimatedSinceResize&&(mn.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))}))}te&&this.root.registerSharedNode(te,this),!1!==this.options.animate&&re&&(te||ne)&&this.addEventListener("didUpdate",(_=>{let{delta:$,hasLayoutChanged:ee,hasRelativeLayoutChanged:te,layout:ne}=_;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const ie=this.options.transition||re.getDefaultTransition()||Rn,{onLayoutAnimationStart:ae,onLayoutAnimationComplete:oe}=re.getProps(),se=!this.targetLayout||!boxEqualsRounded(this.targetLayout,ne),le=!ee&&te;if(this.options.layoutRoot||this.resumeFrom||le||ee&&(se||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin($,le);const _={...getValueTransition(ie,"layout"),onPlay:ae,onComplete:oe};(re.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else ee||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ne}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const _=this.getStack();_&&_.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ae(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:_}=this.options;return _&&_.getProps().transformTemplate}willUpdate(){let _=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ne=0;ne<this.path.length;ne++){const _=this.path[ne];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:$,layout:ee}=this.options;if(void 0===$&&!ee)return;const te=this.getTransformTemplate();this.prevTransformTemplateValue=te?te(this.latestValues,""):void 0,this.updateSnapshot(),_&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(clearMeasurements);this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const _=pe.now();oe.delta=clamp(0,1e3/60,_-oe.timestamp),oe.timestamp=_,oe.isProcessing=!0,se.update.process(oe),se.preRender.process(oe),se.render.process(oe),oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||calcLength(this.snapshot.measuredBox.x)||calcLength(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ee=0;ee<this.path.length;ee++){this.path[ee].updateScroll()}const _=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:$}=this.options;$&&$.notify("LayoutMeasure",this.layout.layoutBox,_?_.layoutBox:void 0)}updateScroll(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",$=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===_&&($=!1),$){const $=ne(this.instance);this.scroll={animationId:this.root.animationId,phase:_,isRoot:$,offset:te(this.instance),wasRoot:this.scroll?this.scroll.isRoot:$}}}resetTransform(){if(!le)return;const _=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,$=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ee=this.getTransformTemplate(),te=ee?ee(this.latestValues,""):void 0,ne=te!==this.prevTransformTemplateValue;_&&($||hasTransform(this.latestValues)||ne)&&(le(this.instance,te),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let _=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const $=this.measurePageBox();let ee=this.removeElementScroll($);return _&&(ee=this.removeTransform(ee)),function roundBox(_){roundAxis(_.x),roundAxis(_.y)}(ee),{animationId:this.root.animationId,measuredBox:$,layoutBox:ee,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:_}=this.options;if(!_)return{x:{min:0,max:0},y:{min:0,max:0}};const $=_.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:_}=this.root;_&&(translateAxis($.x,_.offset.x),translateAxis($.y,_.offset.y))}return $}removeElementScroll(_){const $={x:{min:0,max:0},y:{min:0,max:0}};if(copyBoxInto($,_),this.scroll?.wasRoot)return $;for(let ee=0;ee<this.path.length;ee++){const te=this.path[ee],{scroll:ne,options:re}=te;te!==this.root&&ne&&re.layoutScroll&&(ne.wasRoot&&copyBoxInto($,_),translateAxis($.x,ne.offset.x),translateAxis($.y,ne.offset.y))}return $}applyTransform(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const ee={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(ee,_);for(let te=0;te<this.path.length;te++){const _=this.path[te];!$&&_.options.layoutScroll&&_.scroll&&_!==_.root&&transformBox(ee,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),hasTransform(_.latestValues)&&transformBox(ee,_.latestValues)}return hasTransform(this.latestValues)&&transformBox(ee,this.latestValues),ee}removeTransform(_){const $={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto($,_);for(let ee=0;ee<this.path.length;ee++){const _=this.path[ee];if(!_.instance)continue;if(!hasTransform(_.latestValues))continue;hasScale(_.latestValues)&&_.updateSnapshot();const te={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(te,_.measurePageBox()),removeBoxTransforms($,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,te)}return hasTransform(this.latestValues)&&removeBoxTransforms($,this.latestValues),$}setTargetDelta(_){this.targetDelta=_,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(_){this.options={...this.options,..._,crossfade:void 0===_.crossfade||_.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let _=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const $=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=$.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=$.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=$.isSharedProjectionDirty);const ee=Boolean(this.resumingFrom)||this!==$;if(!(_||ee&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:te,layoutId:ne}=this.options;if(this.layout&&(te||ne)){if(this.resolvedRelativeTargetAt=oe.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&1!==this.animationProgress?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),function calcRelativeBox(_,$,ee){calcRelativeAxis(_.x,$.x,ee.x),calcRelativeAxis(_.y,$.y,ee.y)}(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&Boolean(_.resumingFrom)===Boolean(this.resumingFrom)&&!_.options.layoutScroll&&_.target&&1!==this.animationProgress?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},calcRelativePosition(this.relativeTargetOrigin,this.target,_.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}re.value&&kn.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!hasScale(this.parent.latestValues)&&!has2DTranslate(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const _=this.getLead(),$=Boolean(this.resumingFrom)||this!==_;let ee=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(ee=!1),$&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ee=!1),this.resolvedRelativeTargetAt===oe.timestamp&&(ee=!1),ee)return;const{layout:te,layoutId:ne}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!te&&!ne)return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ie=this.treeScale.x,ae=this.treeScale.y;!function applyTreeDeltas(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const ne=ee.length;if(!ne)return;let re,ie;$.x=$.y=1;for(let ae=0;ae<ne;ae++){re=ee[ae],ie=re.projectionDelta;const{visualElement:ne}=re.options;ne&&ne.props.style&&"contents"===ne.props.style.display||(te&&re.options.layoutScroll&&re.scroll&&re!==re.root&&transformBox(_,{x:-re.scroll.offset.x,y:-re.scroll.offset.y}),ie&&($.x*=ie.x.scale,$.y*=ie.y.scale,applyBoxDelta(_,ie)),te&&hasTransform(re.latestValues)&&transformBox(_,re.latestValues))}$.x<an&&$.x>rn&&($.x=1),$.y<an&&$.y>rn&&($.y=1)}(this.layoutCorrected,this.treeScale,this.path,$),!_.layout||_.target||1===this.treeScale.x&&1===this.treeScale.y||(_.target=_.layout.layoutBox,_.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:se}=_;se?(this.projectionDelta&&this.prevProjectionDelta?(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),calcBoxDelta(this.projectionDelta,this.layoutCorrected,se,this.latestValues),this.treeScale.x===ie&&this.treeScale.y===ae&&axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)&&axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",se)),re.value&&kn.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let _=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),_){const _=this.getStack();_&&_.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const ee=this.snapshot,te=ee?ee.latestValues:{},ne={...this.latestValues},re={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!$;const ie={x:{min:0,max:0},y:{min:0,max:0}},ae=(ee?ee.source:void 0)!==(this.layout?this.layout.source:void 0),oe=this.getStack(),se=!oe||oe.members.length<=1,le=Boolean(ae&&!se&&!0===this.options.crossfade&&!this.path.some(hasOpacityCrossfade));let de;this.animationProgress=0,this.mixTargetDelta=$=>{const ee=$/1e3;mixAxisDelta(re.x,_.x,ee),mixAxisDelta(re.y,_.y,ee),this.setTargetDelta(re),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ie,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function mixBox(_,$,ee,te){mixAxis(_.x,$.x,ee.x,te),mixAxis(_.y,$.y,ee.y,te)}(this.relativeTarget,this.relativeTargetOrigin,ie,ee),de&&function boxEquals(_,$){return axisEquals(_.x,$.x)&&axisEquals(_.y,$.y)}(this.relativeTarget,de)&&(this.isProjectionDirty=!1),de||(de={x:{min:0,max:0},y:{min:0,max:0}}),copyBoxInto(de,this.relativeTarget)),ae&&(this.animationValues=ne,function mixValues(_,$,ee,te,ne,re){ne?(_.opacity=mixNumber(0,ee.opacity??1,xn(te)),_.opacityExit=mixNumber($.opacity??1,0,En(te))):re&&(_.opacity=mixNumber($.opacity??1,ee.opacity??1,te));for(let ie=0;ie<wn;ie++){const ne=`border${bn[ie]}Radius`;let re=getRadius($,ne),ae=getRadius(ee,ne);void 0===re&&void 0===ae||(re||(re=0),ae||(ae=0),0===re||0===ae||isPx(re)===isPx(ae)?(_[ne]=Math.max(mixNumber(asNumber(re),asNumber(ae),te),0),(et.test(ae)||et.test(re))&&(_[ne]+="%")):_[ne]=ae)}($.rotate||ee.rotate)&&(_.rotate=mixNumber($.rotate||0,ee.rotate||0,te))}(ne,te,this.latestValues,ee,le,se)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(_){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ae(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update((()=>{mn.hasAnimatedSinceResize=!0,be.layout++,this.currentAnimation=function animateSingleValue(_,$,ee){const te=isMotionValue(_)?_:motionValue(_);return te.start(animateMotionValue("",te,$,ee)),te.animation}(0,1e3,{..._,onUpdate:$=>{this.mixTargetDelta($),_.onUpdate&&_.onUpdate($)},onStop:()=>{be.layout--},onComplete:()=>{be.layout--,_.onComplete&&_.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const _=this.getStack();_&&_.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const _=this.getLead();let{targetWithTransforms:$,target:ee,layout:te,latestValues:ne}=_;if($&&ee&&te){if(this!==_&&this.layout&&te&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,te.layoutBox)){ee=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const $=calcLength(this.layout.layoutBox.x);ee.x.min=_.target.x.min,ee.x.max=ee.x.min+$;const te=calcLength(this.layout.layoutBox.y);ee.y.min=_.target.y.min,ee.y.max=ee.y.min+te}copyBoxInto($,ee),transformBox($,ne),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,$,ne)}}registerSharedNode(_,$){this.sharedNodes.has(_)||this.sharedNodes.set(_,new NodeStack);this.sharedNodes.get(_).add($);const ee=$.options.initialPromotionConfig;$.promote({transition:ee?ee.transition:void 0,preserveFollowOpacity:ee&&ee.shouldPreserveFollowOpacity?ee.shouldPreserveFollowOpacity($):void 0})}isLead(){const _=this.getStack();return!_||_.lead===this}getLead(){const{layoutId:_}=this.options;return _&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:_}=this.options;return _?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:_}=this.options;if(_)return this.root.sharedNodes.get(_)}promote(){let{needsReset:_,transition:$,preserveFollowOpacity:ee}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const te=this.getStack();te&&te.promote(this,ee),_&&(this.projectionDelta=void 0,this.needsReset=!0),$&&this.setOptions({transition:$})}relegate(){const _=this.getStack();return!!_&&_.relegate(this)}resetSkewAndRotation(){const{visualElement:_}=this.options;if(!_)return;let $=!1;const{latestValues:ee}=_;if((ee.z||ee.rotate||ee.rotateX||ee.rotateY||ee.rotateZ||ee.skewX||ee.skewY)&&($=!0),!$)return;const te={};ee.z&&resetDistortingTransform("z",_,te,this.animationValues);for(let ne=0;ne<Pn.length;ne++)resetDistortingTransform(`rotate${Pn[ne]}`,_,te,this.animationValues),resetDistortingTransform(`skew${Pn[ne]}`,_,te,this.animationValues);_.render();for(const ne in te)_.setStaticValue(ne,te[ne]),this.animationValues&&(this.animationValues[ne]=te[ne]);_.scheduleRender()}getProjectionStyles(_){if(!this.instance||this.isSVG)return;if(!this.isVisible)return In;const $={visibility:""},ee=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,$.opacity="",$.pointerEvents=resolveMotionValue(_?.pointerEvents)||"",$.transform=ee?ee(this.latestValues,""):"none",$;const te=this.getLead();if(!this.projectionDelta||!this.layout||!te.target){const $={};return this.options.layoutId&&($.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,$.pointerEvents=resolveMotionValue(_?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&($.transform=ee?ee({},""):"none",this.hasProjected=!1),$}const ne=te.animationValues||te.latestValues;this.applyTransformsToTarget(),$.transform=function buildProjectionTransform(_,$,ee){let te="";const ne=_.x.translate/$.x,re=_.y.translate/$.y,ie=ee?.z||0;if((ne||re||ie)&&(te=`translate3d(${ne}px, ${re}px, ${ie}px) `),1===$.x&&1===$.y||(te+=`scale(${1/$.x}, ${1/$.y}) `),ee){const{transformPerspective:_,rotate:$,rotateX:ne,rotateY:re,skewX:ie,skewY:ae}=ee;_&&(te=`perspective(${_}px) ${te}`),$&&(te+=`rotate(${$}deg) `),ne&&(te+=`rotateX(${ne}deg) `),re&&(te+=`rotateY(${re}deg) `),ie&&(te+=`skewX(${ie}deg) `),ae&&(te+=`skewY(${ae}deg) `)}const ae=_.x.scale*$.x,oe=_.y.scale*$.y;return 1===ae&&1===oe||(te+=`scale(${ae}, ${oe})`),te||"none"}(this.projectionDeltaWithTransform,this.treeScale,ne),ee&&($.transform=ee(ne,$.transform));const{x:re,y:ie}=this.projectionDelta;$.transformOrigin=`${100*re.origin}% ${100*ie.origin}% 0`,te.animationValues?$.opacity=te===this?ne.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:ne.opacityExit:$.opacity=te===this?void 0!==ne.opacity?ne.opacity:"":void 0!==ne.opacityExit?ne.opacityExit:0;for(const ae in yn){if(void 0===ne[ae])continue;const{correct:_,applyTo:ee,isCSSVariable:re}=yn[ae],ie="none"===$.transform?ne[ae]:_(ne[ae],te);if(ee){const _=ee.length;for(let te=0;te<_;te++)$[ee[te]]=ie}else re?this.options.visualElement.renderState.vars[ae]=ie:$[ae]=ie}return this.options.layoutId&&($.pointerEvents=te===this?resolveMotionValue(_?.pointerEvents)||"":"none"),$}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((_=>_.currentAnimation?.stop())),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_){_.updateLayout()}function notifyLayoutUpdate(_){const $=_.resumeFrom?.snapshot||_.snapshot;if(_.isLead()&&_.layout&&$&&_.hasListeners("didUpdate")){const{layoutBox:ee,measuredBox:te}=_.layout,{animationType:ne}=_.options,re=$.source!==_.layout.source;"size"===ne?eachAxis((_=>{const te=re?$.measuredBox[_]:$.layoutBox[_],ne=calcLength(te);te.min=ee[_].min,te.max=te.min+ne})):shouldAnimatePositionOnly(ne,$.layoutBox,ee)&&eachAxis((te=>{const ne=re?$.measuredBox[te]:$.layoutBox[te],ie=calcLength(ee[te]);ne.max=ne.min+ie,_.relativeTarget&&!_.currentAnimation&&(_.isProjectionDirty=!0,_.relativeTarget[te].max=_.relativeTarget[te].min+ie)}));const ie={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};calcBoxDelta(ie,ee,$.layoutBox);const ae={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};re?calcBoxDelta(ae,_.applyTransform(te,!0),$.measuredBox):calcBoxDelta(ae,ee,$.layoutBox);const oe=!isDeltaZero(ie);let se=!1;if(!_.resumeFrom){const te=_.getClosestProjectingParent();if(te&&!te.resumeFrom){const{snapshot:ne,layout:re}=te;if(ne&&re){const ie={x:{min:0,max:0},y:{min:0,max:0}};calcRelativePosition(ie,$.layoutBox,ne.layoutBox);const ae={x:{min:0,max:0},y:{min:0,max:0}};calcRelativePosition(ae,ee,re.layoutBox),boxEqualsRounded(ie,ae)||(se=!0),te.options.layoutRoot&&(_.relativeTarget=ae,_.relativeTargetOrigin=ie,_.relativeParent=te)}}}_.notifyListeners("didUpdate",{layout:ee,snapshot:$,delta:ae,layoutDelta:ie,hasLayoutChanged:oe,hasRelativeLayoutChanged:se})}else if(_.isLead()){const{onExitComplete:$}=_.options;$&&$()}_.options.transition=void 0}function propagateDirtyNodes(_){re.value&&kn.nodes++,_.parent&&(_.isProjecting()||(_.isProjectionDirty=_.parent.isProjectionDirty),_.isSharedProjectionDirty||(_.isSharedProjectionDirty=Boolean(_.isProjectionDirty||_.parent.isProjectionDirty||_.parent.isSharedProjectionDirty)),_.isTransformDirty||(_.isTransformDirty=_.parent.isTransformDirty))}function cleanDirtyNodes(_){_.isProjectionDirty=_.isSharedProjectionDirty=_.isTransformDirty=!1}function clearSnapshot(_){_.clearSnapshot()}function clearMeasurements(_){_.clearMeasurements()}function clearIsLayoutDirty(_){_.isLayoutDirty=!1}function resetTransformStyle(_){const{visualElement:$}=_.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),_.resetTransform()}function finishAnimation(_){_.finishAnimation(),_.targetDelta=_.relativeTarget=_.target=void 0,_.isProjectionDirty=!0}function resolveTargetDelta(_){_.resolveTargetDelta()}function calcProjection(_){_.calcProjection()}function resetSkewAndRotation(_){_.resetSkewAndRotation()}function removeLeadSnapshots(_){_.removeLeadSnapshot()}function mixAxisDelta(_,$,ee){_.translate=mixNumber($.translate,0,ee),_.scale=mixNumber($.scale,1,ee),_.origin=$.origin,_.originPoint=$.originPoint}function mixAxis(_,$,ee,te){_.min=mixNumber($.min,ee.min,te),_.max=mixNumber($.max,ee.max,te)}function hasOpacityCrossfade(_){return _.animationValues&&void 0!==_.animationValues.opacityExit}const Rn={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_),Cn=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(_){_.min=Cn(_.min),_.max=Cn(_.max)}function shouldAnimatePositionOnly(_,$,ee){return"position"===_||"preserve-aspect"===_&&!function isNear(_,$,ee){return Math.abs(_-$)<=ee}(aspectRatio($),aspectRatio(ee),.2)}function checkNodeWasScrollRoot(_){return _!==_.root&&_.scroll?.wasRoot}const Vn=createProjectionNode({attachResizeListener:(_,$)=>addDomEvent(_,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dn={current:void 0},Nn=createProjectionNode({measureScroll:_=>({x:_.scrollLeft,y:_.scrollTop}),defaultParent:()=>{if(!Dn.current){const _=new Vn({});_.mount(window),_.setOptions({layoutScroll:!0}),Dn.current=_}return Dn.current},resetTransform:(_,$)=>{_.style.transform=void 0!==$?$:"none"},checkIsScrollRoot:_=>Boolean("fixed"===window.getComputedStyle(_).position)}),On={pan:{Feature:class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(_){this.session=new PanSession(_,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:_,onPanStart:$,onPan:ee,onPanEnd:te}=this.node.getProps();return{onSessionStart:asyncHandler(_),onStart:asyncHandler($),onMove:ee,onEnd:(_,$)=>{delete this.session,te&&ie.postRender((()=>te(_,$)))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",(_=>this.onPointerDown(_)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class DragGesture extends Feature{constructor(_){super(_),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(_)}mount(){const{dragControls:_}=this.node.getProps();_&&(this.removeGroupControls=_.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Nn,MeasureLayout:MeasureLayout}};function setupGesture(_,$){const ee=function resolveElements(_,$,ee){if(_ instanceof EventTarget)return[_];if("string"===typeof _){let te=document;$&&(te=$.current);const ne=ee?.[_]??te.querySelectorAll(_);return ne?Array.from(ne):[]}return Array.from(_)}(_),te=new AbortController;return[ee,{passive:!0,...$,signal:te.signal},()=>te.abort()]}function isValidHover(_){return!("touch"===_.pointerType||isDragActive())}function handleHoverEvent(_,$,ee){const{props:te}=_;_.animationState&&te.whileHover&&_.animationState.setActive("whileHover","Start"===ee);const ne=te["onHover"+ee];ne&&ie.postRender((()=>ne($,extractEventInfo($))))}const isNodeOrChild=(_,$)=>!!$&&(_===$||isNodeOrChild(_,$.parentElement)),Mn=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Fn=new WeakSet;function filterEvents(_){return $=>{"Enter"===$.key&&_($)}}function firePointerEvent(_,$){_.dispatchEvent(new PointerEvent("pointer"+$,{isPrimary:!0,bubbles:!0}))}function isValidPressEvent(_){return isPrimaryPointer(_)&&!isDragActive()}function press(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[te,ne,re]=setupGesture(_,ee),startPress=_=>{const te=_.currentTarget;if(!isValidPressEvent(_)||Fn.has(te))return;Fn.add(te);const re=$(te,_),onPointerEnd=(_,$)=>{window.removeEventListener("pointerup",onPointerUp),window.removeEventListener("pointercancel",onPointerCancel),isValidPressEvent(_)&&Fn.has(te)&&(Fn.delete(te),"function"===typeof re&&re(_,{success:$}))},onPointerUp=_=>{onPointerEnd(_,te===window||te===document||ee.useGlobalTarget||isNodeOrChild(te,_.target))},onPointerCancel=_=>{onPointerEnd(_,!1)};window.addEventListener("pointerup",onPointerUp,ne),window.addEventListener("pointercancel",onPointerCancel,ne)};return te.forEach((_=>{(ee.useGlobalTarget?window:_).addEventListener("pointerdown",startPress,ne),_ instanceof HTMLElement&&(_.addEventListener("focus",(_=>((_,$)=>{const ee=_.currentTarget;if(!ee)return;const te=filterEvents((()=>{if(Fn.has(ee))return;firePointerEvent(ee,"down");const _=filterEvents((()=>{firePointerEvent(ee,"up")}));ee.addEventListener("keyup",_,$),ee.addEventListener("blur",(()=>firePointerEvent(ee,"cancel")),$)}));ee.addEventListener("keydown",te,$),ee.addEventListener("blur",(()=>ee.removeEventListener("keydown",te)),$)})(_,ne))),function isElementKeyboardAccessible(_){return Mn.has(_.tagName)||-1!==_.tabIndex}(_)||_.hasAttribute("tabindex")||(_.tabIndex=0))})),re}function handlePressEvent(_,$,ee){const{props:te}=_;if(_.current instanceof HTMLButtonElement&&_.current.disabled)return;_.animationState&&te.whileTap&&_.animationState.setActive("whileTap","Start"===ee);const ne=te["onTap"+("End"===ee?"":ee)];ne&&ie.postRender((()=>ne($,extractEventInfo($))))}const jn=new WeakMap,Ln=new WeakMap,fireObserverCallback=_=>{const $=jn.get(_.target);$&&$(_)},fireAllObserverCallbacks=_=>{_.forEach(fireObserverCallback)};function observeIntersection(_,$,ee){const te=function initIntersectionObserver(_){let{root:$,...ee}=_;const te=$||document;Ln.has(te)||Ln.set(te,{});const ne=Ln.get(te),re=JSON.stringify(ee);return ne[re]||(ne[re]=new IntersectionObserver(fireAllObserverCallbacks,{root:$,...ee})),ne[re]}($);return jn.set(_,ee),te.observe(_),()=>{jn.delete(_),te.unobserve(_)}}const Un={some:0,all:1};const Bn={inView:{Feature:class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_={}}=this.node.getProps(),{root:$,margin:ee,amount:te="some",once:ne}=_,re={root:$?$.current:void 0,rootMargin:ee,threshold:"number"===typeof te?te:Un[te]};return observeIntersection(this.node.current,re,(_=>{const{isIntersecting:$}=_;if(this.isInView===$)return;if(this.isInView=$,ne&&!$&&this.hasEnteredView)return;$&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",$);const{onViewportEnter:ee,onViewportLeave:te}=this.node.getProps(),re=$?ee:te;re&&re(_)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:_,prevProps:$}=this.node,ee=["amount","margin","root"].some(function hasViewportOptionChanged(_){let{viewport:$={}}=_,{viewport:ee={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _=>$[_]!==ee[_]}(_,$));ee&&this.startObserver()}unmount(){}}},tap:{Feature:class PressGesture extends Feature{mount(){const{current:_}=this.node;_&&(this.unmount=press(_,((_,$)=>(handlePressEvent(this.node,$,"Start"),(_,$)=>{let{success:ee}=$;return handlePressEvent(this.node,_,ee?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _=!1;try{_=this.node.current.matches(":focus-visible")}catch($){_=!0}_&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",(()=>this.onFocus())),addDomEvent(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class HoverGesture extends Feature{mount(){const{current:_}=this.node;_&&(this.unmount=function hover(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[te,ne,re]=setupGesture(_,ee),onPointerEnter=_=>{if(!isValidHover(_))return;const{target:ee}=_,te=$(ee,_);if("function"!==typeof te||!ee)return;const onPointerLeave=_=>{isValidHover(_)&&(te(_),ee.removeEventListener("pointerleave",onPointerLeave))};ee.addEventListener("pointerleave",onPointerLeave,ne)};return te.forEach((_=>{_.addEventListener("pointerenter",onPointerEnter,ne)})),re}(_,((_,$)=>(handleHoverEvent(this.node,$,"Start"),_=>handleHoverEvent(this.node,_,"End")))))}unmount(){}}}},zn={layout:{ProjectionNode:Nn,MeasureLayout:MeasureLayout}},qn=(0,dn.createContext)({strict:!1});var Wn=ee(1051);const Hn=(0,dn.createContext)({});function isControllingVariants(_){return isAnimationControls(_.animate)||Qt.some(($=>isVariantLabel(_[$])))}function isVariantNode(_){return Boolean(isControllingVariants(_)||_.variants)}function useCreateMotionContext(_){const{initial:$,animate:ee}=function getCurrentTreeVariants(_,$){if(isControllingVariants(_)){const{initial:$,animate:ee}=_;return{initial:!1===$||isVariantLabel($)?$:void 0,animate:isVariantLabel(ee)?ee:void 0}}return!1!==_.inherit?$:{}}(_,(0,dn.useContext)(Hn));return(0,dn.useMemo)((()=>({initial:$,animate:ee})),[variantLabelsAsDependency($),variantLabelsAsDependency(ee)])}function variantLabelsAsDependency(_){return Array.isArray(_)?_.join(" "):_}var $n=ee(4735);const Kn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gn={};for(const Er in Kn)Gn[Er]={isEnabled:_=>Kn[Er].some(($=>!!_[$]))};const Yn=Symbol.for("motionComponentSymbol");function useMotionRef(_,$,ee){return(0,dn.useCallback)((te=>{te&&_.onMount&&_.onMount(te),$&&(te?$.mount(te):$.unmount()),ee&&("function"===typeof ee?ee(te):isRefObject(ee)&&(ee.current=te))}),[$])}var Qn=ee(9674),Xn=ee(293);function useVisualElement(_,$,ee,te,ne){const{visualElement:re}=(0,dn.useContext)(Hn),ie=(0,dn.useContext)(qn),ae=(0,dn.useContext)(Qn.t),oe=(0,dn.useContext)(Wn.Q).reducedMotion,se=(0,dn.useRef)(null);te=te||ie.renderer,!se.current&&te&&(se.current=te(_,{visualState:$,parent:re,props:ee,presenceContext:ae,blockInitialAnimation:!!ae&&!1===ae.initial,reducedMotionConfig:oe}));const le=se.current,de=(0,dn.useContext)(pn);!le||le.projection||!ne||"html"!==le.type&&"svg"!==le.type||function use_visual_element_createProjectionNode(_,$,ee,te){const{layoutId:ne,layout:re,drag:ie,dragConstraints:ae,layoutScroll:oe,layoutRoot:se,layoutCrossfade:le}=$;_.projection=new ee(_.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(_.parent)),_.projection.setOptions({layoutId:ne,layout:re,alwaysMeasureLayout:Boolean(ie)||ae&&isRefObject(ae),visualElement:_,animationType:"string"===typeof re?re:"both",initialPromotionConfig:te,crossfade:le,layoutScroll:oe,layoutRoot:se})}(se.current,ee,ne,de);const he=(0,dn.useRef)(!1);(0,dn.useInsertionEffect)((()=>{le&&he.current&&le.update(ee,ae)}));const fe=ee[_e],pe=(0,dn.useRef)(Boolean(fe)&&!window.MotionHandoffIsComplete?.(fe)&&window.MotionHasOptimisedAnimation?.(fe));return(0,Xn.E)((()=>{le&&(he.current=!0,window.MotionIsMounted=!0,le.updateFeatures(),cn.render(le.render),pe.current&&le.animationState&&le.animationState.animateChanges())})),(0,dn.useEffect)((()=>{le&&(!pe.current&&le.animationState&&le.animationState.animateChanges(),pe.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(fe)})),pe.current=!1))})),le}function getClosestProjectingNode(_){if(_)return!1!==_.options.allowProjection?_.projection:getClosestProjectingNode(_.parent)}function createRendererMotionComponent(_){let{preloadedFeatures:$,createVisualElement:ee,useRender:te,useVisualState:ne,Component:re}=_;function MotionComponent(_,$){let ie;const ae={...(0,dn.useContext)(Wn.Q),..._,layoutId:useLayoutId(_)},{isStatic:oe}=ae,se=useCreateMotionContext(_),le=ne(_,oe);if(!oe&&$n.B){!function useStrictMode(_,$){(0,dn.useContext)(qn).strict;0}();const _=function getProjectionFunctionality(_){const{drag:$,layout:ee}=Gn;if(!$&&!ee)return{};const te={...$,...ee};return{MeasureLayout:$?.isEnabled(_)||ee?.isEnabled(_)?te.MeasureLayout:void 0,ProjectionNode:te.ProjectionNode}}(ae);ie=_.MeasureLayout,se.visualElement=useVisualElement(re,le,ae,ee,_.ProjectionNode)}return(0,ln.jsxs)(Hn.Provider,{value:se,children:[ie&&se.visualElement?(0,ln.jsx)(ie,{visualElement:se.visualElement,...ae}):null,te(re,_,useMotionRef(le,se.visualElement,$),le,oe,se.visualElement)]})}$&&function loadFeatures(_){for(const $ in _)Gn[$]={...Gn[$],..._[$]}}($),MotionComponent.displayName=`motion.${"string"===typeof re?re:`create(${re.displayName??re.name??""})`}`;const ie=(0,dn.forwardRef)(MotionComponent);return ie[Yn]=re,ie}function useLayoutId(_){let{layoutId:$}=_;const ee=(0,dn.useContext)(fn.L).id;return ee&&void 0!==$?ee+"-"+$:$}function isForcedMotionValue(_,$){let{layout:ee,layoutId:te}=$;return de.has(_)||_.startsWith("origin")||(ee||void 0!==te)&&(!!yn[_]||"opacity"===_)}const getValueAsType=(_,$)=>$&&"number"===typeof _?$.transform(_):_,Jn={...Ve,transform:Math.round},Zn={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt,...{rotate:Ke,rotateX:Ke,rotateY:Ke,rotateZ:Ke,scale:Ne,scaleX:Ne,scaleY:Ne,scaleZ:Ne,skew:Ke,skewX:Ke,skewY:Ke,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:De,originX:it,originY:it,originZ:tt},zIndex:Jn,fillOpacity:De,strokeOpacity:De,numOctaves:Jn},er={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tr=le.length;function buildHTMLStyles(_,$,ee){const{style:te,vars:ne,transformOrigin:re}=_;let ie=!1,ae=!1;for(const oe in $){const _=$[oe];if(de.has(oe))ie=!0;else if(we(oe))ne[oe]=_;else{const $=getValueAsType(_,Zn[oe]);oe.startsWith("origin")?(ae=!0,re[oe]=$):te[oe]=$}}if($.transform||(ie||ee?te.transform=function buildTransform(_,$,ee){let te="",ne=!0;for(let re=0;re<tr;re++){const ie=le[re],ae=_[ie];if(void 0===ae)continue;let oe=!0;if(oe="number"===typeof ae?ae===(ie.startsWith("scale")?1:0):0===parseFloat(ae),!oe||ee){const _=getValueAsType(ae,Zn[ie]);oe||(ne=!1,te+=`${er[ie]||ie}(${_}) `),ee&&($[ie]=_)}}return te=te.trim(),ee?te=ee($,ne?"":te):ne&&(te="none"),te}($,_.transform,ee):te.transform&&(te.transform="none")),ae){const{originX:_="50%",originY:$="50%",originZ:ee=0}=re;te.transformOrigin=`${_} ${$} ${ee}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_,$,ee){for(const te in $)isMotionValue($[te])||isForcedMotionValue(te,ee)||(_[te]=$[te])}function useStyle(_,$){const ee={};return copyRawValuesOnly(ee,_.style||{},_),Object.assign(ee,function useInitialMotionValues(_,$){let{transformTemplate:ee}=_;return(0,dn.useMemo)((()=>{const _={style:{},transform:{},transformOrigin:{},vars:{}};return buildHTMLStyles(_,$,ee),Object.assign({},_.vars,_.style)}),[$])}(_,$)),ee}function useHTMLProps(_,$){const ee={},te=useStyle(_,$);return _.drag&&!1!==_.dragListener&&(ee.draggable=!1,te.userSelect=te.WebkitUserSelect=te.WebkitTouchCallout="none",te.touchAction=!0===_.drag?"none":"pan-"+("x"===_.drag?"y":"x")),void 0===_.tabIndex&&(_.onTap||_.onTapStart||_.whileTap)&&(ee.tabIndex=0),ee.style=te,ee}const nr=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_){return _.startsWith("while")||_.startsWith("drag")&&"draggable"!==_||_.startsWith("layout")||_.startsWith("onTap")||_.startsWith("onPan")||_.startsWith("onLayout")||nr.has(_)}let shouldForward=_=>!isValidMotionProp(_);try{!function loadExternalIsValidProp(_){_&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):_($))}(require("@emotion/is-prop-valid").default)}catch{}const rr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_){return"string"===typeof _&&!_.includes("-")&&!!(rr.indexOf(_)>-1||/[A-Z]/u.test(_))}const ir={offset:"stroke-dashoffset",array:"stroke-dasharray"},ar={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGAttrs(_,$,ee,te){let{attrX:ne,attrY:re,attrScale:ie,pathLength:ae,pathSpacing:oe=1,pathOffset:se=0,...le}=$;if(buildHTMLStyles(_,le,te),ee)return void(_.style.viewBox&&(_.attrs.viewBox=_.style.viewBox));_.attrs=_.style,_.style={};const{attrs:de,style:he}=_;de.transform&&(he.transform=de.transform,delete de.transform),(he.transform||de.transformOrigin)&&(he.transformOrigin=de.transformOrigin??"50% 50%",delete de.transformOrigin),he.transform&&(he.transformBox="fill-box",delete de.transformBox),void 0!==ne&&(de.x=ne),void 0!==re&&(de.y=re),void 0!==ie&&(de.scale=ie),void 0!==ae&&function buildSVGPath(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,ne=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];_.pathLength=1;const re=ne?ir:ar;_[re.offset]=tt.transform(-te);const ie=tt.transform($),ae=tt.transform(ee);_[re.array]=`${ie} ${ae}`}(de,ae,oe,se,!1)}const createSvgRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),isSVGTag=_=>"string"===typeof _&&"svg"===_.toLowerCase();function useSVGProps(_,$,ee,te){const ne=(0,dn.useMemo)((()=>{const ee={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return buildSVGAttrs(ee,$,isSVGTag(te),_.transformTemplate),{...ee.attrs,style:{...ee.style}}}),[$]);if(_.style){const $={};copyRawValuesOnly($,_.style,_),ne.style={...$,...ne.style}}return ne}function createUseRender(){let _=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return($,ee,te,ne,re)=>{let{latestValues:ie}=ne;const ae=(isSVGComponent($)?useSVGProps:useHTMLProps)(ee,ie,re,$),oe=function filterProps(_,$,ee){const te={};for(const ne in _)"values"===ne&&"object"===typeof _.values||(shouldForward(ne)||!0===ee&&isValidMotionProp(ne)||!$&&!isValidMotionProp(ne)||_.draggable&&ne.startsWith("onDrag"))&&(te[ne]=_[ne]);return te}(ee,"string"===typeof $,_),se=$!==dn.Fragment?{...oe,...ae,ref:te}:{},{children:le}=ee,de=(0,dn.useMemo)((()=>isMotionValue(le)?le.get():le),[le]);return(0,dn.createElement)($,{...se,children:de})}}var or=ee(4930);const makeUseVisualState=_=>($,ee)=>{const te=(0,dn.useContext)(Hn),ne=(0,dn.useContext)(Qn.t),make=()=>function makeState(_,$,ee,te){let{scrapeMotionValuesFromProps:ne,createRenderState:re}=_;return{latestValues:makeLatestValues($,ee,te,ne),renderState:re()}}(_,$,te,ne);return ee?make():(0,or.M)(make)};function makeLatestValues(_,$,ee,te){const ne={},re=te(_,{});for(const he in re)ne[he]=resolveMotionValue(re[he]);let{initial:ie,animate:ae}=_;const oe=isControllingVariants(_),se=isVariantNode(_);$&&se&&!oe&&!1!==_.inherit&&(void 0===ie&&(ie=$.initial),void 0===ae&&(ae=$.animate));let le=!!ee&&!1===ee.initial;le=le||!1===ie;const de=le?ae:ie;if(de&&"boolean"!==typeof de&&!isAnimationControls(de)){const $=Array.isArray(de)?de:[de];for(let ee=0;ee<$.length;ee++){const te=resolveVariantFromProps(_,$[ee]);if(te){const{transitionEnd:_,transition:$,...ee}=te;for(const te in ee){let _=ee[te];if(Array.isArray(_)){_=_[le?_.length-1:0]}null!==_&&(ne[te]=_)}for(const te in _)ne[te]=_[te]}}}return ne}function scrapeMotionValuesFromProps(_,$,ee){const{style:te}=_,ne={};for(const re in te)(isMotionValue(te[re])||$.style&&isMotionValue($.style[re])||isForcedMotionValue(re,_)||void 0!==ee?.getValue(re)?.liveStyle)&&(ne[re]=te[re]);return ne}const sr={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps,createRenderState:createHtmlRenderState})};function scrape_motion_values_scrapeMotionValuesFromProps(_,$,ee){const te=scrapeMotionValuesFromProps(_,$,ee);for(const ne in _)if(isMotionValue(_[ne])||isMotionValue($[ne])){te[-1!==le.indexOf(ne)?"attr"+ne.charAt(0).toUpperCase()+ne.substring(1):ne]=_[ne]}return te}const lr={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrape_motion_values_scrapeMotionValuesFromProps,createRenderState:createSvgRenderState})};function createMotionComponentFactory(_,$){return function createMotionComponent(ee){let{forwardMotionProps:te}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return createRendererMotionComponent({...isSVGComponent(ee)?lr:sr,preloadedFeatures:_,useRender:createUseRender(te),createVisualElement:$,Component:ee})}}const testValueType=_=>$=>$.test(_),cr=[Ve,tt,et,Ke,rt,nt,{test:_=>"auto"===_,parse:_=>_}],findDimensionValueType=_=>cr.find(testValueType(_)),isNumericalString=_=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_),ur=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function getVariableValue(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[te,ne]=function parseCSSVariable(_){const $=ur.exec(_);if(!$)return[,];const[,ee,te,ne]=$;return[`--${ee??te}`,ne]}(_);if(!te)return;const re=window.getComputedStyle($).getPropertyValue(te);if(re){const _=re.trim();return isNumericalString(_)?parseFloat(_):_}return isCSSVariableToken(ne)?getVariableValue(ne,$,ee+1):ne}const isZeroValueString=_=>/^0[^.\s]+$/u.test(_);const dr=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_){const[$,ee]=_.slice(0,-1).split("(");if("drop-shadow"===$)return _;const[te]=ee.match(Me)||[];if(!te)return _;const ne=ee.replace(te,"");let re=dr.has($)?1:0;return te!==ee&&(re*=100),$+"("+re+ne+")"}const hr=/\b([a-z-]*)\(.*?\)/gu,fr={...dt,getAnimatableNone:_=>{const $=_.match(hr);return $?$.map(applyDefaultFilter).join(" "):_}},pr={...Zn,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:fr,WebkitFilter:fr},getDefaultValueType=_=>pr[_];function animatable_none_getAnimatableNone(_,$){let ee=getDefaultValueType(_);return ee!==fr&&(ee=dt),ee.getAnimatableNone?ee.getAnimatableNone($):void 0}const mr=new Set(["auto","none","0"]);class DOMKeyframesResolver extends KeyframeResolver{constructor(_,$,ee,te,ne){super(_,$,ee,te,ne,!0)}readKeyframes(){const{unresolvedKeyframes:_,element:$,name:ee}=this;if(!$||!$.current)return;super.readKeyframes();for(let ae=0;ae<_.length;ae++){let ee=_[ae];if("string"===typeof ee&&(ee=ee.trim(),isCSSVariableToken(ee))){const te=getVariableValue(ee,$.current);void 0!==te&&(_[ae]=te),ae===_.length-1&&(this.finalKeyframe=ee)}}if(this.resolveNoneKeyframes(),!he.has(ee)||2!==_.length)return;const[te,ne]=_,re=findDimensionValueType(te),ie=findDimensionValueType(ne);if(re!==ie)if(isNumOrPxType(re)&&isNumOrPxType(ie))for(let ae=0;ae<_.length;ae++){const $=_[ae];"string"===typeof $&&(_[ae]=parseFloat($))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:_,name:$}=this,ee=[];for(let ne=0;ne<_.length;ne++)(null===_[ne]||("number"===typeof(te=_[ne])?0===te:null===te||"none"===te||"0"===te||isZeroValueString(te)))&&ee.push(ne);var te;ee.length&&function makeNoneKeyframesAnimatable(_,$,ee){let te,ne=0;for(;ne<_.length&&!te;){const $=_[ne];"string"===typeof $&&!mr.has($)&&analyseComplexValue($).values.length&&(te=_[ne]),ne++}if(te&&ee)for(const re of $)_[re]=animatable_none_getAnimatableNone(ee,te)}(_,ee,$)}measureInitialState(){const{element:_,unresolvedKeyframes:$,name:ee}=this;if(!_||!_.current)return;"height"===ee&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nt[ee](_.measureViewportBox(),window.getComputedStyle(_.current)),$[0]=this.measuredOrigin;const te=$[$.length-1];void 0!==te&&_.getValue(ee,te).jump(te,!1)}measureEndState(){const{element:_,name:$,unresolvedKeyframes:ee}=this;if(!_||!_.current)return;const te=_.getValue($);te&&te.jump(this.measuredOrigin,!1);const ne=ee.length-1,re=ee[ne];ee[ne]=Nt[$](_.measureViewportBox(),window.getComputedStyle(_.current)),null!==re&&void 0===this.finalKeyframe&&(this.finalKeyframe=re),this.removedTransforms?.length&&this.removedTransforms.forEach(($=>{let[ee,te]=$;_.getValue(ee).set(te)})),this.resolveNoneKeyframes()}}const gr=[...cr,ot,dt],_r={current:null},yr={current:!1};const vr=new WeakMap;const br=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(_,$,ee){return{}}constructor(_){let{parent:$,props:ee,presenceContext:te,reducedMotionConfig:ne,blockInitialAnimation:re,visualState:ae}=_,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=pe.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ie.render(this.render,!1,!0))};const{latestValues:se,renderState:le}=ae;this.latestValues=se,this.baseTarget={...se},this.initialValues=ee.initial?{...se}:{},this.renderState=le,this.parent=$,this.props=ee,this.presenceContext=te,this.depth=$?$.depth+1:0,this.reducedMotionConfig=ne,this.options=oe,this.blockInitialAnimation=Boolean(re),this.isControllingVariants=isControllingVariants(ee),this.isVariantNode=isVariantNode(ee),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean($&&$.current);const{willChange:de,...he}=this.scrapeMotionValuesFromProps(ee,{},this);for(const ie in he){const _=he[ie];void 0!==se[ie]&&isMotionValue(_)&&_.set(se[ie],!1)}}mount(_){this.current=_,vr.set(_,this),this.projection&&!this.projection.instance&&this.projection.mount(_),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((_,$)=>this.bindToMotionValue($,_))),yr.current||function initPrefersReducedMotion(){if(yr.current=!0,$n.B)if(window.matchMedia){const _=window.matchMedia("(prefers-reduced-motion)"),setReducedMotionPreferences=()=>_r.current=_.matches;_.addListener(setReducedMotionPreferences),setReducedMotionPreferences()}else _r.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||_r.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ae(this.notifyUpdate),ae(this.render),this.valueSubscriptions.forEach((_=>_())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const _ in this.events)this.events[_].clear();for(const _ in this.features){const $=this.features[_];$&&($.unmount(),$.isMounted=!1)}this.current=null}bindToMotionValue(_,$){this.valueSubscriptions.has(_)&&this.valueSubscriptions.get(_)();const ee=de.has(_);ee&&this.onBindTransform&&this.onBindTransform();const te=$.on("change",($=>{this.latestValues[_]=$,this.props.onUpdate&&ie.preRender(this.notifyUpdate),ee&&this.projection&&(this.projection.isTransformDirty=!0)})),ne=$.on("renderRequest",this.scheduleRender);let re;window.MotionCheckAppearSync&&(re=window.MotionCheckAppearSync(this,_,$)),this.valueSubscriptions.set(_,(()=>{te(),ne(),re&&re(),$.owner&&$.stop()}))}sortNodePosition(_){return this.current&&this.sortInstanceNodePosition&&this.type===_.type?this.sortInstanceNodePosition(this.current,_.current):0}updateFeatures(){let _="animation";for(_ in Gn){const $=Gn[_];if(!$)continue;const{isEnabled:ee,Feature:te}=$;if(!this.features[_]&&te&&ee(this.props)&&(this.features[_]=new te(this)),this.features[_]){const $=this.features[_];$.isMounted?$.update():($.mount(),$.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(_){return this.latestValues[_]}setStaticValue(_,$){this.latestValues[_]=$}update(_,$){(_.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_,this.prevPresenceContext=this.presenceContext,this.presenceContext=$;for(let ee=0;ee<br.length;ee++){const $=br[ee];this.propEventSubscriptions[$]&&(this.propEventSubscriptions[$](),delete this.propEventSubscriptions[$]);const te=_["on"+$];te&&(this.propEventSubscriptions[$]=this.on($,te))}this.prevMotionValues=function updateMotionValuesFromProps(_,$,ee){for(const te in $){const ne=$[te],re=ee[te];if(isMotionValue(ne))_.addValue(te,ne);else if(isMotionValue(re))_.addValue(te,motionValue(ne,{owner:_}));else if(re!==ne)if(_.hasValue(te)){const $=_.getValue(te);!0===$.liveStyle?$.jump(ne):$.hasAnimated||$.set(ne)}else{const $=_.getStaticValue(te);_.addValue(te,motionValue(void 0!==$?$:ne,{owner:_}))}}for(const te in ee)void 0===$[te]&&_.removeValue(te);return $}(this,this.scrapeMotionValuesFromProps(_,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(_){return this.props.variants?this.props.variants[_]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(_){const $=this.getClosestVariantNode();if($)return $.variantChildren&&$.variantChildren.add(_),()=>$.variantChildren.delete(_)}addValue(_,$){const ee=this.values.get(_);$!==ee&&(ee&&this.removeValue(_),this.bindToMotionValue(_,$),this.values.set(_,$),this.latestValues[_]=$.get())}removeValue(_){this.values.delete(_);const $=this.valueSubscriptions.get(_);$&&($(),this.valueSubscriptions.delete(_)),delete this.latestValues[_],this.removeValueFromRenderState(_,this.renderState)}hasValue(_){return this.values.has(_)}getValue(_,$){if(this.props.values&&this.props.values[_])return this.props.values[_];let ee=this.values.get(_);return void 0===ee&&void 0!==$&&(ee=motionValue(null===$?void 0:$,{owner:this}),this.addValue(_,ee)),ee}readValue(_,$){let ee=void 0===this.latestValues[_]&&this.current?this.getBaseTargetFromProps(this.props,_)??this.readValueFromInstance(this.current,_,this.options):this.latestValues[_];var te;return void 0!==ee&&null!==ee&&("string"===typeof ee&&(isNumericalString(ee)||isZeroValueString(ee))?ee=parseFloat(ee):(te=ee,!gr.find(testValueType(te))&&dt.test($)&&(ee=animatable_none_getAnimatableNone(_,$))),this.setBaseTarget(_,isMotionValue(ee)?ee.get():ee)),isMotionValue(ee)?ee.get():ee}setBaseTarget(_,$){this.baseTarget[_]=$}getBaseTarget(_){const{initial:$}=this.props;let ee;if("string"===typeof $||"object"===typeof $){const te=resolveVariantFromProps(this.props,$,this.presenceContext?.custom);te&&(ee=te[_])}if($&&void 0!==ee)return ee;const te=this.getBaseTargetFromProps(this.props,_);return void 0===te||isMotionValue(te)?void 0!==this.initialValues[_]&&void 0===ee?void 0:this.baseTarget[_]:te}on(_,$){return this.events[_]||(this.events[_]=new SubscriptionManager),this.events[_].add($)}notify(_){if(this.events[_]){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];this.events[_].notify(...ee)}}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(_,$){return 2&_.compareDocumentPosition($)?1:-1}getBaseTargetFromProps(_,$){return _.style?_.style[$]:void 0}removeValueFromRenderState(_,$){let{vars:ee,style:te}=$;delete ee[_],delete te[_]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_}=this.props;isMotionValue(_)&&(this.childSubscription=_.on("change",(_=>{this.current&&(this.current.textContent=`${_}`)})))}}function renderHTML(_,$,ee,te){let{style:ne,vars:re}=$;Object.assign(_.style,ne,te&&te.getProjectionStyles(ee));for(const ie in re)_.style.setProperty(ie,re[ie])}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(_,$){if(de.has($))return((_,$)=>{const{transform:ee="none"}=getComputedStyle(_);return parseValueFromTransform(ee,$)})(_,$);{const ee=function HTMLVisualElement_getComputedStyle(_){return window.getComputedStyle(_)}(_),te=(we($)?ee.getPropertyValue($):ee[$])||0;return"string"===typeof te?te.trim():te}}measureInstanceViewportBox(_,$){let{transformPagePoint:ee}=$;return measureViewportBox(_,ee)}build(_,$,ee){buildHTMLStyles(_,$,ee.transformTemplate)}scrapeMotionValuesFromProps(_,$,ee){return scrapeMotionValuesFromProps(_,$,ee)}}const wr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(_,$){return _[$]}readValueFromInstance(_,$){if(de.has($)){const _=getDefaultValueType($);return _&&_.default||0}return $=wr.has($)?$:camelToDash($),_.getAttribute($)}scrapeMotionValuesFromProps(_,$,ee){return scrape_motion_values_scrapeMotionValuesFromProps(_,$,ee)}build(_,$,ee){buildSVGAttrs(_,$,this.isSVGTag,ee.transformTemplate)}renderInstance(_,$,ee,te){!function renderSVG(_,$,ee,te){renderHTML(_,$,void 0,te);for(const ne in $.attrs)_.setAttribute(wr.has(ne)?ne:camelToDash(ne),$.attrs[ne])}(_,$,0,te)}mount(_){this.isSVGTag=isSVGTag(_.tagName),super.mount(_)}}const xr=createDOMMotionComponentProxy(createMotionComponentFactory({...tn,...Bn,...On,...zn},((_,$)=>isSVGComponent(_)?new SVGVisualElement($):new HTMLVisualElement($,{allowProjection:_!==dn.Fragment}))))},2382:(_,$,ee)=>{"use strict";ee.d($,{A:()=>te});const te=(0,ee(7784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2799:(_,$,ee)=>{"use strict";ee.d($,{MR:()=>deleteDB,P2:()=>openDB});const instanceOfAny=(_,$)=>$.some(($=>_ instanceof $));let te,ne;const re=new WeakMap,ie=new WeakMap,ae=new WeakMap,oe=new WeakMap,se=new WeakMap;let le={get(_,$,ee){if(_ instanceof IDBTransaction){if("done"===$)return ie.get(_);if("objectStoreNames"===$)return _.objectStoreNames||ae.get(_);if("store"===$)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return wrap(_[$])},set:(_,$,ee)=>(_[$]=ee,!0),has:(_,$)=>_ instanceof IDBTransaction&&("done"===$||"store"===$)||$ in _};function wrapFunction(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function getCursorAdvanceMethods(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(){for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];return _.apply(unwrap(this),ee),wrap(re.get(this))}:function(){for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];return wrap(_.apply(unwrap(this),ee))}:function($){for(var ee=arguments.length,te=new Array(ee>1?ee-1:0),ne=1;ne<ee;ne++)te[ne-1]=arguments[ne];const re=_.call(unwrap(this),$,...te);return ae.set(re,$.sort?$.sort():[$]),wrap(re)}}function transformCachableValue(_){return"function"===typeof _?wrapFunction(_):(_ instanceof IDBTransaction&&function cacheDonePromiseForTransaction(_){if(ie.has(_))return;const $=new Promise((($,ee)=>{const unlisten=()=>{_.removeEventListener("complete",complete),_.removeEventListener("error",error),_.removeEventListener("abort",error)},complete=()=>{$(),unlisten()},error=()=>{ee(_.error||new DOMException("AbortError","AbortError")),unlisten()};_.addEventListener("complete",complete),_.addEventListener("error",error),_.addEventListener("abort",error)}));ie.set(_,$)}(_),instanceOfAny(_,function getIdbProxyableTypes(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,le):_)}function wrap(_){if(_ instanceof IDBRequest)return function promisifyRequest(_){const $=new Promise((($,ee)=>{const unlisten=()=>{_.removeEventListener("success",success),_.removeEventListener("error",error)},success=()=>{$(wrap(_.result)),unlisten()},error=()=>{ee(_.error),unlisten()};_.addEventListener("success",success),_.addEventListener("error",error)}));return $.then(($=>{$ instanceof IDBCursor&&re.set($,_)})).catch((()=>{})),se.set($,_),$}(_);if(oe.has(_))return oe.get(_);const $=transformCachableValue(_);return $!==_&&(oe.set(_,$),se.set($,_)),$}const unwrap=_=>se.get(_);function openDB(_,$){let{blocked:ee,upgrade:te,blocking:ne,terminated:re}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ie=indexedDB.open(_,$),ae=wrap(ie);return te&&ie.addEventListener("upgradeneeded",(_=>{te(wrap(ie.result),_.oldVersion,_.newVersion,wrap(ie.transaction),_)})),ee&&ie.addEventListener("blocked",(_=>ee(_.oldVersion,_.newVersion,_))),ae.then((_=>{re&&_.addEventListener("close",(()=>re())),ne&&_.addEventListener("versionchange",(_=>ne(_.oldVersion,_.newVersion,_)))})).catch((()=>{})),ae}function deleteDB(_){let{blocked:$}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const ee=indexedDB.deleteDatabase(_);return $&&ee.addEventListener("blocked",(_=>$(_.oldVersion,_))),wrap(ee).then((()=>{}))}const de=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],fe=new Map;function getMethod(_,$){if(!(_ instanceof IDBDatabase)||$ in _||"string"!==typeof $)return;if(fe.get($))return fe.get($);const ee=$.replace(/FromIndex$/,""),te=$!==ee,ne=he.includes(ee);if(!(ee in(te?IDBIndex:IDBObjectStore).prototype)||!ne&&!de.includes(ee))return;const method=async function(_){const $=this.transaction(_,ne?"readwrite":"readonly");let re=$.store;for(var ie=arguments.length,ae=new Array(ie>1?ie-1:0),oe=1;oe<ie;oe++)ae[oe-1]=arguments[oe];return te&&(re=re.index(ae.shift())),(await Promise.all([re[ee](...ae),ne&&$.done]))[0]};return fe.set($,method),method}!function replaceTraps(_){le=_(le)}((_=>({..._,get:($,ee,te)=>getMethod($,ee)||_.get($,ee,te),has:($,ee)=>!!getMethod($,ee)||_.has($,ee)})))},3175:(_,$)=>{"use strict";const ee=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,te=/^[\u0021-\u003A\u003C-\u007E]*$/,ne=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,re=/^[\u0020-\u003A\u003D-\u007E]*$/,ie=Object.prototype.toString,ae=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function startIndex(_,$,ee){do{const ee=_.charCodeAt($);if(32!==ee&&9!==ee)return $}while(++$<ee);return ee}function endIndex(_,$,ee){for(;$>ee;){const ee=_.charCodeAt(--$);if(32!==ee&&9!==ee)return $+1}return ee}function decode(_){if(-1===_.indexOf("%"))return _;try{return decodeURIComponent(_)}catch($){return _}}},3218:_=>{"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3240:_=>{"use strict";var $=Object.prototype.hasOwnProperty,ee=Object.prototype.toString,te=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,re=function isArray(_){return"function"===typeof Array.isArray?Array.isArray(_):"[object Array]"===ee.call(_)},ie=function isPlainObject(_){if(!_||"[object Object]"!==ee.call(_))return!1;var te,ne=$.call(_,"constructor"),re=_.constructor&&_.constructor.prototype&&$.call(_.constructor.prototype,"isPrototypeOf");if(_.constructor&&!ne&&!re)return!1;for(te in _);return"undefined"===typeof te||$.call(_,te)},ae=function setProperty(_,$){te&&"__proto__"===$.name?te(_,$.name,{enumerable:!0,configurable:!0,value:$.newValue,writable:!0}):_[$.name]=$.newValue},oe=function getProperty(_,ee){if("__proto__"===ee){if(!$.call(_,ee))return;if(ne)return ne(_,ee).value}return _[ee]};_.exports=function extend(){var _,$,ee,te,ne,se,le=arguments[0],de=1,he=arguments.length,fe=!1;for("boolean"===typeof le&&(fe=le,le=arguments[1]||{},de=2),(null==le||"object"!==typeof le&&"function"!==typeof le)&&(le={});de<he;++de)if(null!=(_=arguments[de]))for($ in _)ee=oe(le,$),le!==(te=oe(_,$))&&(fe&&te&&(ie(te)||(ne=re(te)))?(ne?(ne=!1,se=ee&&re(ee)?ee:[]):se=ee&&ie(ee)?ee:{},ae(le,{name:$,newValue:extend(fe,se,te)})):"undefined"!==typeof te&&ae(le,{name:$,newValue:te}));return le}},3441:(_,$,ee)=>{"use strict";ee.d($,{k5:()=>GenIcon});var te=ee(5043),ne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},re=te.createContext&&te.createContext(ne),ie=["attr","size","title"];function _objectWithoutProperties(_,$){if(null==_)return{};var ee,te,ne=function _objectWithoutPropertiesLoose(_,$){if(null==_)return{};var ee={};for(var te in _)if(Object.prototype.hasOwnProperty.call(_,te)){if($.indexOf(te)>=0)continue;ee[te]=_[te]}return ee}(_,$);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(_);for(te=0;te<re.length;te++)ee=re[te],$.indexOf(ee)>=0||Object.prototype.propertyIsEnumerable.call(_,ee)&&(ne[ee]=_[ee])}return ne}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_){for(var $=1;$<arguments.length;$++){var ee=arguments[$];for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&(_[te]=ee[te])}return _},_extends.apply(this,arguments)}function ownKeys(_,$){var ee=Object.keys(_);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(_);$&&(te=te.filter((function($){return Object.getOwnPropertyDescriptor(_,$).enumerable}))),ee.push.apply(ee,te)}return ee}function _objectSpread(_){for(var $=1;$<arguments.length;$++){var ee=null!=arguments[$]?arguments[$]:{};$%2?ownKeys(Object(ee),!0).forEach((function($){_defineProperty(_,$,ee[$])})):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(ee)):ownKeys(Object(ee)).forEach((function($){Object.defineProperty(_,$,Object.getOwnPropertyDescriptor(ee,$))}))}return _}function _defineProperty(_,$,ee){return($=function _toPropertyKey(_){var $=function _toPrimitive(_,$){if("object"!=typeof _||!_)return _;var ee=_[Symbol.toPrimitive];if(void 0!==ee){var te=ee.call(_,$||"default");if("object"!=typeof te)return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===$?String:Number)(_)}(_,"string");return"symbol"==typeof $?$:$+""}($))in _?Object.defineProperty(_,$,{value:ee,enumerable:!0,configurable:!0,writable:!0}):_[$]=ee,_}function Tree2Element(_){return _&&_.map(((_,$)=>te.createElement(_.tag,_objectSpread({key:$},_.attr),Tree2Element(_.child))))}function GenIcon(_){return $=>te.createElement(IconBase,_extends({attr:_objectSpread({},_.attr)},$),Tree2Element(_.child))}function IconBase(_){var elem=$=>{var ee,{attr:ne,size:re,title:ae}=_,oe=_objectWithoutProperties(_,ie),se=re||$.size||"1em";return $.className&&(ee=$.className),_.className&&(ee=(ee?ee+" ":"")+_.className),te.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},$.attr,ne,oe,{className:ee,style:_objectSpread(_objectSpread({color:_.color||$.color},$.style),_.style),height:se,width:se,xmlns:"http://www.w3.org/2000/svg"}),ae&&te.createElement("title",null,ae),_.children)};return void 0!==re?te.createElement(re.Consumer,null,(_=>elem(_))):elem(ne)}},3768:(_,$,ee)=>{"use strict";ee.d($,{l$:()=>Oe,Ay:()=>ot});var te=ee(5043);let ne={data:""},t=_=>"object"==typeof window?((_?_.querySelector("#_goober"):window._goober)||Object.assign((_||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:_||ne,re=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ie=/\/\*[^]*?\*\/|  +/g,ae=/\n+/g,o=(_,$)=>{let ee="",te="",ne="";for(let re in _){let ie=_[re];"@"==re[0]?"i"==re[1]?ee=re+" "+ie+";":te+="f"==re[1]?o(ie,re):re+"{"+o(ie,"k"==re[1]?"":$)+"}":"object"==typeof ie?te+=o(ie,$?$.replace(/([^,])+/g,(_=>re.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,($=>/&/.test($)?$.replace(/&/g,_):_?_+" "+$:$)))):re):null!=ie&&(re=/^--/.test(re)?re:re.replace(/[A-Z]/g,"-$&").toLowerCase(),ne+=o.p?o.p(re,ie):re+":"+ie+";")}return ee+($&&ne?$+"{"+ne+"}":ne)+te},oe={},s=_=>{if("object"==typeof _){let $="";for(let ee in _)$+=ee+s(_[ee]);return $}return _},i=(_,$,ee,te,ne)=>{let se=s(_),le=oe[se]||(oe[se]=(_=>{let $=0,ee=11;for(;$<_.length;)ee=101*ee+_.charCodeAt($++)>>>0;return"go"+ee})(se));if(!oe[le]){let $=se!==_?_:(_=>{let $,ee,te=[{}];for(;$=re.exec(_.replace(ie,""));)$[4]?te.shift():$[3]?(ee=$[3].replace(ae," ").trim(),te.unshift(te[0][ee]=te[0][ee]||{})):te[0][$[1]]=$[2].replace(ae," ").trim();return te[0]})(_);oe[le]=o(ne?{["@keyframes "+le]:$}:$,ee?"":"."+le)}let de=ee&&oe.g?oe.g:null;return ee&&(oe.g=oe[le]),((_,$,ee,te)=>{te?$.data=$.data.replace(te,_):-1===$.data.indexOf(_)&&($.data=ee?_+$.data:$.data+_)})(oe[le],$,te,de),le};function u(_){let $=this||{},ee=_.call?_($.p):_;return i(ee.unshift?ee.raw?((_,$,ee)=>_.reduce(((_,te,ne)=>{let re=$[ne];if(re&&re.call){let _=re(ee),$=_&&_.props&&_.props.className||/^go/.test(_)&&_;re=$?"."+$:_&&"object"==typeof _?_.props?"":o(_,""):!1===_?"":_}return _+te+(null==re?"":re)}),""))(ee,[].slice.call(arguments,1),$.p):ee.reduce(((_,ee)=>Object.assign(_,ee&&ee.call?ee($.p):ee)),{}):ee,t($.target),$.g,$.o,$.k)}u.bind({g:1});let se,le,de,he=u.bind({k:1});function j(_,$){let ee=this||{};return function(){let te=arguments;function a(ne,re){let ie=Object.assign({},ne),ae=ie.className||a.className;ee.p=Object.assign({theme:le&&le()},ie),ee.o=/ *go\d+/.test(ae),ie.className=u.apply(ee,te)+(ae?" "+ae:""),$&&(ie.ref=re);let oe=_;return _[0]&&(oe=ie.as||_,delete ie.as),de&&oe[0]&&de(ie),se(oe,ie)}return $?$(a):a}}var dist_f=(_,$)=>(_=>"function"==typeof _)(_)?_($):_,fe=(()=>{let _=0;return()=>(++_).toString()})(),pe=(()=>{let _;return()=>{if(void 0===_&&typeof window<"u"){let $=matchMedia("(prefers-reduced-motion: reduce)");_=!$||$.matches}return _}})(),U=(_,$)=>{switch($.type){case 0:return{..._,toasts:[$.toast,..._.toasts].slice(0,20)};case 1:return{..._,toasts:_.toasts.map((_=>_.id===$.toast.id?{..._,...$.toast}:_))};case 2:let{toast:ee}=$;return U(_,{type:_.toasts.find((_=>_.id===ee.id))?1:0,toast:ee});case 3:let{toastId:te}=$;return{..._,toasts:_.toasts.map((_=>_.id===te||void 0===te?{..._,dismissed:!0,visible:!1}:_))};case 4:return void 0===$.toastId?{..._,toasts:[]}:{..._,toasts:_.toasts.filter((_=>_.id!==$.toastId))};case 5:return{..._,pausedAt:$.time};case 6:let ne=$.time-(_.pausedAt||0);return{..._,pausedAt:void 0,toasts:_.toasts.map((_=>({..._,pauseDuration:_.pauseDuration+ne})))}}},me=[],_e={toasts:[],pausedAt:void 0},dist_u=_=>{_e=U(_e,_),me.forEach((_=>{_(_e)}))},be={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},x=_=>($,ee)=>{let te=function(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",ee=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:$,ariaProps:{role:"status","aria-live":"polite"},message:_,pauseDuration:0,...ee,id:(null==ee?void 0:ee.id)||fe()}}($,_,ee);return dist_u({type:2,toast:te}),te.id},dist_c=(_,$)=>x("blank")(_,$);dist_c.error=x("error"),dist_c.success=x("success"),dist_c.loading=x("loading"),dist_c.custom=x("custom"),dist_c.dismiss=_=>{dist_u({type:3,toastId:_})},dist_c.remove=_=>dist_u({type:4,toastId:_}),dist_c.promise=(_,$,ee)=>{let te=dist_c.loading($.loading,{...ee,...null==ee?void 0:ee.loading});return"function"==typeof _&&(_=_()),_.then((_=>{let ne=$.success?dist_f($.success,_):void 0;return ne?dist_c.success(ne,{id:te,...ee,...null==ee?void 0:ee.success}):dist_c.dismiss(te),_})).catch((_=>{let ne=$.error?dist_f($.error,_):void 0;ne?dist_c.error(ne,{id:te,...ee,...null==ee?void 0:ee.error}):dist_c.dismiss(te)})),_};var K=(_,$)=>{dist_u({type:1,toast:{id:_,height:$}})},X=()=>{dist_u({type:5,time:Date.now()})},we=new Map,O=_=>{let{toasts:$,pausedAt:ee}=function(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[$,ee]=(0,te.useState)(_e),ne=(0,te.useRef)(_e);(0,te.useEffect)((()=>(ne.current!==_e&&ee(_e),me.push(ee),()=>{let _=me.indexOf(ee);_>-1&&me.splice(_,1)})),[]);let re=$.toasts.map(($=>{var ee,te,ne;return{..._,..._[$.type],...$,removeDelay:$.removeDelay||(null==(ee=_[$.type])?void 0:ee.removeDelay)||(null==_?void 0:_.removeDelay),duration:$.duration||(null==(te=_[$.type])?void 0:te.duration)||(null==_?void 0:_.duration)||be[$.type],style:{..._.style,...null==(ne=_[$.type])?void 0:ne.style,...$.style}}}));return{...$,toasts:re}}(_);(0,te.useEffect)((()=>{if(ee)return;let _=Date.now(),te=$.map(($=>{if($.duration===1/0)return;let ee=($.duration||0)+$.pauseDuration-(_-$.createdAt);if(!(ee<0))return setTimeout((()=>dist_c.dismiss($.id)),ee);$.visible&&dist_c.dismiss($.id)}));return()=>{te.forEach((_=>_&&clearTimeout(_)))}}),[$,ee]);let ne=(0,te.useCallback)((()=>{ee&&dist_u({type:6,time:Date.now()})}),[ee]),re=(0,te.useCallback)(((_,ee)=>{let{reverseOrder:te=!1,gutter:ne=8,defaultPosition:re}=ee||{},ie=$.filter(($=>($.position||re)===(_.position||re)&&$.height)),ae=ie.findIndex(($=>$.id===_.id)),oe=ie.filter(((_,$)=>$<ae&&_.visible)).length;return ie.filter((_=>_.visible)).slice(...te?[oe+1]:[0,oe]).reduce(((_,$)=>_+($.height||0)+ne),0)}),[$]);return(0,te.useEffect)((()=>{$.forEach((_=>{if(_.dismissed)!function(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(we.has(_))return;let ee=setTimeout((()=>{we.delete(_),dist_u({type:4,toastId:_})}),$);we.set(_,ee)}(_.id,_.removeDelay);else{let $=we.get(_.id);$&&(clearTimeout($),we.delete(_.id))}}))}),[$]),{toasts:$,handlers:{updateHeight:K,startPause:X,endPause:ne,calculateOffset:re}}},Ee=he`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ke=he`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ve=he`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,De=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_=>_.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ee} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ke} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${_=>_.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ve} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ne=he`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Me=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${_=>_.secondary||"#e0e0e0"};
  border-right-color: ${_=>_.primary||"#616161"};
  animation: ${Ne} 1s linear infinite;
`,je=he`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Le=he`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ze=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_=>_.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${je} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Le} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${_=>_.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qe=j("div")`
  position: absolute;
`,Ke=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,et=he`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tt=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${et} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=_=>{let{toast:$}=_,{icon:ee,type:ne,iconTheme:re}=$;return void 0!==ee?"string"==typeof ee?te.createElement(tt,null,ee):ee:"blank"===ne?null:te.createElement(Ke,null,te.createElement(Me,{...re}),"loading"!==ne&&te.createElement(qe,null,"error"===ne?te.createElement(De,{...re}):te.createElement(ze,{...re})))},ye=_=>`\n0% {transform: translate3d(0,${-200*_}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ge=_=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*_}%,-1px) scale(.6); opacity:0;}\n`,nt=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rt=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,it=te.memo((_=>{let{toast:$,position:ee,style:ne,children:re}=_,ie=$.height?((_,$)=>{let ee=_.includes("top")?1:-1,[te,ne]=pe()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ye(ee),ge(ee)];return{animation:$?`${he(te)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${he(ne)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})($.position||ee||"top-center",$.visible):{opacity:0},ae=te.createElement(M,{toast:$}),oe=te.createElement(rt,{...$.ariaProps},dist_f($.message,$));return te.createElement(nt,{className:$.className,style:{...ie,...ne,...$.style}},"function"==typeof re?re({icon:ae,message:oe}):te.createElement(te.Fragment,null,ae,oe))}));!function m(_,$,ee,te){o.p=$,se=_,le=ee,de=te}(te.createElement);var ve=_=>{let{id:$,className:ee,style:ne,onHeightUpdate:re,children:ie}=_,ae=te.useCallback((_=>{if(_){let i=()=>{let ee=_.getBoundingClientRect().height;re($,ee)};i(),new MutationObserver(i).observe(_,{subtree:!0,childList:!0,characterData:!0})}}),[$,re]);return te.createElement("div",{ref:ae,className:ee,style:ne},ie)},at=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oe=_=>{let{reverseOrder:$,position:ee="top-center",toastOptions:ne,gutter:re,children:ie,containerStyle:ae,containerClassName:oe}=_,{toasts:se,handlers:le}=O(ne);return te.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...ae},className:oe,onMouseEnter:le.startPause,onMouseLeave:le.endPause},se.map((_=>{let ne=_.position||ee,ae=((_,$)=>{let ee=_.includes("top"),te=ee?{top:0}:{bottom:0},ne=_.includes("center")?{justifyContent:"center"}:_.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pe()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${$*(ee?1:-1)}px)`,...te,...ne}})(ne,le.calculateOffset(_,{reverseOrder:$,gutter:re,defaultPosition:ee}));return te.createElement(ve,{id:_.id,key:_.id,onHeightUpdate:le.updateHeight,className:_.visible?at:"",style:ae},"custom"===_.type?dist_f(_.message,_):ie?ie(_):te.createElement(it,{toast:_,position:ne}))})))},ot=dist_c},4202:(_,$)=>{"use strict";var ee=Symbol.for("react.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),oe=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),fe=Symbol.iterator;var pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},me=Object.assign,_e={};function E(_,$,ee){this.props=_,this.context=$,this.refs=_e,this.updater=ee||pe}function F(){}function G(_,$,ee){this.props=_,this.context=$,this.refs=_e,this.updater=ee||pe}E.prototype.isReactComponent={},E.prototype.setState=function(_,$){if("object"!==typeof _&&"function"!==typeof _&&null!=_)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,$,"setState")},E.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")},F.prototype=E.prototype;var be=G.prototype=new F;be.constructor=G,me(be,E.prototype),be.isPureReactComponent=!0;var we=Array.isArray,Ee=Object.prototype.hasOwnProperty,ke={current:null},Ve={key:!0,ref:!0,__self:!0,__source:!0};function M(_,$,te){var ne,re={},ie=null,ae=null;if(null!=$)for(ne in void 0!==$.ref&&(ae=$.ref),void 0!==$.key&&(ie=""+$.key),$)Ee.call($,ne)&&!Ve.hasOwnProperty(ne)&&(re[ne]=$[ne]);var oe=arguments.length-2;if(1===oe)re.children=te;else if(1<oe){for(var se=Array(oe),le=0;le<oe;le++)se[le]=arguments[le+2];re.children=se}if(_&&_.defaultProps)for(ne in oe=_.defaultProps)void 0===re[ne]&&(re[ne]=oe[ne]);return{$$typeof:ee,type:_,key:ie,ref:ae,props:re,_owner:ke.current}}function O(_){return"object"===typeof _&&null!==_&&_.$$typeof===ee}var De=/\/+/g;function Q(_,$){return"object"===typeof _&&null!==_&&null!=_.key?function escape(_){var $={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,(function(_){return $[_]}))}(""+_.key):$.toString(36)}function R(_,$,ne,re,ie){var ae=typeof _;"undefined"!==ae&&"boolean"!==ae||(_=null);var oe=!1;if(null===_)oe=!0;else switch(ae){case"string":case"number":oe=!0;break;case"object":switch(_.$$typeof){case ee:case te:oe=!0}}if(oe)return ie=ie(oe=_),_=""===re?"."+Q(oe,0):re,we(ie)?(ne="",null!=_&&(ne=_.replace(De,"$&/")+"/"),R(ie,$,ne,"",(function(_){return _}))):null!=ie&&(O(ie)&&(ie=function N(_,$){return{$$typeof:ee,type:_.type,key:$,ref:_.ref,props:_.props,_owner:_._owner}}(ie,ne+(!ie.key||oe&&oe.key===ie.key?"":(""+ie.key).replace(De,"$&/")+"/")+_)),$.push(ie)),1;if(oe=0,re=""===re?".":re+":",we(_))for(var se=0;se<_.length;se++){var le=re+Q(ae=_[se],se);oe+=R(ae,$,ne,le,ie)}else if(le=function A(_){return null===_||"object"!==typeof _?null:"function"===typeof(_=fe&&_[fe]||_["@@iterator"])?_:null}(_),"function"===typeof le)for(_=le.call(_),se=0;!(ae=_.next()).done;)oe+=R(ae=ae.value,$,ne,le=re+Q(ae,se++),ie);else if("object"===ae)throw $=String(_),Error("Objects are not valid as a React child (found: "+("[object Object]"===$?"object with keys {"+Object.keys(_).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return oe}function S(_,$,ee){if(null==_)return _;var te=[],ne=0;return R(_,te,"","",(function(_){return $.call(ee,_,ne++)})),te}function T(_){if(-1===_._status){var $=_._result;($=$()).then((function($){0!==_._status&&-1!==_._status||(_._status=1,_._result=$)}),(function($){0!==_._status&&-1!==_._status||(_._status=2,_._result=$)})),-1===_._status&&(_._status=0,_._result=$)}if(1===_._status)return _._result.default;throw _._result}var Ne={current:null},Me={transition:null},je={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Me,ReactCurrentOwner:ke};function X(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:S,forEach:function(_,$,ee){S(_,(function(){$.apply(this,arguments)}),ee)},count:function(_){var $=0;return S(_,(function(){$++})),$},toArray:function(_){return S(_,(function(_){return _}))||[]},only:function(_){if(!O(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},$.Component=E,$.Fragment=ne,$.Profiler=ie,$.PureComponent=G,$.StrictMode=re,$.Suspense=le,$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=je,$.act=X,$.cloneElement=function(_,$,te){if(null===_||void 0===_)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ne=me({},_.props),re=_.key,ie=_.ref,ae=_._owner;if(null!=$){if(void 0!==$.ref&&(ie=$.ref,ae=ke.current),void 0!==$.key&&(re=""+$.key),_.type&&_.type.defaultProps)var oe=_.type.defaultProps;for(se in $)Ee.call($,se)&&!Ve.hasOwnProperty(se)&&(ne[se]=void 0===$[se]&&void 0!==oe?oe[se]:$[se])}var se=arguments.length-2;if(1===se)ne.children=te;else if(1<se){oe=Array(se);for(var le=0;le<se;le++)oe[le]=arguments[le+2];ne.children=oe}return{$$typeof:ee,type:_.type,key:re,ref:ie,props:ne,_owner:ae}},$.createContext=function(_){return(_={$$typeof:oe,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:ae,_context:_},_.Consumer=_},$.createElement=M,$.createFactory=function(_){var $=M.bind(null,_);return $.type=_,$},$.createRef=function(){return{current:null}},$.forwardRef=function(_){return{$$typeof:se,render:_}},$.isValidElement=O,$.lazy=function(_){return{$$typeof:he,_payload:{_status:-1,_result:_},_init:T}},$.memo=function(_,$){return{$$typeof:de,type:_,compare:void 0===$?null:$}},$.startTransition=function(_){var $=Me.transition;Me.transition={};try{_()}finally{Me.transition=$}},$.unstable_act=X,$.useCallback=function(_,$){return Ne.current.useCallback(_,$)},$.useContext=function(_){return Ne.current.useContext(_)},$.useDebugValue=function(){},$.useDeferredValue=function(_){return Ne.current.useDeferredValue(_)},$.useEffect=function(_,$){return Ne.current.useEffect(_,$)},$.useId=function(){return Ne.current.useId()},$.useImperativeHandle=function(_,$,ee){return Ne.current.useImperativeHandle(_,$,ee)},$.useInsertionEffect=function(_,$){return Ne.current.useInsertionEffect(_,$)},$.useLayoutEffect=function(_,$){return Ne.current.useLayoutEffect(_,$)},$.useMemo=function(_,$){return Ne.current.useMemo(_,$)},$.useReducer=function(_,$,ee){return Ne.current.useReducer(_,$,ee)},$.useRef=function(_){return Ne.current.useRef(_)},$.useState=function(_){return Ne.current.useState(_)},$.useSyncExternalStore=function(_,$,ee){return Ne.current.useSyncExternalStore(_,$,ee)},$.useTransition=function(){return Ne.current.useTransition()},$.version="18.3.1"},4222:function(_,$,ee){"use strict";var te=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty($,"__esModule",{value:!0}),$.default=function StyleToObject(_,$){var ee=null;if(!_||"string"!==typeof _)return ee;var te=(0,ne.default)(_),re="function"===typeof $;return te.forEach((function(_){if("declaration"===_.type){var te=_.property,ne=_.value;re?$(te,ne,_):ne&&((ee=ee||{})[te]=ne)}})),ee};var ne=te(ee(4403))},4391:(_,$,ee)=>{"use strict";var te=ee(7512);$.createRoot=te.createRoot,$.hydrateRoot=te.hydrateRoot},4403:_=>{var $=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ee=/\n/g,te=/^\s*/,ne=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,re=/^:\s*/,ie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ae=/^[;\s]*/,oe=/^\s+|\s+$/g,se="";function trim(_){return _?_.replace(oe,se):se}_.exports=function(_,oe){if("string"!==typeof _)throw new TypeError("First argument must be a string");if(!_)return[];oe=oe||{};var le=1,de=1;function updatePosition(_){var $=_.match(ee);$&&(le+=$.length);var te=_.lastIndexOf("\n");de=~te?_.length-te:de+_.length}function position(){var _={line:le,column:de};return function($){return $.position=new Position(_),whitespace(),$}}function Position(_){this.start=_,this.end={line:le,column:de},this.source=oe.source}Position.prototype.content=_;var he=[];function error($){var ee=new Error(oe.source+":"+le+":"+de+": "+$);if(ee.reason=$,ee.filename=oe.source,ee.line=le,ee.column=de,ee.source=_,!oe.silent)throw ee;he.push(ee)}function match($){var ee=$.exec(_);if(ee){var te=ee[0];return updatePosition(te),_=_.slice(te.length),ee}}function whitespace(){match(te)}function comments(_){var $;for(_=_||[];$=comment();)!1!==$&&_.push($);return _}function comment(){var $=position();if("/"==_.charAt(0)&&"*"==_.charAt(1)){for(var ee=2;se!=_.charAt(ee)&&("*"!=_.charAt(ee)||"/"!=_.charAt(ee+1));)++ee;if(ee+=2,se===_.charAt(ee-1))return error("End of comment missing");var te=_.slice(2,ee-2);return de+=2,updatePosition(te),_=_.slice(ee),de+=2,$({type:"comment",comment:te})}}function declaration(){var _=position(),ee=match(ne);if(ee){if(comment(),!match(re))return error("property missing ':'");var te=match(ie),oe=_({type:"declaration",property:trim(ee[0].replace($,se)),value:te?trim(te[0].replace($,se)):se});return match(ae),oe}}return whitespace(),function declarations(){var _,$=[];for(comments($);_=declaration();)!1!==_&&($.push(_),comments($));return $}()}},4581:(_,$,ee)=>{"use strict";ee.r($),ee.d($,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var te=ee(5043),ne=ee(4895),re=ee(5472),ie=ee(9613),ae=ee(5200),oe=ee(1362),se=ee(741),le=ee(579);const __WEBPACK_DEFAULT_EXPORT__=()=>{const{currentUser:_}=(0,ie.As)(),[$,ee]=(0,te.useState)({}),[de,he]=(0,te.useState)(!0),[fe,pe]=(0,te.useState)(!1),[me,_e]=(0,te.useState)(null),[be,we]=(0,te.useState)(""),[Ee,ke]=(0,te.useState)(""),[Ve,De]=(0,te.useState)(""),[Ne,Me]=(0,te.useState)(!0),[je,Le]=(0,te.useState)("JBSWY3DPEHPK3PXP"),[ze,qe]=(0,te.useState)("https://api.qrserver.com/v1/create-qr-code/?data=otpauth://totp/OmnisApp?secret=JBSWY3DPEHPK3PXP&size=200x200"),[Ke,et]=(0,te.useState)(["Google"]),[tt,nt]=(0,te.useState)(null),[rt,it]=(0,te.useState)(!1),[at,ot]=(0,te.useState)(null);(0,te.useEffect)((()=>{if(!_)return console.log("No current user"),Me(!1),void he(!1);Me(!0),(async()=>{try{const $=(0,re.H9)(ne.db,"users",_.uid),te=await(0,re.x7)($);if(te.exists()){const _=te.data();ee(_),pe(_.isOnline||!1)}else console.error("No user data found in Firestore!")}catch($){console.error("Error fetching user data:",$.message)}finally{he(!1)}})();const $=setTimeout((()=>{Me(!1)}),1e3);return()=>clearTimeout($)}),[_]);const togglePopUp=_=>{_e(me===_?null:_)},handleLinkedAccount=async($,ee)=>{try{const te=(0,re.H9)(ne.db,"users",_.uid);let ie={};"link"===ee?ie={linkedAccounts:(0,re.hq)($)}:"unlink"===ee&&(ie={linkedAccounts:(0,re.C3)($)}),await(0,re.mZ)(te,ie),alert(`${$} account ${"link"===ee?"linked":"unlinked"}.`)}catch(te){console.error("Error updating linked accounts:",te),alert("Error managing linked account.")}},renderPopup=(_,$)=>(0,le.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] bg-black bg-opacity-50 backdrop-blur-sm",children:(0,le.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg p-6 rounded-xl max-w-md w-full mx-4 relative text-sm leading-relaxed max-h-[80vh] sm:max-h-[70vh] overflow-y-auto",children:[(0,le.jsx)("button",{onClick:()=>_e(null),className:"absolute top-3 right-3 text-gray-500 hover:text-red-500",children:(0,le.jsx)(ae.yGN,{size:30})}),(0,le.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-green-600",children:_}),(0,le.jsx)("div",{children:$})]})});return Ne||de?(0,le.jsx)(se.A,{height:"h-full",width:"w-full"}):(0,le.jsxs)("div",{className:"flex flex-col bg-gray-100 dark:bg-gray-900 p-4 w-full",role:"main",children:[(0,le.jsxs)("div",{className:"bg-white w-full dark:bg-gray-800 border-2 p-6 rounded-xl shadow-lg hover:shadow-blue-500/50 transition mx-auto",role:"region","aria-label":"Account settings section",children:[(0,le.jsxs)("h2",{className:"text-2xl font-semibold text-center text-blue-500 dark:text-blue-300 flex items-center justify-center",role:"heading","aria-level":"2",children:[(0,le.jsx)(ae.VSk,{className:"mr-2"})," Account Settings"]}),(0,le.jsxs)("div",{className:"mt-4 space-y-4 text-sm md:text-base text-gray-700 dark:text-gray-300",role:"list",children:[(0,le.jsx)("div",{className:"setting-item relative",role:"listitem",children:(0,le.jsxs)("p",{role:"button",tabIndex:0,className:"flex items-center cursor-pointer hover:text-blue-500 transition",onClick:()=>togglePopUp("changePassword"),children:[(0,le.jsx)(ae.F5$,{className:"mr-2"}),(0,le.jsx)("span",{className:"truncate",children:"Change Password"})]})}),(0,le.jsx)("div",{className:"setting-item relative",role:"listitem",children:(0,le.jsxs)("p",{role:"button",tabIndex:0,className:"flex items-center cursor-pointer hover:text-blue-500 transition",onClick:()=>togglePopUp("enable2FA"),children:[(0,le.jsx)(ae.pcC,{className:"mr-2"}),(0,le.jsx)("span",{className:"truncate",children:"Enable Two-Factor Authentication"})]})}),(0,le.jsx)("div",{className:"setting-item relative",role:"listitem",children:(0,le.jsxs)("p",{role:"button",tabIndex:0,className:"flex items-center cursor-pointer hover:text-blue-500 transition",onClick:()=>togglePopUp("linkedAccounts"),children:[(0,le.jsx)(ae.GGD,{className:"mr-2"}),(0,le.jsx)("span",{className:"truncate",children:"Manage Linked Accounts"})]})}),(0,le.jsx)("div",{className:"setting-item relative",role:"listitem",children:(0,le.jsxs)("p",{role:"button",tabIndex:0,className:"flex items-center cursor-pointer hover:text-blue-500 transition",onClick:()=>togglePopUp("notificationPreferences"),children:[(0,le.jsx)(ae.EkJ,{className:"mr-2"}),(0,le.jsx)("span",{className:"truncate",children:"Notification Preferences"})]})})]})]}),"changePassword"===me&&renderPopup("Change Password",(0,le.jsxs)("form",{onSubmit:$=>{$.preventDefault(),(async($,ee)=>{try{const $=_;await(0,oe.f3)($,ee);const te=(0,re.H9)(ne.db,"users",$.uid);await(0,re.mZ)(te,{lastPasswordChange:new Date}),alert("Password updated successfully.")}catch(te){console.error("Error changing password:",te),alert("Error updating password.")}})($.target.currentPassword.value,$.target.newPassword.value)},children:[(0,le.jsx)("input",{type:"password",name:"currentPassword",placeholder:"Current Password",className:"w-full p-2 mb-2 border border-gray-300 rounded-md",required:!0}),(0,le.jsx)("input",{type:"password",name:"newPassword",placeholder:"New Password",className:"w-full p-2 mb-2 border border-gray-300 rounded-md",required:!0}),(0,le.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm New Password",className:"w-full p-2 mb-2 border border-gray-300 rounded-md",required:!0}),(0,le.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 mt-3 rounded-md",children:"Save Changes"})]})),"notificationPreferences"===me&&renderPopup("Notification Preferences",(0,le.jsxs)("form",{onSubmit:_=>{_.preventDefault(),alert("Preferences saved!")},className:"space-y-4",children:[(0,le.jsxs)("div",{className:"flex items-center gap-2",children:[(0,le.jsx)("input",{type:"checkbox",className:"w-6 h-6 text-blue-500 rounded-lg border-gray-300 dark:border-gray-600",id:"emailNotifications"}),(0,le.jsx)("label",{htmlFor:"emailNotifications",className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Email Notifications"})]}),(0,le.jsxs)("div",{className:"flex items-center gap-2",children:[(0,le.jsx)("input",{type:"checkbox",className:"w-6 h-6 text-blue-500 rounded-lg border-gray-300 dark:border-gray-600",id:"pushNotifications"}),(0,le.jsx)("label",{htmlFor:"pushNotifications",className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Push Notifications"})]}),(0,le.jsxs)("div",{className:"flex items-center gap-2",children:[(0,le.jsx)("input",{type:"checkbox",className:"w-6 h-6 text-blue-500 rounded-lg border-gray-300 dark:border-gray-600",id:"smsNotifications"}),(0,le.jsx)("label",{htmlFor:"smsNotifications",className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"SMS Notifications"})]}),(0,le.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-md text-lg",children:"Save Preferences"}),(0,le.jsx)("button",{type:"button",onClick:()=>_e(null),className:"w-full mt-2 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-md text-lg",children:"Cancel"})]})),"linkedAccounts"===me&&renderPopup("Linked Accounts",(0,le.jsxs)("div",{className:"space-y-4",children:[Ke.map((_=>(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("span",{children:_}),(0,le.jsx)("button",{onClick:()=>{return ot($=_),void setTimeout((()=>{handleLinkedAccount($,"unlink"),et((_=>_.filter((_=>_!==$)))),ot(null)}),1500);var $},className:"text-red-500 hover:text-red-700",children:(0,le.jsx)(ae.IXo,{})})]},_))),!rt&&(0,le.jsx)("div",{className:"flex justify-between items-center mt-4",children:(0,le.jsxs)("button",{onClick:()=>{return _="Google",it(!0),void setTimeout((()=>{handleLinkedAccount(_,"link"),et(($=>[...$,_])),it(!1),nt(null),_e(null)}),2e3);var _},className:"flex items-center gap-2 text-blue-500",children:[(0,le.jsx)(ae.GGD,{}),"Link Google Account"]})}),rt&&(0,le.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,le.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,le.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Redirecting to ",tt,"..."]})]})]})),"enable2FA"===me&&renderPopup("Enable Two-Factor Authentication",(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Two-Factor Authentication (2FA) adds an extra layer of security to your account. By enabling 2FA, you'll verify your identity using a code sent to your phone or generated by an authentication app."}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium mb-2 text-green-500",children:"Choose a method:"}),(0,le.jsxs)("div",{className:"space-y-2",children:[(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("input",{type:"radio",name:"2faMethod",id:"sms",checked:"sms"===be,onChange:()=>we("sms"),className:"mr-2"}),(0,le.jsx)("label",{htmlFor:"sms",className:"text-gray-700 dark:text-gray-300",children:"Receive via SMS"})]}),(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("input",{type:"radio",name:"2faMethod",id:"authApp",checked:"authApp"===be,onChange:()=>we("authApp"),className:"mr-2"}),(0,le.jsx)("label",{htmlFor:"authApp",className:"text-gray-700 dark:text-gray-300",children:"Use Authentication App (e.g., Google Authenticator)"})]})]})]}),"sms"===be&&(0,le.jsxs)("div",{className:"space-y-2",children:[(0,le.jsx)("label",{htmlFor:"phoneNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enter your phone number:"}),(0,le.jsx)("input",{type:"tel",id:"phoneNumber",value:Ee,onChange:_=>ke(_.target.value),placeholder:"+1234567890",className:"w-full border border-gray-300 dark:border-gray-600 px-3 py-2 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),"authApp"===be&&(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Scan this QR code with your authentication app (e.g., Google Authenticator), or enter the secret key manually."}),(0,le.jsx)("div",{className:"flex justify-center",children:(0,le.jsx)("img",{src:ze,alt:"QR Code",className:"w-40 h-40"})}),(0,le.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-md text-center text-sm text-gray-800 dark:text-gray-200",children:["Secret Key: ",(0,le.jsx)("strong",{children:je})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{htmlFor:"authCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enter the 6-digit code from your app:"}),(0,le.jsx)("input",{type:"text",id:"authCode",value:Ve,onChange:_=>De(_.target.value),placeholder:"123456",className:"w-full border border-gray-300 dark:border-gray-600 px-3 py-2 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]})]}),(0,le.jsxs)("div",{className:"space-x-4 mt-6",children:[(0,le.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md",onClick:()=>{"sms"===be&&Ee?console.log("Send code to:",Ee):"authApp"===be&&Ve?console.log("Verify TOTP code:",Ve):alert("Please complete the setup.")},children:"Enable"}),(0,le.jsx)("button",{onClick:()=>_e(null),className:"w-full mt-2 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-md text-lg",children:"Cancel"})]})]}))]})}},4735:(_,$,ee)=>{"use strict";ee.d($,{B:()=>te});const te="undefined"!==typeof window},4895:(_,$,ee)=>{"use strict";ee.d($,{j2:()=>ct,eJ:()=>ne.eJ,db:()=>ut,hg:()=>ne.hg,J1:()=>ne.J1,x9:()=>ne.x9,CI:()=>ne.CI,IG:()=>dt});var te=ee(7064),ne=ee(1362),re=ee(5472),ie=ee(52),ae=ee(8812),oe=ee(1529),se=ee(2799);const le="@firebase/installations",de="0.6.13",he=1e4,fe=`w:${de}`,pe="FIS_v2",me=36e5,_e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},be=new oe.FA("installations","Installations",_e);function isServerError(_){return _ instanceof oe.g&&_.code.includes("request-failed")}function getInstallationsEndpoint(_){let{projectId:$}=_;return`https://firebaseinstallations.googleapis.com/v1/projects/${$}/installations`}function extractAuthTokenInfoFromResponse(_){return{token:_.token,requestStatus:2,expiresIn:($=_.expiresIn,Number($.replace("s","000"))),creationTime:Date.now()};var $}async function getErrorFromResponse(_,$){const ee=(await $.json()).error;return be.create("request-failed",{requestName:_,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})}function getHeaders(_){let{apiKey:$}=_;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function getHeadersWithAuth(_,$){let{refreshToken:ee}=$;const te=getHeaders(_);return te.append("Authorization",function getAuthorizationHeader(_){return`${pe} ${_}`}(ee)),te}async function retryIfServerError(_){const $=await _();return $.status>=500&&$.status<600?_():$}function sleep(_){return new Promise(($=>{setTimeout($,_)}))}const we=/^[cdef][\w-]{21}$/;function generateFid(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const $=function encode(_){const $=function bufferToBase64UrlSafe(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_);return $.substr(0,22)}(_);return we.test($)?$:""}catch(_){return""}}function getKey(_){return`${_.appName}!${_.appId}`}const Ee=new Map;function fidChanged(_,$){const ee=getKey(_);callFidChangeCallbacks(ee,$),function broadcastFidChange(_,$){const ee=getBroadcastChannel();ee&&ee.postMessage({key:_,fid:$});closeBroadcastChannel()}(ee,$)}function callFidChangeCallbacks(_,$){const ee=Ee.get(_);if(ee)for(const te of ee)te($)}let ke=null;function getBroadcastChannel(){return!ke&&"BroadcastChannel"in self&&(ke=new BroadcastChannel("[Firebase] FID Change"),ke.onmessage=_=>{callFidChangeCallbacks(_.data.key,_.data.fid)}),ke}function closeBroadcastChannel(){0===Ee.size&&ke&&(ke.close(),ke=null)}const Ve="firebase-installations-store";let De=null;function getDbPromise(){return De||(De=(0,se.P2)("firebase-installations-database",1,{upgrade:(_,$)=>{if(0===$)_.createObjectStore(Ve)}})),De}async function set(_,$){const ee=getKey(_),te=(await getDbPromise()).transaction(Ve,"readwrite"),ne=te.objectStore(Ve),re=await ne.get(ee);return await ne.put($,ee),await te.done,re&&re.fid===$.fid||fidChanged(_,$.fid),$}async function remove(_){const $=getKey(_),ee=(await getDbPromise()).transaction(Ve,"readwrite");await ee.objectStore(Ve).delete($),await ee.done}async function update(_,$){const ee=getKey(_),te=(await getDbPromise()).transaction(Ve,"readwrite"),ne=te.objectStore(Ve),re=await ne.get(ee),ie=$(re);return void 0===ie?await ne.delete(ee):await ne.put(ie,ee),await te.done,!ie||re&&re.fid===ie.fid||fidChanged(_,ie.fid),ie}async function getInstallationEntry(_){let $;const ee=await update(_.appConfig,(ee=>{const te=function updateOrCreateInstallationEntry(_){const $=_||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest($)}(ee),ne=function triggerRegistrationIfNecessary(_,$){if(0===$.registrationStatus){if(!navigator.onLine){return{installationEntry:$,registrationPromise:Promise.reject(be.create("app-offline"))}}const ee={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},te=async function registerInstallation(_,$){try{const ee=await async function createInstallationRequest(_,$){let{appConfig:ee,heartbeatServiceProvider:te}=_,{fid:ne}=$;const re=getInstallationsEndpoint(ee),ie=getHeaders(ee),ae=te.getImmediate({optional:!0});if(ae){const _=await ae.getHeartbeatsHeader();_&&ie.append("x-firebase-client",_)}const oe={fid:ne,authVersion:pe,appId:ee.appId,sdkVersion:fe},se={method:"POST",headers:ie,body:JSON.stringify(oe)},le=await retryIfServerError((()=>fetch(re,se)));if(le.ok){const _=await le.json();return{fid:_.fid||ne,registrationStatus:2,refreshToken:_.refreshToken,authToken:extractAuthTokenInfoFromResponse(_.authToken)}}throw await getErrorFromResponse("Create Installation",le)}(_,$);return set(_.appConfig,ee)}catch(ee){throw isServerError(ee)&&409===ee.customData.serverCode?await remove(_.appConfig):await set(_.appConfig,{fid:$.fid,registrationStatus:0}),ee}}(_,ee);return{installationEntry:ee,registrationPromise:te}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:waitUntilFidRegistration(_)}:{installationEntry:$}}(_,te);return $=ne.registrationPromise,ne.installationEntry}));return""===ee.fid?{installationEntry:await $}:{installationEntry:ee,registrationPromise:$}}async function waitUntilFidRegistration(_){let $=await updateInstallationRequest(_.appConfig);for(;1===$.registrationStatus;)await sleep(100),$=await updateInstallationRequest(_.appConfig);if(0===$.registrationStatus){const{installationEntry:$,registrationPromise:ee}=await getInstallationEntry(_);return ee||$}return $}function updateInstallationRequest(_){return update(_,(_=>{if(!_)throw be.create("installation-not-found");return clearTimedOutRequest(_)}))}function clearTimedOutRequest(_){return function hasInstallationRequestTimedOut(_){return 1===_.registrationStatus&&_.registrationTime+he<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}async function generateAuthTokenRequest(_,$){let{appConfig:ee,heartbeatServiceProvider:te}=_;const ne=function getGenerateAuthTokenEndpoint(_,$){let{fid:ee}=$;return`${getInstallationsEndpoint(_)}/${ee}/authTokens:generate`}(ee,$),re=getHeadersWithAuth(ee,$),ie=te.getImmediate({optional:!0});if(ie){const _=await ie.getHeartbeatsHeader();_&&re.append("x-firebase-client",_)}const ae={installation:{sdkVersion:fe,appId:ee.appId}},oe={method:"POST",headers:re,body:JSON.stringify(ae)},se=await retryIfServerError((()=>fetch(ne,oe)));if(se.ok){return extractAuthTokenInfoFromResponse(await se.json())}throw await getErrorFromResponse("Generate Auth Token",se)}async function refreshAuthToken(_){let $,ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const te=await update(_.appConfig,(te=>{if(!isEntryRegistered(te))throw be.create("not-registered");const ne=te.authToken;if(!ee&&function isAuthTokenValid(_){return 2===_.requestStatus&&!function isAuthTokenExpired(_){const $=Date.now();return $<_.creationTime||_.creationTime+_.expiresIn<$+me}(_)}(ne))return te;if(1===ne.requestStatus)return $=async function waitUntilAuthTokenRequest(_,$){let ee=await updateAuthTokenRequest(_.appConfig);for(;1===ee.authToken.requestStatus;)await sleep(100),ee=await updateAuthTokenRequest(_.appConfig);const te=ee.authToken;return 0===te.requestStatus?refreshAuthToken(_,$):te}(_,ee),te;{if(!navigator.onLine)throw be.create("app-offline");const ee=function makeAuthTokenRequestInProgressEntry(_){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:$})}(te);return $=async function fetchAuthTokenFromServer(_,$){try{const ee=await generateAuthTokenRequest(_,$),te=Object.assign(Object.assign({},$),{authToken:ee});return await set(_.appConfig,te),ee}catch(ee){if(!isServerError(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const ee=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});await set(_.appConfig,ee)}else await remove(_.appConfig);throw ee}}(_,ee),ee}}));return $?await $:te.authToken}function updateAuthTokenRequest(_){return update(_,(_=>{if(!isEntryRegistered(_))throw be.create("not-registered");return function hasAuthTokenRequestTimedOut(_){return 1===_.requestStatus&&_.requestTime+he<Date.now()}(_.authToken)?Object.assign(Object.assign({},_),{authToken:{requestStatus:0}}):_}))}function isEntryRegistered(_){return void 0!==_&&2===_.registrationStatus}async function getToken(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const ee=_;await async function completeInstallationRegistration(_){const{registrationPromise:$}=await getInstallationEntry(_);$&&await $}(ee);return(await refreshAuthToken(ee,$)).token}function getMissingValueError(_){return be.create("missing-app-config-values",{valueName:_})}const Ne="installations",publicFactory=_=>{const $=_.getProvider("app").getImmediate(),ee=function extractAppConfig(_){if(!_||!_.options)throw getMissingValueError("App Configuration");if(!_.name)throw getMissingValueError("App Name");const $=["projectId","apiKey","appId"];for(const ee of $)if(!_.options[ee])throw getMissingValueError(ee);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}($);return{app:$,appConfig:ee,heartbeatServiceProvider:(0,ie.j6)($,"heartbeat"),_delete:()=>Promise.resolve()}},internalFactory=_=>{const $=_.getProvider("app").getImmediate(),ee=(0,ie.j6)($,Ne).getImmediate();return{getId:()=>async function getId(_){const $=_,{installationEntry:ee,registrationPromise:te}=await getInstallationEntry($);return te?te.catch(console.error):refreshAuthToken($).catch(console.error),ee.fid}(ee),getToken:_=>getToken(ee,_)}};!function registerInstallations(){(0,ie.om)(new ae.uA(Ne,publicFactory,"PUBLIC")),(0,ie.om)(new ae.uA("installations-internal",internalFactory,"PRIVATE"))}(),(0,ie.KO)(le,de),(0,ie.KO)(le,de,"esm2017");const Me="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",je="google.c.a.c_id",Le=1e4;var ze,qe;function arrayToBase64(_){const $=new Uint8Array(_);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(_){const $=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob($),te=new Uint8Array(ee.length);for(let ne=0;ne<ee.length;++ne)te[ne]=ee.charCodeAt(ne);return te}!function(_){_[_.DATA_MESSAGE=1]="DATA_MESSAGE",_[_.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(ze||(ze={})),function(_){_.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked"}(qe||(qe={}));const Ke="fcm_token_details_db",et="fcm_token_object_Store";const tt="firebase-messaging-store";let nt=null;function index_esm2017_getDbPromise(){return nt||(nt=(0,se.P2)("firebase-messaging-database",1,{upgrade:(_,$)=>{if(0===$)_.createObjectStore(tt)}})),nt}async function dbGet(_){const $=index_esm2017_getKey(_),ee=await index_esm2017_getDbPromise(),te=await ee.transaction(tt).objectStore(tt).get($);if(te)return te;{const $=await async function migrateOldDatabase(_){if("databases"in indexedDB){const _=(await indexedDB.databases()).map((_=>_.name));if(!_.includes(Ke))return null}let $=null;return(await(0,se.P2)(Ke,5,{upgrade:async(ee,te,ne,re)=>{var ie;if(te<2)return;if(!ee.objectStoreNames.contains(et))return;const ae=re.objectStore(et),oe=await ae.index("fcmSenderId").get(_);if(await ae.clear(),oe)if(2===te){const _=oe;if(!_.auth||!_.p256dh||!_.endpoint)return;$={token:_.fcmToken,createTime:null!==(ie=_.createTime)&&void 0!==ie?ie:Date.now(),subscriptionOptions:{auth:_.auth,p256dh:_.p256dh,endpoint:_.endpoint,swScope:_.swScope,vapidKey:"string"===typeof _.vapidKey?_.vapidKey:arrayToBase64(_.vapidKey)}}}else if(3===te){const _=oe;$={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:arrayToBase64(_.auth),p256dh:arrayToBase64(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:arrayToBase64(_.vapidKey)}}}else if(4===te){const _=oe;$={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:arrayToBase64(_.auth),p256dh:arrayToBase64(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:arrayToBase64(_.vapidKey)}}}}})).close(),await(0,se.MR)(Ke),await(0,se.MR)("fcm_vapid_details_db"),await(0,se.MR)("undefined"),function checkTokenDetails(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:$}=_;return"number"===typeof _.createTime&&_.createTime>0&&"string"===typeof _.token&&_.token.length>0&&"string"===typeof $.auth&&$.auth.length>0&&"string"===typeof $.p256dh&&$.p256dh.length>0&&"string"===typeof $.endpoint&&$.endpoint.length>0&&"string"===typeof $.swScope&&$.swScope.length>0&&"string"===typeof $.vapidKey&&$.vapidKey.length>0}($)?$:null}(_.appConfig.senderId);if($)return await dbSet(_,$),$}}async function dbSet(_,$){const ee=index_esm2017_getKey(_),te=(await index_esm2017_getDbPromise()).transaction(tt,"readwrite");return await te.objectStore(tt).put($,ee),await te.done,$}function index_esm2017_getKey(_){let{appConfig:$}=_;return $.appId}const rt={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},it=new oe.FA("messaging","Messaging",rt);async function requestDeleteToken(_,$){const ee={method:"DELETE",headers:await index_esm2017_getHeaders(_)};try{const te=await fetch(`${getEndpoint(_.appConfig)}/${$}`,ee),ne=await te.json();if(ne.error){const _=ne.error.message;throw it.create("token-unsubscribe-failed",{errorInfo:_})}}catch(te){throw it.create("token-unsubscribe-failed",{errorInfo:null===te||void 0===te?void 0:te.toString()})}}function getEndpoint(_){let{projectId:$}=_;return`https://fcmregistrations.googleapis.com/v1/projects/${$}/registrations`}async function index_esm2017_getHeaders(_){let{appConfig:$,installations:ee}=_;const te=await ee.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})}function getBody(_){let{p256dh:$,auth:ee,endpoint:te,vapidKey:ne}=_;const re={web:{endpoint:te,auth:ee,p256dh:$}};return ne!==Me&&(re.web.applicationPubKey=ne),re}async function getTokenInternal(_){const $=await async function getPushSubscription(_,$){const ee=await _.pushManager.getSubscription();if(ee)return ee;return _.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray($)})}(_.swRegistration,_.vapidKey),ee={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:$.endpoint,auth:arrayToBase64($.getKey("auth")),p256dh:arrayToBase64($.getKey("p256dh"))},te=await dbGet(_.firebaseDependencies);if(te){if(function isTokenValid(_,$){const ee=$.vapidKey===_.vapidKey,te=$.endpoint===_.endpoint,ne=$.auth===_.auth,re=$.p256dh===_.p256dh;return ee&&te&&ne&&re}(te.subscriptionOptions,ee))return Date.now()>=te.createTime+6048e5?async function updateToken(_,$){try{const ee=await async function requestUpdateToken(_,$){const ee=await index_esm2017_getHeaders(_),te=getBody($.subscriptionOptions),ne={method:"PATCH",headers:ee,body:JSON.stringify(te)};let re;try{const ee=await fetch(`${getEndpoint(_.appConfig)}/${$.token}`,ne);re=await ee.json()}catch(ie){throw it.create("token-update-failed",{errorInfo:null===ie||void 0===ie?void 0:ie.toString()})}if(re.error){const _=re.error.message;throw it.create("token-update-failed",{errorInfo:_})}if(!re.token)throw it.create("token-update-no-token");return re.token}(_.firebaseDependencies,$),te=Object.assign(Object.assign({},$),{token:ee,createTime:Date.now()});return await dbSet(_.firebaseDependencies,te),ee}catch(ee){throw ee}}(_,{token:te.token,createTime:Date.now(),subscriptionOptions:ee}):te.token;try{await requestDeleteToken(_.firebaseDependencies,te.token)}catch(ne){console.warn(ne)}return getNewToken(_.firebaseDependencies,ee)}return getNewToken(_.firebaseDependencies,ee)}async function getNewToken(_,$){const ee=await async function requestGetToken(_,$){const ee=await index_esm2017_getHeaders(_),te=getBody($),ne={method:"POST",headers:ee,body:JSON.stringify(te)};let re;try{const $=await fetch(getEndpoint(_.appConfig),ne);re=await $.json()}catch(ie){throw it.create("token-subscribe-failed",{errorInfo:null===ie||void 0===ie?void 0:ie.toString()})}if(re.error){const _=re.error.message;throw it.create("token-subscribe-failed",{errorInfo:_})}if(!re.token)throw it.create("token-subscribe-no-token");return re.token}(_,$),te={token:ee,createTime:Date.now(),subscriptionOptions:$};return await dbSet(_,te),te.token}function externalizePayload(_){const $={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function propagateNotificationPayload(_,$){if(!$.notification)return;_.notification={};const ee=$.notification.title;ee&&(_.notification.title=ee);const te=$.notification.body;te&&(_.notification.body=te);const ne=$.notification.image;ne&&(_.notification.image=ne);const re=$.notification.icon;re&&(_.notification.icon=re)}($,_),function propagateDataPayload(_,$){if(!$.data)return;_.data=$.data}($,_),function propagateFcmOptions(_,$){var ee,te,ne,re,ie;if(!$.fcmOptions&&!(null===(ee=$.notification)||void 0===ee?void 0:ee.click_action))return;_.fcmOptions={};const ae=null!==(ne=null===(te=$.fcmOptions)||void 0===te?void 0:te.link)&&void 0!==ne?ne:null===(re=$.notification)||void 0===re?void 0:re.click_action;ae&&(_.fcmOptions.link=ae);const oe=null===(ie=$.fcmOptions)||void 0===ie?void 0:ie.analytics_label;oe&&(_.fcmOptions.analyticsLabel=oe)}($,_),$}function index_esm2017_getMissingValueError(_){return it.create("missing-app-config-values",{valueName:_})}!function _mergeStrings(_,$){const ee=[];for(let te=0;te<_.length;te++)ee.push(_.charAt(te)),te<$.length&&ee.push($.charAt(te));return ee.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class MessagingService{constructor(_,$,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function index_esm2017_extractAppConfig(_){if(!_||!_.options)throw index_esm2017_getMissingValueError("App Configuration Object");if(!_.name)throw index_esm2017_getMissingValueError("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=_;for(const te of $)if(!ee[te])throw index_esm2017_getMissingValueError(te);return{appName:_.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(_);this.firebaseDependencies={app:_,appConfig:te,installations:$,analyticsProvider:ee}}_delete(){return Promise.resolve()}}async function registerDefaultSw(_){try{_.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),_.swRegistration.update().catch((()=>{})),await async function waitForRegistrationActive(_){return new Promise((($,ee)=>{const te=setTimeout((()=>ee(new Error("Service worker not registered after 10000 ms"))),Le),ne=_.installing||_.waiting;_.active?(clearTimeout(te),$()):ne?ne.onstatechange=_=>{var ee;"activated"===(null===(ee=_.target)||void 0===ee?void 0:ee.state)&&(ne.onstatechange=null,clearTimeout(te),$())}:(clearTimeout(te),ee(new Error("No incoming service worker found.")))}))}(_.swRegistration)}catch($){throw it.create("failed-service-worker-registration",{browserErrorMessage:null===$||void 0===$?void 0:$.message})}}async function getToken$1(_,$){if(!navigator)throw it.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw it.create("permission-blocked");return await async function updateVapidKey(_,$){$?_.vapidKey=$:_.vapidKey||(_.vapidKey=Me)}(_,null===$||void 0===$?void 0:$.vapidKey),await async function updateSwReg(_,$){if($||_.swRegistration||await registerDefaultSw(_),$||!_.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");_.swRegistration=$}}(_,null===$||void 0===$?void 0:$.serviceWorkerRegistration),getTokenInternal(_)}async function logToScion(_,$,ee){const te=function getEventType(_){switch(_){case qe.NOTIFICATION_CLICKED:return"notification_open";case qe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(await _.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:ee[je],message_name:ee["google.c.a.c_l"],message_time:ee["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function messageEventListener(_,$){const ee=$.data;if(!ee.isFirebaseMessaging)return;_.onMessageHandler&&ee.messageType===qe.PUSH_RECEIVED&&("function"===typeof _.onMessageHandler?_.onMessageHandler(externalizePayload(ee)):_.onMessageHandler.next(externalizePayload(ee)));const te=ee.data;(function isConsoleMessage(_){return"object"===typeof _&&!!_&&je in _})(te)&&"1"===te["google.c.a.e"]&&await logToScion(_,ee.messageType,te)}const at="@firebase/messaging",ot="0.12.17",WindowMessagingFactory=_=>{const $=new MessagingService(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(_=>messageEventListener($,_))),$},WindowMessagingInternalFactory=_=>{const $=_.getProvider("messaging").getImmediate();return{getToken:_=>getToken$1($,_)}};!function registerMessagingInWindow(){(0,ie.om)(new ae.uA("messaging",WindowMessagingFactory,"PUBLIC")),(0,ie.om)(new ae.uA("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),(0,ie.KO)(at,ot),(0,ie.KO)(at,ot,"esm2017")}();var st=ee(8147);const lt=(0,te.Wp)({apiKey:"AIzaSyBc3CNH5hAatFsuvAhrsOoNBZxIgUdfdCU",authDomain:"the-digital-twin-app-3e2b1.firebaseapp.com",projectId:"the-digital-twin-app-3e2b1",storageBucket:"the-digital-twin-app-3e2b1.firebasestorage.appspot.com",messagingSenderId:"404132163896",appId:"1:404132163896:web:4be038cbee416c56c7d1cd",measurementId:"G-BZNSJW940T"}),ct=(0,ne.xI)(lt),ut=(0,re.aU)(lt),dt=(0,st.c7)(lt);let ht;try{ht=function getMessagingInWindow(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ie.Sx)();return async function isWindowSupported(){try{await(0,oe.eX)()}catch(_){return!1}return"undefined"!==typeof window&&(0,oe.zW)()&&(0,oe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then((_=>{if(!_)throw it.create("unsupported-browser")}),(_=>{throw it.create("indexed-db-unsupported")})),(0,ie.j6)((0,oe.Ku)(_),"messaging").getImmediate()}(lt)}catch(ft){console.warn("Firebase messaging is not supported in this environment",ft)}},4930:(_,$,ee)=>{"use strict";ee.d($,{M:()=>useConstant});var te=ee(5043);function useConstant(_){const $=(0,te.useRef)(null);return null===$.current&&($.current=_()),$.current}},5043:(_,$,ee)=>{"use strict";_.exports=ee(4202)},5173:(_,$,ee)=>{_.exports=ee(1497)()},5200:(_,$,ee)=>{"use strict";ee.d($,{A3x:()=>FiCheckCircle,ARf:()=>FiTrendingUp,BR8:()=>FiGithub,EkJ:()=>FiBellOff,F5$:()=>FiLock,GGD:()=>FiPlus,Hbo:()=>FiDatabase,IXo:()=>FiTrash2,JOY:()=>FiUserX,JXP:()=>FiUser,Jqy:()=>FiCloud,Jwm:()=>FiPenTool,Ohp:()=>FiClock,QPV:()=>FiGrid,QeK:()=>FiLogOut,SG1:()=>FiEdit,TC4:()=>FiTwitter,TPq:()=>FiAward,V5Y:()=>FiHome,VSk:()=>FiSettings,Wjy:()=>FiLinkedin,Wm:()=>FiList,X6_:()=>FiMessageCircle,Y19:()=>FiBookmark,Ydy:()=>FiThumbsUp,cfS:()=>FiUsers,fOo:()=>FiChevronRight,hht:()=>FiBarChart,irw:()=>FiChevronLeft,lZI:()=>FiCreditCard,lrG:()=>FiHelpCircle,mEP:()=>FiMessageSquare,nxz:()=>FiCopy,pcC:()=>FiShield,rxb:()=>FiThumbsDown,vQY:()=>FiBarChart2,yGN:()=>FiX,z1n:()=>FiActivity,zd:()=>FiBell});var te=ee(3441);function FiActivity(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(_)}function FiAward(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(_)}function FiBarChart2(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(_)}function FiBarChart(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(_)}function FiBellOff(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]},{tag:"path",attr:{d:"M18.63 13A17.89 17.89 0 0 1 18 8"},child:[]},{tag:"path",attr:{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"},child:[]},{tag:"path",attr:{d:"M18 8a6 6 0 0 0-9.33-5"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(_)}function FiBell(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(_)}function FiBookmark(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(_)}function FiCheckCircle(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(_)}function FiChevronLeft(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(_)}function FiChevronRight(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(_)}function FiClock(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(_)}function FiCloud(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(_)}function FiCopy(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(_)}function FiCreditCard(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(_)}function FiDatabase(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(_)}function FiEdit(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(_)}function FiGithub(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(_)}function FiGrid(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(_)}function FiHelpCircle(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(_)}function FiHome(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(_)}function FiLinkedin(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(_)}function FiList(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(_)}function FiLock(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(_)}function FiLogOut(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(_)}function FiMessageCircle(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(_)}function FiMessageSquare(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(_)}function FiPenTool(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(_)}function FiPlus(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(_)}function FiSettings(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(_)}function FiShield(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(_)}function FiThumbsDown(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"},child:[]}]})(_)}function FiThumbsUp(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(_)}function FiTrash2(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(_)}function FiTrendingUp(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(_)}function FiTwitter(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(_)}function FiUserX(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(_)}function FiUser(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(_)}function FiUsers(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(_)}function FiX(_){return(0,te.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(_)}},5472:(_,$,ee)=>{"use strict";ee.d($,{gS:()=>addDoc,C3:()=>arrayRemove,hq:()=>arrayUnion,rJ:()=>collection,kd:()=>deleteDoc,H9:()=>doc,x7:()=>getDoc,GG:()=>getDocs,aU:()=>getFirestore,AB:()=>limit,aQ:()=>onSnapshot,My:()=>orderBy,P:()=>query,O5:()=>serverTimestamp,BN:()=>setDoc,HM:()=>startAfter,mZ:()=>updateDoc,_M:()=>where,wP:()=>writeBatch});var te,ne,re=ee(52),ie=ee(8812),ae=ee(443),oe=ee(1529),se="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},le={};(function(){var _;function m(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(_,$,ee){ee||(ee=0);var te=Array(16);if("string"===typeof $)for(var ne=0;16>ne;++ne)te[ne]=$.charCodeAt(ee++)|$.charCodeAt(ee++)<<8|$.charCodeAt(ee++)<<16|$.charCodeAt(ee++)<<24;else for(ne=0;16>ne;++ne)te[ne]=$[ee++]|$[ee++]<<8|$[ee++]<<16|$[ee++]<<24;$=_.g[0],ee=_.g[1],ne=_.g[2];var re=_.g[3],ie=$+(re^ee&(ne^re))+te[0]+3614090360&4294967295;ie=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=(ee=(ne=(re=($=ee+(ie<<7&4294967295|ie>>>25))+((ie=re+(ne^$&(ee^ne))+te[1]+3905402710&4294967295)<<12&4294967295|ie>>>20))+((ie=ne+(ee^re&($^ee))+te[2]+606105819&4294967295)<<17&4294967295|ie>>>15))+((ie=ee+($^ne&(re^$))+te[3]+3250441966&4294967295)<<22&4294967295|ie>>>10))+((ie=$+(re^ee&(ne^re))+te[4]+4118548399&4294967295)<<7&4294967295|ie>>>25))+((ie=re+(ne^$&(ee^ne))+te[5]+1200080426&4294967295)<<12&4294967295|ie>>>20))+((ie=ne+(ee^re&($^ee))+te[6]+2821735955&4294967295)<<17&4294967295|ie>>>15))+((ie=ee+($^ne&(re^$))+te[7]+4249261313&4294967295)<<22&4294967295|ie>>>10))+((ie=$+(re^ee&(ne^re))+te[8]+1770035416&4294967295)<<7&4294967295|ie>>>25))+((ie=re+(ne^$&(ee^ne))+te[9]+2336552879&4294967295)<<12&4294967295|ie>>>20))+((ie=ne+(ee^re&($^ee))+te[10]+4294925233&4294967295)<<17&4294967295|ie>>>15))+((ie=ee+($^ne&(re^$))+te[11]+2304563134&4294967295)<<22&4294967295|ie>>>10))+((ie=$+(re^ee&(ne^re))+te[12]+1804603682&4294967295)<<7&4294967295|ie>>>25))+((ie=re+(ne^$&(ee^ne))+te[13]+4254626195&4294967295)<<12&4294967295|ie>>>20))+((ie=ne+(ee^re&($^ee))+te[14]+2792965006&4294967295)<<17&4294967295|ie>>>15))+((ie=ee+($^ne&(re^$))+te[15]+1236535329&4294967295)<<22&4294967295|ie>>>10))+((ie=$+(ne^re&(ee^ne))+te[1]+4129170786&4294967295)<<5&4294967295|ie>>>27))+((ie=re+(ee^ne&($^ee))+te[6]+3225465664&4294967295)<<9&4294967295|ie>>>23))+((ie=ne+($^ee&(re^$))+te[11]+643717713&4294967295)<<14&4294967295|ie>>>18))+((ie=ee+(re^$&(ne^re))+te[0]+3921069994&4294967295)<<20&4294967295|ie>>>12))+((ie=$+(ne^re&(ee^ne))+te[5]+3593408605&4294967295)<<5&4294967295|ie>>>27))+((ie=re+(ee^ne&($^ee))+te[10]+38016083&4294967295)<<9&4294967295|ie>>>23))+((ie=ne+($^ee&(re^$))+te[15]+3634488961&4294967295)<<14&4294967295|ie>>>18))+((ie=ee+(re^$&(ne^re))+te[4]+3889429448&4294967295)<<20&4294967295|ie>>>12))+((ie=$+(ne^re&(ee^ne))+te[9]+568446438&4294967295)<<5&4294967295|ie>>>27))+((ie=re+(ee^ne&($^ee))+te[14]+3275163606&4294967295)<<9&4294967295|ie>>>23))+((ie=ne+($^ee&(re^$))+te[3]+4107603335&4294967295)<<14&4294967295|ie>>>18))+((ie=ee+(re^$&(ne^re))+te[8]+1163531501&4294967295)<<20&4294967295|ie>>>12))+((ie=$+(ne^re&(ee^ne))+te[13]+2850285829&4294967295)<<5&4294967295|ie>>>27))+((ie=re+(ee^ne&($^ee))+te[2]+4243563512&4294967295)<<9&4294967295|ie>>>23))+((ie=ne+($^ee&(re^$))+te[7]+1735328473&4294967295)<<14&4294967295|ie>>>18))+((ie=ee+(re^$&(ne^re))+te[12]+2368359562&4294967295)<<20&4294967295|ie>>>12))+((ie=$+(ee^ne^re)+te[5]+4294588738&4294967295)<<4&4294967295|ie>>>28))+((ie=re+($^ee^ne)+te[8]+2272392833&4294967295)<<11&4294967295|ie>>>21))+((ie=ne+(re^$^ee)+te[11]+1839030562&4294967295)<<16&4294967295|ie>>>16))+((ie=ee+(ne^re^$)+te[14]+4259657740&4294967295)<<23&4294967295|ie>>>9))+((ie=$+(ee^ne^re)+te[1]+2763975236&4294967295)<<4&4294967295|ie>>>28))+((ie=re+($^ee^ne)+te[4]+1272893353&4294967295)<<11&4294967295|ie>>>21))+((ie=ne+(re^$^ee)+te[7]+4139469664&4294967295)<<16&4294967295|ie>>>16))+((ie=ee+(ne^re^$)+te[10]+3200236656&4294967295)<<23&4294967295|ie>>>9))+((ie=$+(ee^ne^re)+te[13]+681279174&4294967295)<<4&4294967295|ie>>>28))+((ie=re+($^ee^ne)+te[0]+3936430074&4294967295)<<11&4294967295|ie>>>21))+((ie=ne+(re^$^ee)+te[3]+3572445317&4294967295)<<16&4294967295|ie>>>16))+((ie=ee+(ne^re^$)+te[6]+76029189&4294967295)<<23&4294967295|ie>>>9))+((ie=$+(ee^ne^re)+te[9]+3654602809&4294967295)<<4&4294967295|ie>>>28))+((ie=re+($^ee^ne)+te[12]+3873151461&4294967295)<<11&4294967295|ie>>>21))+((ie=ne+(re^$^ee)+te[15]+530742520&4294967295)<<16&4294967295|ie>>>16))+((ie=ee+(ne^re^$)+te[2]+3299628645&4294967295)<<23&4294967295|ie>>>9))+((ie=$+(ne^(ee|~re))+te[0]+4096336452&4294967295)<<6&4294967295|ie>>>26))+((ie=re+(ee^($|~ne))+te[7]+1126891415&4294967295)<<10&4294967295|ie>>>22))+((ie=ne+($^(re|~ee))+te[14]+2878612391&4294967295)<<15&4294967295|ie>>>17))+((ie=ee+(re^(ne|~$))+te[5]+4237533241&4294967295)<<21&4294967295|ie>>>11))+((ie=$+(ne^(ee|~re))+te[12]+1700485571&4294967295)<<6&4294967295|ie>>>26))+((ie=re+(ee^($|~ne))+te[3]+2399980690&4294967295)<<10&4294967295|ie>>>22))+((ie=ne+($^(re|~ee))+te[10]+4293915773&4294967295)<<15&4294967295|ie>>>17))+((ie=ee+(re^(ne|~$))+te[1]+2240044497&4294967295)<<21&4294967295|ie>>>11))+((ie=$+(ne^(ee|~re))+te[8]+1873313359&4294967295)<<6&4294967295|ie>>>26))+((ie=re+(ee^($|~ne))+te[15]+4264355552&4294967295)<<10&4294967295|ie>>>22))+((ie=ne+($^(re|~ee))+te[6]+2734768916&4294967295)<<15&4294967295|ie>>>17))+((ie=ee+(re^(ne|~$))+te[13]+1309151649&4294967295)<<21&4294967295|ie>>>11))+((re=($=ee+((ie=$+(ne^(ee|~re))+te[4]+4149444226&4294967295)<<6&4294967295|ie>>>26))+((ie=re+(ee^($|~ne))+te[11]+3174756917&4294967295)<<10&4294967295|ie>>>22))^((ne=re+((ie=ne+($^(re|~ee))+te[2]+718787259&4294967295)<<15&4294967295|ie>>>17))|~$))+te[9]+3951481745&4294967295,_.g[0]=_.g[0]+$&4294967295,_.g[1]=_.g[1]+(ne+(ie<<21&4294967295|ie>>>11))&4294967295,_.g[2]=_.g[2]+ne&4294967295,_.g[3]=_.g[3]+re&4294967295}function t(_,$){this.h=$;for(var ee=[],te=!0,ne=_.length-1;0<=ne;ne--){var re=0|_[ne];te&&re==$||(ee[ne]=re,te=!1)}this.g=ee}!function k(_,$){function c(){}c.prototype=$.prototype,_.D=$.prototype,_.prototype=new c,_.prototype.constructor=_,_.C=function(_,ee,te){for(var ne=Array(arguments.length-2),re=2;re<arguments.length;re++)ne[re-2]=arguments[re];return $.prototype[ee].apply(_,ne)}}(m,(function l(){this.blockSize=-1})),m.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},m.prototype.u=function(_,$){void 0===$&&($=_.length);for(var ee=$-this.blockSize,te=this.B,ne=this.h,re=0;re<$;){if(0==ne)for(;re<=ee;)n(this,_,re),re+=this.blockSize;if("string"===typeof _){for(;re<$;)if(te[ne++]=_.charCodeAt(re++),ne==this.blockSize){n(this,te),ne=0;break}}else for(;re<$;)if(te[ne++]=_[re++],ne==this.blockSize){n(this,te),ne=0;break}}this.h=ne,this.o+=$},m.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var $=1;$<_.length-8;++$)_[$]=0;var ee=8*this.o;for($=_.length-8;$<_.length;++$)_[$]=255&ee,ee/=256;for(this.u(_),_=Array(16),$=ee=0;4>$;++$)for(var te=0;32>te;te+=8)_[ee++]=this.g[$]>>>te&255;return _};var $={};function u(_){return-128<=_&&128>_?function p(_,ee){var te=$;return Object.prototype.hasOwnProperty.call(te,_)?te[_]:te[_]=ee(_)}(_,(function(_){return new t([0|_],0>_?-1:0)})):new t([0|_],0>_?-1:0)}function v(_){if(isNaN(_)||!isFinite(_))return ee;if(0>_)return x(v(-_));for(var $=[],te=1,ne=0;_>=te;ne++)$[ne]=_/te|0,te*=4294967296;return new t($,0)}var ee=u(0),re=u(1),ie=u(16777216);function C(_){if(0!=_.h)return!1;for(var $=0;$<_.g.length;$++)if(0!=_.g[$])return!1;return!0}function B(_){return-1==_.h}function x(_){for(var $=_.g.length,ee=[],te=0;te<$;te++)ee[te]=~_.g[te];return new t(ee,~_.h).add(re)}function F(_,$){return _.add(x($))}function G(_,$){for(;(65535&_[$])!=_[$];)_[$+1]+=_[$]>>>16,_[$]&=65535,$++}function H(_,$){this.g=_,this.h=$}function D(_,$){if(C($))throw Error("division by zero");if(C(_))return new H(ee,ee);if(B(_))return $=D(x(_),$),new H(x($.g),x($.h));if(B($))return $=D(_,x($)),new H(x($.g),$.h);if(30<_.g.length){if(B(_)||B($))throw Error("slowDivide_ only works with positive integers.");for(var te=re,ne=$;0>=ne.l(_);)te=I(te),ne=I(ne);var ie=J(te,1),ae=J(ne,1);for(ne=J(ne,2),te=J(te,2);!C(ne);){var oe=ae.add(ne);0>=oe.l(_)&&(ie=ie.add(te),ae=oe),ne=J(ne,1),te=J(te,1)}return $=F(_,ie.j($)),new H(ie,$)}for(ie=ee;0<=_.l($);){for(te=Math.max(1,Math.floor(_.m()/$.m())),ne=48>=(ne=Math.ceil(Math.log(te)/Math.LN2))?1:Math.pow(2,ne-48),oe=(ae=v(te)).j($);B(oe)||0<oe.l(_);)oe=(ae=v(te-=ne)).j($);C(ae)&&(ae=re),ie=ie.add(ae),_=F(_,oe)}return new H(ie,_)}function I(_){for(var $=_.g.length+1,ee=[],te=0;te<$;te++)ee[te]=_.i(te)<<1|_.i(te-1)>>>31;return new t(ee,_.h)}function J(_,$){var ee=$>>5;$%=32;for(var te=_.g.length-ee,ne=[],re=0;re<te;re++)ne[re]=0<$?_.i(re+ee)>>>$|_.i(re+ee+1)<<32-$:_.i(re+ee);return new t(ne,_.h)}(_=t.prototype).m=function(){if(B(this))return-x(this).m();for(var _=0,$=1,ee=0;ee<this.g.length;ee++){var te=this.i(ee);_+=(0<=te?te:4294967296+te)*$,$*=4294967296}return _},_.toString=function(_){if(2>(_=_||10)||36<_)throw Error("radix out of range: "+_);if(C(this))return"0";if(B(this))return"-"+x(this).toString(_);for(var $=v(Math.pow(_,6)),ee=this,te="";;){var ne=D(ee,$).g,re=((0<(ee=F(ee,ne.j($))).g.length?ee.g[0]:ee.h)>>>0).toString(_);if(C(ee=ne))return re+te;for(;6>re.length;)re="0"+re;te=re+te}},_.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h},_.l=function(_){return B(_=F(this,_))?-1:C(_)?0:1},_.abs=function(){return B(this)?x(this):this},_.add=function(_){for(var $=Math.max(this.g.length,_.g.length),ee=[],te=0,ne=0;ne<=$;ne++){var re=te+(65535&this.i(ne))+(65535&_.i(ne)),ie=(re>>>16)+(this.i(ne)>>>16)+(_.i(ne)>>>16);te=ie>>>16,re&=65535,ie&=65535,ee[ne]=ie<<16|re}return new t(ee,-2147483648&ee[ee.length-1]?-1:0)},_.j=function(_){if(C(this)||C(_))return ee;if(B(this))return B(_)?x(this).j(x(_)):x(x(this).j(_));if(B(_))return x(this.j(x(_)));if(0>this.l(ie)&&0>_.l(ie))return v(this.m()*_.m());for(var $=this.g.length+_.g.length,te=[],ne=0;ne<2*$;ne++)te[ne]=0;for(ne=0;ne<this.g.length;ne++)for(var re=0;re<_.g.length;re++){var ae=this.i(ne)>>>16,oe=65535&this.i(ne),se=_.i(re)>>>16,le=65535&_.i(re);te[2*ne+2*re]+=oe*le,G(te,2*ne+2*re),te[2*ne+2*re+1]+=ae*le,G(te,2*ne+2*re+1),te[2*ne+2*re+1]+=oe*se,G(te,2*ne+2*re+1),te[2*ne+2*re+2]+=ae*se,G(te,2*ne+2*re+2)}for(ne=0;ne<$;ne++)te[ne]=te[2*ne+1]<<16|te[2*ne];for(ne=$;ne<2*$;ne++)te[ne]=0;return new t(te,0)},_.A=function(_){return D(this,_).h},_.and=function(_){for(var $=Math.max(this.g.length,_.g.length),ee=[],te=0;te<$;te++)ee[te]=this.i(te)&_.i(te);return new t(ee,this.h&_.h)},_.or=function(_){for(var $=Math.max(this.g.length,_.g.length),ee=[],te=0;te<$;te++)ee[te]=this.i(te)|_.i(te);return new t(ee,this.h|_.h)},_.xor=function(_){for(var $=Math.max(this.g.length,_.g.length),ee=[],te=0;te<$;te++)ee[te]=this.i(te)^_.i(te);return new t(ee,this.h^_.h)},m.prototype.digest=m.prototype.v,m.prototype.reset=m.prototype.s,m.prototype.update=m.prototype.u,ne=le.Md5=m,t.prototype.add=t.prototype.add,t.prototype.multiply=t.prototype.j,t.prototype.modulo=t.prototype.A,t.prototype.compare=t.prototype.l,t.prototype.toNumber=t.prototype.m,t.prototype.toString=t.prototype.toString,t.prototype.getBits=t.prototype.i,t.fromNumber=v,t.fromString=function y(_,$){if(0==_.length)throw Error("number format error: empty string");if(2>($=$||10)||36<$)throw Error("radix out of range: "+$);if("-"==_.charAt(0))return x(y(_.substring(1),$));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var te=v(Math.pow($,8)),ne=ee,re=0;re<_.length;re+=8){var ie=Math.min(8,_.length-re),ae=parseInt(_.substring(re,re+ie),$);8>ie?(ie=v(Math.pow($,ie)),ne=ne.j(ie).add(v(ae))):ne=(ne=ne.j(te)).add(v(ae))}return ne},te=le.Integer=t}).apply("undefined"!==typeof se?se:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var de,he,fe,pe,me,_e,be,we,Ee="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ke={};(function(){var _,$="function"==typeof Object.defineProperties?Object.defineProperty:function(_,$,ee){return _==Array.prototype||_==Object.prototype||(_[$]=ee.value),_};var ee=function ba(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ee&&Ee];for(var $=0;$<_.length;++$){var ee=_[$];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function da(_,te){if(te)e:{var ne=ee;_=_.split(".");for(var re=0;re<_.length-1;re++){var ie=_[re];if(!(ie in ne))break e;ne=ne[ie]}(te=te(re=ne[_=_[_.length-1]]))!=re&&null!=te&&$(ne,_,{configurable:!0,writable:!0,value:te})}}("Array.prototype.values",(function(_){return _||function(){return function ea(_,$){_ instanceof String&&(_+="");var ee=0,te=!1,ne={next:function(){if(!te&&ee<_.length){var ne=ee++;return{value:$(ne,_[ne]),done:!1}}return te=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}(this,(function(_,$){return $}))}}));var te=te||{},ne=this||self;function ha(_){var $=typeof _;return"array"==($="object"!=$?$:_?Array.isArray(_)?"array":$:"null")||"object"==$&&"number"==typeof _.length}function n(_){var $=typeof _;return"object"==$&&null!=_||"function"==$}function ia(_,$,ee){return _.call.apply(_.bind,arguments)}function ja(_,$,ee){if(!_)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,te),_.apply($,ee)}}return function(){return _.apply($,arguments)}}function p(_,$,ee){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja).apply(null,arguments)}function ka(_,$){var ee=Array.prototype.slice.call(arguments,1);return function(){var $=ee.slice();return $.push.apply($,arguments),_.apply(this,$)}}function r(_,$){function c(){}c.prototype=$.prototype,_.aa=$.prototype,_.prototype=new c,_.prototype.constructor=_,_.Qb=function(_,ee,te){for(var ne=Array(arguments.length-2),re=2;re<arguments.length;re++)ne[re-2]=arguments[re];return $.prototype[ee].apply(_,ne)}}function la(_){const $=_.length;if(0<$){const ee=Array($);for(let te=0;te<$;te++)ee[te]=_[te];return ee}return[]}function ma(_,$){for(let ee=1;ee<arguments.length;ee++){const $=arguments[ee];if(ha($)){const ee=_.length||0,te=$.length||0;_.length=ee+te;for(let ne=0;ne<te;ne++)_[ee+ne]=$[ne]}else _.push($)}}function t(_){return/^[\s\xa0]*$/.test(_)}function u(){var _=ne.navigator;return _&&(_=_.userAgent)?_:""}function oa(_){return oa[" "](_),_}oa[" "]=function(){};var re=-1!=u().indexOf("Gecko")&&!(-1!=u().toLowerCase().indexOf("webkit")&&-1==u().indexOf("Edge"))&&!(-1!=u().indexOf("Trident")||-1!=u().indexOf("MSIE"))&&-1==u().indexOf("Edge");function qa(_,$,ee){for(const te in _)$.call(ee,_[te],te,_)}function sa(_){const $={};for(const ee in _)$[ee]=_[ee];return $}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(_,$){let ee,te;for(let ne=1;ne<arguments.length;ne++){for(ee in te=arguments[ne],te)_[ee]=te[ee];for(let $=0;$<ie.length;$++)ee=ie[$],Object.prototype.hasOwnProperty.call(te,ee)&&(_[ee]=te[ee])}}function va(_){var $=1;_=_.split(":");const ee=[];for(;0<$&&_.length;)ee.push(_.shift()),$--;return _.length&&ee.push(_.join(":")),ee}function wa(_){ne.setTimeout((()=>{throw _}),0)}function xa(){var _=le;let $=null;return _.g&&($=_.g,_.g=_.g.next,_.g||(_.h=null),$.next=null),$}var ae=new class na{constructor(_,$){this.i=_,this.j=$,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}((()=>new Ca),(_=>_.reset()));class Ca{constructor(){this.next=this.g=this.h=null}set(_,$){this.h=_,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,se=!1,le=new class Aa{constructor(){this.h=this.g=null}add(_,$){const ee=ae.get();ee.set(_,$),this.h?this.h.next=ee:this.g=ee,this.h=ee}},Ea=()=>{const _=ne.Promise.resolve(void 0);oe=()=>{_.then(Da)}};var Da=()=>{for(var _;_=xa();){try{_.h.call(_.g)}catch(ee){wa(ee)}var $=ae;$.j(_),100>$.h&&($.h++,_.next=$.g,$.g=_)}se=!1};function z(){this.s=this.s,this.C=this.C}function A(_,$){this.type=_,this.g=this.target=$,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var _=!1,$=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const c=()=>{};ne.addEventListener("test",c,$),ne.removeEventListener("test",c,$)}catch(ee){}return _}();function C(_,$){if(A.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var ee=this.type=_.type,te=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=$,$=_.relatedTarget){if(re){e:{try{oa($.nodeName);var ne=!0;break e}catch(ie){}ne=!1}ne||($=null)}}else"mouseover"==ee?$=_.fromElement:"mouseout"==ee&&($=_.toElement);this.relatedTarget=$,te?(this.clientX=void 0!==te.clientX?te.clientX:te.pageX,this.clientY=void 0!==te.clientY?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"===typeof _.pointerType?_.pointerType:De[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&C.aa.h.call(this)}}r(C,A);var De={2:"touch",3:"pen",4:"mouse"};C.prototype.h=function(){C.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ia(_,$,ee,te,ne){this.listener=_,this.proxy=null,this.src=$,this.type=ee,this.capture=!!te,this.ha=ne,this.key=++Me,this.da=this.fa=!1}function Ja(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Ka(_){this.src=_,this.g={},this.h=0}function Ma(_,$){var ee=$.type;if(ee in _.g){var te,ne=_.g[ee],re=Array.prototype.indexOf.call(ne,$,void 0);(te=0<=re)&&Array.prototype.splice.call(ne,re,1),te&&(Ja($),0==_.g[ee].length&&(delete _.g[ee],_.h--))}}function La(_,$,ee,te){for(var ne=0;ne<_.length;++ne){var re=_[ne];if(!re.da&&re.listener==$&&re.capture==!!ee&&re.ha==te)return ne}return-1}Ka.prototype.add=function(_,$,ee,te,ne){var re=_.toString();(_=this.g[re])||(_=this.g[re]=[],this.h++);var ie=La(_,$,te,ne);return-1<ie?($=_[ie],ee||($.fa=!1)):(($=new Ia($,this.src,re,!!te,ne)).fa=ee,_.push($)),$};var je="closure_lm_"+(1e6*Math.random()|0),Le={};function Qa(_,$,ee,te,ne){if(te&&te.once)return Ra(_,$,ee,te,ne);if(Array.isArray($)){for(var re=0;re<$.length;re++)Qa(_,$[re],ee,te,ne);return null}return ee=Sa(ee),_&&_[Ne]?_.K($,ee,n(te)?!!te.capture:!!te,ne):Ta(_,$,ee,!1,te,ne)}function Ta(_,$,ee,te,ne,re){if(!$)throw Error("Invalid event type");var ie=n(ne)?!!ne.capture:!!ne,ae=Ua(_);if(ae||(_[je]=ae=new Ka(_)),(ee=ae.add($,ee,te,ie,re)).proxy)return ee;if(te=function Va(){function a($){return _.call(a.src,a.listener,$)}const _=Xa;return a}(),ee.proxy=te,te.src=_,te.listener=ee,_.addEventListener)Ve||(ne=ie),void 0===ne&&(ne=!1),_.addEventListener($.toString(),te,ne);else if(_.attachEvent)_.attachEvent(Wa($.toString()),te);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(te)}return ee}function Ra(_,$,ee,te,ne){if(Array.isArray($)){for(var re=0;re<$.length;re++)Ra(_,$[re],ee,te,ne);return null}return ee=Sa(ee),_&&_[Ne]?_.L($,ee,n(te)?!!te.capture:!!te,ne):Ta(_,$,ee,!0,te,ne)}function Ya(_,$,ee,te,ne){if(Array.isArray($))for(var re=0;re<$.length;re++)Ya(_,$[re],ee,te,ne);else te=n(te)?!!te.capture:!!te,ee=Sa(ee),_&&_[Ne]?(_=_.i,($=String($).toString())in _.g&&(-1<(ee=La(re=_.g[$],ee,te,ne))&&(Ja(re[ee]),Array.prototype.splice.call(re,ee,1),0==re.length&&(delete _.g[$],_.h--)))):_&&(_=Ua(_))&&($=_.g[$.toString()],_=-1,$&&(_=La($,ee,te,ne)),(ee=-1<_?$[_]:null)&&Za(ee))}function Za(_){if("number"!==typeof _&&_&&!_.da){var $=_.src;if($&&$[Ne])Ma($.i,_);else{var ee=_.type,te=_.proxy;$.removeEventListener?$.removeEventListener(ee,te,_.capture):$.detachEvent?$.detachEvent(Wa(ee),te):$.addListener&&$.removeListener&&$.removeListener(te),(ee=Ua($))?(Ma(ee,_),0==ee.h&&(ee.src=null,$[je]=null)):Ja(_)}}}function Wa(_){return _ in Le?Le[_]:Le[_]="on"+_}function Xa(_,$){if(_.da)_=!0;else{$=new C($,this);var ee=_.listener,te=_.ha||_.src;_.fa&&Za(_),_=ee.call(te,$)}return _}function Ua(_){return(_=_[je])instanceof Ka?_:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(_){return"function"===typeof _?_:(_[ze]||(_[ze]=function($){return _.handleEvent($)}),_[ze])}function E(){z.call(this),this.i=new Ka(this),this.M=this,this.F=null}function F(_,$){var ee,te=_.F;if(te)for(ee=[];te;te=te.F)ee.push(te);if(_=_.M,te=$.type||$,"string"===typeof $)$=new A($,_);else if($ instanceof A)$.target=$.target||_;else{var ne=$;ua($=new A(te,_),ne)}if(ne=!0,ee)for(var re=ee.length-1;0<=re;re--){var ie=$.g=ee[re];ne=ab(ie,te,!0,$)&&ne}if(ne=ab(ie=$.g=_,te,!0,$)&&ne,ne=ab(ie,te,!1,$)&&ne,ee)for(re=0;re<ee.length;re++)ne=ab(ie=$.g=ee[re],te,!1,$)&&ne}function ab(_,$,ee,te){if(!($=_.i.g[String($)]))return!0;$=$.concat();for(var ne=!0,re=0;re<$.length;++re){var ie=$[re];if(ie&&!ie.da&&ie.capture==ee){var ae=ie.listener,oe=ie.ha||ie.src;ie.fa&&Ma(_.i,ie),ne=!1!==ae.call(oe,te)&&ne}}return ne&&!te.defaultPrevented}function bb(_,$,ee){if("function"===typeof _)ee&&(_=p(_,ee));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=p(_.handleEvent,_)}return 2147483647<Number($)?-1:ne.setTimeout(_,$||0)}function cb(_){_.g=bb((()=>{_.g=null,_.i&&(_.i=!1,cb(_))}),_.l);const $=_.h;_.h=null,_.m.apply(null,$)}r(E,z),E.prototype[Ne]=!0,E.prototype.removeEventListener=function(_,$,ee,te){Ya(this,_,$,ee,te)},E.prototype.N=function(){if(E.aa.N.call(this),this.i){var _,$=this.i;for(_ in $.g){for(var ee=$.g[_],te=0;te<ee.length;te++)Ja(ee[te]);delete $.g[_],$.h--}}this.F=null},E.prototype.K=function(_,$,ee,te){return this.i.add(String(_),$,!1,ee,te)},E.prototype.L=function(_,$,ee,te){return this.i.add(String(_),$,!0,ee,te)};class eb extends z{constructor(_,$){super(),this.m=_,this.l=$,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:cb(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G(_){z.call(this),this.h=_,this.g={}}r(G,z);var qe=[];function gb(_){qa(_.g,(function(_,$){this.g.hasOwnProperty($)&&Za(_)}),_),_.g={}}G.prototype.N=function(){G.aa.N.call(this),gb(this)},G.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=ne.JSON.stringify,et=ne.JSON.parse,tt=class{stringify(_){return ne.JSON.stringify(_,void 0)}parse(_){return ne.JSON.parse(_,void 0)}};function kb(){}function lb(_){return _.h||(_.h=_.i())}function mb(){}kb.prototype.h=null;var nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nb(){A.call(this,"d")}function ob(){A.call(this,"c")}r(nb,A),r(ob,A);var rt={},it=null;function qb(){return it=it||new E}function rb(_){A.call(this,rt.La,_)}function J(_){const $=qb();F($,new rb($))}function sb(_,$){A.call(this,rt.STAT_EVENT,_),this.stat=$}function K(_){const $=qb();F($,new sb($,_))}function tb(_,$){A.call(this,rt.Ma,_),this.size=$}function ub(_,$){if("function"!==typeof _)throw Error("Fn must not be null and must be a function");return ne.setTimeout((function(){_()}),$)}function vb(){this.g=!0}function L(_,$,ee,te){_.info((function(){return"XMLHTTP TEXT ("+$+"): "+function yb(_,$){if(!_.g)return $;if(!$)return null;try{var ee=JSON.parse($);if(ee)for(_=0;_<ee.length;_++)if(Array.isArray(ee[_])){var te=ee[_];if(!(2>te.length)){var ne=te[1];if(Array.isArray(ne)&&!(1>ne.length)){var re=ne[0];if("noop"!=re&&"stop"!=re&&"close"!=re)for(var ie=1;ie<ne.length;ie++)ne[ie]=""}}}return Ke(ee)}catch(ae){return $}}(_,ee)+(te?" "+te:"")}))}rt.La="serverreachability",r(rb,A),rt.STAT_EVENT="statevent",r(sb,A),rt.Ma="timingevent",r(tb,A),vb.prototype.xa=function(){this.g=!1},vb.prototype.info=function(){};var at,ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Db(){}function M(_,$,ee,te){this.j=_,this.i=$,this.l=ee,this.R=te||1,this.U=new G(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eb}function Eb(){this.i=null,this.g="",this.h=!1}r(Db,kb),Db.prototype.g=function(){return new XMLHttpRequest},Db.prototype.i=function(){return{}},at=new Db;var lt={},ct={};function Hb(_,$,ee){_.L=1,_.v=Ib(N($)),_.m=ee,_.P=!0,Jb(_,null)}function Jb(_,$){_.F=Date.now(),Kb(_),_.A=N(_.v);var ee=_.A,te=_.R;Array.isArray(te)||(te=[String(te)]),Lb(ee.i,"t",te),_.C=0,ee=_.j.J,_.h=new Eb,_.g=Mb(_.j,ee?$:null,!_.m),0<_.O&&(_.M=new eb(p(_.Y,_,_.g),_.O)),$=_.U,ee=_.g,te=_.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(qe[0]=ne.toString()),ne=qe);for(var re=0;re<ne.length;re++){var ie=Qa(ee,ne[re],te||$.handleEvent,!1,$.h||$);if(!ie)break;$.g[ie.key]=ie}$=_.H?sa(_.H):{},_.m?(_.u||(_.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,$)):(_.u="GET",_.g.ea(_.A,_.u,null,$)),J(),function wb(_,$,ee,te,ne,re){_.info((function(){if(_.g)if(re)for(var ie="",ae=re.split("&"),oe=0;oe<ae.length;oe++){var se=ae[oe].split("=");if(1<se.length){var le=se[0];se=se[1];var de=le.split("_");ie=2<=de.length&&"type"==de[1]?ie+(le+"=")+se+"&":ie+(le+"=redacted&")}}else ie=null;else ie=re;return"XMLHTTP REQ ("+te+") [attempt "+ne+"]: "+$+"\n"+ee+"\n"+ie}))}(_.i,_.u,_.A,_.l,_.R,_.m)}function Pb(_){return!!_.g&&("GET"==_.u&&2!=_.L&&_.j.Ca)}function Sb(_,$){var ee=_.C,te=$.indexOf("\n",ee);return-1==te?ct:(ee=Number($.substring(ee,te)),isNaN(ee)?lt:(te+=1)+ee>$.length?ct:($=$.slice(te,te+ee),_.C=te+ee,$))}function Kb(_){_.S=Date.now()+_.I,Wb(_,_.I)}function Wb(_,$){if(null!=_.B)throw Error("WatchDog timer not null");_.B=ub(p(_.ba,_),$)}function Ob(_){_.B&&(ne.clearTimeout(_.B),_.B=null)}function Qb(_){0==_.j.G||_.J||Ub(_.j,_)}function Q(_){Ob(_);var $=_.M;$&&"function"==typeof $.ma&&$.ma(),_.M=null,gb(_.U),_.g&&($=_.g,_.g=null,$.abort(),$.ma())}function Rb(_,$){try{var ee=_.j;if(0!=ee.G&&(ee.g==_||Xb(ee.h,_)))if(!_.K&&Xb(ee.h,_)&&3==ee.G){try{var te=ee.Da.g.parse($)}catch(se){te=null}if(Array.isArray(te)&&3==te.length){var ne=te;if(0==ne[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<_.F))break e;Yb(ee),Zb(ee)}$b(ee),K(18)}}else ee.za=ne[1],0<ee.za-ee.T&&37500>ne[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=ub(p(ee.Za,ee),6e3));if(1>=ac(ee.h)&&ee.ca){try{ee.ca()}catch(se){}ee.ca=void 0}}else R(ee,11)}else if((_.K||ee.g==_)&&Yb(ee),!t($))for(ne=ee.Da.g.parse($),$=0;$<ne.length;$++){let se=ne[$];if(ee.T=se[0],se=se[1],2==ee.G)if("c"==se[0]){ee.K=se[1],ee.ia=se[2];const $=se[3];null!=$&&(ee.la=$,ee.j.info("VER="+ee.la));const ne=se[4];null!=ne&&(ee.Aa=ne,ee.j.info("SVER="+ee.Aa));const le=se[5];null!=le&&"number"===typeof le&&0<le&&(te=1.5*le,ee.L=te,ee.j.info("backChannelRequestTimeoutMs_="+te)),te=ee;const de=_.g;if(de){const _=de.g?de.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var re=te.h;re.g||-1==_.indexOf("spdy")&&-1==_.indexOf("quic")&&-1==_.indexOf("h2")||(re.j=re.l,re.g=new Set,re.h&&(bc(re,re.h),re.h=null))}if(te.D){const _=de.g?de.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(te.ya=_,S(te.I,te.D,_))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-_.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var ie=_;if((te=ee).qa=cc(te,te.J?te.ia:null,te.W),ie.K){dc(te.h,ie);var ae=ie,oe=te.L;oe&&(ae.I=oe),ae.B&&(Ob(ae),Kb(ae)),te.g=ie}else ec(te);0<ee.i.length&&fc(ee)}else"stop"!=se[0]&&"close"!=se[0]||R(ee,7);else 3==ee.G&&("stop"==se[0]||"close"==se[0]?"stop"==se[0]?R(ee,7):gc(ee):"noop"!=se[0]&&ee.l&&ee.l.ta(se),ee.v=0)}J()}catch(se){}}M.prototype.ca=function(_){_=_.target;const $=this.M;$&&3==P(_)?$.j():this.Y(_)},M.prototype.Y=function(_){try{if(_==this.g)e:{const he=P(this.g);var $=this.g.Ba();this.g.Z();if(!(3>he)&&(3!=he||this.g&&(this.h.h||this.g.oa()||Nb(this.g)))){this.J||4!=he||7==$||J(),Ob(this);var ee=this.g.Z();this.X=ee;t:if(Pb(this)){var te=Nb(this.g);_="";var re=te.length,ie=4==P(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Q(this),Qb(this);var ae="";break t}this.h.i=new ne.TextDecoder}for($=0;$<re;$++)this.h.h=!0,_+=this.h.i.decode(te[$],{stream:!(ie&&$==re-1)});te.length=0,this.h.g+=_,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=200==ee,function xb(_,$,ee,te,ne,re,ie){_.info((function(){return"XMLHTTP RESP ("+te+") [ attempt "+ne+"]: "+$+"\n"+ee+"\n"+re+" "+ie}))}(this.i,this.u,this.A,this.l,this.R,he,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var oe,se=this.g;if((oe=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t(oe)){var le=oe;break t}}le=null}if(!(ee=le)){this.o=!1,this.s=3,K(12),Q(this),Qb(this);break e}L(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rb(this,ee)}if(this.P){let _;for(ee=!0;!this.J&&this.C<ae.length;){if(_=Sb(this,ae),_==ct){4==he&&(this.s=4,K(14),ee=!1),L(this.i,this.l,null,"[Incomplete Response]");break}if(_==lt){this.s=4,K(15),L(this.i,this.l,ae,"[Invalid Chunk]"),ee=!1;break}L(this.i,this.l,_,null),Rb(this,_)}if(Pb(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=he||0!=ae.length||this.h.h||(this.s=1,K(16),ee=!1),this.o=this.o&&ee,ee){if(0<ae.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Tb(de),de.M=!0,K(11))}}else L(this.i,this.l,ae,"[Invalid Chunked Response]"),Q(this),Qb(this)}else L(this.i,this.l,ae,null),Rb(this,ae);4==he&&Q(this),this.o&&!this.J&&(4==he?Ub(this.j,this):(this.o=!1,Kb(this)))}else(function Vb(_){const $={};_=(_.g&&2<=P(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let te=0;te<_.length;te++){if(t(_[te]))continue;var ee=va(_[te]);const ne=ee[0];if("string"!==typeof(ee=ee[1]))continue;ee=ee.trim();const re=$[ne]||[];$[ne]=re,re.push(ee)}!function ra(_,$){for(const ee in _)$.call(void 0,_[ee],ee,_)}($,(function(_){return _.join(", ")}))})(this.g),400==ee&&0<ae.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),Q(this),Qb(this)}}}catch(he){}},M.prototype.cancel=function(){this.J=!0,Q(this)},M.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function zb(_,$){_.info((function(){return"TIMEOUT: "+$}))}(this.i,this.A),2!=this.L&&(J(),K(17)),Q(this),this.s=2,Qb(this)):Wb(this,this.S-_)};var ut=class{constructor(_,$){this.g=_,this.map=$}};function ic(_){this.l=_||10,ne.PerformanceNavigationTiming?_=0<(_=ne.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):_=!!(ne.chrome&&ne.chrome.loadTimes&&ne.chrome.loadTimes()&&ne.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jc(_){return!!_.h||!!_.g&&_.g.size>=_.j}function ac(_){return _.h?1:_.g?_.g.size:0}function Xb(_,$){return _.h?_.h==$:!!_.g&&_.g.has($)}function bc(_,$){_.g?_.g.add($):_.h=$}function dc(_,$){_.h&&_.h==$?_.h=null:_.g&&_.g.has($)&&_.g.delete($)}function kc(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let $=_.i;for(const ee of _.g.values())$=$.concat(ee.D);return $}return la(_.i)}function nc(_,$){if(_.forEach&&"function"==typeof _.forEach)_.forEach($,void 0);else if(ha(_)||"string"===typeof _)Array.prototype.forEach.call(_,$,void 0);else for(var ee=function mc(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if("undefined"!==typeof Map&&_ instanceof Map)return Array.from(_.keys());if(!("undefined"!==typeof Set&&_ instanceof Set)){if(ha(_)||"string"===typeof _){var $=[];_=_.length;for(var ee=0;ee<_;ee++)$.push(ee);return $}$=[],ee=0;for(const te in _)$[ee++]=te;return $}}}(_),te=function lc(_){if(_.V&&"function"==typeof _.V)return _.V();if("undefined"!==typeof Map&&_ instanceof Map||"undefined"!==typeof Set&&_ instanceof Set)return Array.from(_.values());if("string"===typeof _)return _.split("");if(ha(_)){for(var $=[],ee=_.length,te=0;te<ee;te++)$.push(_[te]);return $}for(te in $=[],ee=0,_)$[ee++]=_[te];return $}(_),ne=te.length,re=0;re<ne;re++)$.call(void 0,te[re],ee&&ee[re],_)}ic.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof T){this.h=_.h,qc(this,_.j),this.o=_.o,this.g=_.g,rc(this,_.s),this.l=_.l;var $=_.i,ee=new sc;ee.i=$.i,$.g&&(ee.g=new Map($.g),ee.h=$.h),tc(this,ee),this.m=_.m}else _&&($=String(_).match(dt))?(this.h=!1,qc(this,$[1]||"",!0),this.o=uc($[2]||""),this.g=uc($[3]||"",!0),rc(this,$[4]),this.l=uc($[5]||"",!0),tc(this,$[6]||"",!0),this.m=uc($[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}function N(_){return new T(_)}function qc(_,$,ee){_.j=ee?uc($,!0):$,_.j&&(_.j=_.j.replace(/:$/,""))}function rc(_,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);_.s=$}else _.s=null}function tc(_,$,ee){$ instanceof sc?(_.i=$,function Ac(_,$){$&&!_.j&&(U(_),_.i=null,_.g.forEach((function(_,$){var ee=$.toLowerCase();$!=ee&&(Dc(this,$),Lb(this,ee,_))}),_)),_.j=$}(_.i,_.h)):(ee||($=vc($,gt)),_.i=new sc($,_.h))}function S(_,$,ee){_.i.set($,ee)}function Ib(_){return S(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function uc(_,$){return _?$?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function vc(_,$,ee){return"string"===typeof _?(_=encodeURI(_).replace($,Cc),ee&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Cc(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}T.prototype.toString=function(){var _=[],$=this.j;$&&_.push(vc($,ft,!0),":");var ee=this.g;return(ee||"file"==$)&&(_.push("//"),($=this.o)&&_.push(vc($,ft,!0),"@"),_.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&_.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&_.push("/"),_.push(vc(ee,"/"==ee.charAt(0)?mt:pt,!0))),(ee=this.i.toString())&&_.push("?",ee),(ee=this.m)&&_.push("#",vc(ee,_t)),_.join("")};var ht,ft=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,gt=/[#\?@]/g,_t=/#/g;function sc(_,$){this.h=this.g=null,this.i=_||null,this.j=!!$}function U(_){_.g||(_.g=new Map,_.h=0,_.i&&function pc(_,$){if(_){_=_.split("&");for(var ee=0;ee<_.length;ee++){var te=_[ee].indexOf("="),ne=null;if(0<=te){var re=_[ee].substring(0,te);ne=_[ee].substring(te+1)}else re=_[ee];$(re,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}(_.i,(function($,ee){_.add(decodeURIComponent($.replace(/\+/g," ")),ee)})))}function Dc(_,$){U(_),$=V(_,$),_.g.has($)&&(_.i=null,_.h-=_.g.get($).length,_.g.delete($))}function Ec(_,$){return U(_),$=V(_,$),_.g.has($)}function Lb(_,$,ee){Dc(_,$),0<ee.length&&(_.i=null,_.g.set(V(_,$),la(ee)),_.h+=ee.length)}function V(_,$){return $=String($),_.j&&($=$.toLowerCase()),$}function W(_,$,ee,te,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),te(ee)}catch(re){}}function Hc(){this.g=new tt}function Ic(_,$,ee){const te=ee||"";try{nc(_,(function(_,ee){let ne=_;n(_)&&(ne=Ke(_)),$.push(te+ee+"="+encodeURIComponent(ne))}))}catch(ne){throw $.push(te+"type="+encodeURIComponent("_badmap")),ne}}function Jc(_){this.l=_.Ub||null,this.j=_.eb||!1}function Kc(_,$){E.call(this),this.D=_,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nc(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function Mc(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Lc(_)}function Lc(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function Oc(_){let $="";return qa(_,(function(_,ee){$+=ee,$+=":",$+=_,$+="\r\n"})),$}function Pc(_,$,ee){e:{for(te in ee){var te=!1;break e}te=!0}te||(ee=Oc(ee),"string"===typeof _?null!=ee&&encodeURIComponent(String(ee)):S(_,$,ee))}function X(_){E.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(_=sc.prototype).add=function(_,$){U(this),this.i=null,_=V(this,_);var ee=this.g.get(_);return ee||this.g.set(_,ee=[]),ee.push($),this.h+=1,this},_.forEach=function(_,$){U(this),this.g.forEach((function(ee,te){ee.forEach((function(ee){_.call($,ee,te,this)}),this)}),this)},_.na=function(){U(this);const _=Array.from(this.g.values()),$=Array.from(this.g.keys()),ee=[];for(let te=0;te<$.length;te++){const ne=_[te];for(let _=0;_<ne.length;_++)ee.push($[te])}return ee},_.V=function(_){U(this);let $=[];if("string"===typeof _)Ec(this,_)&&($=$.concat(this.g.get(V(this,_))));else{_=Array.from(this.g.values());for(let ee=0;ee<_.length;ee++)$=$.concat(_[ee])}return $},_.set=function(_,$){return U(this),this.i=null,Ec(this,_=V(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[$]),this.h+=1,this},_.get=function(_,$){return _&&0<(_=this.V(_)).length?String(_[0]):$},_.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],$=Array.from(this.g.keys());for(var ee=0;ee<$.length;ee++){var te=$[ee];const re=encodeURIComponent(String(te)),ie=this.V(te);for(te=0;te<ie.length;te++){var ne=re;""!==ie[te]&&(ne+="="+encodeURIComponent(String(ie[te]))),_.push(ne)}}return this.i=_.join("&")},r(Jc,kb),Jc.prototype.g=function(){return new Kc(this.l,this.j)},Jc.prototype.i=(ht={},function(){return ht}),r(Kc,E),(_=Kc.prototype).open=function(_,$){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=$,this.readyState=1,Lc(this)},_.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&($.body=_),(this.D||ne).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},_.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=0},_.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof ne.ReadableStream&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nc(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},_.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var $=_.value?_.value:new Uint8Array(0);($=this.v.decode($,{stream:!_.done}))&&(this.response=this.responseText+=$)}_.done?Mc(this):Lc(this),3==this.readyState&&Nc(this)}},_.Ra=function(_){this.g&&(this.response=this.responseText=_,Mc(this))},_.Qa=function(_){this.g&&(this.response=_,Mc(this))},_.ga=function(){this.g&&Mc(this)},_.setRequestHeader=function(_,$){this.u.append(_,$)},_.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},_.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],$=this.h.entries();for(var ee=$.next();!ee.done;)ee=ee.value,_.push(ee[0]+": "+ee[1]),ee=$.next();return _.join("\r\n")},Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),r(X,E);var yt=/^https?$/i,vt=["POST","PUT"];function Sc(_,$){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=$,_.m=5,Uc(_),Vc(_)}function Uc(_){_.A||(_.A=!0,F(_,"complete"),F(_,"error"))}function Wc(_){if(_.h&&"undefined"!=typeof te&&(!_.v[1]||4!=P(_)||2!=_.Z()))if(_.u&&4==P(_))bb(_.Ea,0,_);else if(F(_,"readystatechange"),4==P(_)){_.h=!1;try{const te=_.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var ee;if(!(ee=$)){var re;if(re=0===te){var ie=String(_.D).match(dt)[1]||null;!ie&&ne.self&&ne.self.location&&(ie=ne.self.location.protocol.slice(0,-1)),re=!yt.test(ie?ie.toLowerCase():"")}ee=re}if(ee)F(_,"complete"),F(_,"success");else{_.m=6;try{var ae=2<P(_)?_.g.statusText:""}catch(oe){ae=""}_.l=ae+" ["+_.Z()+"]",Uc(_)}}finally{Vc(_)}}}function Vc(_,$){if(_.g){Tc(_);const te=_.g,ne=_.v[0]?()=>{}:null;_.g=null,_.v=null,$||F(_,"ready");try{te.onreadystatechange=ne}catch(ee){}}}function Tc(_){_.I&&(ne.clearTimeout(_.I),_.I=null)}function P(_){return _.g?_.g.readyState:0}function Nb(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch($){return null}}function Xc(_,$,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[_]||$}function Yc(_){this.Aa=0,this.i=[],this.j=new vb,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xc("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xc("baseRetryDelayMs",5e3,_),this.cb=Xc("retryDelaySeedMs",1e4,_),this.Wa=Xc("forwardChannelMaxRetries",2,_),this.wa=Xc("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new ic(_&&_.concurrentRequestLimit),this.Da=new Hc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function gc(_){if(Zc(_),3==_.G){var $=_.U++,ee=N(_.I);if(S(ee,"SID",_.K),S(ee,"RID",$),S(ee,"TYPE","terminate"),$c(_,ee),($=new M(_,_.j,$)).L=2,$.v=Ib(N(ee)),ee=!1,ne.navigator&&ne.navigator.sendBeacon)try{ee=ne.navigator.sendBeacon($.v.toString(),"")}catch(te){}!ee&&ne.Image&&((new Image).src=$.v,ee=!0),ee||($.g=Mb($.j,null),$.g.ea($.v)),$.F=Date.now(),Kb($)}ad(_)}function Zb(_){_.g&&(Tb(_),_.g.cancel(),_.g=null)}function Zc(_){Zb(_),_.u&&(ne.clearTimeout(_.u),_.u=null),Yb(_),_.h.cancel(),_.s&&("number"===typeof _.s&&ne.clearTimeout(_.s),_.s=null)}function fc(_){if(!jc(_.h)&&!_.s){_.s=!0;var $=_.Ga;oe||Ea(),se||(oe(),se=!0),le.add($,_),_.B=0}}function ed(_,$){var ee;ee=$?$.l:_.U++;const te=N(_.I);S(te,"SID",_.K),S(te,"RID",ee),S(te,"AID",_.T),$c(_,te),_.m&&_.o&&Pc(te,_.m,_.o),ee=new M(_,_.j,ee,_.B+1),null===_.m&&(ee.H=_.o),$&&(_.i=$.D.concat(_.i)),$=dd(_,ee,1e3),ee.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),bc(_.h,ee),Hb(ee,te,$)}function $c(_,$){_.H&&qa(_.H,(function(_,ee){S($,ee,_)})),_.l&&nc({},(function(_,ee){S($,ee,_)}))}function dd(_,$,ee){ee=Math.min(_.i.length,ee);var te=_.l?p(_.l.Na,_.l,_):null;e:{var ne=_.i;let $=-1;for(;;){const _=["count="+ee];-1==$?0<ee?($=ne[0].g,_.push("ofs="+$)):$=0:_.push("ofs="+$);let ie=!0;for(let ae=0;ae<ee;ae++){let ee=ne[ae].g;const oe=ne[ae].map;if(ee-=$,0>ee)$=Math.max(0,ne[ae].g-100),ie=!1;else try{Ic(oe,_,"req"+ee+"_")}catch(re){te&&te(oe)}}if(ie){te=_.join("&");break e}}}return _=_.i.splice(0,ee),$.D=_,te}function ec(_){if(!_.g&&!_.u){_.Y=1;var $=_.Fa;oe||Ea(),se||(oe(),se=!0),le.add($,_),_.v=0}}function $b(_){return!(_.g||_.u||3<=_.v)&&(_.Y++,_.u=ub(p(_.Fa,_),cd(_,_.v)),_.v++,!0)}function Tb(_){null!=_.A&&(ne.clearTimeout(_.A),_.A=null)}function fd(_){_.g=new M(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var $=N(_.qa);S($,"RID","rpc"),S($,"SID",_.K),S($,"AID",_.T),S($,"CI",_.F?"0":"1"),!_.F&&_.ja&&S($,"TO",_.ja),S($,"TYPE","xmlhttp"),$c(_,$),_.m&&_.o&&Pc($,_.m,_.o),_.L&&(_.g.I=_.L);var ee=_.g;_=_.ia,ee.L=1,ee.v=Ib(N($)),ee.m=null,ee.P=!0,Jb(ee,_)}function Yb(_){null!=_.C&&(ne.clearTimeout(_.C),_.C=null)}function Ub(_,$){var ee=null;if(_.g==$){Yb(_),Tb(_),_.g=null;var te=2}else{if(!Xb(_.h,$))return;ee=$.D,dc(_.h,$),te=1}if(0!=_.G)if($.o)if(1==te){ee=$.m?$.m.length:0,$=Date.now()-$.F;var ne=_.B;F(te=qb(),new tb(te,ee)),fc(_)}else ec(_);else if(3==(ne=$.s)||0==ne&&0<$.X||!(1==te&&function bd(_,$){return!(ac(_.h)>=_.h.j-(_.s?1:0))&&(_.s?(_.i=$.D.concat(_.i),!0):!(1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa))&&(_.s=ub(p(_.Ga,_,$),cd(_,_.B)),_.B++,!0))}(_,$)||2==te&&$b(_)))switch(ee&&0<ee.length&&($=_.h,$.i=$.i.concat(ee)),ne){case 1:R(_,5);break;case 4:R(_,10);break;case 3:R(_,6);break;default:R(_,2)}}function cd(_,$){let ee=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(ee*=2),ee*$}function R(_,$){if(_.j.info("Error code "+$),2==$){var ee=p(_.fb,_),te=_.Xa;const $=!te;te=new T(te||"//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||qc(te,"https"),Ib(te),$?function Fc(_,$){const ee=new vb;if(ne.Image){const te=new Image;te.onload=ka(W,ee,"TestLoadImage: loaded",!0,$,te),te.onerror=ka(W,ee,"TestLoadImage: error",!1,$,te),te.onabort=ka(W,ee,"TestLoadImage: abort",!1,$,te),te.ontimeout=ka(W,ee,"TestLoadImage: timeout",!1,$,te),ne.setTimeout((function(){te.ontimeout&&te.ontimeout()}),1e4),te.src=_}else $(!1)}(te.toString(),ee):function Gc(_,$){new vb;const ee=new AbortController,te=setTimeout((()=>{ee.abort(),W(0,0,!1,$)}),1e4);fetch(_,{signal:ee.signal}).then((_=>{clearTimeout(te),_.ok?W(0,0,!0,$):W(0,0,!1,$)})).catch((()=>{clearTimeout(te),W(0,0,!1,$)}))}(te.toString(),ee)}else K(2);_.G=0,_.l&&_.l.sa($),ad(_),Zc(_)}function ad(_){if(_.G=0,_.ka=[],_.l){const $=kc(_.h);0==$.length&&0==_.i.length||(ma(_.ka,$),ma(_.ka,_.i),_.h.i.length=0,la(_.i),_.i.length=0),_.l.ra()}}function cc(_,$,ee){var te=ee instanceof T?N(ee):new T(ee);if(""!=te.g)$&&(te.g=$+"."+te.g),rc(te,te.s);else{var re=ne.location;te=re.protocol,$=$?$+"."+re.hostname:re.hostname,re=+re.port;var ie=new T(null);te&&qc(ie,te),$&&(ie.g=$),re&&rc(ie,re),ee&&(ie.l=ee),te=ie}return ee=_.D,$=_.ya,ee&&$&&S(te,ee,$),S(te,"VER",_.la),$c(_,te),te}function Mb(_,$,ee){if($&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return($=_.Ca&&!_.pa?new X(new Jc({eb:ee})):new X(_.pa)).Ha(_.J),$}function gd(){}function hd(){}function Y(_,$){E.call(this),this.g=new Yc($),this.l=_,this.h=$&&$.messageUrlParams||null,_=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(_?_["X-WebChannel-Content-Type"]=$.messageContentType:_={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(_?_["X-WebChannel-Client-Profile"]=$.va:_={"X-WebChannel-Client-Profile":$.va}),this.g.S=_,(_=$&&$.Sb)&&!t(_)&&(this.g.m=_),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!t($)&&(this.g.D=$,null!==(_=this.h)&&$ in _&&($ in(_=this.h)&&delete _[$])),this.j=new Z(this)}function id(_){nb.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var $=_.__sm__;if($){e:{for(const ee in $){_=ee;break e}_=void 0}(this.i=_)&&(_=this.i,$=null!==$&&_ in $?$[_]:void 0),this.data=$}else this.data=_}function jd(){ob.call(this),this.status=1}function Z(_){this.g=_}(_=X.prototype).Ha=function(_){this.J=_},_.ea=function(_,$,ee,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);$=$?$.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?lb(this.o):lb(at),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open($,String(_),!0),this.B=!1}catch(ie){return void Sc(this,ie)}if(_=ee||"",ee=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var re in te)ee.set(re,te[re]);else{if("function"!==typeof te.keys||"function"!==typeof te.get)throw Error("Unknown input type for opt_headers: "+String(te));for(const _ of te.keys())ee.set(_,te.get(_))}te=Array.from(ee.keys()).find((_=>"content-type"==_.toLowerCase())),re=ne.FormData&&_ instanceof ne.FormData,!(0<=Array.prototype.indexOf.call(vt,$,void 0))||te||re||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ae]of ee)this.g.setRequestHeader(ne,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tc(this),this.u=!0,this.g.send(_),this.u=!1}catch(ie){Sc(this,ie)}},_.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,F(this,"complete"),F(this,"abort"),Vc(this))},_.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),X.aa.N.call(this)},_.Ea=function(){this.s||(this.B||this.u||this.j?Wc(this):this.bb())},_.bb=function(){Wc(this)},_.isActive=function(){return!!this.g},_.Z=function(){try{return 2<P(this)?this.g.status:-1}catch(ht){return-1}},_.oa=function(){try{return this.g?this.g.responseText:""}catch(ht){return""}},_.Oa=function(_){if(this.g){var $=this.g.responseText;return _&&0==$.indexOf(_)&&($=$.substring(_.length)),et($)}},_.Ba=function(){return this.m},_.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(_=Yc.prototype).la=8,_.G=1,_.connect=function(_,$,ee,te){K(0),this.W=_,this.H=$||{},ee&&void 0!==te&&(this.H.OSID=ee,this.H.OAID=te),this.F=this.X,this.I=cc(this,null,this.W),fc(this)},_.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ne=new M(this,this.j,_);let re=this.o;if(this.S&&(re?(re=sa(re),ua(re,this.S)):re=this.S),null!==this.m||this.O||(ne.H=re,re=null),this.P)e:{for(var $=0,ee=0;ee<this.i.length;ee++){var te=this.i[ee];if(void 0===(te="__data__"in te.map&&"string"===typeof(te=te.map.__data__)?te.length:void 0))break;if(4096<($+=te)){$=ee;break e}if(4096===$||ee===this.i.length-1){$=ee+1;break e}}$=1e3}else $=1e3;$=dd(this,ne,$),S(ee=N(this.I),"RID",_),S(ee,"CVER",22),this.D&&S(ee,"X-HTTP-Session-Id",this.D),$c(this,ee),re&&(this.O?$="headers="+encodeURIComponent(String(Oc(re)))+"&"+$:this.m&&Pc(ee,this.m,re)),bc(this.h,ne),this.Ua&&S(ee,"TYPE","init"),this.P?(S(ee,"$req",$),S(ee,"SID","null"),ne.T=!0,Hb(ne,ee,null)):Hb(ne,ee,$),this.G=2}}else 3==this.G&&(_?ed(this,_):0==this.i.length||jc(this.h)||ed(this))},_.Fa=function(){if(this.u=null,fd(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ub(p(this.ab,this),_)}},_.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Zb(this),fd(this))},_.Za=function(){null!=this.C&&(this.C=null,Zb(this),$b(this),K(19))},_.fb=function(_){_?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))},_.isActive=function(){return!!this.l&&this.l.isActive(this)},(_=gd.prototype).ua=function(){},_.ta=function(){},_.sa=function(){},_.ra=function(){},_.isActive=function(){return!0},_.Na=function(){},hd.prototype.g=function(_,$){return new Y(_,$)},r(Y,E),Y.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Y.prototype.close=function(){gc(this.g)},Y.prototype.o=function(_){var $=this.g;if("string"===typeof _){var ee={};ee.__data__=_,_=ee}else this.u&&((ee={}).__data__=Ke(_),_=ee);$.i.push(new ut($.Ya++,_)),3==$.G&&fc($)},Y.prototype.N=function(){this.g.l=null,delete this.j,gc(this.g),delete this.g,Y.aa.N.call(this)},r(id,nb),r(jd,ob),r(Z,gd),Z.prototype.ua=function(){F(this.g,"a")},Z.prototype.ta=function(_){F(this.g,new id(_))},Z.prototype.sa=function(_){F(this.g,new jd)},Z.prototype.ra=function(){F(this.g,"b")},hd.prototype.createWebChannel=hd.prototype.g,Y.prototype.send=Y.prototype.o,Y.prototype.open=Y.prototype.m,Y.prototype.close=Y.prototype.close,we=ke.createWebChannelTransport=function(){return new hd},be=ke.getStatEventTarget=function(){return qb()},_e=ke.Event=rt,me=ke.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,pe=ke.ErrorCode=ot,st.COMPLETE="complete",fe=ke.EventType=st,mb.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",E.prototype.listen=E.prototype.K,he=ke.WebChannel=mb,ke.FetchXmlHttpFactory=Jc,X.prototype.listenOnce=X.prototype.L,X.prototype.getLastError=X.prototype.Ka,X.prototype.getLastErrorCode=X.prototype.Ba,X.prototype.getStatus=X.prototype.Z,X.prototype.getResponseJson=X.prototype.Oa,X.prototype.getResponseText=X.prototype.oa,X.prototype.send=X.prototype.ea,X.prototype.setWithCredentials=X.prototype.Ha,de=ke.XhrIo=X}).apply("undefined"!==typeof Ee?Ee:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ve="@firebase/firestore",De="4.7.11";class User{constructor(_){this.uid=_}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(_){return _.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let Ne="11.6.1";const Me=new ae.Vy("@firebase/firestore");function __PRIVATE_getLogLevel(){return Me.logLevel}function __PRIVATE_logDebug(_){if(Me.logLevel<=ae.$b.DEBUG){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];const ne=ee.map(__PRIVATE_argToString);Me.debug(`Firestore (${Ne}): ${_}`,...ne)}}function __PRIVATE_logError(_){if(Me.logLevel<=ae.$b.ERROR){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];const ne=ee.map(__PRIVATE_argToString);Me.error(`Firestore (${Ne}): ${_}`,...ne)}}function __PRIVATE_logWarn(_){if(Me.logLevel<=ae.$b.WARN){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];const ne=ee.map(__PRIVATE_argToString);Me.warn(`Firestore (${Ne}): ${_}`,...ne)}}function __PRIVATE_argToString(_){if("string"==typeof _)return _;try{return function __PRIVATE_formatJSON(_){return JSON.stringify(_)}(_)}catch($){return _}}function fail(_,$,ee){let te="Unexpected state";"string"==typeof $?te=$:ee=$,__PRIVATE__fail(_,te,ee)}function __PRIVATE__fail(_,$,ee){let te=`FIRESTORE (${Ne}) INTERNAL ASSERTION FAILED: ${$} (ID: ${_.toString(16)})`;if(void 0!==ee)try{te+=" CONTEXT: "+JSON.stringify(ee)}catch(_){te+=" CONTEXT: "+ee}throw __PRIVATE_logError(te),new Error(te)}function __PRIVATE_hardAssert(_,$,ee,te){let ne="Unexpected state";"string"==typeof ee?ne=ee:te=ee,_||__PRIVATE__fail($,ne,te)}function __PRIVATE_debugCast(_,$){return _}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends oe.g{constructor(_,$){super(_,$),this.code=_,this.message=$,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((_,$)=>{this.resolve=_,this.reject=$}))}}class __PRIVATE_OAuthToken{constructor(_,$){this.user=$,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${_}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(_,$){_.enqueueRetryable((()=>$(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(_){this.token=_,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(_,$){this.changeListener=$,_.enqueueRetryable((()=>$(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(_){this.t=_,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(_,$){__PRIVATE_hardAssert(void 0===this.o,42304);let ee=this.i;const __PRIVATE_guardedChangeListener=_=>this.i!==ee?(ee=this.i,$(_)):Promise.resolve();let te=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),te.resolve(),te=new __PRIVATE_Deferred,_.enqueueRetryable((()=>__PRIVATE_guardedChangeListener(this.currentUser)))};const __PRIVATE_awaitNextToken=()=>{const $=te;_.enqueueRetryable((async()=>{await $.promise,await __PRIVATE_guardedChangeListener(this.currentUser)}))},__PRIVATE_registerAuth=_=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),__PRIVATE_awaitNextToken())};this.t.onInit((_=>__PRIVATE_registerAuth(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?__PRIVATE_registerAuth(_):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),te.resolve(),te=new __PRIVATE_Deferred)}}),0),__PRIVATE_awaitNextToken()}getToken(){const _=this.i,$=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken($).then(($=>this.i!==_?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):$?(__PRIVATE_hardAssert("string"==typeof $.accessToken,31837,{l:$}),new __PRIVATE_OAuthToken($.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const _=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(null===_||"string"==typeof _,2055,{h:_}),new User(_)}}class __PRIVATE_FirstPartyToken{constructor(_,$,ee){this.P=_,this.T=$,this.I=ee,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const _=this.R();return _&&this.A.set("Authorization",_),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(_,$,ee){this.P=_,this.T=$,this.I=ee}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(_,$){_.enqueueRetryable((()=>$(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(_){this.value=_,this.type="AppCheck",this.headers=new Map,_&&_.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(_,$){this.V=$,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,re.xZ)(_)&&_.settings.appCheckToken&&(this.p=_.settings.appCheckToken)}start(_,$){__PRIVATE_hardAssert(void 0===this.o,3512);const onTokenChanged=_=>{null!=_.error&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const ee=_.token!==this.m;return this.m=_.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${ee?"new":"existing"} token.`),ee?$(_.token):Promise.resolve()};this.o=$=>{_.enqueueRetryable((()=>onTokenChanged($)))};const __PRIVATE_registerAppCheck=_=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((_=>__PRIVATE_registerAppCheck(_))),setTimeout((()=>{if(!this.appCheck){const _=this.V.getImmediate({optional:!0});_?__PRIVATE_registerAppCheck(_):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const _=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(_).then((_=>_?(__PRIVATE_hardAssert("string"==typeof _.token,44558,{tokenResult:_}),this.m=_.token,new AppCheckToken(_.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function __PRIVATE_randomBytes(_){const $="undefined"!=typeof self&&(self.crypto||self.msCrypto),ee=new Uint8Array(_);if($&&"function"==typeof $.getRandomValues)$.getRandomValues(ee);else for(let te=0;te<_;te++)ee[te]=Math.floor(256*Math.random());return ee}function __PRIVATE_newTextEncoder(){return new TextEncoder}class __PRIVATE_AutoId{static newId(){const _=62*Math.floor(256/62);let $="";for(;$.length<20;){const ee=__PRIVATE_randomBytes(40);for(let te=0;te<ee.length;++te)$.length<20&&ee[te]<_&&($+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(ee[te]%62))}return $}}function __PRIVATE_primitiveComparator(_,$){return _<$?-1:_>$?1:0}function __PRIVATE_compareUtf8Strings(_,$){let ee=0;for(;ee<_.length&&ee<$.length;){const te=_.codePointAt(ee),ne=$.codePointAt(ee);if(te!==ne){if(te<128&&ne<128)return __PRIVATE_primitiveComparator(te,ne);{const re=__PRIVATE_newTextEncoder(),ie=__PRIVATE_compareByteArrays$1(re.encode(__PRIVATE_getUtf8SafeSubstring(_,ee)),re.encode(__PRIVATE_getUtf8SafeSubstring($,ee)));return 0!==ie?ie:__PRIVATE_primitiveComparator(te,ne)}}ee+=te>65535?2:1}return __PRIVATE_primitiveComparator(_.length,$.length)}function __PRIVATE_getUtf8SafeSubstring(_,$){return _.codePointAt($)>65535?_.substring($,$+2):_.substring($,$+1)}function __PRIVATE_compareByteArrays$1(_,$){for(let ee=0;ee<_.length&&ee<$.length;++ee)if(_[ee]!==$[ee])return __PRIVATE_primitiveComparator(_[ee],$[ee]);return __PRIVATE_primitiveComparator(_.length,$.length)}function __PRIVATE_arrayEquals(_,$,ee){return _.length===$.length&&_.every(((_,te)=>ee(_,$[te])))}const Le=-62135596800,ze=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(_){return Timestamp.fromMillis(_.getTime())}static fromMillis(_){const $=Math.floor(_/1e3),ee=Math.floor((_-1e3*$)*ze);return new Timestamp($,ee)}constructor(_,$){if(this.seconds=_,this.nanoseconds=$,$<0)throw new FirestoreError(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+$);if($>=1e9)throw new FirestoreError(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+$);if(_<Le)throw new FirestoreError(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_);if(_>=253402300800)throw new FirestoreError(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ze}_compareTo(_){return this.seconds===_.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,_.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,_.seconds)}isEqual(_){return _.seconds===this.seconds&&_.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const _=this.seconds-Le;return String(_).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class SnapshotVersion{static fromTimestamp(_){return new SnapshotVersion(_)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(_){this.timestamp=_}compareTo(_){return this.timestamp._compareTo(_.timestamp)}isEqual(_){return this.timestamp.isEqual(_.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qe="__name__";class BasePath{constructor(_,$,ee){void 0===$?$=0:$>_.length&&fail(637,{offset:$,range:_.length}),void 0===ee?ee=_.length-$:ee>_.length-$&&fail(1746,{length:ee,range:_.length-$}),this.segments=_,this.offset=$,this.len=ee}get length(){return this.len}isEqual(_){return 0===BasePath.comparator(this,_)}child(_){const $=this.segments.slice(this.offset,this.limit());return _ instanceof BasePath?_.forEach((_=>{$.push(_)})):$.push(_),this.construct($)}limit(){return this.offset+this.length}popFirst(_){return _=void 0===_?1:_,this.construct(this.segments,this.offset+_,this.length-_)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(_){return this.segments[this.offset+_]}isEmpty(){return 0===this.length}isPrefixOf(_){if(_.length<this.length)return!1;for(let $=0;$<this.length;$++)if(this.get($)!==_.get($))return!1;return!0}isImmediateParentOf(_){if(this.length+1!==_.length)return!1;for(let $=0;$<this.length;$++)if(this.get($)!==_.get($))return!1;return!0}forEach(_){for(let $=this.offset,ee=this.limit();$<ee;$++)_(this.segments[$])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(_,$){const ee=Math.min(_.length,$.length);for(let te=0;te<ee;te++){const ee=BasePath.compareSegments(_.get(te),$.get(te));if(0!==ee)return ee}return __PRIVATE_primitiveComparator(_.length,$.length)}static compareSegments(_,$){const ee=BasePath.isNumericId(_),te=BasePath.isNumericId($);return ee&&!te?-1:!ee&&te?1:ee&&te?BasePath.extractNumericId(_).compare(BasePath.extractNumericId($)):__PRIVATE_compareUtf8Strings(_,$)}static isNumericId(_){return _.startsWith("__id")&&_.endsWith("__")}static extractNumericId(_){return te.fromString(_.substring(4,_.length-2))}}class ResourcePath extends BasePath{construct(_,$,ee){return new ResourcePath(_,$,ee)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const _=[];for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];for(const ne of ee){if(ne.indexOf("//")>=0)throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid segment (${ne}). Paths must not contain // in them.`);_.push(...ne.split("/").filter((_=>_.length>0)))}return new ResourcePath(_)}static emptyPath(){return new ResourcePath([])}}const Ke=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(_,$,ee){return new FieldPath$1(_,$,ee)}static isValidIdentifier(_){return Ke.test(_)}canonicalString(){return this.toArray().map((_=>(_=_.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(_)||(_="`"+_+"`"),_))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===qe}static keyField(){return new FieldPath$1([qe])}static fromServerFormat(_){const $=[];let ee="",te=0;const __PRIVATE_addCurrentSegment=()=>{if(0===ee.length)throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);$.push(ee),ee=""};let ne=!1;for(;te<_.length;){const $=_[te];if("\\"===$){if(te+1===_.length)throw new FirestoreError(je.INVALID_ARGUMENT,"Path has trailing escape character: "+_);const $=_[te+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new FirestoreError(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+_);ee+=$,te+=2}else"`"===$?(ne=!ne,te++):"."!==$||ne?(ee+=$,te++):(__PRIVATE_addCurrentSegment(),te++)}if(__PRIVATE_addCurrentSegment(),ne)throw new FirestoreError(je.INVALID_ARGUMENT,"Unterminated ` in path: "+_);return new FieldPath$1($)}static emptyPath(){return new FieldPath$1([])}}class DocumentKey{constructor(_){this.path=_}static fromPath(_){return new DocumentKey(ResourcePath.fromString(_))}static fromName(_){return new DocumentKey(ResourcePath.fromString(_).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(_){return this.path.length>=2&&this.path.get(this.path.length-2)===_}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(_){return null!==_&&0===ResourcePath.comparator(this.path,_.path)}toString(){return this.path.toString()}static comparator(_,$){return ResourcePath.comparator(_.path,$.path)}static isDocumentKey(_){return _.length%2==0}static fromSegments(_){return new DocumentKey(new ResourcePath(_.slice()))}}const et=-1;class FieldIndex{constructor(_,$,ee,te){this.indexId=_,this.collectionGroup=$,this.fields=ee,this.indexState=te}}FieldIndex.UNKNOWN_ID=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(_,$){const ee=_.toTimestamp().seconds,te=_.toTimestamp().nanoseconds+1,ne=SnapshotVersion.fromTimestamp(1e9===te?new Timestamp(ee+1,0):new Timestamp(ee,te));return new IndexOffset(ne,DocumentKey.empty(),$)}function __PRIVATE_newIndexOffsetFromDocument(_){return new IndexOffset(_.readTime,_.key,et)}class IndexOffset{constructor(_,$,ee){this.readTime=_,this.documentKey=$,this.largestBatchId=ee}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),et)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),et)}}function __PRIVATE_indexOffsetComparator(_,$){let ee=_.readTime.compareTo($.readTime);return 0!==ee?ee:(ee=DocumentKey.comparator(_.documentKey,$.documentKey),0!==ee?ee:__PRIVATE_primitiveComparator(_.largestBatchId,$.largestBatchId))}const tt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(_){this.onCommittedListeners.push(_)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((_=>_()))}}async function __PRIVATE_ignoreIfPrimaryLeaseLoss(_){if(_.code!==je.FAILED_PRECONDITION||_.message!==tt)throw _;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}class PersistencePromise{constructor(_){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,_((_=>{this.isDone=!0,this.result=_,this.nextCallback&&this.nextCallback(_)}),(_=>{this.isDone=!0,this.error=_,this.catchCallback&&this.catchCallback(_)}))}catch(_){return this.next(void 0,_)}next(_,$){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure($,this.error):this.wrapSuccess(_,this.result):new PersistencePromise(((ee,te)=>{this.nextCallback=$=>{this.wrapSuccess(_,$).next(ee,te)},this.catchCallback=_=>{this.wrapFailure($,_).next(ee,te)}}))}toPromise(){return new Promise(((_,$)=>{this.next(_,$)}))}wrapUserFunction(_){try{const $=_();return $ instanceof PersistencePromise?$:PersistencePromise.resolve($)}catch(_){return PersistencePromise.reject(_)}}wrapSuccess(_,$){return _?this.wrapUserFunction((()=>_($))):PersistencePromise.resolve($)}wrapFailure(_,$){return _?this.wrapUserFunction((()=>_($))):PersistencePromise.reject($)}static resolve(_){return new PersistencePromise((($,ee)=>{$(_)}))}static reject(_){return new PersistencePromise((($,ee)=>{ee(_)}))}static waitFor(_){return new PersistencePromise((($,ee)=>{let te=0,ne=0,re=!1;_.forEach((_=>{++te,_.next((()=>{++ne,re&&ne===te&&$()}),(_=>ee(_)))})),re=!0,ne===te&&$()}))}static or(_){let $=PersistencePromise.resolve(!1);for(const ee of _)$=$.next((_=>_?PersistencePromise.resolve(_):ee()));return $}static forEach(_,$){const ee=[];return _.forEach(((_,te)=>{ee.push($.call(this,_,te))})),this.waitFor(ee)}static mapArray(_,$){return new PersistencePromise(((ee,te)=>{const ne=_.length,re=new Array(ne);let ie=0;for(let ae=0;ae<ne;ae++){const oe=ae;$(_[oe]).next((_=>{re[oe]=_,++ie,ie===ne&&ee(re)}),(_=>te(_)))}}))}static doWhile(_,$){return new PersistencePromise(((ee,te)=>{const process=()=>{!0===_()?$().next((()=>{process()}),te):ee()};process()}))}}function __PRIVATE_getAndroidVersion(_){const $=_.match(/Android ([\d.]+)/i),ee=$?$[1].split(".").slice(0,2).join("."):"-1";return Number(ee)}function __PRIVATE_isIndexedDbTransactionError(_){return"IndexedDbTransactionError"===_.name}class __PRIVATE_ListenSequence{constructor(_,$){this.previousValue=_,$&&($.sequenceNumberHandler=_=>this.ue(_),this.ce=_=>$.writeSequenceNumber(_))}ue(_){return this.previousValue=Math.max(_,this.previousValue),this.previousValue}next(){const _=++this.previousValue;return this.ce&&this.ce(_),_}}__PRIVATE_ListenSequence.le=-1;const nt=-1;function __PRIVATE_isNullOrUndefined(_){return null==_}function __PRIVATE_isNegativeZero(_){return 0===_&&1/_==-1/0}function isSafeInteger(_){return"number"==typeof _&&Number.isInteger(_)&&!__PRIVATE_isNegativeZero(_)&&_<=Number.MAX_SAFE_INTEGER&&_>=Number.MIN_SAFE_INTEGER}const rt="\x01";function __PRIVATE_encodeResourcePath(_){let $="";for(let ee=0;ee<_.length;ee++)$.length>0&&($=__PRIVATE_encodeSeparator($)),$=__PRIVATE_encodeSegment(_.get(ee),$);return __PRIVATE_encodeSeparator($)}function __PRIVATE_encodeSegment(_,$){let ee=$;const te=_.length;for(let ne=0;ne<te;ne++){const $=_.charAt(ne);switch($){case"\0":ee+="\x01\x10";break;case rt:ee+="\x01\x11";break;default:ee+=$}}return ee}function __PRIVATE_encodeSeparator(_){return _+rt+"\x01"}const it="remoteDocuments",at="owner",ot="mutationQueues",st="mutations";const lt="documentMutations",ct="remoteDocumentsV14",ut="remoteDocumentGlobal",dt="targets",ht="targetDocuments",ft="targetGlobal",pt="collectionParents",mt="clientMetadata",gt="bundles",_t="namedQueries",yt="indexConfiguration",vt="indexState",bt="indexEntries",wt="documentOverlays",xt="globals",Et=[ot,st,lt,it,dt,at,ft,ht,mt,ut,pt,gt,_t],Tt=[ot,st,lt,ct,dt,at,ft,ht,mt,ut,pt,gt,_t,wt],At=Tt,kt=[...At,yt,vt,bt];function __PRIVATE_objectSize(_){let $=0;for(const ee in _)Object.prototype.hasOwnProperty.call(_,ee)&&$++;return $}function forEach(_,$){for(const ee in _)Object.prototype.hasOwnProperty.call(_,ee)&&$(ee,_[ee])}function isEmpty(_){for(const $ in _)if(Object.prototype.hasOwnProperty.call(_,$))return!1;return!0}class SortedMap{constructor(_,$){this.comparator=_,this.root=$||LLRBNode.EMPTY}insert(_,$){return new SortedMap(this.comparator,this.root.insert(_,$,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(_){return new SortedMap(this.comparator,this.root.remove(_,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(_){let $=this.root;for(;!$.isEmpty();){const ee=this.comparator(_,$.key);if(0===ee)return $.value;ee<0?$=$.left:ee>0&&($=$.right)}return null}indexOf(_){let $=0,ee=this.root;for(;!ee.isEmpty();){const te=this.comparator(_,ee.key);if(0===te)return $+ee.left.size;te<0?ee=ee.left:($+=ee.left.size+1,ee=ee.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(_){return this.root.inorderTraversal(_)}forEach(_){this.inorderTraversal((($,ee)=>(_($,ee),!1)))}toString(){const _=[];return this.inorderTraversal((($,ee)=>(_.push(`${$}:${ee}`),!1))),`{${_.join(", ")}}`}reverseTraversal(_){return this.root.reverseTraversal(_)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(_){return new SortedMapIterator(this.root,_,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(_){return new SortedMapIterator(this.root,_,this.comparator,!0)}}class SortedMapIterator{constructor(_,$,ee,te){this.isReverse=te,this.nodeStack=[];let ne=1;for(;!_.isEmpty();)if(ne=$?ee(_.key,$):1,$&&te&&(ne*=-1),ne<0)_=this.isReverse?_.left:_.right;else{if(0===ne){this.nodeStack.push(_);break}this.nodeStack.push(_),_=this.isReverse?_.right:_.left}}getNext(){let _=this.nodeStack.pop();const $={key:_.key,value:_.value};if(this.isReverse)for(_=_.left;!_.isEmpty();)this.nodeStack.push(_),_=_.right;else for(_=_.right;!_.isEmpty();)this.nodeStack.push(_),_=_.left;return $}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const _=this.nodeStack[this.nodeStack.length-1];return{key:_.key,value:_.value}}}class LLRBNode{constructor(_,$,ee,te,ne){this.key=_,this.value=$,this.color=null!=ee?ee:LLRBNode.RED,this.left=null!=te?te:LLRBNode.EMPTY,this.right=null!=ne?ne:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(_,$,ee,te,ne){return new LLRBNode(null!=_?_:this.key,null!=$?$:this.value,null!=ee?ee:this.color,null!=te?te:this.left,null!=ne?ne:this.right)}isEmpty(){return!1}inorderTraversal(_){return this.left.inorderTraversal(_)||_(this.key,this.value)||this.right.inorderTraversal(_)}reverseTraversal(_){return this.right.reverseTraversal(_)||_(this.key,this.value)||this.left.reverseTraversal(_)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_,$,ee){let te=this;const ne=ee(_,te.key);return te=ne<0?te.copy(null,null,null,te.left.insert(_,$,ee),null):0===ne?te.copy(null,$,null,null,null):te.copy(null,null,null,null,te.right.insert(_,$,ee)),te.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let _=this;return _.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.removeMin(),null),_.fixUp()}remove(_,$){let ee,te=this;if($(_,te.key)<0)te.left.isEmpty()||te.left.isRed()||te.left.left.isRed()||(te=te.moveRedLeft()),te=te.copy(null,null,null,te.left.remove(_,$),null);else{if(te.left.isRed()&&(te=te.rotateRight()),te.right.isEmpty()||te.right.isRed()||te.right.left.isRed()||(te=te.moveRedRight()),0===$(_,te.key)){if(te.right.isEmpty())return LLRBNode.EMPTY;ee=te.right.min(),te=te.copy(ee.key,ee.value,null,null,te.right.removeMin())}te=te.copy(null,null,null,null,te.right.remove(_,$))}return te.fixUp()}isRed(){return this.color}fixUp(){let _=this;return _.right.isRed()&&!_.left.isRed()&&(_=_.rotateLeft()),_.left.isRed()&&_.left.left.isRed()&&(_=_.rotateRight()),_.left.isRed()&&_.right.isRed()&&(_=_.colorFlip()),_}moveRedLeft(){let _=this.colorFlip();return _.right.left.isRed()&&(_=_.copy(null,null,null,null,_.right.rotateRight()),_=_.rotateLeft(),_=_.colorFlip()),_}moveRedRight(){let _=this.colorFlip();return _.left.left.isRed()&&(_=_.rotateRight(),_=_.colorFlip()),_}rotateLeft(){const _=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,_,null)}rotateRight(){const _=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_)}colorFlip(){const _=this.left.copy(null,null,!this.left.color,null,null),$=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_,$)}checkMaxDepth(){const _=this.check();return Math.pow(2,_)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const _=this.left.check();if(_!==this.right.check())throw fail(27949);return _+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode.EMPTY=new class LLRBEmptyNode{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(_,$,ee,te,ne){return this}insert(_,$,ee){return new LLRBNode(_,$)}remove(_,$){return this}isEmpty(){return!0}inorderTraversal(_){return!1}reverseTraversal(_){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class SortedSet{constructor(_){this.comparator=_,this.data=new SortedMap(this.comparator)}has(_){return null!==this.data.get(_)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(_){return this.data.indexOf(_)}forEach(_){this.data.inorderTraversal((($,ee)=>(_($),!1)))}forEachInRange(_,$){const ee=this.data.getIteratorFrom(_[0]);for(;ee.hasNext();){const te=ee.getNext();if(this.comparator(te.key,_[1])>=0)return;$(te.key)}}forEachWhile(_,$){let ee;for(ee=void 0!==$?this.data.getIteratorFrom($):this.data.getIterator();ee.hasNext();)if(!_(ee.getNext().key))return}firstAfterOrEqual(_){const $=this.data.getIteratorFrom(_);return $.hasNext()?$.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(_){return new SortedSetIterator(this.data.getIteratorFrom(_))}add(_){return this.copy(this.data.remove(_).insert(_,!0))}delete(_){return this.has(_)?this.copy(this.data.remove(_)):this}isEmpty(){return this.data.isEmpty()}unionWith(_){let $=this;return $.size<_.size&&($=_,_=this),_.forEach((_=>{$=$.add(_)})),$}isEqual(_){if(!(_ instanceof SortedSet))return!1;if(this.size!==_.size)return!1;const $=this.data.getIterator(),ee=_.data.getIterator();for(;$.hasNext();){const _=$.getNext().key,te=ee.getNext().key;if(0!==this.comparator(_,te))return!1}return!0}toArray(){const _=[];return this.forEach(($=>{_.push($)})),_}toString(){const _=[];return this.forEach(($=>_.push($))),"SortedSet("+_.toString()+")"}copy(_){const $=new SortedSet(this.comparator);return $.data=_,$}}class SortedSetIterator{constructor(_){this.iter=_}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class FieldMask{constructor(_){this.fields=_,_.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(_){let $=new SortedSet(FieldPath$1.comparator);for(const ee of this.fields)$=$.add(ee);for(const ee of _)$=$.add(ee);return new FieldMask($.toArray())}covers(_){for(const $ of this.fields)if($.isPrefixOf(_))return!0;return!1}isEqual(_){return __PRIVATE_arrayEquals(this.fields,_.fields,((_,$)=>_.isEqual($)))}}class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ByteString{constructor(_){this.binaryString=_}static fromBase64String(_){const $=function __PRIVATE_decodeBase64(_){try{return atob(_)}catch(_){throw"undefined"!=typeof DOMException&&_ instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+_):_}}(_);return new ByteString($)}static fromUint8Array(_){const $=function __PRIVATE_binaryStringFromUint8Array(_){let $="";for(let ee=0;ee<_.length;++ee)$+=String.fromCharCode(_[ee]);return $}(_);return new ByteString($)}[Symbol.iterator](){let _=0;return{next:()=>_<this.binaryString.length?{value:this.binaryString.charCodeAt(_++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function __PRIVATE_encodeBase64(_){return btoa(_)}(this.binaryString)}toUint8Array(){return function __PRIVATE_uint8ArrayFromBinaryString(_){const $=new Uint8Array(_.length);for(let ee=0;ee<_.length;ee++)$[ee]=_.charCodeAt(ee);return $}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(_){return __PRIVATE_primitiveComparator(this.binaryString,_.binaryString)}isEqual(_){return this.binaryString===_.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const Pt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(_){if(__PRIVATE_hardAssert(!!_,39018),"string"==typeof _){let $=0;const ee=Pt.exec(_);if(__PRIVATE_hardAssert(!!ee,46558,{timestamp:_}),ee[1]){let _=ee[1];_=(_+"000000000").substr(0,9),$=Number(_)}const te=new Date(_);return{seconds:Math.floor(te.getTime()/1e3),nanos:$}}return{seconds:__PRIVATE_normalizeNumber(_.seconds),nanos:__PRIVATE_normalizeNumber(_.nanos)}}function __PRIVATE_normalizeNumber(_){return"number"==typeof _?_:"string"==typeof _?Number(_):0}function __PRIVATE_normalizeByteString(_){return"string"==typeof _?ByteString.fromBase64String(_):ByteString.fromUint8Array(_)}const It="server_timestamp",St="__type__",Rt="__previous_value__",Ct="__local_write_time__";function __PRIVATE_isServerTimestamp(_){var $,ee;return(null===(ee=((null===($=null==_?void 0:_.mapValue)||void 0===$?void 0:$.fields)||{})[St])||void 0===ee?void 0:ee.stringValue)===It}function __PRIVATE_getPreviousValue(_){const $=_.mapValue.fields[Rt];return __PRIVATE_isServerTimestamp($)?__PRIVATE_getPreviousValue($):$}function __PRIVATE_getLocalWriteTime(_){const $=__PRIVATE_normalizeTimestamp(_.mapValue.fields[Ct].timestampValue);return new Timestamp($.seconds,$.nanos)}class DatabaseInfo{constructor(_,$,ee,te,ne,re,ie,ae,oe){this.databaseId=_,this.appId=$,this.persistenceKey=ee,this.host=te,this.ssl=ne,this.forceLongPolling=re,this.autoDetectLongPolling=ie,this.longPollingOptions=ae,this.useFetchStreams=oe}}const Vt="(default)";class DatabaseId{constructor(_,$){this.projectId=_,this.database=$||Vt}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===Vt}isEqual(_){return _ instanceof DatabaseId&&_.projectId===this.projectId&&_.database===this.database}}const Dt="__type__",Nt="__max__",Ot={mapValue:{fields:{__type__:{stringValue:Nt}}}},Mt="__vector__",Ft="value";function __PRIVATE_typeOrder(_){return"nullValue"in _?0:"booleanValue"in _?1:"integerValue"in _||"doubleValue"in _?2:"timestampValue"in _?3:"stringValue"in _?5:"bytesValue"in _?6:"referenceValue"in _?7:"geoPointValue"in _?8:"arrayValue"in _?9:"mapValue"in _?__PRIVATE_isServerTimestamp(_)?4:__PRIVATE_isMaxValue(_)?9007199254740991:__PRIVATE_isVectorValue(_)?10:11:fail(28295,{value:_})}function __PRIVATE_valueEquals(_,$){if(_===$)return!0;const ee=__PRIVATE_typeOrder(_);if(ee!==__PRIVATE_typeOrder($))return!1;switch(ee){case 0:case 9007199254740991:return!0;case 1:return _.booleanValue===$.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(_).isEqual(__PRIVATE_getLocalWriteTime($));case 3:return function __PRIVATE_timestampEquals(_,$){if("string"==typeof _.timestampValue&&"string"==typeof $.timestampValue&&_.timestampValue.length===$.timestampValue.length)return _.timestampValue===$.timestampValue;const ee=__PRIVATE_normalizeTimestamp(_.timestampValue),te=__PRIVATE_normalizeTimestamp($.timestampValue);return ee.seconds===te.seconds&&ee.nanos===te.nanos}(_,$);case 5:return _.stringValue===$.stringValue;case 6:return function __PRIVATE_blobEquals(_,$){return __PRIVATE_normalizeByteString(_.bytesValue).isEqual(__PRIVATE_normalizeByteString($.bytesValue))}(_,$);case 7:return _.referenceValue===$.referenceValue;case 8:return function __PRIVATE_geoPointEquals(_,$){return __PRIVATE_normalizeNumber(_.geoPointValue.latitude)===__PRIVATE_normalizeNumber($.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(_.geoPointValue.longitude)===__PRIVATE_normalizeNumber($.geoPointValue.longitude)}(_,$);case 2:return function __PRIVATE_numberEquals(_,$){if("integerValue"in _&&"integerValue"in $)return __PRIVATE_normalizeNumber(_.integerValue)===__PRIVATE_normalizeNumber($.integerValue);if("doubleValue"in _&&"doubleValue"in $){const ee=__PRIVATE_normalizeNumber(_.doubleValue),te=__PRIVATE_normalizeNumber($.doubleValue);return ee===te?__PRIVATE_isNegativeZero(ee)===__PRIVATE_isNegativeZero(te):isNaN(ee)&&isNaN(te)}return!1}(_,$);case 9:return __PRIVATE_arrayEquals(_.arrayValue.values||[],$.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function __PRIVATE_objectEquals(_,$){const ee=_.mapValue.fields||{},te=$.mapValue.fields||{};if(__PRIVATE_objectSize(ee)!==__PRIVATE_objectSize(te))return!1;for(const ne in ee)if(ee.hasOwnProperty(ne)&&(void 0===te[ne]||!__PRIVATE_valueEquals(ee[ne],te[ne])))return!1;return!0}(_,$);default:return fail(52216,{left:_})}}function __PRIVATE_arrayValueContains(_,$){return void 0!==(_.values||[]).find((_=>__PRIVATE_valueEquals(_,$)))}function __PRIVATE_valueCompare(_,$){if(_===$)return 0;const ee=__PRIVATE_typeOrder(_),te=__PRIVATE_typeOrder($);if(ee!==te)return __PRIVATE_primitiveComparator(ee,te);switch(ee){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(_.booleanValue,$.booleanValue);case 2:return function __PRIVATE_compareNumbers(_,$){const ee=__PRIVATE_normalizeNumber(_.integerValue||_.doubleValue),te=__PRIVATE_normalizeNumber($.integerValue||$.doubleValue);return ee<te?-1:ee>te?1:ee===te?0:isNaN(ee)?isNaN(te)?0:-1:1}(_,$);case 3:return __PRIVATE_compareTimestamps(_.timestampValue,$.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(_),__PRIVATE_getLocalWriteTime($));case 5:return __PRIVATE_compareUtf8Strings(_.stringValue,$.stringValue);case 6:return function __PRIVATE_compareBlobs(_,$){const ee=__PRIVATE_normalizeByteString(_),te=__PRIVATE_normalizeByteString($);return ee.compareTo(te)}(_.bytesValue,$.bytesValue);case 7:return function __PRIVATE_compareReferences(_,$){const ee=_.split("/"),te=$.split("/");for(let ne=0;ne<ee.length&&ne<te.length;ne++){const _=__PRIVATE_primitiveComparator(ee[ne],te[ne]);if(0!==_)return _}return __PRIVATE_primitiveComparator(ee.length,te.length)}(_.referenceValue,$.referenceValue);case 8:return function __PRIVATE_compareGeoPoints(_,$){const ee=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(_.latitude),__PRIVATE_normalizeNumber($.latitude));return 0!==ee?ee:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(_.longitude),__PRIVATE_normalizeNumber($.longitude))}(_.geoPointValue,$.geoPointValue);case 9:return __PRIVATE_compareArrays(_.arrayValue,$.arrayValue);case 10:return function __PRIVATE_compareVectors(_,$){var ee,te,ne,re;const ie=_.fields||{},ae=$.fields||{},oe=null===(ee=ie[Ft])||void 0===ee?void 0:ee.arrayValue,se=null===(te=ae[Ft])||void 0===te?void 0:te.arrayValue,le=__PRIVATE_primitiveComparator((null===(ne=null==oe?void 0:oe.values)||void 0===ne?void 0:ne.length)||0,(null===(re=null==se?void 0:se.values)||void 0===re?void 0:re.length)||0);return 0!==le?le:__PRIVATE_compareArrays(oe,se)}(_.mapValue,$.mapValue);case 11:return function __PRIVATE_compareMaps(_,$){if(_===Ot.mapValue&&$===Ot.mapValue)return 0;if(_===Ot.mapValue)return 1;if($===Ot.mapValue)return-1;const ee=_.fields||{},te=Object.keys(ee),ne=$.fields||{},re=Object.keys(ne);te.sort(),re.sort();for(let ie=0;ie<te.length&&ie<re.length;++ie){const _=__PRIVATE_compareUtf8Strings(te[ie],re[ie]);if(0!==_)return _;const $=__PRIVATE_valueCompare(ee[te[ie]],ne[re[ie]]);if(0!==$)return $}return __PRIVATE_primitiveComparator(te.length,re.length)}(_.mapValue,$.mapValue);default:throw fail(23264,{Pe:ee})}}function __PRIVATE_compareTimestamps(_,$){if("string"==typeof _&&"string"==typeof $&&_.length===$.length)return __PRIVATE_primitiveComparator(_,$);const ee=__PRIVATE_normalizeTimestamp(_),te=__PRIVATE_normalizeTimestamp($),ne=__PRIVATE_primitiveComparator(ee.seconds,te.seconds);return 0!==ne?ne:__PRIVATE_primitiveComparator(ee.nanos,te.nanos)}function __PRIVATE_compareArrays(_,$){const ee=_.values||[],te=$.values||[];for(let ne=0;ne<ee.length&&ne<te.length;++ne){const _=__PRIVATE_valueCompare(ee[ne],te[ne]);if(_)return _}return __PRIVATE_primitiveComparator(ee.length,te.length)}function canonicalId(_){return __PRIVATE_canonifyValue(_)}function __PRIVATE_canonifyValue(_){return"nullValue"in _?"null":"booleanValue"in _?""+_.booleanValue:"integerValue"in _?""+_.integerValue:"doubleValue"in _?""+_.doubleValue:"timestampValue"in _?function __PRIVATE_canonifyTimestamp(_){const $=__PRIVATE_normalizeTimestamp(_);return`time(${$.seconds},${$.nanos})`}(_.timestampValue):"stringValue"in _?_.stringValue:"bytesValue"in _?function __PRIVATE_canonifyByteString(_){return __PRIVATE_normalizeByteString(_).toBase64()}(_.bytesValue):"referenceValue"in _?function __PRIVATE_canonifyReference(_){return DocumentKey.fromName(_).toString()}(_.referenceValue):"geoPointValue"in _?function __PRIVATE_canonifyGeoPoint(_){return`geo(${_.latitude},${_.longitude})`}(_.geoPointValue):"arrayValue"in _?function __PRIVATE_canonifyArray(_){let $="[",ee=!0;for(const te of _.values||[])ee?ee=!1:$+=",",$+=__PRIVATE_canonifyValue(te);return $+"]"}(_.arrayValue):"mapValue"in _?function __PRIVATE_canonifyMap(_){const $=Object.keys(_.fields||{}).sort();let ee="{",te=!0;for(const ne of $)te?te=!1:ee+=",",ee+=`${ne}:${__PRIVATE_canonifyValue(_.fields[ne])}`;return ee+"}"}(_.mapValue):fail(61005,{value:_})}function __PRIVATE_estimateByteSize(_){switch(__PRIVATE_typeOrder(_)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const $=__PRIVATE_getPreviousValue(_);return $?16+__PRIVATE_estimateByteSize($):16;case 5:return 2*_.stringValue.length;case 6:return __PRIVATE_normalizeByteString(_.bytesValue).approximateByteSize();case 7:return _.referenceValue.length;case 9:return function __PRIVATE_estimateArrayByteSize(_){return(_.values||[]).reduce(((_,$)=>_+__PRIVATE_estimateByteSize($)),0)}(_.arrayValue);case 10:case 11:return function __PRIVATE_estimateMapByteSize(_){let $=0;return forEach(_.fields,((_,ee)=>{$+=_.length+__PRIVATE_estimateByteSize(ee)})),$}(_.mapValue);default:throw fail(13486,{value:_})}}function __PRIVATE_refValue(_,$){return{referenceValue:`projects/${_.projectId}/databases/${_.database}/documents/${$.path.canonicalString()}`}}function isInteger(_){return!!_&&"integerValue"in _}function isArray(_){return!!_&&"arrayValue"in _}function __PRIVATE_isNullValue(_){return!!_&&"nullValue"in _}function __PRIVATE_isNanValue(_){return!!_&&"doubleValue"in _&&isNaN(Number(_.doubleValue))}function __PRIVATE_isMapValue(_){return!!_&&"mapValue"in _}function __PRIVATE_isVectorValue(_){var $,ee;return(null===(ee=((null===($=null==_?void 0:_.mapValue)||void 0===$?void 0:$.fields)||{})[Dt])||void 0===ee?void 0:ee.stringValue)===Mt}function __PRIVATE_deepClone(_){if(_.geoPointValue)return{geoPointValue:Object.assign({},_.geoPointValue)};if(_.timestampValue&&"object"==typeof _.timestampValue)return{timestampValue:Object.assign({},_.timestampValue)};if(_.mapValue){const $={mapValue:{fields:{}}};return forEach(_.mapValue.fields,((_,ee)=>$.mapValue.fields[_]=__PRIVATE_deepClone(ee))),$}if(_.arrayValue){const $={arrayValue:{values:[]}};for(let ee=0;ee<(_.arrayValue.values||[]).length;++ee)$.arrayValue.values[ee]=__PRIVATE_deepClone(_.arrayValue.values[ee]);return $}return Object.assign({},_)}function __PRIVATE_isMaxValue(_){return(((_.mapValue||{}).fields||{}).__type__||{}).stringValue===Nt}class ObjectValue{constructor(_){this.value=_}static empty(){return new ObjectValue({mapValue:{}})}field(_){if(_.isEmpty())return this.value;{let $=this.value;for(let ee=0;ee<_.length-1;++ee)if($=($.mapValue.fields||{})[_.get(ee)],!__PRIVATE_isMapValue($))return null;return $=($.mapValue.fields||{})[_.lastSegment()],$||null}}set(_,$){this.getFieldsMap(_.popLast())[_.lastSegment()]=__PRIVATE_deepClone($)}setAll(_){let $=FieldPath$1.emptyPath(),ee={},te=[];_.forEach(((_,ne)=>{if(!$.isImmediateParentOf(ne)){const _=this.getFieldsMap($);this.applyChanges(_,ee,te),ee={},te=[],$=ne.popLast()}_?ee[ne.lastSegment()]=__PRIVATE_deepClone(_):te.push(ne.lastSegment())}));const ne=this.getFieldsMap($);this.applyChanges(ne,ee,te)}delete(_){const $=this.field(_.popLast());__PRIVATE_isMapValue($)&&$.mapValue.fields&&delete $.mapValue.fields[_.lastSegment()]}isEqual(_){return __PRIVATE_valueEquals(this.value,_.value)}getFieldsMap(_){let $=this.value;$.mapValue.fields||($.mapValue={fields:{}});for(let ee=0;ee<_.length;++ee){let te=$.mapValue.fields[_.get(ee)];__PRIVATE_isMapValue(te)&&te.mapValue.fields||(te={mapValue:{fields:{}}},$.mapValue.fields[_.get(ee)]=te),$=te}return $.mapValue.fields}applyChanges(_,$,ee){forEach($,(($,ee)=>_[$]=ee));for(const te of ee)delete _[te]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(_){const $=[];return forEach(_.fields,((_,ee)=>{const te=new FieldPath$1([_]);if(__PRIVATE_isMapValue(ee)){const _=__PRIVATE_extractFieldMask(ee.mapValue).fields;if(0===_.length)$.push(te);else for(const ee of _)$.push(te.child(ee))}else $.push(te)})),new FieldMask($)}class MutableDocument{constructor(_,$,ee,te,ne,re,ie){this.key=_,this.documentType=$,this.version=ee,this.readTime=te,this.createTime=ne,this.data=re,this.documentState=ie}static newInvalidDocument(_){return new MutableDocument(_,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(_,$,ee,te){return new MutableDocument(_,1,$,SnapshotVersion.min(),ee,te,0)}static newNoDocument(_,$){return new MutableDocument(_,2,$,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(_,$){return new MutableDocument(_,3,$,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(_,$){return!this.createTime.isEqual(SnapshotVersion.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=_),this.version=_,this.documentType=1,this.data=$,this.documentState=0,this}convertToNoDocument(_){return this.version=_,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(_){return this.version=_,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(_){return this.readTime=_,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(_){return _ instanceof MutableDocument&&this.key.isEqual(_.key)&&this.version.isEqual(_.version)&&this.documentType===_.documentType&&this.documentState===_.documentState&&this.data.isEqual(_.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bound{constructor(_,$){this.position=_,this.inclusive=$}}function __PRIVATE_boundCompareToDocument(_,$,ee){let te=0;for(let ne=0;ne<_.position.length;ne++){const re=$[ne],ie=_.position[ne];if(te=re.field.isKeyField()?DocumentKey.comparator(DocumentKey.fromName(ie.referenceValue),ee.key):__PRIVATE_valueCompare(ie,ee.data.field(re.field)),"desc"===re.dir&&(te*=-1),0!==te)break}return te}function __PRIVATE_boundEquals(_,$){if(null===_)return null===$;if(null===$)return!1;if(_.inclusive!==$.inclusive||_.position.length!==$.position.length)return!1;for(let ee=0;ee<_.position.length;ee++)if(!__PRIVATE_valueEquals(_.position[ee],$.position[ee]))return!1;return!0}class OrderBy{constructor(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=_,this.dir=$}}function __PRIVATE_orderByEquals(_,$){return _.dir===$.dir&&_.field.isEqual($.field)}class Filter{}class FieldFilter extends Filter{constructor(_,$,ee){super(),this.field=_,this.op=$,this.value=ee}static create(_,$,ee){return _.isKeyField()?"in"===$||"not-in"===$?this.createKeyFieldInFilter(_,$,ee):new __PRIVATE_KeyFieldFilter(_,$,ee):"array-contains"===$?new __PRIVATE_ArrayContainsFilter(_,ee):"in"===$?new __PRIVATE_InFilter(_,ee):"not-in"===$?new __PRIVATE_NotInFilter(_,ee):"array-contains-any"===$?new __PRIVATE_ArrayContainsAnyFilter(_,ee):new FieldFilter(_,$,ee)}static createKeyFieldInFilter(_,$,ee){return"in"===$?new __PRIVATE_KeyFieldInFilter(_,ee):new __PRIVATE_KeyFieldNotInFilter(_,ee)}matches(_){const $=_.data.field(this.field);return"!="===this.op?null!==$&&void 0===$.nullValue&&this.matchesComparison(__PRIVATE_valueCompare($,this.value)):null!==$&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder($)&&this.matchesComparison(__PRIVATE_valueCompare($,this.value))}matchesComparison(_){switch(this.op){case"<":return _<0;case"<=":return _<=0;case"==":return 0===_;case"!=":return 0!==_;case">":return _>0;case">=":return _>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(_,$){super(),this.filters=_,this.op=$,this.Te=null}static create(_,$){return new CompositeFilter(_,$)}matches(_){return __PRIVATE_compositeFilterIsConjunction(this)?void 0===this.filters.find(($=>!$.matches(_))):void 0!==this.filters.find(($=>$.matches(_)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((_,$)=>_.concat($.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(_){return"and"===_.op}function __PRIVATE_compositeFilterIsFlatConjunction(_){return __PRIVATE_compositeFilterIsFlat(_)&&__PRIVATE_compositeFilterIsConjunction(_)}function __PRIVATE_compositeFilterIsFlat(_){for(const $ of _.filters)if($ instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(_){if(_ instanceof FieldFilter)return _.field.canonicalString()+_.op.toString()+canonicalId(_.value);if(__PRIVATE_compositeFilterIsFlatConjunction(_))return _.filters.map((_=>__PRIVATE_canonifyFilter(_))).join(",");{const $=_.filters.map((_=>__PRIVATE_canonifyFilter(_))).join(",");return`${_.op}(${$})`}}function __PRIVATE_filterEquals(_,$){return _ instanceof FieldFilter?function __PRIVATE_fieldFilterEquals(_,$){return $ instanceof FieldFilter&&_.op===$.op&&_.field.isEqual($.field)&&__PRIVATE_valueEquals(_.value,$.value)}(_,$):_ instanceof CompositeFilter?function __PRIVATE_compositeFilterEquals(_,$){return $ instanceof CompositeFilter&&_.op===$.op&&_.filters.length===$.filters.length&&_.filters.reduce(((_,ee,te)=>_&&__PRIVATE_filterEquals(ee,$.filters[te])),!0)}(_,$):void fail(19439)}function __PRIVATE_stringifyFilter(_){return _ instanceof FieldFilter?function __PRIVATE_stringifyFieldFilter(_){return`${_.field.canonicalString()} ${_.op} ${canonicalId(_.value)}`}(_):_ instanceof CompositeFilter?function __PRIVATE_stringifyCompositeFilter(_){return _.op.toString()+" {"+_.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(_):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(_,$,ee){super(_,$,ee),this.key=DocumentKey.fromName(ee.referenceValue)}matches(_){const $=DocumentKey.comparator(_.key,this.key);return this.matchesComparison($)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(_,$){super(_,"in",$),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",$)}matches(_){return this.keys.some(($=>$.isEqual(_.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(_,$){super(_,"not-in",$),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",$)}matches(_){return!this.keys.some(($=>$.isEqual(_.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(_,$){var ee;return((null===(ee=$.arrayValue)||void 0===ee?void 0:ee.values)||[]).map((_=>DocumentKey.fromName(_.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(_,$){super(_,"array-contains",$)}matches(_){const $=_.data.field(this.field);return isArray($)&&__PRIVATE_arrayValueContains($.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(_,$){super(_,"in",$)}matches(_){const $=_.data.field(this.field);return null!==$&&__PRIVATE_arrayValueContains(this.value.arrayValue,$)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(_,$){super(_,"not-in",$)}matches(_){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const $=_.data.field(this.field);return null!==$&&void 0===$.nullValue&&!__PRIVATE_arrayValueContains(this.value.arrayValue,$)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(_,$){super(_,"array-contains-any",$)}matches(_){const $=_.data.field(this.field);return!(!isArray($)||!$.arrayValue.values)&&$.arrayValue.values.some((_=>__PRIVATE_arrayValueContains(this.value.arrayValue,_)))}}class __PRIVATE_TargetImpl{constructor(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,ie=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=_,this.collectionGroup=$,this.orderBy=ee,this.filters=te,this.limit=ne,this.startAt=re,this.endAt=ie,this.Ie=null}}function __PRIVATE_newTarget(_){return new __PRIVATE_TargetImpl(_,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function __PRIVATE_canonifyTarget(_){const $=__PRIVATE_debugCast(_);if(null===$.Ie){let _=$.path.canonicalString();null!==$.collectionGroup&&(_+="|cg:"+$.collectionGroup),_+="|f:",_+=$.filters.map((_=>__PRIVATE_canonifyFilter(_))).join(","),_+="|ob:",_+=$.orderBy.map((_=>function __PRIVATE_canonifyOrderBy(_){return _.field.canonicalString()+_.dir}(_))).join(","),__PRIVATE_isNullOrUndefined($.limit)||(_+="|l:",_+=$.limit),$.startAt&&(_+="|lb:",_+=$.startAt.inclusive?"b:":"a:",_+=$.startAt.position.map((_=>canonicalId(_))).join(",")),$.endAt&&(_+="|ub:",_+=$.endAt.inclusive?"a:":"b:",_+=$.endAt.position.map((_=>canonicalId(_))).join(",")),$.Ie=_}return $.Ie}function __PRIVATE_targetEquals(_,$){if(_.limit!==$.limit)return!1;if(_.orderBy.length!==$.orderBy.length)return!1;for(let ee=0;ee<_.orderBy.length;ee++)if(!__PRIVATE_orderByEquals(_.orderBy[ee],$.orderBy[ee]))return!1;if(_.filters.length!==$.filters.length)return!1;for(let ee=0;ee<_.filters.length;ee++)if(!__PRIVATE_filterEquals(_.filters[ee],$.filters[ee]))return!1;return _.collectionGroup===$.collectionGroup&&!!_.path.isEqual($.path)&&!!__PRIVATE_boundEquals(_.startAt,$.startAt)&&__PRIVATE_boundEquals(_.endAt,$.endAt)}function __PRIVATE_targetIsDocumentTarget(_){return DocumentKey.isDocumentKey(_.path)&&null===_.collectionGroup&&0===_.filters.length}class __PRIVATE_QueryImpl{constructor(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",ie=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,ae=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=_,this.collectionGroup=$,this.explicitOrderBy=ee,this.filters=te,this.limit=ne,this.limitType=re,this.startAt=ie,this.endAt=ae,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(_,$,ee,te,ne,re,ie,ae){return new __PRIVATE_QueryImpl(_,$,ee,te,ne,re,ie,ae)}function __PRIVATE_newQueryForPath(_){return new __PRIVATE_QueryImpl(_)}function __PRIVATE_queryMatchesAllDocuments(_){return 0===_.filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(_){return null!==_.collectionGroup}function __PRIVATE_queryNormalizedOrderBy(_){const $=__PRIVATE_debugCast(_);if(null===$.Ee){$.Ee=[];const _=new Set;for(const ne of $.explicitOrderBy)$.Ee.push(ne),_.add(ne.field.canonicalString());const ee=$.explicitOrderBy.length>0?$.explicitOrderBy[$.explicitOrderBy.length-1].dir:"asc",te=function __PRIVATE_getInequalityFilterFields(_){let $=new SortedSet(FieldPath$1.comparator);return _.filters.forEach((_=>{_.getFlattenedFilters().forEach((_=>{_.isInequality()&&($=$.add(_.field))}))})),$}($);te.forEach((te=>{_.has(te.canonicalString())||te.isKeyField()||$.Ee.push(new OrderBy(te,ee))})),_.has(FieldPath$1.keyField().canonicalString())||$.Ee.push(new OrderBy(FieldPath$1.keyField(),ee))}return $.Ee}function __PRIVATE_queryToTarget(_){const $=__PRIVATE_debugCast(_);return $.de||($.de=__PRIVATE__queryToTarget($,__PRIVATE_queryNormalizedOrderBy(_))),$.de}function __PRIVATE__queryToTarget(_,$){if("F"===_.limitType)return __PRIVATE_newTarget(_.path,_.collectionGroup,$,_.filters,_.limit,_.startAt,_.endAt);{$=$.map((_=>{const $="desc"===_.dir?"asc":"desc";return new OrderBy(_.field,$)}));const ee=_.endAt?new Bound(_.endAt.position,_.endAt.inclusive):null,te=_.startAt?new Bound(_.startAt.position,_.startAt.inclusive):null;return __PRIVATE_newTarget(_.path,_.collectionGroup,$,_.filters,_.limit,ee,te)}}function __PRIVATE_queryWithAddedFilter(_,$){const ee=_.filters.concat([$]);return new __PRIVATE_QueryImpl(_.path,_.collectionGroup,_.explicitOrderBy.slice(),ee,_.limit,_.limitType,_.startAt,_.endAt)}function __PRIVATE_queryWithLimit(_,$,ee){return new __PRIVATE_QueryImpl(_.path,_.collectionGroup,_.explicitOrderBy.slice(),_.filters.slice(),$,ee,_.startAt,_.endAt)}function __PRIVATE_queryEquals(_,$){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(_),__PRIVATE_queryToTarget($))&&_.limitType===$.limitType}function __PRIVATE_canonifyQuery(_){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(_))}|lt:${_.limitType}`}function __PRIVATE_stringifyQuery(_){return`Query(target=${function __PRIVATE_stringifyTarget(_){let $=_.path.canonicalString();return null!==_.collectionGroup&&($+=" collectionGroup="+_.collectionGroup),_.filters.length>0&&($+=`, filters: [${_.filters.map((_=>__PRIVATE_stringifyFilter(_))).join(", ")}]`),__PRIVATE_isNullOrUndefined(_.limit)||($+=", limit: "+_.limit),_.orderBy.length>0&&($+=`, orderBy: [${_.orderBy.map((_=>function __PRIVATE_stringifyOrderBy(_){return`${_.field.canonicalString()} (${_.dir})`}(_))).join(", ")}]`),_.startAt&&($+=", startAt: ",$+=_.startAt.inclusive?"b:":"a:",$+=_.startAt.position.map((_=>canonicalId(_))).join(",")),_.endAt&&($+=", endAt: ",$+=_.endAt.inclusive?"a:":"b:",$+=_.endAt.position.map((_=>canonicalId(_))).join(",")),`Target(${$})`}(__PRIVATE_queryToTarget(_))}; limitType=${_.limitType})`}function __PRIVATE_queryMatches(_,$){return $.isFoundDocument()&&function __PRIVATE_queryMatchesPathAndCollectionGroup(_,$){const ee=$.key.path;return null!==_.collectionGroup?$.key.hasCollectionId(_.collectionGroup)&&_.path.isPrefixOf(ee):DocumentKey.isDocumentKey(_.path)?_.path.isEqual(ee):_.path.isImmediateParentOf(ee)}(_,$)&&function __PRIVATE_queryMatchesOrderBy(_,$){for(const ee of __PRIVATE_queryNormalizedOrderBy(_))if(!ee.field.isKeyField()&&null===$.data.field(ee.field))return!1;return!0}(_,$)&&function __PRIVATE_queryMatchesFilters(_,$){for(const ee of _.filters)if(!ee.matches($))return!1;return!0}(_,$)&&function __PRIVATE_queryMatchesBounds(_,$){return!(_.startAt&&!function __PRIVATE_boundSortsBeforeDocument(_,$,ee){const te=__PRIVATE_boundCompareToDocument(_,$,ee);return _.inclusive?te<=0:te<0}(_.startAt,__PRIVATE_queryNormalizedOrderBy(_),$))&&!(_.endAt&&!function __PRIVATE_boundSortsAfterDocument(_,$,ee){const te=__PRIVATE_boundCompareToDocument(_,$,ee);return _.inclusive?te>=0:te>0}(_.endAt,__PRIVATE_queryNormalizedOrderBy(_),$))}(_,$)}function __PRIVATE_queryCollectionGroup(_){return _.collectionGroup||(_.path.length%2==1?_.path.lastSegment():_.path.get(_.path.length-2))}function __PRIVATE_newQueryComparator(_){return($,ee)=>{let te=!1;for(const ne of __PRIVATE_queryNormalizedOrderBy(_)){const _=__PRIVATE_compareDocs(ne,$,ee);if(0!==_)return _;te=te||ne.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(_,$,ee){const te=_.field.isKeyField()?DocumentKey.comparator($.key,ee.key):function __PRIVATE_compareDocumentsByField(_,$,ee){const te=$.data.field(_),ne=ee.data.field(_);return null!==te&&null!==ne?__PRIVATE_valueCompare(te,ne):fail(42886)}(_.field,$,ee);switch(_.dir){case"asc":return te;case"desc":return-1*te;default:return fail(19790,{direction:_.dir})}}class ObjectMap{constructor(_,$){this.mapKeyFn=_,this.equalsFn=$,this.inner={},this.innerSize=0}get(_){const $=this.mapKeyFn(_),ee=this.inner[$];if(void 0!==ee)for(const[te,ne]of ee)if(this.equalsFn(te,_))return ne}has(_){return void 0!==this.get(_)}set(_,$){const ee=this.mapKeyFn(_),te=this.inner[ee];if(void 0===te)return this.inner[ee]=[[_,$]],void this.innerSize++;for(let ne=0;ne<te.length;ne++)if(this.equalsFn(te[ne][0],_))return void(te[ne]=[_,$]);te.push([_,$]),this.innerSize++}delete(_){const $=this.mapKeyFn(_),ee=this.inner[$];if(void 0===ee)return!1;for(let te=0;te<ee.length;te++)if(this.equalsFn(ee[te][0],_))return 1===ee.length?delete this.inner[$]:ee.splice(te,1),this.innerSize--,!0;return!1}forEach(_){forEach(this.inner,(($,ee)=>{for(const[te,ne]of ee)_(te,ne)}))}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}const jt=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return jt}const Lt=new SortedMap(DocumentKey.comparator);function documentMap(){let _=Lt;for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];for(const ne of ee)_=_.insert(ne.key,ne);return _}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(_){let $=Lt;return _.forEach(((_,ee)=>$=$.insert(_,ee.overlayedDocument))),$}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((_=>_.toString()),((_,$)=>_.isEqual($)))}const Ut=new SortedMap(DocumentKey.comparator),Bt=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(){let _=Bt;for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];for(const ne of ee)_=_.add(ne);return _}const zt=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return zt}function __PRIVATE_toDouble(_,$){if(_.useProto3Json){if(isNaN($))return{doubleValue:"NaN"};if($===1/0)return{doubleValue:"Infinity"};if($===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero($)?"-0":$}}function __PRIVATE_toInteger(_){return{integerValue:""+_}}function toNumber(_,$){return isSafeInteger($)?__PRIVATE_toInteger($):__PRIVATE_toDouble(_,$)}class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(_,$,ee){return _ instanceof __PRIVATE_ServerTimestampTransform?function serverTimestamp$1(_,$){const ee={fields:{[St]:{stringValue:It},[Ct]:{timestampValue:{seconds:_.seconds,nanos:_.nanoseconds}}}};return $&&__PRIVATE_isServerTimestamp($)&&($=__PRIVATE_getPreviousValue($)),$&&(ee.fields[Rt]=$),{mapValue:ee}}(ee,$):_ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(_,$):_ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(_,$):function __PRIVATE_applyNumericIncrementTransformOperationToLocalView(_,$){const ee=__PRIVATE_computeTransformOperationBaseValue(_,$),te=asNumber(ee)+asNumber(_.Re);return isInteger(ee)&&isInteger(_.Re)?__PRIVATE_toInteger(te):__PRIVATE_toDouble(_.serializer,te)}(_,$)}function __PRIVATE_applyTransformOperationToRemoteDocument(_,$,ee){return _ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(_,$):_ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(_,$):ee}function __PRIVATE_computeTransformOperationBaseValue(_,$){return _ instanceof __PRIVATE_NumericIncrementTransformOperation?function __PRIVATE_isNumber(_){return isInteger(_)||function __PRIVATE_isDouble(_){return!!_&&"doubleValue"in _}(_)}($)?$:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayUnionTransformOperation(_,$){const ee=__PRIVATE_coercedFieldValuesArray($);for(const te of _.elements)ee.some((_=>__PRIVATE_valueEquals(_,te)))||ee.push(te);return{arrayValue:{values:ee}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayRemoveTransformOperation(_,$){let ee=__PRIVATE_coercedFieldValuesArray($);for(const te of _.elements)ee=ee.filter((_=>!__PRIVATE_valueEquals(_,te)));return{arrayValue:{values:ee}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(_,$){super(),this.serializer=_,this.Re=$}}function asNumber(_){return __PRIVATE_normalizeNumber(_.integerValue||_.doubleValue)}function __PRIVATE_coercedFieldValuesArray(_){return isArray(_)&&_.arrayValue.values?_.arrayValue.values.slice():[]}class FieldTransform{constructor(_,$){this.field=_,this.transform=$}}class MutationResult{constructor(_,$){this.version=_,this.transformResults=$}}class Precondition{constructor(_,$){this.updateTime=_,this.exists=$}static none(){return new Precondition}static exists(_){return new Precondition(void 0,_)}static updateTime(_){return new Precondition(_)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(_){return this.exists===_.exists&&(this.updateTime?!!_.updateTime&&this.updateTime.isEqual(_.updateTime):!_.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(_,$){return void 0!==_.updateTime?$.isFoundDocument()&&$.version.isEqual(_.updateTime):void 0===_.exists||_.exists===$.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(_,$){if(!_.hasLocalMutations||$&&0===$.fields.length)return null;if(null===$)return _.isNoDocument()?new __PRIVATE_DeleteMutation(_.key,Precondition.none()):new __PRIVATE_SetMutation(_.key,_.data,Precondition.none());{const ee=_.data,te=ObjectValue.empty();let ne=new SortedSet(FieldPath$1.comparator);for(let _ of $.fields)if(!ne.has(_)){let $=ee.field(_);null===$&&_.length>1&&(_=_.popLast(),$=ee.field(_)),null===$?te.delete(_):te.set(_,$),ne=ne.add(_)}return new __PRIVATE_PatchMutation(_.key,te,new FieldMask(ne.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(_,$,ee){_ instanceof __PRIVATE_SetMutation?function __PRIVATE_setMutationApplyToRemoteDocument(_,$,ee){const te=_.value.clone(),ne=__PRIVATE_serverTransformResults(_.fieldTransforms,$,ee.transformResults);te.setAll(ne),$.convertToFoundDocument(ee.version,te).setHasCommittedMutations()}(_,$,ee):_ instanceof __PRIVATE_PatchMutation?function __PRIVATE_patchMutationApplyToRemoteDocument(_,$,ee){if(!__PRIVATE_preconditionIsValidForDocument(_.precondition,$))return void $.convertToUnknownDocument(ee.version);const te=__PRIVATE_serverTransformResults(_.fieldTransforms,$,ee.transformResults),ne=$.data;ne.setAll(__PRIVATE_getPatch(_)),ne.setAll(te),$.convertToFoundDocument(ee.version,ne).setHasCommittedMutations()}(_,$,ee):function __PRIVATE_deleteMutationApplyToRemoteDocument(_,$,ee){$.convertToNoDocument(ee.version).setHasCommittedMutations()}(0,$,ee)}function __PRIVATE_mutationApplyToLocalView(_,$,ee,te){return _ instanceof __PRIVATE_SetMutation?function __PRIVATE_setMutationApplyToLocalView(_,$,ee,te){if(!__PRIVATE_preconditionIsValidForDocument(_.precondition,$))return ee;const ne=_.value.clone(),re=__PRIVATE_localTransformResults(_.fieldTransforms,te,$);return ne.setAll(re),$.convertToFoundDocument($.version,ne).setHasLocalMutations(),null}(_,$,ee,te):_ instanceof __PRIVATE_PatchMutation?function __PRIVATE_patchMutationApplyToLocalView(_,$,ee,te){if(!__PRIVATE_preconditionIsValidForDocument(_.precondition,$))return ee;const ne=__PRIVATE_localTransformResults(_.fieldTransforms,te,$),re=$.data;return re.setAll(__PRIVATE_getPatch(_)),re.setAll(ne),$.convertToFoundDocument($.version,re).setHasLocalMutations(),null===ee?null:ee.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map((_=>_.field)))}(_,$,ee,te):function __PRIVATE_deleteMutationApplyToLocalView(_,$,ee){return __PRIVATE_preconditionIsValidForDocument(_.precondition,$)?($.convertToNoDocument($.version).setHasLocalMutations(),null):ee}(_,$,ee)}function __PRIVATE_mutationExtractBaseValue(_,$){let ee=null;for(const te of _.fieldTransforms){const _=$.data.field(te.field),ne=__PRIVATE_computeTransformOperationBaseValue(te.transform,_||null);null!=ne&&(null===ee&&(ee=ObjectValue.empty()),ee.set(te.field,ne))}return ee||null}function __PRIVATE_mutationEquals(_,$){return _.type===$.type&&!!_.key.isEqual($.key)&&!!_.precondition.isEqual($.precondition)&&!!function __PRIVATE_fieldTransformsAreEqual(_,$){return void 0===_&&void 0===$||!(!_||!$)&&__PRIVATE_arrayEquals(_,$,((_,$)=>function __PRIVATE_fieldTransformEquals(_,$){return _.field.isEqual($.field)&&function __PRIVATE_transformOperationEquals(_,$){return _ instanceof __PRIVATE_ArrayUnionTransformOperation&&$ instanceof __PRIVATE_ArrayUnionTransformOperation||_ instanceof __PRIVATE_ArrayRemoveTransformOperation&&$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(_.elements,$.elements,__PRIVATE_valueEquals):_ instanceof __PRIVATE_NumericIncrementTransformOperation&&$ instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(_.Re,$.Re):_ instanceof __PRIVATE_ServerTimestampTransform&&$ instanceof __PRIVATE_ServerTimestampTransform}(_.transform,$.transform)}(_,$)))}(_.fieldTransforms,$.fieldTransforms)&&(0===_.type?_.value.isEqual($.value):1!==_.type||_.data.isEqual($.data)&&_.fieldMask.isEqual($.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=_,this.value=$,this.precondition=ee,this.fieldTransforms=te,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=_,this.data=$,this.fieldMask=ee,this.precondition=te,this.fieldTransforms=ne,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(_){const $=new Map;return _.fieldMask.fields.forEach((ee=>{if(!ee.isEmpty()){const te=_.data.field(ee);$.set(ee,te)}})),$}function __PRIVATE_serverTransformResults(_,$,ee){const te=new Map;__PRIVATE_hardAssert(_.length===ee.length,32656,{Ve:ee.length,me:_.length});for(let ne=0;ne<ee.length;ne++){const re=_[ne],ie=re.transform,ae=$.data.field(re.field);te.set(re.field,__PRIVATE_applyTransformOperationToRemoteDocument(ie,ae,ee[ne]))}return te}function __PRIVATE_localTransformResults(_,$,ee){const te=new Map;for(const ne of _){const _=ne.transform,re=ee.data.field(ne.field);te.set(ne.field,__PRIVATE_applyTransformOperationToLocalView(_,re,$))}return te}class __PRIVATE_DeleteMutation extends Mutation{constructor(_,$){super(),this.key=_,this.precondition=$,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(_,$){super(),this.key=_,this.precondition=$,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MutationBatch{constructor(_,$,ee,te){this.batchId=_,this.localWriteTime=$,this.baseMutations=ee,this.mutations=te}applyToRemoteDocument(_,$){const ee=$.mutationResults;for(let te=0;te<this.mutations.length;te++){const $=this.mutations[te];$.key.isEqual(_.key)&&__PRIVATE_mutationApplyToRemoteDocument($,_,ee[te])}}applyToLocalView(_,$){for(const ee of this.baseMutations)ee.key.isEqual(_.key)&&($=__PRIVATE_mutationApplyToLocalView(ee,_,$,this.localWriteTime));for(const ee of this.mutations)ee.key.isEqual(_.key)&&($=__PRIVATE_mutationApplyToLocalView(ee,_,$,this.localWriteTime));return $}applyToLocalDocumentSet(_,$){const ee=__PRIVATE_newMutationMap();return this.mutations.forEach((te=>{const ne=_.get(te.key),re=ne.overlayedDocument;let ie=this.applyToLocalView(re,ne.mutatedFields);ie=$.has(te.key)?null:ie;const ae=__PRIVATE_calculateOverlayMutation(re,ie);null!==ae&&ee.set(te.key,ae),re.isValidDocument()||re.convertToNoDocument(SnapshotVersion.min())})),ee}keys(){return this.mutations.reduce(((_,$)=>_.add($.key)),__PRIVATE_documentKeySet())}isEqual(_){return this.batchId===_.batchId&&__PRIVATE_arrayEquals(this.mutations,_.mutations,((_,$)=>__PRIVATE_mutationEquals(_,$)))&&__PRIVATE_arrayEquals(this.baseMutations,_.baseMutations,((_,$)=>__PRIVATE_mutationEquals(_,$)))}}class MutationBatchResult{constructor(_,$,ee,te){this.batch=_,this.commitVersion=$,this.mutationResults=ee,this.docVersions=te}static from(_,$,ee){__PRIVATE_hardAssert(_.mutations.length===ee.length,58842,{fe:_.mutations.length,ge:ee.length});let te=function __PRIVATE_documentVersionMap(){return Ut}();const ne=_.mutations;for(let re=0;re<ne.length;re++)te=te.insert(ne[re].key,ee[re].version);return new MutationBatchResult(_,$,ee,te)}}class Overlay{constructor(_,$){this.largestBatchId=_,this.mutation=$}getKey(){return this.mutation.key}isEqual(_){return null!==_&&this.mutation===_.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ExistenceFilter{constructor(_,$){this.count=_,this.unchangedNames=$}}var qt,Wt;function __PRIVATE_isPermanentError(_){switch(_){case je.OK:return fail(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return fail(15467,{code:_})}}function __PRIVATE_mapCodeFromRpcCode(_){if(void 0===_)return __PRIVATE_logError("GRPC error has no .code"),je.UNKNOWN;switch(_){case qt.OK:return je.OK;case qt.CANCELLED:return je.CANCELLED;case qt.UNKNOWN:return je.UNKNOWN;case qt.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case qt.INTERNAL:return je.INTERNAL;case qt.UNAVAILABLE:return je.UNAVAILABLE;case qt.UNAUTHENTICATED:return je.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case qt.NOT_FOUND:return je.NOT_FOUND;case qt.ALREADY_EXISTS:return je.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return je.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case qt.ABORTED:return je.ABORTED;case qt.OUT_OF_RANGE:return je.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return je.UNIMPLEMENTED;case qt.DATA_LOSS:return je.DATA_LOSS;default:return fail(39323,{code:_})}}(Wt=qt||(qt={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";let Ht=null;const $t=new te([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(_){const $=__PRIVATE_newTextEncoder().encode(_),ee=new ne;return ee.update($),new Uint8Array(ee.digest())}function __PRIVATE_get64BitUints(_){const $=new DataView(_.buffer),ee=$.getUint32(0,!0),ne=$.getUint32(4,!0),re=$.getUint32(8,!0),ie=$.getUint32(12,!0);return[new te([ee,ne],0),new te([re,ie],0)]}class BloomFilter{constructor(_,$,ee){if(this.bitmap=_,this.padding=$,this.hashCount=ee,$<0||$>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${$}`);if(ee<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${ee}`);if(_.length>0&&0===this.hashCount)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${ee}`);if(0===_.length&&0!==$)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${$}`);this.pe=8*_.length-$,this.ye=te.fromNumber(this.pe)}we(_,$,ee){let ne=_.add($.multiply(te.fromNumber(ee)));return 1===ne.compare($t)&&(ne=new te([ne.getBits(0),ne.getBits(1)],0)),ne.modulo(this.ye).toNumber()}be(_){return!!(this.bitmap[Math.floor(_/8)]&1<<_%8)}mightContain(_){if(0===this.pe)return!1;const $=__PRIVATE_getMd5HashValue(_),[ee,te]=__PRIVATE_get64BitUints($);for(let ne=0;ne<this.hashCount;ne++){const _=this.we(ee,te,ne);if(!this.be(_))return!1}return!0}static create(_,$,ee){const te=_%8==0?0:8-_%8,ne=new Uint8Array(Math.ceil(_/8)),re=new BloomFilter(ne,te,$);return ee.forEach((_=>re.insert(_))),re}insert(_){if(0===this.pe)return;const $=__PRIVATE_getMd5HashValue(_),[ee,te]=__PRIVATE_get64BitUints($);for(let ne=0;ne<this.hashCount;ne++){const _=this.we(ee,te,ne);this.Se(_)}}Se(_){const $=Math.floor(_/8),ee=_%8;this.bitmap[$]|=1<<ee}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RemoteEvent{constructor(_,$,ee,te,ne){this.snapshotVersion=_,this.targetChanges=$,this.targetMismatches=ee,this.documentUpdates=te,this.resolvedLimboDocuments=ne}static createSynthesizedRemoteEventForCurrentChange(_,$,ee){const te=new Map;return te.set(_,TargetChange.createSynthesizedTargetChangeForCurrentChange(_,$,ee)),new RemoteEvent(SnapshotVersion.min(),te,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(_,$,ee,te,ne){this.resumeToken=_,this.current=$,this.addedDocuments=ee,this.modifiedDocuments=te,this.removedDocuments=ne}static createSynthesizedTargetChangeForCurrentChange(_,$,ee){return new TargetChange(ee,$,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}class __PRIVATE_DocumentWatchChange{constructor(_,$,ee,te){this.De=_,this.removedTargetIds=$,this.key=ee,this.ve=te}}class __PRIVATE_ExistenceFilterChange{constructor(_,$){this.targetId=_,this.Ce=$}}class __PRIVATE_WatchTargetChange{constructor(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ByteString.EMPTY_BYTE_STRING,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=_,this.targetIds=$,this.resumeToken=ee,this.cause=te}}class __PRIVATE_TargetState{constructor(){this.Fe=0,this.Me=__PRIVATE_snapshotChangesMap(),this.xe=ByteString.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(_){_.approximateByteSize()>0&&(this.Ne=!0,this.xe=_)}qe(){let _=__PRIVATE_documentKeySet(),$=__PRIVATE_documentKeySet(),ee=__PRIVATE_documentKeySet();return this.Me.forEach(((te,ne)=>{switch(ne){case 0:_=_.add(te);break;case 2:$=$.add(te);break;case 1:ee=ee.add(te);break;default:fail(38017,{changeType:ne})}})),new TargetChange(this.xe,this.Oe,_,$,ee)}Qe(){this.Ne=!1,this.Me=__PRIVATE_snapshotChangesMap()}$e(_,$){this.Ne=!0,this.Me=this.Me.insert(_,$)}Ue(_){this.Ne=!0,this.Me=this.Me.remove(_)}Ke(){this.Fe+=1}We(){this.Fe-=1,__PRIVATE_hardAssert(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class __PRIVATE_WatchChangeAggregator{constructor(_){this.ze=_,this.je=new Map,this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator)}Xe(_){for(const $ of _.De)_.ve&&_.ve.isFoundDocument()?this.et($,_.ve):this.tt($,_.key,_.ve);for(const $ of _.removedTargetIds)this.tt($,_.key,_.ve)}nt(_){this.forEachTarget(_,($=>{const ee=this.rt($);switch(_.state){case 0:this.it($)&&ee.ke(_.resumeToken);break;case 1:ee.We(),ee.Be||ee.Qe(),ee.ke(_.resumeToken);break;case 2:ee.We(),ee.Be||this.removeTarget($);break;case 3:this.it($)&&(ee.Ge(),ee.ke(_.resumeToken));break;case 4:this.it($)&&(this.st($),ee.ke(_.resumeToken));break;default:fail(56790,{state:_.state})}}))}forEachTarget(_,$){_.targetIds.length>0?_.targetIds.forEach($):this.je.forEach(((_,ee)=>{this.it(ee)&&$(ee)}))}ot(_){const $=_.targetId,ee=_.Ce.count,te=this._t($);if(te){const ne=te.target;if(__PRIVATE_targetIsDocumentTarget(ne))if(0===ee){const _=new DocumentKey(ne.path);this.tt($,_,MutableDocument.newNoDocument(_,SnapshotVersion.min()))}else __PRIVATE_hardAssert(1===ee,20013,{expectedCount:ee});else{const te=this.ut($);if(te!==ee){const ee=this.ct(_),ne=ee?this.lt(ee,_,te):1;if(0!==ne){this.st($);const _=2===ne?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert($,_)}null==Ht||Ht.ht(function __PRIVATE_createExistenceFilterMismatchInfoForTestingHooks(_,$,ee,te,ne){var re,ie,ae,oe,se,le;const de={localCacheCount:_,existenceFilterCount:$.count,databaseId:ee.database,projectId:ee.projectId},he=$.unchangedNames;return he&&(de.bloomFilter={applied:0===ne,hashCount:null!==(re=null==he?void 0:he.hashCount)&&void 0!==re?re:0,bitmapLength:null!==(oe=null===(ae=null===(ie=null==he?void 0:he.bits)||void 0===ie?void 0:ie.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==oe?oe:0,padding:null!==(le=null===(se=null==he?void 0:he.bits)||void 0===se?void 0:se.padding)&&void 0!==le?le:0,mightContain:_=>{var $;return null!==($=null==te?void 0:te.mightContain(_))&&void 0!==$&&$}}),de}(te,_.Ce,this.ze.Pt(),ee,ne))}}}}ct(_){const $=_.Ce.unchangedNames;if(!$||!$.bits)return null;const{bits:{bitmap:ee="",padding:te=0},hashCount:ne=0}=$;let re,ie;try{re=__PRIVATE_normalizeByteString(ee).toUint8Array()}catch(_){if(_ instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{ie=new BloomFilter(re,te,ne)}catch(_){return __PRIVATE_logWarn(_ instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return 0===ie.pe?null:ie}lt(_,$,ee){return $.Ce.count===ee-this.Tt(_,$.targetId)?0:2}Tt(_,$){const ee=this.ze.getRemoteKeysForTarget($);let te=0;return ee.forEach((ee=>{const ne=this.ze.Pt(),re=`projects/${ne.projectId}/databases/${ne.database}/documents/${ee.path.canonicalString()}`;_.mightContain(re)||(this.tt($,ee,null),te++)})),te}It(_){const $=new Map;this.je.forEach(((ee,te)=>{const ne=this._t(te);if(ne){if(ee.current&&__PRIVATE_targetIsDocumentTarget(ne.target)){const $=new DocumentKey(ne.target.path);this.Et($).has(te)||this.dt(te,$)||this.tt(te,$,MutableDocument.newNoDocument($,_))}ee.Le&&($.set(te,ee.qe()),ee.Qe())}}));let ee=__PRIVATE_documentKeySet();this.Ye.forEach(((_,$)=>{let te=!0;$.forEachWhile((_=>{const $=this._t(_);return!$||"TargetPurposeLimboResolution"===$.purpose||(te=!1,!1)})),te&&(ee=ee.add(_))})),this.He.forEach((($,ee)=>ee.setReadTime(_)));const te=new RemoteEvent(_,$,this.Ze,this.He,ee);return this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator),te}et(_,$){if(!this.it(_))return;const ee=this.dt(_,$.key)?2:0;this.rt(_).$e($.key,ee),this.He=this.He.insert($.key,$),this.Je=this.Je.insert($.key,this.Et($.key).add(_)),this.Ye=this.Ye.insert($.key,this.At($.key).add(_))}tt(_,$,ee){if(!this.it(_))return;const te=this.rt(_);this.dt(_,$)?te.$e($,1):te.Ue($),this.Ye=this.Ye.insert($,this.At($).delete(_)),this.Ye=this.Ye.insert($,this.At($).add(_)),ee&&(this.He=this.He.insert($,ee))}removeTarget(_){this.je.delete(_)}ut(_){const $=this.rt(_).qe();return this.ze.getRemoteKeysForTarget(_).size+$.addedDocuments.size-$.removedDocuments.size}Ke(_){this.rt(_).Ke()}rt(_){let $=this.je.get(_);return $||($=new __PRIVATE_TargetState,this.je.set(_,$)),$}At(_){let $=this.Ye.get(_);return $||($=new SortedSet(__PRIVATE_primitiveComparator),this.Ye=this.Ye.insert(_,$)),$}Et(_){let $=this.Je.get(_);return $||($=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(_,$)),$}it(_){const $=null!==this._t(_);return $||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",_),$}_t(_){const $=this.je.get(_);return $&&$.Be?null:this.ze.Rt(_)}st(_){this.je.set(_,new __PRIVATE_TargetState),this.ze.getRemoteKeysForTarget(_).forEach(($=>{this.tt(_,$,null)}))}dt(_,$){return this.ze.getRemoteKeysForTarget(_).has($)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Kt={asc:"ASCENDING",desc:"DESCENDING"},Gt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yt={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(_,$){this.databaseId=_,this.useProto3Json=$}}function __PRIVATE_toInt32Proto(_,$){return _.useProto3Json||__PRIVATE_isNullOrUndefined($)?$:{value:$}}function toTimestamp(_,$){return _.useProto3Json?`${new Date(1e3*$.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+$.nanoseconds).slice(-9)}Z`:{seconds:""+$.seconds,nanos:$.nanoseconds}}function __PRIVATE_toBytes(_,$){return _.useProto3Json?$.toBase64():$.toUint8Array()}function __PRIVATE_toVersion(_,$){return toTimestamp(_,$.toTimestamp())}function __PRIVATE_fromVersion(_){return __PRIVATE_hardAssert(!!_,49232),SnapshotVersion.fromTimestamp(function fromTimestamp(_){const $=__PRIVATE_normalizeTimestamp(_);return new Timestamp($.seconds,$.nanos)}(_))}function __PRIVATE_toResourceName(_,$){return __PRIVATE_toResourcePath(_,$).canonicalString()}function __PRIVATE_toResourcePath(_,$){const ee=function __PRIVATE_fullyQualifiedPrefixPath(_){return new ResourcePath(["projects",_.projectId,"databases",_.database])}(_).child("documents");return void 0===$?ee:ee.child($)}function __PRIVATE_fromResourceName(_){const $=ResourcePath.fromString(_);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName($),10190,{key:$.toString()}),$}function __PRIVATE_toName(_,$){return __PRIVATE_toResourceName(_.databaseId,$.path)}function fromName(_,$){const ee=__PRIVATE_fromResourceName($);if(ee.get(1)!==_.databaseId.projectId)throw new FirestoreError(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+ee.get(1)+" vs "+_.databaseId.projectId);if(ee.get(3)!==_.databaseId.database)throw new FirestoreError(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+ee.get(3)+" vs "+_.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(ee))}function __PRIVATE_toQueryPath(_,$){return __PRIVATE_toResourceName(_.databaseId,$)}function __PRIVATE_fromQueryPath(_){const $=__PRIVATE_fromResourceName(_);return 4===$.length?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName($)}function __PRIVATE_getEncodedDatabaseId(_){return new ResourcePath(["projects",_.databaseId.projectId,"databases",_.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(_){return __PRIVATE_hardAssert(_.length>4&&"documents"===_.get(4),29091,{key:_.toString()}),_.popFirst(5)}function __PRIVATE_toMutationDocument(_,$,ee){return{name:__PRIVATE_toName(_,$),fields:ee.value.mapValue.fields}}function toMutation(_,$){let ee;if($ instanceof __PRIVATE_SetMutation)ee={update:__PRIVATE_toMutationDocument(_,$.key,$.value)};else if($ instanceof __PRIVATE_DeleteMutation)ee={delete:__PRIVATE_toName(_,$.key)};else if($ instanceof __PRIVATE_PatchMutation)ee={update:__PRIVATE_toMutationDocument(_,$.key,$.data),updateMask:__PRIVATE_toDocumentMask($.fieldMask)};else{if(!($ instanceof __PRIVATE_VerifyMutation))return fail(16599,{ft:$.type});ee={verify:__PRIVATE_toName(_,$.key)}}return $.fieldTransforms.length>0&&(ee.updateTransforms=$.fieldTransforms.map((_=>function __PRIVATE_toFieldTransform(_,$){const ee=$.transform;if(ee instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:$.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ee instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:$.field.canonicalString(),appendMissingElements:{values:ee.elements}};if(ee instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:$.field.canonicalString(),removeAllFromArray:{values:ee.elements}};if(ee instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:$.field.canonicalString(),increment:ee.Re};throw fail(20930,{transform:$.transform})}(0,_)))),$.precondition.isNone||(ee.currentDocument=function __PRIVATE_toPrecondition(_,$){return void 0!==$.updateTime?{updateTime:__PRIVATE_toVersion(_,$.updateTime)}:void 0!==$.exists?{exists:$.exists}:fail(27497)}(_,$.precondition)),ee}function __PRIVATE_toDocumentsTarget(_,$){return{documents:[__PRIVATE_toQueryPath(_,$.path)]}}function __PRIVATE_toQueryTarget(_,$){const ee={structuredQuery:{}},te=$.path;let ne;null!==$.collectionGroup?(ne=te,ee.structuredQuery.from=[{collectionId:$.collectionGroup,allDescendants:!0}]):(ne=te.popLast(),ee.structuredQuery.from=[{collectionId:te.lastSegment()}]),ee.parent=__PRIVATE_toQueryPath(_,ne);const re=function __PRIVATE_toFilters(_){if(0!==_.length)return __PRIVATE_toFilter(CompositeFilter.create(_,"and"))}($.filters);re&&(ee.structuredQuery.where=re);const ie=function __PRIVATE_toOrder(_){if(0!==_.length)return _.map((_=>function __PRIVATE_toPropertyOrder(_){return{field:__PRIVATE_toFieldPathReference(_.field),direction:__PRIVATE_toDirection(_.dir)}}(_)))}($.orderBy);ie&&(ee.structuredQuery.orderBy=ie);const ae=__PRIVATE_toInt32Proto(_,$.limit);return null!==ae&&(ee.structuredQuery.limit=ae),$.startAt&&(ee.structuredQuery.startAt=function __PRIVATE_toStartAtCursor(_){return{before:_.inclusive,values:_.position}}($.startAt)),$.endAt&&(ee.structuredQuery.endAt=function __PRIVATE_toEndAtCursor(_){return{before:!_.inclusive,values:_.position}}($.endAt)),{gt:ee,parent:ne}}function __PRIVATE_convertQueryTargetToQuery(_){let $=__PRIVATE_fromQueryPath(_.parent);const ee=_.structuredQuery,te=ee.from?ee.from.length:0;let ne=null;if(te>0){__PRIVATE_hardAssert(1===te,65062);const _=ee.from[0];_.allDescendants?ne=_.collectionId:$=$.child(_.collectionId)}let re=[];ee.where&&(re=function __PRIVATE_fromFilters(_){const $=__PRIVATE_fromFilter(_);return $ instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction($)?$.getFilters():[$]}(ee.where));let ie=[];ee.orderBy&&(ie=function __PRIVATE_fromOrder(_){return _.map((_=>function __PRIVATE_fromPropertyOrder(_){return new OrderBy(__PRIVATE_fromFieldPathReference(_.field),function __PRIVATE_fromDirection(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(_)))}(ee.orderBy));let ae=null;ee.limit&&(ae=function __PRIVATE_fromInt32Proto(_){let $;return $="object"==typeof _?_.value:_,__PRIVATE_isNullOrUndefined($)?null:$}(ee.limit));let oe=null;ee.startAt&&(oe=function __PRIVATE_fromStartAtCursor(_){const $=!!_.before,ee=_.values||[];return new Bound(ee,$)}(ee.startAt));let se=null;return ee.endAt&&(se=function __PRIVATE_fromEndAtCursor(_){const $=!_.before,ee=_.values||[];return new Bound(ee,$)}(ee.endAt)),__PRIVATE_newQuery($,ne,ie,re,ae,"F",oe,se)}function __PRIVATE_fromFilter(_){return void 0!==_.unaryFilter?function __PRIVATE_fromUnaryFilter(_){switch(_.unaryFilter.op){case"IS_NAN":const $=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create($,"==",{doubleValue:NaN});case"IS_NULL":const ee=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(ee,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const te=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(te,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const ne=__PRIVATE_fromFieldPathReference(_.unaryFilter.field);return FieldFilter.create(ne,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}}(_):void 0!==_.fieldFilter?function __PRIVATE_fromFieldFilter(_){return FieldFilter.create(__PRIVATE_fromFieldPathReference(_.fieldFilter.field),function __PRIVATE_fromOperatorName(_){switch(_){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}}(_.fieldFilter.op),_.fieldFilter.value)}(_):void 0!==_.compositeFilter?function __PRIVATE_fromCompositeFilter(_){return CompositeFilter.create(_.compositeFilter.filters.map((_=>__PRIVATE_fromFilter(_))),function __PRIVATE_fromCompositeOperatorName(_){switch(_){case"AND":return"and";case"OR":return"or";default:return fail(1026)}}(_.compositeFilter.op))}(_):fail(30097,{filter:_})}function __PRIVATE_toDirection(_){return Kt[_]}function __PRIVATE_toOperatorName(_){return Gt[_]}function __PRIVATE_toCompositeOperatorName(_){return Yt[_]}function __PRIVATE_toFieldPathReference(_){return{fieldPath:_.canonicalString()}}function __PRIVATE_fromFieldPathReference(_){return FieldPath$1.fromServerFormat(_.fieldPath)}function __PRIVATE_toFilter(_){return _ instanceof FieldFilter?function __PRIVATE_toUnaryOrFieldFilter(_){if("=="===_.op){if(__PRIVATE_isNanValue(_.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(_.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(_.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(_.field),op:"IS_NULL"}}}else if("!="===_.op){if(__PRIVATE_isNanValue(_.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(_.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(_.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(_.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(_.field),op:__PRIVATE_toOperatorName(_.op),value:_.value}}}(_):_ instanceof CompositeFilter?function __PRIVATE_toCompositeFilter(_){const $=_.getFilters().map((_=>__PRIVATE_toFilter(_)));return 1===$.length?$[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(_.op),filters:$}}}(_):fail(54877,{filter:_})}function __PRIVATE_toDocumentMask(_){const $=[];return _.fields.forEach((_=>$.push(_.canonicalString()))),{fieldPaths:$}}function __PRIVATE_isValidResourceName(_){return _.length>=4&&"projects"===_.get(0)&&"databases"===_.get(2)}class TargetData{constructor(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:SnapshotVersion.min(),re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:SnapshotVersion.min(),ie=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ByteString.EMPTY_BYTE_STRING,ae=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=_,this.targetId=$,this.purpose=ee,this.sequenceNumber=te,this.snapshotVersion=ne,this.lastLimboFreeSnapshotVersion=re,this.resumeToken=ie,this.expectedCount=ae}withSequenceNumber(_){return new TargetData(this.target,this.targetId,this.purpose,_,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(_,$){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,$,this.lastLimboFreeSnapshotVersion,_,null)}withExpectedCount(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,_)}withLastLimboFreeSnapshotVersion(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,_,this.resumeToken,this.expectedCount)}}class __PRIVATE_LocalSerializer{constructor(_){this.wt=_}}function __PRIVATE_fromBundledQuery(_){const $=__PRIVATE_convertQueryTargetToQuery({parent:_.parent,structuredQuery:_.structuredQuery});return"LAST"===_.limitType?__PRIVATE_queryWithLimit($,$.limit,"L"):$}class __PRIVATE_FirestoreIndexValueWriter{constructor(){}vt(_,$){this.Ct(_,$),$.Ft()}Ct(_,$){if("nullValue"in _)this.Mt($,5);else if("booleanValue"in _)this.Mt($,10),$.xt(_.booleanValue?1:0);else if("integerValue"in _)this.Mt($,15),$.xt(__PRIVATE_normalizeNumber(_.integerValue));else if("doubleValue"in _){const ee=__PRIVATE_normalizeNumber(_.doubleValue);isNaN(ee)?this.Mt($,13):(this.Mt($,15),__PRIVATE_isNegativeZero(ee)?$.xt(0):$.xt(ee))}else if("timestampValue"in _){let ee=_.timestampValue;this.Mt($,20),"string"==typeof ee&&(ee=__PRIVATE_normalizeTimestamp(ee)),$.Ot(`${ee.seconds||""}`),$.xt(ee.nanos||0)}else if("stringValue"in _)this.Nt(_.stringValue,$),this.Bt($);else if("bytesValue"in _)this.Mt($,30),$.Lt(__PRIVATE_normalizeByteString(_.bytesValue)),this.Bt($);else if("referenceValue"in _)this.kt(_.referenceValue,$);else if("geoPointValue"in _){const ee=_.geoPointValue;this.Mt($,45),$.xt(ee.latitude||0),$.xt(ee.longitude||0)}else"mapValue"in _?__PRIVATE_isMaxValue(_)?this.Mt($,Number.MAX_SAFE_INTEGER):__PRIVATE_isVectorValue(_)?this.qt(_.mapValue,$):(this.Qt(_.mapValue,$),this.Bt($)):"arrayValue"in _?(this.$t(_.arrayValue,$),this.Bt($)):fail(19022,{Ut:_})}Nt(_,$){this.Mt($,25),this.Kt(_,$)}Kt(_,$){$.Ot(_)}Qt(_,$){const ee=_.fields||{};this.Mt($,55);for(const te of Object.keys(ee))this.Nt(te,$),this.Ct(ee[te],$)}qt(_,$){var ee,te;const ne=_.fields||{};this.Mt($,53);const re=Ft,ie=(null===(te=null===(ee=ne[re].arrayValue)||void 0===ee?void 0:ee.values)||void 0===te?void 0:te.length)||0;this.Mt($,15),$.xt(__PRIVATE_normalizeNumber(ie)),this.Nt(re,$),this.Ct(ne[re],$)}$t(_,$){const ee=_.values||[];this.Mt($,50);for(const te of ee)this.Ct(te,$)}kt(_,$){this.Mt($,37),DocumentKey.fromName(_).path.forEach((_=>{this.Mt($,60),this.Kt(_,$)}))}Mt(_,$){_.xt($)}Bt(_){_.xt(2)}}__PRIVATE_FirestoreIndexValueWriter.Wt=new __PRIVATE_FirestoreIndexValueWriter;class __PRIVATE_MemoryIndexManager{constructor(){this.yn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(_,$){return this.yn.add($),PersistencePromise.resolve()}getCollectionParents(_,$){return PersistencePromise.resolve(this.yn.getEntries($))}addFieldIndex(_,$){return PersistencePromise.resolve()}deleteFieldIndex(_,$){return PersistencePromise.resolve()}deleteAllFieldIndexes(_){return PersistencePromise.resolve()}createTargetIndexes(_,$){return PersistencePromise.resolve()}getDocumentsMatchingTarget(_,$){return PersistencePromise.resolve(null)}getIndexType(_,$){return PersistencePromise.resolve(0)}getFieldIndexes(_,$){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(_){return PersistencePromise.resolve(null)}getMinOffset(_,$){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(_,$){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(_,$,ee){return PersistencePromise.resolve()}updateIndexEntries(_,$){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(_){const $=_.lastSegment(),ee=_.popLast(),te=this.index[$]||new SortedSet(ResourcePath.comparator),ne=!te.has(ee);return this.index[$]=te.add(ee),ne}has(_){const $=_.lastSegment(),ee=_.popLast(),te=this.index[$];return te&&te.has(ee)}getEntries(_){return(this.index[_]||new SortedSet(ResourcePath.comparator)).toArray()}}new Uint8Array(0);const Qt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xt=41943040;class LruParams{static withCacheSize(_){return new LruParams(_,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(_,$,ee){this.cacheSizeCollectionThreshold=_,this.percentileToCollect=$,this.maximumSequenceNumbersToCollect=ee}}LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(Xt,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);class __PRIVATE_TargetIdGenerator{constructor(_){this.nr=_}next(){return this.nr+=2,this.nr}static rr(){return new __PRIVATE_TargetIdGenerator(0)}static ir(){return new __PRIVATE_TargetIdGenerator(-1)}}const Jt="LruGarbageCollector",Zt=1048576;function __PRIVATE_bufferEntryComparator(_,$){let[ee,te]=_,[ne,re]=$;const ie=__PRIVATE_primitiveComparator(ee,ne);return 0===ie?__PRIVATE_primitiveComparator(te,re):ie}class __PRIVATE_RollingSequenceNumberBuffer{constructor(_){this.cr=_,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.lr=0}hr(){return++this.lr}Pr(_){const $=[_,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add($);else{const _=this.buffer.last();__PRIVATE_bufferEntryComparator($,_)<0&&(this.buffer=this.buffer.delete(_).add($))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(_,$,ee){this.garbageCollector=_,this.asyncQueue=$,this.localStore=ee,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(_){__PRIVATE_logDebug(Jt,`Garbage collection scheduled in ${_}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",_,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(_){__PRIVATE_isIndexedDbTransactionError(_)?__PRIVATE_logDebug(Jt,"Ignoring IndexedDB error during garbage collection: ",_):await __PRIVATE_ignoreIfPrimaryLeaseLoss(_)}await this.Ir(3e5)}))}}class __PRIVATE_LruGarbageCollectorImpl{constructor(_,$){this.Er=_,this.params=$}calculateTargetCount(_,$){return this.Er.dr(_).next((_=>Math.floor($/100*_)))}nthSequenceNumber(_,$){if(0===$)return PersistencePromise.resolve(__PRIVATE_ListenSequence.le);const ee=new __PRIVATE_RollingSequenceNumberBuffer($);return this.Er.forEachTarget(_,(_=>ee.Pr(_.sequenceNumber))).next((()=>this.Er.Ar(_,(_=>ee.Pr(_))))).next((()=>ee.maxValue))}removeTargets(_,$,ee){return this.Er.removeTargets(_,$,ee)}removeOrphanedDocuments(_,$){return this.Er.removeOrphanedDocuments(_,$)}collect(_,$){return-1===this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Qt)):this.getCacheSize(_).next((ee=>ee<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${ee} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qt):this.Rr(_,$)))}getCacheSize(_){return this.Er.getCacheSize(_)}Rr(_,$){let ee,te,ne,re,ie,oe,se;const le=Date.now();return this.calculateTargetCount(_,this.params.percentileToCollect).next(($=>($>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${$}`),te=this.params.maximumSequenceNumbersToCollect):te=$,re=Date.now(),this.nthSequenceNumber(_,te)))).next((te=>(ee=te,ie=Date.now(),this.removeTargets(_,ee,$)))).next(($=>(ne=$,oe=Date.now(),this.removeOrphanedDocuments(_,ee)))).next((_=>(se=Date.now(),__PRIVATE_getLogLevel()<=ae.$b.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${re-le}ms\n\tDetermined least recently used ${te} in `+(ie-re)+"ms\n"+`\tRemoved ${ne} targets in `+(oe-ie)+"ms\n"+`\tRemoved ${_} documents in `+(se-oe)+"ms\n"+`Total Duration: ${se-le}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:te,targetsRemoved:ne,documentsRemoved:_}))))}}function __PRIVATE_newLruGarbageCollector(_,$){return new __PRIVATE_LruGarbageCollectorImpl(_,$)}class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((_=>_.toString()),((_,$)=>_.isEqual($))),this.changesApplied=!1}addEntry(_){this.assertNotApplied(),this.changes.set(_.key,_)}removeEntry(_,$){this.assertNotApplied(),this.changes.set(_,MutableDocument.newInvalidDocument(_).setReadTime($))}getEntry(_,$){this.assertNotApplied();const ee=this.changes.get($);return void 0!==ee?PersistencePromise.resolve(ee):this.getFromCache(_,$)}getEntries(_,$){return this.getAllFromCache(_,$)}apply(_){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(_)}assertNotApplied(){}}class OverlayedDocument{constructor(_,$){this.overlayedDocument=_,this.mutatedFields=$}}class LocalDocumentsView{constructor(_,$,ee,te){this.remoteDocumentCache=_,this.mutationQueue=$,this.documentOverlayCache=ee,this.indexManager=te}getDocument(_,$){let ee=null;return this.documentOverlayCache.getOverlay(_,$).next((te=>(ee=te,this.remoteDocumentCache.getEntry(_,$)))).next((_=>(null!==ee&&__PRIVATE_mutationApplyToLocalView(ee.mutation,_,FieldMask.empty(),Timestamp.now()),_)))}getDocuments(_,$){return this.remoteDocumentCache.getEntries(_,$).next(($=>this.getLocalViewOfDocuments(_,$,__PRIVATE_documentKeySet()).next((()=>$))))}getLocalViewOfDocuments(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:__PRIVATE_documentKeySet();const te=__PRIVATE_newOverlayMap();return this.populateOverlays(_,te,$).next((()=>this.computeViews(_,$,te,ee).next((_=>{let $=documentMap();return _.forEach(((_,ee)=>{$=$.insert(_,ee.overlayedDocument)})),$}))))}getOverlayedDocuments(_,$){const ee=__PRIVATE_newOverlayMap();return this.populateOverlays(_,ee,$).next((()=>this.computeViews(_,$,ee,__PRIVATE_documentKeySet())))}populateOverlays(_,$,ee){const te=[];return ee.forEach((_=>{$.has(_)||te.push(_)})),this.documentOverlayCache.getOverlays(_,te).next((_=>{_.forEach(((_,ee)=>{$.set(_,ee)}))}))}computeViews(_,$,ee,te){let ne=__PRIVATE_mutableDocumentMap();const re=__PRIVATE_newDocumentKeyMap(),ie=function __PRIVATE_newOverlayedDocumentMap(){return __PRIVATE_newDocumentKeyMap()}();return $.forEach(((_,$)=>{const ie=ee.get($.key);te.has($.key)&&(void 0===ie||ie.mutation instanceof __PRIVATE_PatchMutation)?ne=ne.insert($.key,$):void 0!==ie?(re.set($.key,ie.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(ie.mutation,$,ie.mutation.getFieldMask(),Timestamp.now())):re.set($.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(_,ne).next((_=>(_.forEach(((_,$)=>re.set(_,$))),$.forEach(((_,$)=>{var ee;return ie.set(_,new OverlayedDocument($,null!==(ee=re.get(_))&&void 0!==ee?ee:null))})),ie)))}recalculateAndSaveOverlays(_,$){const ee=__PRIVATE_newDocumentKeyMap();let te=new SortedMap(((_,$)=>_-$)),ne=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(_,$).next((_=>{for(const ne of _)ne.keys().forEach((_=>{const re=$.get(_);if(null===re)return;let ie=ee.get(_)||FieldMask.empty();ie=ne.applyToLocalView(re,ie),ee.set(_,ie);const ae=(te.get(ne.batchId)||__PRIVATE_documentKeySet()).add(_);te=te.insert(ne.batchId,ae)}))})).next((()=>{const re=[],ie=te.getReverseIterator();for(;ie.hasNext();){const te=ie.getNext(),ae=te.key,oe=te.value,se=__PRIVATE_newMutationMap();oe.forEach((_=>{if(!ne.has(_)){const te=__PRIVATE_calculateOverlayMutation($.get(_),ee.get(_));null!==te&&se.set(_,te),ne=ne.add(_)}})),re.push(this.documentOverlayCache.saveOverlays(_,ae,se))}return PersistencePromise.waitFor(re)})).next((()=>ee))}recalculateAndSaveOverlaysForDocumentKeys(_,$){return this.remoteDocumentCache.getEntries(_,$).next(($=>this.recalculateAndSaveOverlays(_,$)))}getDocumentsMatchingQuery(_,$,ee,te){return function __PRIVATE_isDocumentQuery$1(_){return DocumentKey.isDocumentKey(_.path)&&null===_.collectionGroup&&0===_.filters.length}($)?this.getDocumentsMatchingDocumentQuery(_,$.path):__PRIVATE_isCollectionGroupQuery($)?this.getDocumentsMatchingCollectionGroupQuery(_,$,ee,te):this.getDocumentsMatchingCollectionQuery(_,$,ee,te)}getNextDocuments(_,$,ee,te){return this.remoteDocumentCache.getAllFromCollectionGroup(_,$,ee,te).next((ne=>{const re=te-ne.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(_,$,ee.largestBatchId,te-ne.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let ie=et,ae=ne;return re.next(($=>PersistencePromise.forEach($,(($,ee)=>(ie<ee.largestBatchId&&(ie=ee.largestBatchId),ne.get($)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(_,$).next((_=>{ae=ae.insert($,_)}))))).next((()=>this.populateOverlays(_,$,ne))).next((()=>this.computeViews(_,ae,$,__PRIVATE_documentKeySet()))).next((_=>({batchId:ie,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(_)})))))}))}getDocumentsMatchingDocumentQuery(_,$){return this.getDocument(_,new DocumentKey($)).next((_=>{let $=documentMap();return _.isFoundDocument()&&($=$.insert(_.key,_)),$}))}getDocumentsMatchingCollectionGroupQuery(_,$,ee,te){const ne=$.collectionGroup;let re=documentMap();return this.indexManager.getCollectionParents(_,ne).next((ie=>PersistencePromise.forEach(ie,(ie=>{const ae=function __PRIVATE_asCollectionQueryAtPath(_,$){return new __PRIVATE_QueryImpl($,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}($,ie.child(ne));return this.getDocumentsMatchingCollectionQuery(_,ae,ee,te).next((_=>{_.forEach(((_,$)=>{re=re.insert(_,$)}))}))})).next((()=>re))))}getDocumentsMatchingCollectionQuery(_,$,ee,te){let ne;return this.documentOverlayCache.getOverlaysForCollection(_,$.path,ee.largestBatchId).next((re=>(ne=re,this.remoteDocumentCache.getDocumentsMatchingQuery(_,$,ee,ne,te)))).next((_=>{ne.forEach((($,ee)=>{const te=ee.getKey();null===_.get(te)&&(_=_.insert(te,MutableDocument.newInvalidDocument(te)))}));let ee=documentMap();return _.forEach(((_,te)=>{const re=ne.get(_);void 0!==re&&__PRIVATE_mutationApplyToLocalView(re.mutation,te,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches($,te)&&(ee=ee.insert(_,te))})),ee}))}}class __PRIVATE_MemoryBundleCache{constructor(_){this.serializer=_,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(_,$){return PersistencePromise.resolve(this.Fr.get($))}saveBundleMetadata(_,$){return this.Fr.set($.id,function __PRIVATE_fromBundleMetadata(_){return{id:_.id,version:_.version,createTime:__PRIVATE_fromVersion(_.createTime)}}($)),PersistencePromise.resolve()}getNamedQuery(_,$){return PersistencePromise.resolve(this.Mr.get($))}saveNamedQuery(_,$){return this.Mr.set($.name,function __PRIVATE_fromProtoNamedQuery(_){return{name:_.name,query:__PRIVATE_fromBundledQuery(_.bundledQuery),readTime:__PRIVATE_fromVersion(_.readTime)}}($)),PersistencePromise.resolve()}}class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Or=new Map}getOverlay(_,$){return PersistencePromise.resolve(this.overlays.get($))}getOverlays(_,$){const ee=__PRIVATE_newOverlayMap();return PersistencePromise.forEach($,($=>this.getOverlay(_,$).next((_=>{null!==_&&ee.set($,_)})))).next((()=>ee))}saveOverlays(_,$,ee){return ee.forEach(((ee,te)=>{this.St(_,$,te)})),PersistencePromise.resolve()}removeOverlaysForBatchId(_,$,ee){const te=this.Or.get(ee);return void 0!==te&&(te.forEach((_=>this.overlays=this.overlays.remove(_))),this.Or.delete(ee)),PersistencePromise.resolve()}getOverlaysForCollection(_,$,ee){const te=__PRIVATE_newOverlayMap(),ne=$.length+1,re=new DocumentKey($.child("")),ie=this.overlays.getIteratorFrom(re);for(;ie.hasNext();){const _=ie.getNext().value,re=_.getKey();if(!$.isPrefixOf(re.path))break;re.path.length===ne&&_.largestBatchId>ee&&te.set(_.getKey(),_)}return PersistencePromise.resolve(te)}getOverlaysForCollectionGroup(_,$,ee,te){let ne=new SortedMap(((_,$)=>_-$));const re=this.overlays.getIterator();for(;re.hasNext();){const _=re.getNext().value;if(_.getKey().getCollectionGroup()===$&&_.largestBatchId>ee){let $=ne.get(_.largestBatchId);null===$&&($=__PRIVATE_newOverlayMap(),ne=ne.insert(_.largestBatchId,$)),$.set(_.getKey(),_)}}const ie=__PRIVATE_newOverlayMap(),ae=ne.getIterator();for(;ae.hasNext()&&(ae.getNext().value.forEach(((_,$)=>ie.set(_,$))),!(ie.size()>=te)););return PersistencePromise.resolve(ie)}St(_,$,ee){const te=this.overlays.get(ee.key);if(null!==te){const _=this.Or.get(te.largestBatchId).delete(ee.key);this.Or.set(te.largestBatchId,_)}this.overlays=this.overlays.insert(ee.key,new Overlay($,ee));let ne=this.Or.get($);void 0===ne&&(ne=__PRIVATE_documentKeySet(),this.Or.set($,ne)),this.Or.set($,ne.add(ee.key))}}class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(_){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(_,$){return this.sessionToken=$,PersistencePromise.resolve()}}class __PRIVATE_ReferenceSet{constructor(){this.Nr=new SortedSet(__PRIVATE_DocReference.Br),this.Lr=new SortedSet(__PRIVATE_DocReference.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(_,$){const ee=new __PRIVATE_DocReference(_,$);this.Nr=this.Nr.add(ee),this.Lr=this.Lr.add(ee)}qr(_,$){_.forEach((_=>this.addReference(_,$)))}removeReference(_,$){this.Qr(new __PRIVATE_DocReference(_,$))}$r(_,$){_.forEach((_=>this.removeReference(_,$)))}Ur(_){const $=new DocumentKey(new ResourcePath([])),ee=new __PRIVATE_DocReference($,_),te=new __PRIVATE_DocReference($,_+1),ne=[];return this.Lr.forEachInRange([ee,te],(_=>{this.Qr(_),ne.push(_.key)})),ne}Kr(){this.Nr.forEach((_=>this.Qr(_)))}Qr(_){this.Nr=this.Nr.delete(_),this.Lr=this.Lr.delete(_)}Wr(_){const $=new DocumentKey(new ResourcePath([])),ee=new __PRIVATE_DocReference($,_),te=new __PRIVATE_DocReference($,_+1);let ne=__PRIVATE_documentKeySet();return this.Lr.forEachInRange([ee,te],(_=>{ne=ne.add(_.key)})),ne}containsKey(_){const $=new __PRIVATE_DocReference(_,0),ee=this.Nr.firstAfterOrEqual($);return null!==ee&&_.isEqual(ee.key)}}class __PRIVATE_DocReference{constructor(_,$){this.key=_,this.Gr=$}static Br(_,$){return DocumentKey.comparator(_.key,$.key)||__PRIVATE_primitiveComparator(_.Gr,$.Gr)}static kr(_,$){return __PRIVATE_primitiveComparator(_.Gr,$.Gr)||DocumentKey.comparator(_.key,$.key)}}class __PRIVATE_MemoryMutationQueue{constructor(_,$){this.indexManager=_,this.referenceDelegate=$,this.mutationQueue=[],this.Jn=1,this.zr=new SortedSet(__PRIVATE_DocReference.Br)}checkEmpty(_){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch(_,$,ee,te){const ne=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const re=new MutationBatch(ne,$,ee,te);this.mutationQueue.push(re);for(const ie of te)this.zr=this.zr.add(new __PRIVATE_DocReference(ie.key,ne)),this.indexManager.addToCollectionParentIndex(_,ie.key.path.popLast());return PersistencePromise.resolve(re)}lookupMutationBatch(_,$){return PersistencePromise.resolve(this.jr($))}getNextMutationBatchAfterBatchId(_,$){const ee=$+1,te=this.Hr(ee),ne=te<0?0:te;return PersistencePromise.resolve(this.mutationQueue.length>ne?this.mutationQueue[ne]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?nt:this.Jn-1)}getAllMutationBatches(_){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(_,$){const ee=new __PRIVATE_DocReference($,0),te=new __PRIVATE_DocReference($,Number.POSITIVE_INFINITY),ne=[];return this.zr.forEachInRange([ee,te],(_=>{const $=this.jr(_.Gr);ne.push($)})),PersistencePromise.resolve(ne)}getAllMutationBatchesAffectingDocumentKeys(_,$){let ee=new SortedSet(__PRIVATE_primitiveComparator);return $.forEach((_=>{const $=new __PRIVATE_DocReference(_,0),te=new __PRIVATE_DocReference(_,Number.POSITIVE_INFINITY);this.zr.forEachInRange([$,te],(_=>{ee=ee.add(_.Gr)}))})),PersistencePromise.resolve(this.Jr(ee))}getAllMutationBatchesAffectingQuery(_,$){const ee=$.path,te=ee.length+1;let ne=ee;DocumentKey.isDocumentKey(ne)||(ne=ne.child(""));const re=new __PRIVATE_DocReference(new DocumentKey(ne),0);let ie=new SortedSet(__PRIVATE_primitiveComparator);return this.zr.forEachWhile((_=>{const $=_.key.path;return!!ee.isPrefixOf($)&&($.length===te&&(ie=ie.add(_.Gr)),!0)}),re),PersistencePromise.resolve(this.Jr(ie))}Jr(_){const $=[];return _.forEach((_=>{const ee=this.jr(_);null!==ee&&$.push(ee)})),$}removeMutationBatch(_,$){__PRIVATE_hardAssert(0===this.Yr($.batchId,"removed"),55003),this.mutationQueue.shift();let ee=this.zr;return PersistencePromise.forEach($.mutations,(te=>{const ne=new __PRIVATE_DocReference(te.key,$.batchId);return ee=ee.delete(ne),this.referenceDelegate.markPotentiallyOrphaned(_,te.key)})).next((()=>{this.zr=ee}))}Xn(_){}containsKey(_,$){const ee=new __PRIVATE_DocReference($,0),te=this.zr.firstAfterOrEqual(ee);return PersistencePromise.resolve($.isEqual(te&&te.key))}performConsistencyCheck(_){return this.mutationQueue.length,PersistencePromise.resolve()}Yr(_,$){return this.Hr(_)}Hr(_){return 0===this.mutationQueue.length?0:_-this.mutationQueue[0].batchId}jr(_){const $=this.Hr(_);return $<0||$>=this.mutationQueue.length?null:this.mutationQueue[$]}}class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(_){this.Zr=_,this.docs=function __PRIVATE_documentEntryMap(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(_){this.indexManager=_}addEntry(_,$){const ee=$.key,te=this.docs.get(ee),ne=te?te.size:0,re=this.Zr($);return this.docs=this.docs.insert(ee,{document:$.mutableCopy(),size:re}),this.size+=re-ne,this.indexManager.addToCollectionParentIndex(_,ee.path.popLast())}removeEntry(_){const $=this.docs.get(_);$&&(this.docs=this.docs.remove(_),this.size-=$.size)}getEntry(_,$){const ee=this.docs.get($);return PersistencePromise.resolve(ee?ee.document.mutableCopy():MutableDocument.newInvalidDocument($))}getEntries(_,$){let ee=__PRIVATE_mutableDocumentMap();return $.forEach((_=>{const $=this.docs.get(_);ee=ee.insert(_,$?$.document.mutableCopy():MutableDocument.newInvalidDocument(_))})),PersistencePromise.resolve(ee)}getDocumentsMatchingQuery(_,$,ee,te){let ne=__PRIVATE_mutableDocumentMap();const re=$.path,ie=new DocumentKey(re.child("__id-9223372036854775808__")),ae=this.docs.getIteratorFrom(ie);for(;ae.hasNext();){const{key:_,value:{document:ie}}=ae.getNext();if(!re.isPrefixOf(_.path))break;_.path.length>re.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(ie),ee)<=0||(te.has(ie.key)||__PRIVATE_queryMatches($,ie))&&(ne=ne.insert(ie.key,ie.mutableCopy()))}return PersistencePromise.resolve(ne)}getAllFromCollectionGroup(_,$,ee,te){fail(9500)}Xr(_,$){return PersistencePromise.forEach(this.docs,(_=>$(_)))}newChangeBuffer(_){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(_){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(_){super(),this.vr=_}applyChanges(_){const $=[];return this.changes.forEach(((ee,te)=>{te.isValidDocument()?$.push(this.vr.addEntry(_,te)):this.vr.removeEntry(ee)})),PersistencePromise.waitFor($)}getFromCache(_,$){return this.vr.getEntry(_,$)}getAllFromCache(_,$){return this.vr.getEntries(_,$)}}class __PRIVATE_MemoryTargetCache{constructor(_){this.persistence=_,this.ei=new ObjectMap((_=>__PRIVATE_canonifyTarget(_)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.ti=0,this.ni=new __PRIVATE_ReferenceSet,this.targetCount=0,this.ri=__PRIVATE_TargetIdGenerator.rr()}forEachTarget(_,$){return this.ei.forEach(((_,ee)=>$(ee))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(_){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(_){return PersistencePromise.resolve(this.ti)}allocateTargetId(_){return this.highestTargetId=this.ri.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(_,$,ee){return ee&&(this.lastRemoteSnapshotVersion=ee),$>this.ti&&(this.ti=$),PersistencePromise.resolve()}ar(_){this.ei.set(_.target,_);const $=_.targetId;$>this.highestTargetId&&(this.ri=new __PRIVATE_TargetIdGenerator($),this.highestTargetId=$),_.sequenceNumber>this.ti&&(this.ti=_.sequenceNumber)}addTargetData(_,$){return this.ar($),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(_,$){return this.ar($),PersistencePromise.resolve()}removeTargetData(_,$){return this.ei.delete($.target),this.ni.Ur($.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(_,$,ee){let te=0;const ne=[];return this.ei.forEach(((re,ie)=>{ie.sequenceNumber<=$&&null===ee.get(ie.targetId)&&(this.ei.delete(re),ne.push(this.removeMatchingKeysForTargetId(_,ie.targetId)),te++)})),PersistencePromise.waitFor(ne).next((()=>te))}getTargetCount(_){return PersistencePromise.resolve(this.targetCount)}getTargetData(_,$){const ee=this.ei.get($)||null;return PersistencePromise.resolve(ee)}addMatchingKeys(_,$,ee){return this.ni.qr($,ee),PersistencePromise.resolve()}removeMatchingKeys(_,$,ee){this.ni.$r($,ee);const te=this.persistence.referenceDelegate,ne=[];return te&&$.forEach(($=>{ne.push(te.markPotentiallyOrphaned(_,$))})),PersistencePromise.waitFor(ne)}removeMatchingKeysForTargetId(_,$){return this.ni.Ur($),PersistencePromise.resolve()}getMatchingKeysForTargetId(_,$){const ee=this.ni.Wr($);return PersistencePromise.resolve(ee)}containsKey(_,$){return PersistencePromise.resolve(this.ni.containsKey($))}}class __PRIVATE_MemoryPersistence{constructor(_,$){this.ii={},this.overlays={},this.si=new __PRIVATE_ListenSequence(0),this.oi=!1,this.oi=!0,this._i=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=_(this),this.ai=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function __PRIVATE_newMemoryRemoteDocumentCache(_){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(_)}((_=>this.referenceDelegate.ui(_))),this.serializer=new __PRIVATE_LocalSerializer($),this.ci=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(_){return this.indexManager}getDocumentOverlayCache(_){let $=this.overlays[_.toKey()];return $||($=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[_.toKey()]=$),$}getMutationQueue(_,$){let ee=this.ii[_.toKey()];return ee||(ee=new __PRIVATE_MemoryMutationQueue($,this.referenceDelegate),this.ii[_.toKey()]=ee),ee}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(_,$,ee){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",_);const te=new __PRIVATE_MemoryTransaction(this.si.next());return this.referenceDelegate.li(),ee(te).next((_=>this.referenceDelegate.hi(te).next((()=>_)))).toPromise().then((_=>(te.raiseOnCommittedEvent(),_)))}Pi(_,$){return PersistencePromise.or(Object.values(this.ii).map((ee=>()=>ee.containsKey(_,$))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(_){super(),this.currentSequenceNumber=_}}class __PRIVATE_MemoryEagerDelegate{constructor(_){this.persistence=_,this.Ti=new __PRIVATE_ReferenceSet,this.Ii=null}static Ei(_){return new __PRIVATE_MemoryEagerDelegate(_)}get di(){if(this.Ii)return this.Ii;throw fail(60996)}addReference(_,$,ee){return this.Ti.addReference(ee,$),this.di.delete(ee.toString()),PersistencePromise.resolve()}removeReference(_,$,ee){return this.Ti.removeReference(ee,$),this.di.add(ee.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(_,$){return this.di.add($.toString()),PersistencePromise.resolve()}removeTarget(_,$){this.Ti.Ur($.targetId).forEach((_=>this.di.add(_.toString())));const ee=this.persistence.getTargetCache();return ee.getMatchingKeysForTargetId(_,$.targetId).next((_=>{_.forEach((_=>this.di.add(_.toString())))})).next((()=>ee.removeTargetData(_,$)))}li(){this.Ii=new Set}hi(_){const $=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.di,(ee=>{const te=DocumentKey.fromPath(ee);return this.Ai(_,te).next((_=>{_||$.removeEntry(te,SnapshotVersion.min())}))})).next((()=>(this.Ii=null,$.apply(_))))}updateLimboDocument(_,$){return this.Ai(_,$).next((_=>{_?this.di.delete($.toString()):this.di.add($.toString())}))}ui(_){return 0}Ai(_,$){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Ti.containsKey($)),()=>this.persistence.getTargetCache().containsKey(_,$),()=>this.persistence.Pi(_,$)])}}class __PRIVATE_MemoryLruDelegate{constructor(_,$){this.persistence=_,this.Ri=new ObjectMap((_=>__PRIVATE_encodeResourcePath(_.path)),((_,$)=>_.isEqual($))),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,$)}static Ei(_,$){return new __PRIVATE_MemoryLruDelegate(_,$)}li(){}hi(_){return PersistencePromise.resolve()}forEachTarget(_,$){return this.persistence.getTargetCache().forEachTarget(_,$)}dr(_){const $=this.Vr(_);return this.persistence.getTargetCache().getTargetCount(_).next((_=>$.next(($=>_+$))))}Vr(_){let $=0;return this.Ar(_,(_=>{$++})).next((()=>$))}Ar(_,$){return PersistencePromise.forEach(this.Ri,((ee,te)=>this.gr(_,ee,te).next((_=>_?PersistencePromise.resolve():$(te)))))}removeTargets(_,$,ee){return this.persistence.getTargetCache().removeTargets(_,$,ee)}removeOrphanedDocuments(_,$){let ee=0;const te=this.persistence.getRemoteDocumentCache(),ne=te.newChangeBuffer();return te.Xr(_,(te=>this.gr(_,te,$).next((_=>{_||(ee++,ne.removeEntry(te,SnapshotVersion.min()))})))).next((()=>ne.apply(_))).next((()=>ee))}markPotentiallyOrphaned(_,$){return this.Ri.set($,_.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(_,$){const ee=$.withSequenceNumber(_.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(_,ee)}addReference(_,$,ee){return this.Ri.set(ee,_.currentSequenceNumber),PersistencePromise.resolve()}removeReference(_,$,ee){return this.Ri.set(ee,_.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(_,$){return this.Ri.set($,_.currentSequenceNumber),PersistencePromise.resolve()}ui(_){let $=_.key.toString().length;return _.isFoundDocument()&&($+=__PRIVATE_estimateByteSize(_.data.value)),$}gr(_,$,ee){return PersistencePromise.or([()=>this.persistence.Pi(_,$),()=>this.persistence.getTargetCache().containsKey(_,$),()=>{const _=this.Ri.get($);return PersistencePromise.resolve(void 0!==_&&_>ee)}])}getCacheSize(_){return this.persistence.getRemoteDocumentCache().getSize(_)}}class __PRIVATE_LocalViewChanges{constructor(_,$,ee,te){this.targetId=_,this.fromCache=$,this.ls=ee,this.hs=te}static Ps(_,$){let ee=__PRIVATE_documentKeySet(),te=__PRIVATE_documentKeySet();for(const ne of $.docChanges)switch(ne.type){case 0:ee=ee.add(ne.doc.key);break;case 1:te=te.add(ne.doc.key)}return new __PRIVATE_LocalViewChanges(_,$.fromCache,ee,te)}}class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(_){this._documentReadCount+=_}}class __PRIVATE_QueryEngine{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function __PRIVATE_getDefaultRelativeIndexReadCostPerDocument(){return(0,oe.nr)()?8:__PRIVATE_getAndroidVersion((0,oe.ZQ)())>0?6:4}()}initialize(_,$){this.As=_,this.indexManager=$,this.Ts=!0}getDocumentsMatchingQuery(_,$,ee,te){const ne={result:null};return this.Rs(_,$).next((_=>{ne.result=_})).next((()=>{if(!ne.result)return this.Vs(_,$,te,ee).next((_=>{ne.result=_}))})).next((()=>{if(ne.result)return;const ee=new QueryContext;return this.fs(_,$,ee).next((te=>{if(ne.result=te,this.Is)return this.gs(_,$,ee,te.size)}))})).next((()=>ne.result))}gs(_,$,ee,te){return ee.documentReadCount<this.Es?(__PRIVATE_getLogLevel()<=ae.$b.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery($),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=ae.$b.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery($),"scans",ee.documentReadCount,"local documents and returns",te,"documents as results."),ee.documentReadCount>this.ds*te?(__PRIVATE_getLogLevel()<=ae.$b.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery($),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(_,__PRIVATE_queryToTarget($))):PersistencePromise.resolve())}Rs(_,$){if(__PRIVATE_queryMatchesAllDocuments($))return PersistencePromise.resolve(null);let ee=__PRIVATE_queryToTarget($);return this.indexManager.getIndexType(_,ee).next((te=>0===te?null:(null!==$.limit&&1===te&&($=__PRIVATE_queryWithLimit($,null,"F"),ee=__PRIVATE_queryToTarget($)),this.indexManager.getDocumentsMatchingTarget(_,ee).next((te=>{const ne=__PRIVATE_documentKeySet(...te);return this.As.getDocuments(_,ne).next((te=>this.indexManager.getMinOffset(_,ee).next((ee=>{const re=this.ps($,te);return this.ys($,re,ne,ee.readTime)?this.Rs(_,__PRIVATE_queryWithLimit($,null,"F")):this.ws(_,re,$,ee)}))))})))))}Vs(_,$,ee,te){return __PRIVATE_queryMatchesAllDocuments($)||te.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.As.getDocuments(_,ee).next((ne=>{const re=this.ps($,ne);return this.ys($,re,ee,te)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=ae.$b.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",te.toString(),__PRIVATE_stringifyQuery($)),this.ws(_,re,$,__PRIVATE_newIndexOffsetSuccessorFromReadTime(te,et)).next((_=>_)))}))}ps(_,$){let ee=new SortedSet(__PRIVATE_newQueryComparator(_));return $.forEach((($,te)=>{__PRIVATE_queryMatches(_,te)&&(ee=ee.add(te))})),ee}ys(_,$,ee,te){if(null===_.limit)return!1;if(ee.size!==$.size)return!0;const ne="F"===_.limitType?$.last():$.first();return!!ne&&(ne.hasPendingWrites||ne.version.compareTo(te)>0)}fs(_,$,ee){return __PRIVATE_getLogLevel()<=ae.$b.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery($)),this.As.getDocumentsMatchingQuery(_,$,IndexOffset.min(),ee)}ws(_,$,ee,te){return this.As.getDocumentsMatchingQuery(_,ee,te).next((_=>($.forEach(($=>{_=_.insert($.key,$)})),_)))}}const en="LocalStore",tn=3e8;class __PRIVATE_LocalStoreImpl{constructor(_,$,ee,te){this.persistence=_,this.bs=$,this.serializer=te,this.Ss=new SortedMap(__PRIVATE_primitiveComparator),this.Ds=new ObjectMap((_=>__PRIVATE_canonifyTarget(_)),__PRIVATE_targetEquals),this.vs=new Map,this.Cs=_.getRemoteDocumentCache(),this.ai=_.getTargetCache(),this.ci=_.getBundleCache(),this.Fs(ee)}Fs(_){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(_),this.indexManager=this.persistence.getIndexManager(_),this.mutationQueue=this.persistence.getMutationQueue(_,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(_){return this.persistence.runTransaction("Collect garbage","readwrite-primary",($=>_.collect($,this.Ss)))}}function __PRIVATE_newLocalStore(_,$,ee,te){return new __PRIVATE_LocalStoreImpl(_,$,ee,te)}async function __PRIVATE_localStoreHandleUserChange(_,$){const ee=__PRIVATE_debugCast(_);return await ee.persistence.runTransaction("Handle user change","readonly",(_=>{let te;return ee.mutationQueue.getAllMutationBatches(_).next((ne=>(te=ne,ee.Fs($),ee.mutationQueue.getAllMutationBatches(_)))).next(($=>{const ne=[],re=[];let ie=__PRIVATE_documentKeySet();for(const _ of te){ne.push(_.batchId);for(const $ of _.mutations)ie=ie.add($.key)}for(const _ of $){re.push(_.batchId);for(const $ of _.mutations)ie=ie.add($.key)}return ee.localDocuments.getDocuments(_,ie).next((_=>({Ms:_,removedBatchIds:ne,addedBatchIds:re})))}))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(_){const $=__PRIVATE_debugCast(_);return $.persistence.runTransaction("Get last remote snapshot version","readonly",(_=>$.ai.getLastRemoteSnapshotVersion(_)))}function __PRIVATE_populateDocumentChangeBuffer(_,$,ee){let te=__PRIVATE_documentKeySet(),ne=__PRIVATE_documentKeySet();return ee.forEach((_=>te=te.add(_))),$.getEntries(_,te).next((_=>{let te=__PRIVATE_mutableDocumentMap();return ee.forEach(((ee,re)=>{const ie=_.get(ee);re.isFoundDocument()!==ie.isFoundDocument()&&(ne=ne.add(ee)),re.isNoDocument()&&re.version.isEqual(SnapshotVersion.min())?($.removeEntry(ee,re.readTime),te=te.insert(ee,re)):!ie.isValidDocument()||re.version.compareTo(ie.version)>0||0===re.version.compareTo(ie.version)&&ie.hasPendingWrites?($.addEntry(re),te=te.insert(ee,re)):__PRIVATE_logDebug(en,"Ignoring outdated watch update for ",ee,". Current version:",ie.version," Watch version:",re.version)})),{xs:te,Os:ne}}))}function __PRIVATE_localStoreGetNextMutationBatch(_,$){const ee=__PRIVATE_debugCast(_);return ee.persistence.runTransaction("Get next mutation batch","readonly",(_=>(void 0===$&&($=nt),ee.mutationQueue.getNextMutationBatchAfterBatchId(_,$))))}function __PRIVATE_localStoreAllocateTarget(_,$){const ee=__PRIVATE_debugCast(_);return ee.persistence.runTransaction("Allocate target","readwrite",(_=>{let te;return ee.ai.getTargetData(_,$).next((ne=>ne?(te=ne,PersistencePromise.resolve(te)):ee.ai.allocateTargetId(_).next((ne=>(te=new TargetData($,ne,"TargetPurposeListen",_.currentSequenceNumber),ee.ai.addTargetData(_,te).next((()=>te)))))))})).then((_=>{const te=ee.Ss.get(_.targetId);return(null===te||_.snapshotVersion.compareTo(te.snapshotVersion)>0)&&(ee.Ss=ee.Ss.insert(_.targetId,_),ee.Ds.set($,_.targetId)),_}))}async function __PRIVATE_localStoreReleaseTarget(_,$,ee){const te=__PRIVATE_debugCast(_),ne=te.Ss.get($),re=ee?"readwrite":"readwrite-primary";try{ee||await te.persistence.runTransaction("Release target",re,(_=>te.persistence.referenceDelegate.removeTarget(_,ne)))}catch(_){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;__PRIVATE_logDebug(en,`Failed to update sequence numbers for target ${$}: ${_}`)}te.Ss=te.Ss.remove($),te.Ds.delete(ne.target)}function __PRIVATE_localStoreExecuteQuery(_,$,ee){const te=__PRIVATE_debugCast(_);let ne=SnapshotVersion.min(),re=__PRIVATE_documentKeySet();return te.persistence.runTransaction("Execute query","readwrite",(_=>function __PRIVATE_localStoreGetTargetData(_,$,ee){const te=__PRIVATE_debugCast(_),ne=te.Ds.get(ee);return void 0!==ne?PersistencePromise.resolve(te.Ss.get(ne)):te.ai.getTargetData($,ee)}(te,_,__PRIVATE_queryToTarget($)).next(($=>{if($)return ne=$.lastLimboFreeSnapshotVersion,te.ai.getMatchingKeysForTargetId(_,$.targetId).next((_=>{re=_}))})).next((()=>te.bs.getDocumentsMatchingQuery(_,$,ee?ne:SnapshotVersion.min(),ee?re:__PRIVATE_documentKeySet()))).next((_=>(__PRIVATE_setMaxReadTime(te,__PRIVATE_queryCollectionGroup($),_),{documents:_,Ns:re})))))}function __PRIVATE_setMaxReadTime(_,$,ee){let te=_.vs.get($)||SnapshotVersion.min();ee.forEach(((_,$)=>{$.readTime.compareTo(te)>0&&(te=$.readTime)})),_.vs.set($,te)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}$s(_){this.activeTargetIds=this.activeTargetIds.add(_)}Us(_){this.activeTargetIds=this.activeTargetIds.delete(_)}Qs(){const _={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(_)}}class __PRIVATE_MemorySharedClientState{constructor(){this.So=new __PRIVATE_LocalClientState,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(_){}updateMutationState(_,$,ee){}addLocalQueryTarget(_){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(_),this.Do[_]||"not-current"}updateQueryState(_,$,ee){this.Do[_]=$}removeLocalQueryTarget(_){this.So.Us(_)}isLocalQueryTarget(_){return this.So.activeTargetIds.has(_)}clearQueryState(_){delete this.Do[_]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(_){return this.So.activeTargetIds.has(_)}start(){return this.So=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(_,$,ee){}setOnlineState(_){}shutdown(){}writeSequenceNumber(_){}notifyBundleLoaded(_){}}class __PRIVATE_NoopConnectivityMonitor{vo(_){}shutdown(){}}const nn="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(_){this.Oo.push(_)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){__PRIVATE_logDebug(nn,"Network connectivity changed: AVAILABLE");for(const _ of this.Oo)_(0)}xo(){__PRIVATE_logDebug(nn,"Network connectivity changed: UNAVAILABLE");for(const _ of this.Oo)_(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rn=null;function __PRIVATE_generateUniqueDebugId(){return null===rn?rn=function __PRIVATE_generateInitialUniqueDebugId(){return 268435456+Math.round(2147483648*Math.random())}():rn++,"0x"+rn.toString(16)}const an="RestConnection",on={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Bo(){return!1}constructor(_){this.databaseInfo=_,this.databaseId=_.databaseId;const $=_.ssl?"https":"http",ee=encodeURIComponent(this.databaseId.projectId),te=encodeURIComponent(this.databaseId.database);this.Lo=$+"://"+_.host,this.ko=`projects/${ee}/databases/${te}`,this.qo=this.databaseId.database===Vt?`project_id=${ee}`:`project_id=${ee}&database_id=${te}`}Qo(_,$,ee,te,ne){const re=__PRIVATE_generateUniqueDebugId(),ie=this.$o(_,$.toUriEncodedString());__PRIVATE_logDebug(an,`Sending RPC '${_}' ${re}:`,ie,ee);const ae={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(ae,te,ne),this.Ko(_,ie,ae,ee).then(($=>(__PRIVATE_logDebug(an,`Received RPC '${_}' ${re}: `,$),$)),($=>{throw __PRIVATE_logWarn(an,`RPC '${_}' ${re} failed with error: `,$,"url: ",ie,"request:",ee),$}))}Wo(_,$,ee,te,ne,re){return this.Qo(_,$,ee,te,ne)}Uo(_,$,ee){_["X-Goog-Api-Client"]=function __PRIVATE_getGoogApiClientValue(){return"gl-js/ fire/"+Ne}(),_["Content-Type"]="text/plain",this.databaseInfo.appId&&(_["X-Firebase-GMPID"]=this.databaseInfo.appId),$&&$.headers.forEach((($,ee)=>_[ee]=$)),ee&&ee.headers.forEach((($,ee)=>_[ee]=$))}$o(_,$){const ee=on[_];return`${this.Lo}/v1/${$}:${ee}`}terminate(){}}class __PRIVATE_StreamBridge{constructor(_){this.Go=_.Go,this.zo=_.zo}jo(_){this.Ho=_}Jo(_){this.Yo=_}Zo(_){this.Xo=_}onMessage(_){this.e_=_}close(){this.zo()}send(_){this.Go(_)}t_(){this.Ho()}n_(){this.Yo()}r_(_){this.Xo(_)}i_(_){this.e_(_)}}const sn="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(_){super(_),this.forceLongPolling=_.forceLongPolling,this.autoDetectLongPolling=_.autoDetectLongPolling,this.useFetchStreams=_.useFetchStreams,this.longPollingOptions=_.longPollingOptions}Ko(_,$,ee,te){const ne=__PRIVATE_generateUniqueDebugId();return new Promise(((re,ie)=>{const ae=new de;ae.setWithCredentials(!0),ae.listenOnce(fe.COMPLETE,(()=>{try{switch(ae.getLastErrorCode()){case pe.NO_ERROR:const $=ae.getResponseJson();__PRIVATE_logDebug(sn,`XHR for RPC '${_}' ${ne} received:`,JSON.stringify($)),re($);break;case pe.TIMEOUT:__PRIVATE_logDebug(sn,`RPC '${_}' ${ne} timed out`),ie(new FirestoreError(je.DEADLINE_EXCEEDED,"Request time out"));break;case pe.HTTP_ERROR:const ee=ae.getStatus();if(__PRIVATE_logDebug(sn,`RPC '${_}' ${ne} failed with status:`,ee,"response text:",ae.getResponseText()),ee>0){let _=ae.getResponseJson();Array.isArray(_)&&(_=_[0]);const $=null==_?void 0:_.error;if($&&$.status&&$.message){const _=function __PRIVATE_mapCodeFromHttpResponseErrorStatus(_){const $=_.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf($)>=0?$:je.UNKNOWN}($.status);ie(new FirestoreError(_,$.message))}else ie(new FirestoreError(je.UNKNOWN,"Server responded with status "+ae.getStatus()))}else ie(new FirestoreError(je.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{s_:_,streamId:ne,o_:ae.getLastErrorCode(),__:ae.getLastError()})}}finally{__PRIVATE_logDebug(sn,`RPC '${_}' ${ne} completed.`)}}));const oe=JSON.stringify(te);__PRIVATE_logDebug(sn,`RPC '${_}' ${ne} sending request:`,te),ae.send($,"POST",oe,ee,15)}))}a_(_,$,ee){const te=__PRIVATE_generateUniqueDebugId(),ne=[this.Lo,"/","google.firestore.v1.Firestore","/",_,"/channel"],re=we(),ie=be(),ae={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},oe=this.longPollingOptions.timeoutSeconds;void 0!==oe&&(ae.longPollingTimeout=Math.round(1e3*oe)),this.useFetchStreams&&(ae.useFetchStreams=!0),this.Uo(ae.initMessageHeaders,$,ee),ae.encodeInitMessageHeaders=!0;const se=ne.join("");__PRIVATE_logDebug(sn,`Creating RPC '${_}' stream ${te}: ${se}`,ae);const le=re.createWebChannel(se,ae);let de=!1,fe=!1;const pe=new __PRIVATE_StreamBridge({Go:$=>{fe?__PRIVATE_logDebug(sn,`Not sending because RPC '${_}' stream ${te} is closed:`,$):(de||(__PRIVATE_logDebug(sn,`Opening RPC '${_}' stream ${te} transport.`),le.open(),de=!0),__PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} sending:`,$),le.send($))},zo:()=>le.close()}),__PRIVATE_unguardedEventListen=(_,$,ee)=>{_.listen($,(_=>{try{ee(_)}catch(_){setTimeout((()=>{throw _}),0)}}))};return __PRIVATE_unguardedEventListen(le,he.EventType.OPEN,(()=>{fe||(__PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} transport opened.`),pe.t_())})),__PRIVATE_unguardedEventListen(le,he.EventType.CLOSE,(()=>{fe||(fe=!0,__PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} transport closed`),pe.r_())})),__PRIVATE_unguardedEventListen(le,he.EventType.ERROR,($=>{fe||(fe=!0,__PRIVATE_logWarn(sn,`RPC '${_}' stream ${te} transport errored. Name:`,$.name,"Message:",$.message),pe.r_(new FirestoreError(je.UNAVAILABLE,"The operation could not be completed")))})),__PRIVATE_unguardedEventListen(le,he.EventType.MESSAGE,($=>{var ee;if(!fe){const ne=$.data[0];__PRIVATE_hardAssert(!!ne,16349);const re=ne,ie=(null==re?void 0:re.error)||(null===(ee=re[0])||void 0===ee?void 0:ee.error);if(ie){__PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} received error:`,ie);const $=ie.status;let ee=function __PRIVATE_mapCodeFromRpcStatus(_){const $=qt[_];if(void 0!==$)return __PRIVATE_mapCodeFromRpcCode($)}($),ne=ie.message;void 0===ee&&(ee=je.INTERNAL,ne="Unknown error status: "+$+" with message "+ie.message),fe=!0,pe.r_(new FirestoreError(ee,ne)),le.close()}else __PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} received:`,ne),pe.i_(ne)}})),__PRIVATE_unguardedEventListen(ie,_e.STAT_EVENT,($=>{$.stat===me.PROXY?__PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} detected buffering proxy`):$.stat===me.NOPROXY&&__PRIVATE_logDebug(sn,`RPC '${_}' stream ${te} detected no buffering proxy`)})),setTimeout((()=>{pe.n_()}),0),pe}}function getDocument(){return"undefined"!=typeof document?document:null}function __PRIVATE_newSerializer(_){return new JsonProtoSerializer(_,!0)}class __PRIVATE_ExponentialBackoff{constructor(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=_,this.timerId=$,this.u_=ee,this.c_=te,this.l_=ne,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(_){this.cancel();const $=Math.floor(this.h_+this.d_()),ee=Math.max(0,Date.now()-this.T_),te=Math.max(0,$-ee);te>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${te} ms (base delay: ${this.h_} ms, delay with jitter: ${$} ms, last attempt: ${ee} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,te,(()=>(this.T_=Date.now(),_()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const ln="PersistentStream";class __PRIVATE_PersistentStream{constructor(_,$,ee,te,ne,re,ie,ae){this.bi=_,this.R_=ee,this.V_=te,this.connection=ne,this.authCredentialsProvider=re,this.appCheckCredentialsProvider=ie,this.listener=ae,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new __PRIVATE_ExponentialBackoff(_,$)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(_){this.M_(),this.stream.send(_)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(_,$){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==_?this.y_.reset():$&&$.code===je.RESOURCE_EXHAUSTED?(__PRIVATE_logError($.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):$&&$.code===je.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=_,await this.listener.Zo($)}O_(){}auth(){this.state=1;const _=this.N_(this.m_),$=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((_=>{let[ee,te]=_;this.m_===$&&this.B_(ee,te)}),($=>{_((()=>{const _=new FirestoreError(je.UNKNOWN,"Fetching auth token failed: "+$.message);return this.L_(_)}))}))}B_(_,$){const ee=this.N_(this.m_);this.stream=this.k_(_,$),this.stream.jo((()=>{ee((()=>this.listener.jo()))})),this.stream.Jo((()=>{ee((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((_=>{ee((()=>this.L_(_)))})),this.stream.onMessage((_=>{ee((()=>1==++this.p_?this.q_(_):this.onNext(_)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(_){return __PRIVATE_logDebug(ln,`close with error: ${_}`),this.stream=null,this.close(4,_)}N_(_){return $=>{this.bi.enqueueAndForget((()=>this.m_===_?$():(__PRIVATE_logDebug(ln,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(_,$,ee,te,ne,re){super(_,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",$,ee,te,re),this.serializer=ne}k_(_,$){return this.connection.a_("Listen",_,$)}q_(_){return this.onNext(_)}onNext(_){this.y_.reset();const $=function __PRIVATE_fromWatchChange(_,$){let ee;if("targetChange"in $){$.targetChange;const te=function __PRIVATE_fromWatchTargetChangeState(_){return"NO_CHANGE"===_?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:fail(39313,{state:_})}($.targetChange.targetChangeType||"NO_CHANGE"),ne=$.targetChange.targetIds||[],re=function __PRIVATE_fromBytes(_,$){return _.useProto3Json?(__PRIVATE_hardAssert(void 0===$||"string"==typeof $,58123),ByteString.fromBase64String($||"")):(__PRIVATE_hardAssert(void 0===$||$ instanceof Buffer||$ instanceof Uint8Array,16193),ByteString.fromUint8Array($||new Uint8Array))}(_,$.targetChange.resumeToken),ie=$.targetChange.cause,ae=ie&&function __PRIVATE_fromRpcStatus(_){const $=void 0===_.code?je.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(_.code);return new FirestoreError($,_.message||"")}(ie);ee=new __PRIVATE_WatchTargetChange(te,ne,re,ae||null)}else if("documentChange"in $){$.documentChange;const te=$.documentChange;te.document,te.document.name,te.document.updateTime;const ne=fromName(_,te.document.name),re=__PRIVATE_fromVersion(te.document.updateTime),ie=te.document.createTime?__PRIVATE_fromVersion(te.document.createTime):SnapshotVersion.min(),ae=new ObjectValue({mapValue:{fields:te.document.fields}}),oe=MutableDocument.newFoundDocument(ne,re,ie,ae),se=te.targetIds||[],le=te.removedTargetIds||[];ee=new __PRIVATE_DocumentWatchChange(se,le,oe.key,oe)}else if("documentDelete"in $){$.documentDelete;const te=$.documentDelete;te.document;const ne=fromName(_,te.document),re=te.readTime?__PRIVATE_fromVersion(te.readTime):SnapshotVersion.min(),ie=MutableDocument.newNoDocument(ne,re),ae=te.removedTargetIds||[];ee=new __PRIVATE_DocumentWatchChange([],ae,ie.key,ie)}else if("documentRemove"in $){$.documentRemove;const te=$.documentRemove;te.document;const ne=fromName(_,te.document),re=te.removedTargetIds||[];ee=new __PRIVATE_DocumentWatchChange([],re,ne,null)}else{if(!("filter"in $))return fail(11601,{Vt:$});{$.filter;const _=$.filter;_.targetId;const{count:te=0,unchangedNames:ne}=_,re=new ExistenceFilter(te,ne),ie=_.targetId;ee=new __PRIVATE_ExistenceFilterChange(ie,re)}}return ee}(this.serializer,_),ee=function __PRIVATE_versionFromListenResponse(_){if(!("targetChange"in _))return SnapshotVersion.min();const $=_.targetChange;return $.targetIds&&$.targetIds.length?SnapshotVersion.min():$.readTime?__PRIVATE_fromVersion($.readTime):SnapshotVersion.min()}(_);return this.listener.Q_($,ee)}U_(_){const $={};$.database=__PRIVATE_getEncodedDatabaseId(this.serializer),$.addTarget=function __PRIVATE_toTarget(_,$){let ee;const te=$.target;if(ee=__PRIVATE_targetIsDocumentTarget(te)?{documents:__PRIVATE_toDocumentsTarget(_,te)}:{query:__PRIVATE_toQueryTarget(_,te).gt},ee.targetId=$.targetId,$.resumeToken.approximateByteSize()>0){ee.resumeToken=__PRIVATE_toBytes(_,$.resumeToken);const te=__PRIVATE_toInt32Proto(_,$.expectedCount);null!==te&&(ee.expectedCount=te)}else if($.snapshotVersion.compareTo(SnapshotVersion.min())>0){ee.readTime=toTimestamp(_,$.snapshotVersion.toTimestamp());const te=__PRIVATE_toInt32Proto(_,$.expectedCount);null!==te&&(ee.expectedCount=te)}return ee}(this.serializer,_);const ee=function __PRIVATE_toListenRequestLabels(_,$){const ee=function __PRIVATE_toLabel(_){switch(_){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:_})}}($.purpose);return null==ee?null:{"goog-listen-tags":ee}}(this.serializer,_);ee&&($.labels=ee),this.F_($)}K_(_){const $={};$.database=__PRIVATE_getEncodedDatabaseId(this.serializer),$.removeTarget=_,this.F_($)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(_,$,ee,te,ne,re){super(_,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",$,ee,te,re),this.serializer=ne}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(_,$){return this.connection.a_("Write",_,$)}q_(_){return __PRIVATE_hardAssert(!!_.streamToken,31322),this.lastStreamToken=_.streamToken,__PRIVATE_hardAssert(!_.writeResults||0===_.writeResults.length,55816),this.listener.z_()}onNext(_){__PRIVATE_hardAssert(!!_.streamToken,12678),this.lastStreamToken=_.streamToken,this.y_.reset();const $=function __PRIVATE_fromWriteResults(_,$){return _&&_.length>0?(__PRIVATE_hardAssert(void 0!==$,14353),_.map((_=>function __PRIVATE_fromWriteResult(_,$){let ee=_.updateTime?__PRIVATE_fromVersion(_.updateTime):__PRIVATE_fromVersion($);return ee.isEqual(SnapshotVersion.min())&&(ee=__PRIVATE_fromVersion($)),new MutationResult(ee,_.transformResults||[])}(_,$)))):[]}(_.writeResults,_.commitTime),ee=__PRIVATE_fromVersion(_.commitTime);return this.listener.j_(ee,$)}H_(){const _={};_.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.F_(_)}G_(_){const $={streamToken:this.lastStreamToken,writes:_.map((_=>toMutation(this.serializer,_)))};this.F_($)}}class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(_,$,ee,te){super(),this.authCredentials=_,this.appCheckCredentials=$,this.connection=ee,this.serializer=te,this.J_=!1}Y_(){if(this.J_)throw new FirestoreError(je.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(_,$,ee,te){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((ne=>{let[re,ie]=ne;return this.connection.Qo(_,__PRIVATE_toResourcePath($,ee),te,re,ie)})).catch((_=>{throw"FirebaseError"===_.name?(_.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new FirestoreError(je.UNKNOWN,_.toString())}))}Wo(_,$,ee,te,ne){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((re=>{let[ie,ae]=re;return this.connection.Wo(_,__PRIVATE_toResourcePath($,ee),te,ie,ae,ne)})).catch((_=>{throw"FirebaseError"===_.name?(_.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new FirestoreError(je.UNKNOWN,_.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(_,$){this.asyncQueue=_,this.onlineStateHandler=$,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(_){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${_.toString()}`),this.na("Offline")))}set(_){this.sa(),this.Z_=0,"Online"===_&&(this.ea=!1),this.na(_)}na(_){_!==this.state&&(this.state=_,this.onlineStateHandler(_))}ra(_){const $=`Could not reach Cloud Firestore backend. ${_}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(__PRIVATE_logError($),this.ea=!1):__PRIVATE_logDebug("OnlineStateTracker",$)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const cn="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(_,$,ee,te,ne){this.localStore=_,this.datastore=$,this.asyncQueue=ee,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=ne,this.ca.vo((_=>{ee.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(cn,"Restarting streams for network reachability change."),await async function __PRIVATE_restartNetwork(_){const $=__PRIVATE_debugCast(_);$.aa.add(4),await __PRIVATE_disableNetworkInternal($),$.la.set("Unknown"),$.aa.delete(4),await __PRIVATE_enableNetworkInternal($)}(this))}))})),this.la=new __PRIVATE_OnlineStateTracker(ee,te)}}async function __PRIVATE_enableNetworkInternal(_){if(__PRIVATE_canUseNetwork(_))for(const $ of _.ua)await $(!0)}async function __PRIVATE_disableNetworkInternal(_){for(const $ of _.ua)await $(!1)}function __PRIVATE_remoteStoreListen(_,$){const ee=__PRIVATE_debugCast(_);ee._a.has($.targetId)||(ee._a.set($.targetId,$),__PRIVATE_shouldStartWatchStream(ee)?__PRIVATE_startWatchStream(ee):__PRIVATE_ensureWatchStream(ee).b_()&&__PRIVATE_sendWatchRequest(ee,$))}function __PRIVATE_remoteStoreUnlisten(_,$){const ee=__PRIVATE_debugCast(_),te=__PRIVATE_ensureWatchStream(ee);ee._a.delete($),te.b_()&&__PRIVATE_sendUnwatchRequest(ee,$),0===ee._a.size&&(te.b_()?te.v_():__PRIVATE_canUseNetwork(ee)&&ee.la.set("Unknown"))}function __PRIVATE_sendWatchRequest(_,$){if(_.ha.Ke($.targetId),$.resumeToken.approximateByteSize()>0||$.snapshotVersion.compareTo(SnapshotVersion.min())>0){const ee=_.remoteSyncer.getRemoteKeysForTarget($.targetId).size;$=$.withExpectedCount(ee)}__PRIVATE_ensureWatchStream(_).U_($)}function __PRIVATE_sendUnwatchRequest(_,$){_.ha.Ke($),__PRIVATE_ensureWatchStream(_).K_($)}function __PRIVATE_startWatchStream(_){_.ha=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:$=>_.remoteSyncer.getRemoteKeysForTarget($),Rt:$=>_._a.get($)||null,Pt:()=>_.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(_).start(),_.la.ta()}function __PRIVATE_shouldStartWatchStream(_){return __PRIVATE_canUseNetwork(_)&&!__PRIVATE_ensureWatchStream(_).w_()&&_._a.size>0}function __PRIVATE_canUseNetwork(_){return 0===__PRIVATE_debugCast(_).aa.size}function __PRIVATE_cleanUpWatchStreamState(_){_.ha=void 0}async function __PRIVATE_onWatchStreamConnected(_){_.la.set("Online")}async function __PRIVATE_onWatchStreamOpen(_){_._a.forEach((($,ee)=>{__PRIVATE_sendWatchRequest(_,$)}))}async function __PRIVATE_onWatchStreamClose(_,$){__PRIVATE_cleanUpWatchStreamState(_),__PRIVATE_shouldStartWatchStream(_)?(_.la.ia($),__PRIVATE_startWatchStream(_)):_.la.set("Unknown")}async function __PRIVATE_onWatchStreamChange(_,$,ee){if(_.la.set("Online"),$ instanceof __PRIVATE_WatchTargetChange&&2===$.state&&$.cause)try{await async function __PRIVATE_handleTargetError(_,$){const ee=$.cause;for(const te of $.targetIds)_._a.has(te)&&(await _.remoteSyncer.rejectListen(te,ee),_._a.delete(te),_.ha.removeTarget(te))}(_,$)}catch(ee){__PRIVATE_logDebug(cn,"Failed to remove targets %s: %s ",$.targetIds.join(","),ee),await __PRIVATE_disableNetworkUntilRecovery(_,ee)}else if($ instanceof __PRIVATE_DocumentWatchChange?_.ha.Xe($):$ instanceof __PRIVATE_ExistenceFilterChange?_.ha.ot($):_.ha.nt($),!ee.isEqual(SnapshotVersion.min()))try{const $=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(_.localStore);ee.compareTo($)>=0&&await function __PRIVATE_raiseWatchSnapshot(_,$){const ee=_.ha.It($);return ee.targetChanges.forEach(((ee,te)=>{if(ee.resumeToken.approximateByteSize()>0){const ne=_._a.get(te);ne&&_._a.set(te,ne.withResumeToken(ee.resumeToken,$))}})),ee.targetMismatches.forEach((($,ee)=>{const te=_._a.get($);if(!te)return;_._a.set($,te.withResumeToken(ByteString.EMPTY_BYTE_STRING,te.snapshotVersion)),__PRIVATE_sendUnwatchRequest(_,$);const ne=new TargetData(te.target,$,ee,te.sequenceNumber);__PRIVATE_sendWatchRequest(_,ne)})),_.remoteSyncer.applyRemoteEvent(ee)}(_,ee)}catch($){__PRIVATE_logDebug(cn,"Failed to raise snapshot:",$),await __PRIVATE_disableNetworkUntilRecovery(_,$)}}async function __PRIVATE_disableNetworkUntilRecovery(_,$,ee){if(!__PRIVATE_isIndexedDbTransactionError($))throw $;_.aa.add(1),await __PRIVATE_disableNetworkInternal(_),_.la.set("Offline"),ee||(ee=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(_.localStore)),_.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug(cn,"Retrying IndexedDB access"),await ee(),_.aa.delete(1),await __PRIVATE_enableNetworkInternal(_)}))}function __PRIVATE_executeWithRecovery(_,$){return $().catch((ee=>__PRIVATE_disableNetworkUntilRecovery(_,ee,$)))}async function __PRIVATE_fillWritePipeline(_){const $=__PRIVATE_debugCast(_),ee=__PRIVATE_ensureWriteStream($);let te=$.oa.length>0?$.oa[$.oa.length-1].batchId:nt;for(;__PRIVATE_canAddToWritePipeline($);)try{const _=await __PRIVATE_localStoreGetNextMutationBatch($.localStore,te);if(null===_){0===$.oa.length&&ee.v_();break}te=_.batchId,__PRIVATE_addToWritePipeline($,_)}catch(_){await __PRIVATE_disableNetworkUntilRecovery($,_)}__PRIVATE_shouldStartWriteStream($)&&__PRIVATE_startWriteStream($)}function __PRIVATE_canAddToWritePipeline(_){return __PRIVATE_canUseNetwork(_)&&_.oa.length<10}function __PRIVATE_addToWritePipeline(_,$){_.oa.push($);const ee=__PRIVATE_ensureWriteStream(_);ee.b_()&&ee.W_&&ee.G_($.mutations)}function __PRIVATE_shouldStartWriteStream(_){return __PRIVATE_canUseNetwork(_)&&!__PRIVATE_ensureWriteStream(_).w_()&&_.oa.length>0}function __PRIVATE_startWriteStream(_){__PRIVATE_ensureWriteStream(_).start()}async function __PRIVATE_onWriteStreamOpen(_){__PRIVATE_ensureWriteStream(_).H_()}async function __PRIVATE_onWriteHandshakeComplete(_){const $=__PRIVATE_ensureWriteStream(_);for(const ee of _.oa)$.G_(ee.mutations)}async function __PRIVATE_onMutationResult(_,$,ee){const te=_.oa.shift(),ne=MutationBatchResult.from(te,$,ee);await __PRIVATE_executeWithRecovery(_,(()=>_.remoteSyncer.applySuccessfulWrite(ne))),await __PRIVATE_fillWritePipeline(_)}async function __PRIVATE_onWriteStreamClose(_,$){$&&__PRIVATE_ensureWriteStream(_).W_&&await async function __PRIVATE_handleWriteError(_,$){if(function __PRIVATE_isPermanentWriteError(_){return __PRIVATE_isPermanentError(_)&&_!==je.ABORTED}($.code)){const ee=_.oa.shift();__PRIVATE_ensureWriteStream(_).D_(),await __PRIVATE_executeWithRecovery(_,(()=>_.remoteSyncer.rejectFailedWrite(ee.batchId,$))),await __PRIVATE_fillWritePipeline(_)}}(_,$),__PRIVATE_shouldStartWriteStream(_)&&__PRIVATE_startWriteStream(_)}async function __PRIVATE_remoteStoreHandleCredentialChange(_,$){const ee=__PRIVATE_debugCast(_);ee.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(cn,"RemoteStore received new credentials");const te=__PRIVATE_canUseNetwork(ee);ee.aa.add(3),await __PRIVATE_disableNetworkInternal(ee),te&&ee.la.set("Unknown"),await ee.remoteSyncer.handleCredentialChange($),ee.aa.delete(3),await __PRIVATE_enableNetworkInternal(ee)}async function __PRIVATE_remoteStoreApplyPrimaryState(_,$){const ee=__PRIVATE_debugCast(_);$?(ee.aa.delete(2),await __PRIVATE_enableNetworkInternal(ee)):$||(ee.aa.add(2),await __PRIVATE_disableNetworkInternal(ee),ee.la.set("Unknown"))}function __PRIVATE_ensureWatchStream(_){return _.Pa||(_.Pa=function __PRIVATE_newPersistentWatchStream(_,$,ee){const te=__PRIVATE_debugCast(_);return te.Y_(),new __PRIVATE_PersistentListenStream($,te.connection,te.authCredentials,te.appCheckCredentials,te.serializer,ee)}(_.datastore,_.asyncQueue,{jo:__PRIVATE_onWatchStreamConnected.bind(null,_),Jo:__PRIVATE_onWatchStreamOpen.bind(null,_),Zo:__PRIVATE_onWatchStreamClose.bind(null,_),Q_:__PRIVATE_onWatchStreamChange.bind(null,_)}),_.ua.push((async $=>{$?(_.Pa.D_(),__PRIVATE_shouldStartWatchStream(_)?__PRIVATE_startWatchStream(_):_.la.set("Unknown")):(await _.Pa.stop(),__PRIVATE_cleanUpWatchStreamState(_))}))),_.Pa}function __PRIVATE_ensureWriteStream(_){return _.Ta||(_.Ta=function __PRIVATE_newPersistentWriteStream(_,$,ee){const te=__PRIVATE_debugCast(_);return te.Y_(),new __PRIVATE_PersistentWriteStream($,te.connection,te.authCredentials,te.appCheckCredentials,te.serializer,ee)}(_.datastore,_.asyncQueue,{jo:()=>Promise.resolve(),Jo:__PRIVATE_onWriteStreamOpen.bind(null,_),Zo:__PRIVATE_onWriteStreamClose.bind(null,_),z_:__PRIVATE_onWriteHandshakeComplete.bind(null,_),j_:__PRIVATE_onMutationResult.bind(null,_)}),_.ua.push((async $=>{$?(_.Ta.D_(),await __PRIVATE_fillWritePipeline(_)):(await _.Ta.stop(),_.oa.length>0&&(__PRIVATE_logDebug(cn,`Stopping write stream with ${_.oa.length} pending writes`),_.oa=[]))}))),_.Ta}class DelayedOperation{constructor(_,$,ee,te,ne){this.asyncQueue=_,this.timerId=$,this.targetTimeMs=ee,this.op=te,this.removalCallback=ne,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((_=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(_,$,ee,te,ne){const re=Date.now()+ee,ie=new DelayedOperation(_,$,re,te,ne);return ie.start(ee),ie}start(_){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),_)}skipDelay(){return this.handleDelayElapsed()}cancel(_){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(je.CANCELLED,"Operation cancelled"+(_?": "+_:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((_=>this.deferred.resolve(_)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(_,$){if(__PRIVATE_logError("AsyncQueue",`${$}: ${_}`),__PRIVATE_isIndexedDbTransactionError(_))return new FirestoreError(je.UNAVAILABLE,`${$}: ${_}`);throw _}class DocumentSet{static emptySet(_){return new DocumentSet(_.comparator)}constructor(_){this.comparator=_?($,ee)=>_($,ee)||DocumentKey.comparator($.key,ee.key):(_,$)=>DocumentKey.comparator(_.key,$.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(_){return null!=this.keyedMap.get(_)}get(_){return this.keyedMap.get(_)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(_){const $=this.keyedMap.get(_);return $?this.sortedSet.indexOf($):-1}get size(){return this.sortedSet.size}forEach(_){this.sortedSet.inorderTraversal((($,ee)=>(_($),!1)))}add(_){const $=this.delete(_.key);return $.copy($.keyedMap.insert(_.key,_),$.sortedSet.insert(_,null))}delete(_){const $=this.get(_);return $?this.copy(this.keyedMap.remove(_),this.sortedSet.remove($)):this}isEqual(_){if(!(_ instanceof DocumentSet))return!1;if(this.size!==_.size)return!1;const $=this.sortedSet.getIterator(),ee=_.sortedSet.getIterator();for(;$.hasNext();){const _=$.getNext().key,te=ee.getNext().key;if(!_.isEqual(te))return!1}return!0}toString(){const _=[];return this.forEach(($=>{_.push($.toString())})),0===_.length?"DocumentSet ()":"DocumentSet (\n  "+_.join("  \n")+"\n)"}copy(_,$){const ee=new DocumentSet;return ee.comparator=this.comparator,ee.keyedMap=_,ee.sortedSet=$,ee}}class __PRIVATE_DocumentChangeSet{constructor(){this.Ia=new SortedMap(DocumentKey.comparator)}track(_){const $=_.doc.key,ee=this.Ia.get($);ee?0!==_.type&&3===ee.type?this.Ia=this.Ia.insert($,_):3===_.type&&1!==ee.type?this.Ia=this.Ia.insert($,{type:ee.type,doc:_.doc}):2===_.type&&2===ee.type?this.Ia=this.Ia.insert($,{type:2,doc:_.doc}):2===_.type&&0===ee.type?this.Ia=this.Ia.insert($,{type:0,doc:_.doc}):1===_.type&&0===ee.type?this.Ia=this.Ia.remove($):1===_.type&&2===ee.type?this.Ia=this.Ia.insert($,{type:1,doc:ee.doc}):0===_.type&&1===ee.type?this.Ia=this.Ia.insert($,{type:2,doc:_.doc}):fail(63341,{Vt:_,Ea:ee}):this.Ia=this.Ia.insert($,_)}da(){const _=[];return this.Ia.inorderTraversal((($,ee)=>{_.push(ee)})),_}}class ViewSnapshot{constructor(_,$,ee,te,ne,re,ie,ae,oe){this.query=_,this.docs=$,this.oldDocs=ee,this.docChanges=te,this.mutatedKeys=ne,this.fromCache=re,this.syncStateChanged=ie,this.excludesMetadataChanges=ae,this.hasCachedResults=oe}static fromInitialDocuments(_,$,ee,te,ne){const re=[];return $.forEach((_=>{re.push({type:0,doc:_})})),new ViewSnapshot(_,$,DocumentSet.emptySet($),re,ee,te,!0,!1,ne)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(_){if(!(this.fromCache===_.fromCache&&this.hasCachedResults===_.hasCachedResults&&this.syncStateChanged===_.syncStateChanged&&this.mutatedKeys.isEqual(_.mutatedKeys)&&__PRIVATE_queryEquals(this.query,_.query)&&this.docs.isEqual(_.docs)&&this.oldDocs.isEqual(_.oldDocs)))return!1;const $=this.docChanges,ee=_.docChanges;if($.length!==ee.length)return!1;for(let te=0;te<$.length;te++)if($[te].type!==ee[te].type||!$[te].doc.isEqual(ee[te].doc))return!1;return!0}}class __PRIVATE_QueryListenersInfo{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((_=>_.ma()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function __PRIVATE_errorAllTargets(_,$){const ee=__PRIVATE_debugCast(_),te=ee.queries;ee.queries=__PRIVATE_newQueriesObjectMap(),te.forEach(((_,ee)=>{for(const te of ee.Ra)te.onError($)}))}(this,new FirestoreError(je.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap((_=>__PRIVATE_canonifyQuery(_)),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(_,$){const ee=__PRIVATE_debugCast(_);let te=3;const ne=$.query;let re=ee.queries.get(ne);re?!re.Va()&&$.ma()&&(te=2):(re=new __PRIVATE_QueryListenersInfo,te=$.ma()?0:1);try{switch(te){case 0:re.Aa=await ee.onListen(ne,!0);break;case 1:re.Aa=await ee.onListen(ne,!1);break;case 2:await ee.onFirstRemoteStoreListen(ne)}}catch(_){const ee=__PRIVATE_wrapInUserErrorIfRecoverable(_,`Initialization of query '${__PRIVATE_stringifyQuery($.query)}' failed`);return void $.onError(ee)}ee.queries.set(ne,re),re.Ra.push($),$.ga(ee.onlineState),re.Aa&&$.pa(re.Aa)&&__PRIVATE_raiseSnapshotsInSyncEvent(ee)}async function __PRIVATE_eventManagerUnlisten(_,$){const ee=__PRIVATE_debugCast(_),te=$.query;let ne=3;const re=ee.queries.get(te);if(re){const _=re.Ra.indexOf($);_>=0&&(re.Ra.splice(_,1),0===re.Ra.length?ne=$.ma()?0:1:!re.Va()&&$.ma()&&(ne=2))}switch(ne){case 0:return ee.queries.delete(te),ee.onUnlisten(te,!0);case 1:return ee.queries.delete(te),ee.onUnlisten(te,!1);case 2:return ee.onLastRemoteStoreUnlisten(te);default:return}}function __PRIVATE_eventManagerOnWatchChange(_,$){const ee=__PRIVATE_debugCast(_);let te=!1;for(const ne of $){const _=ne.query,$=ee.queries.get(_);if($){for(const _ of $.Ra)_.pa(ne)&&(te=!0);$.Aa=ne}}te&&__PRIVATE_raiseSnapshotsInSyncEvent(ee)}function __PRIVATE_eventManagerOnWatchError(_,$,ee){const te=__PRIVATE_debugCast(_),ne=te.queries.get($);if(ne)for(const re of ne.Ra)re.onError(ee);te.queries.delete($)}function __PRIVATE_raiseSnapshotsInSyncEvent(_){_.fa.forEach((_=>{_.next()}))}var un,dn;(dn=un||(un={})).ya="default",dn.Cache="cache";class __PRIVATE_QueryListener{constructor(_,$,ee){this.query=_,this.wa=$,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=ee||{}}pa(_){if(!this.options.includeMetadataChanges){const $=[];for(const ee of _.docChanges)3!==ee.type&&$.push(ee);_=new ViewSnapshot(_.query,_.docs,_.oldDocs,$,_.mutatedKeys,_.fromCache,_.syncStateChanged,!0,_.hasCachedResults)}let $=!1;return this.ba?this.Da(_)&&(this.wa.next(_),$=!0):this.va(_,this.onlineState)&&(this.Ca(_),$=!0),this.Sa=_,$}onError(_){this.wa.error(_)}ga(_){this.onlineState=_;let $=!1;return this.Sa&&!this.ba&&this.va(this.Sa,_)&&(this.Ca(this.Sa),$=!0),$}va(_,$){if(!_.fromCache)return!0;if(!this.ma())return!0;const ee="Offline"!==$;return(!this.options.Fa||!ee)&&(!_.docs.isEmpty()||_.hasCachedResults||"Offline"===$)}Da(_){if(_.docChanges.length>0)return!0;const $=this.Sa&&this.Sa.hasPendingWrites!==_.hasPendingWrites;return!(!_.syncStateChanged&&!$)&&!0===this.options.includeMetadataChanges}Ca(_){_=ViewSnapshot.fromInitialDocuments(_.query,_.docs,_.mutatedKeys,_.fromCache,_.hasCachedResults),this.ba=!0,this.wa.next(_)}ma(){return this.options.source!==un.Cache}}class __PRIVATE_AddedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_RemovedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_View{constructor(_,$){this.query=_,this.qa=$,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Ua=__PRIVATE_newQueryComparator(_),this.Ka=new DocumentSet(this.Ua)}get Wa(){return this.qa}Ga(_,$){const ee=$?$.za:new __PRIVATE_DocumentChangeSet,te=$?$.Ka:this.Ka;let ne=$?$.mutatedKeys:this.mutatedKeys,re=te,ie=!1;const ae="F"===this.query.limitType&&te.size===this.query.limit?te.last():null,oe="L"===this.query.limitType&&te.size===this.query.limit?te.first():null;if(_.inorderTraversal(((_,$)=>{const se=te.get(_),le=__PRIVATE_queryMatches(this.query,$)?$:null,de=!!se&&this.mutatedKeys.has(se.key),he=!!le&&(le.hasLocalMutations||this.mutatedKeys.has(le.key)&&le.hasCommittedMutations);let fe=!1;se&&le?se.data.isEqual(le.data)?de!==he&&(ee.track({type:3,doc:le}),fe=!0):this.ja(se,le)||(ee.track({type:2,doc:le}),fe=!0,(ae&&this.Ua(le,ae)>0||oe&&this.Ua(le,oe)<0)&&(ie=!0)):!se&&le?(ee.track({type:0,doc:le}),fe=!0):se&&!le&&(ee.track({type:1,doc:se}),fe=!0,(ae||oe)&&(ie=!0)),fe&&(le?(re=re.add(le),ne=he?ne.add(_):ne.delete(_)):(re=re.delete(_),ne=ne.delete(_)))})),null!==this.query.limit)for(;re.size>this.query.limit;){const _="F"===this.query.limitType?re.last():re.first();re=re.delete(_.key),ne=ne.delete(_.key),ee.track({type:1,doc:_})}return{Ka:re,za:ee,ys:ie,mutatedKeys:ne}}ja(_,$){return _.hasLocalMutations&&$.hasCommittedMutations&&!$.hasLocalMutations}applyChanges(_,$,ee,te){const ne=this.Ka;this.Ka=_.Ka,this.mutatedKeys=_.mutatedKeys;const re=_.za.da();re.sort(((_,$)=>function __PRIVATE_compareChangeType(_,$){const order=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{Vt:_})}};return order(_)-order($)}(_.type,$.type)||this.Ua(_.doc,$.doc))),this.Ha(ee),te=null!=te&&te;const ie=$&&!te?this.Ja():[],ae=0===this.$a.size&&this.current&&!te?1:0,oe=ae!==this.Qa;return this.Qa=ae,0!==re.length||oe?{snapshot:new ViewSnapshot(this.query,_.Ka,ne,re,_.mutatedKeys,0===ae,oe,!1,!!ee&&ee.resumeToken.approximateByteSize()>0),Ya:ie}:{Ya:ie}}ga(_){return this.current&&"Offline"===_?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(_){return!this.qa.has(_)&&!!this.Ka.has(_)&&!this.Ka.get(_).hasLocalMutations}Ha(_){_&&(_.addedDocuments.forEach((_=>this.qa=this.qa.add(_))),_.modifiedDocuments.forEach((_=>{})),_.removedDocuments.forEach((_=>this.qa=this.qa.delete(_))),this.current=_.current)}Ja(){if(!this.current)return[];const _=this.$a;this.$a=__PRIVATE_documentKeySet(),this.Ka.forEach((_=>{this.Za(_.key)&&(this.$a=this.$a.add(_.key))}));const $=[];return _.forEach((_=>{this.$a.has(_)||$.push(new __PRIVATE_RemovedLimboDocument(_))})),this.$a.forEach((ee=>{_.has(ee)||$.push(new __PRIVATE_AddedLimboDocument(ee))})),$}Xa(_){this.qa=_.Ns,this.$a=__PRIVATE_documentKeySet();const $=this.Ga(_.documents);return this.applyChanges($,!0)}eu(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const hn="SyncEngine";class __PRIVATE_QueryView{constructor(_,$,ee){this.query=_,this.targetId=$,this.view=ee}}class LimboResolution{constructor(_){this.key=_,this.tu=!1}}class __PRIVATE_SyncEngineImpl{constructor(_,$,ee,te,ne,re){this.localStore=_,this.remoteStore=$,this.eventManager=ee,this.sharedClientState=te,this.currentUser=ne,this.maxConcurrentLimboResolutions=re,this.nu={},this.ru=new ObjectMap((_=>__PRIVATE_canonifyQuery(_)),__PRIVATE_queryEquals),this.iu=new Map,this.su=new Set,this.ou=new SortedMap(DocumentKey.comparator),this._u=new Map,this.au=new __PRIVATE_ReferenceSet,this.uu={},this.cu=new Map,this.lu=__PRIVATE_TargetIdGenerator.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function __PRIVATE_syncEngineListen(_,$){let ee=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const te=__PRIVATE_ensureWatchCallbacks(_);let ne;const re=te.ru.get($);return re?(te.sharedClientState.addLocalQueryTarget(re.targetId),ne=re.view.eu()):ne=await __PRIVATE_allocateTargetAndMaybeListen(te,$,ee,!0),ne}async function __PRIVATE_triggerRemoteStoreListen(_,$){const ee=__PRIVATE_ensureWatchCallbacks(_);await __PRIVATE_allocateTargetAndMaybeListen(ee,$,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(_,$,ee,te){const ne=await __PRIVATE_localStoreAllocateTarget(_.localStore,__PRIVATE_queryToTarget($)),re=ne.targetId,ie=_.sharedClientState.addLocalQueryTarget(re,ee);let ae;return te&&(ae=await __PRIVATE_initializeViewAndComputeSnapshot(_,$,re,"current"===ie,ne.resumeToken)),_.isPrimaryClient&&ee&&__PRIVATE_remoteStoreListen(_.remoteStore,ne),ae}async function __PRIVATE_initializeViewAndComputeSnapshot(_,$,ee,te,ne){_.Pu=($,ee,te)=>async function __PRIVATE_applyDocChanges(_,$,ee,te){let ne=$.view.Ga(ee);ne.ys&&(ne=await __PRIVATE_localStoreExecuteQuery(_.localStore,$.query,!1).then((_=>{let{documents:ee}=_;return $.view.Ga(ee,ne)})));const re=te&&te.targetChanges.get($.targetId),ie=te&&null!=te.targetMismatches.get($.targetId),ae=$.view.applyChanges(ne,_.isPrimaryClient,re,ie);return __PRIVATE_updateTrackedLimbos(_,$.targetId,ae.Ya),ae.snapshot}(_,$,ee,te);const re=await __PRIVATE_localStoreExecuteQuery(_.localStore,$,!0),ie=new __PRIVATE_View($,re.Ns),ae=ie.Ga(re.documents),oe=TargetChange.createSynthesizedTargetChangeForCurrentChange(ee,te&&"Offline"!==_.onlineState,ne),se=ie.applyChanges(ae,_.isPrimaryClient,oe);__PRIVATE_updateTrackedLimbos(_,ee,se.Ya);const le=new __PRIVATE_QueryView($,ee,ie);return _.ru.set($,le),_.iu.has(ee)?_.iu.get(ee).push($):_.iu.set(ee,[$]),se.snapshot}async function __PRIVATE_syncEngineUnlisten(_,$,ee){const te=__PRIVATE_debugCast(_),ne=te.ru.get($),re=te.iu.get(ne.targetId);if(re.length>1)return te.iu.set(ne.targetId,re.filter((_=>!__PRIVATE_queryEquals(_,$)))),void te.ru.delete($);te.isPrimaryClient?(te.sharedClientState.removeLocalQueryTarget(ne.targetId),te.sharedClientState.isActiveQueryTarget(ne.targetId)||await __PRIVATE_localStoreReleaseTarget(te.localStore,ne.targetId,!1).then((()=>{te.sharedClientState.clearQueryState(ne.targetId),ee&&__PRIVATE_remoteStoreUnlisten(te.remoteStore,ne.targetId),__PRIVATE_removeAndCleanupTarget(te,ne.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(te,ne.targetId),await __PRIVATE_localStoreReleaseTarget(te.localStore,ne.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(_,$){const ee=__PRIVATE_debugCast(_),te=ee.ru.get($),ne=ee.iu.get(te.targetId);ee.isPrimaryClient&&1===ne.length&&(ee.sharedClientState.removeLocalQueryTarget(te.targetId),__PRIVATE_remoteStoreUnlisten(ee.remoteStore,te.targetId))}async function __PRIVATE_syncEngineApplyRemoteEvent(_,$){const ee=__PRIVATE_debugCast(_);try{const _=await function __PRIVATE_localStoreApplyRemoteEventToLocalCache(_,$){const ee=__PRIVATE_debugCast(_),te=$.snapshotVersion;let ne=ee.Ss;return ee.persistence.runTransaction("Apply remote event","readwrite-primary",(_=>{const re=ee.Cs.newChangeBuffer({trackRemovals:!0});ne=ee.Ss;const ie=[];$.targetChanges.forEach(((re,ae)=>{const oe=ne.get(ae);if(!oe)return;ie.push(ee.ai.removeMatchingKeys(_,re.removedDocuments,ae).next((()=>ee.ai.addMatchingKeys(_,re.addedDocuments,ae))));let se=oe.withSequenceNumber(_.currentSequenceNumber);null!==$.targetMismatches.get(ae)?se=se.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):re.resumeToken.approximateByteSize()>0&&(se=se.withResumeToken(re.resumeToken,te)),ne=ne.insert(ae,se),function __PRIVATE_shouldPersistTargetData(_,$,ee){return 0===_.resumeToken.approximateByteSize()||($.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=tn||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)}(oe,se,re)&&ie.push(ee.ai.updateTargetData(_,se))}));let ae=__PRIVATE_mutableDocumentMap(),oe=__PRIVATE_documentKeySet();if($.documentUpdates.forEach((te=>{$.resolvedLimboDocuments.has(te)&&ie.push(ee.persistence.referenceDelegate.updateLimboDocument(_,te))})),ie.push(__PRIVATE_populateDocumentChangeBuffer(_,re,$.documentUpdates).next((_=>{ae=_.xs,oe=_.Os}))),!te.isEqual(SnapshotVersion.min())){const $=ee.ai.getLastRemoteSnapshotVersion(_).next(($=>ee.ai.setTargetsMetadata(_,_.currentSequenceNumber,te)));ie.push($)}return PersistencePromise.waitFor(ie).next((()=>re.apply(_))).next((()=>ee.localDocuments.getLocalViewOfDocuments(_,ae,oe))).next((()=>ae))})).then((_=>(ee.Ss=ne,_)))}(ee.localStore,$);$.targetChanges.forEach(((_,$)=>{const te=ee._u.get($);te&&(__PRIVATE_hardAssert(_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size<=1,22616),_.addedDocuments.size>0?te.tu=!0:_.modifiedDocuments.size>0?__PRIVATE_hardAssert(te.tu,14607):_.removedDocuments.size>0&&(__PRIVATE_hardAssert(te.tu,42227),te.tu=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ee,_,$)}catch(_){await __PRIVATE_ignoreIfPrimaryLeaseLoss(_)}}function __PRIVATE_syncEngineApplyOnlineStateChange(_,$,ee){const te=__PRIVATE_debugCast(_);if(te.isPrimaryClient&&0===ee||!te.isPrimaryClient&&1===ee){const _=[];te.ru.forEach(((ee,te)=>{const ne=te.view.ga($);ne.snapshot&&_.push(ne.snapshot)})),function __PRIVATE_eventManagerOnOnlineStateChange(_,$){const ee=__PRIVATE_debugCast(_);ee.onlineState=$;let te=!1;ee.queries.forEach(((_,ee)=>{for(const ne of ee.Ra)ne.ga($)&&(te=!0)})),te&&__PRIVATE_raiseSnapshotsInSyncEvent(ee)}(te.eventManager,$),_.length&&te.nu.Q_(_),te.onlineState=$,te.isPrimaryClient&&te.sharedClientState.setOnlineState($)}}async function __PRIVATE_syncEngineRejectListen(_,$,ee){const te=__PRIVATE_debugCast(_);te.sharedClientState.updateQueryState($,"rejected",ee);const ne=te._u.get($),re=ne&&ne.key;if(re){let _=new SortedMap(DocumentKey.comparator);_=_.insert(re,MutableDocument.newNoDocument(re,SnapshotVersion.min()));const ee=__PRIVATE_documentKeySet().add(re),ne=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),_,ee);await __PRIVATE_syncEngineApplyRemoteEvent(te,ne),te.ou=te.ou.remove(re),te._u.delete($),__PRIVATE_pumpEnqueuedLimboResolutions(te)}else await __PRIVATE_localStoreReleaseTarget(te.localStore,$,!1).then((()=>__PRIVATE_removeAndCleanupTarget(te,$,ee))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(_,$){const ee=__PRIVATE_debugCast(_),te=$.batch.batchId;try{const _=await function __PRIVATE_localStoreAcknowledgeBatch(_,$){const ee=__PRIVATE_debugCast(_);return ee.persistence.runTransaction("Acknowledge batch","readwrite-primary",(_=>{const te=$.batch.keys(),ne=ee.Cs.newChangeBuffer({trackRemovals:!0});return function __PRIVATE_applyWriteToRemoteDocuments(_,$,ee,te){const ne=ee.batch,re=ne.keys();let ie=PersistencePromise.resolve();return re.forEach((_=>{ie=ie.next((()=>te.getEntry($,_))).next(($=>{const re=ee.docVersions.get(_);__PRIVATE_hardAssert(null!==re,48541),$.version.compareTo(re)<0&&(ne.applyToRemoteDocument($,ee),$.isValidDocument()&&($.setReadTime(ee.commitVersion),te.addEntry($)))}))})),ie.next((()=>_.mutationQueue.removeMutationBatch($,ne)))}(ee,_,$,ne).next((()=>ne.apply(_))).next((()=>ee.mutationQueue.performConsistencyCheck(_))).next((()=>ee.documentOverlayCache.removeOverlaysForBatchId(_,te,$.batch.batchId))).next((()=>ee.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,function __PRIVATE_getKeysWithTransformResults(_){let $=__PRIVATE_documentKeySet();for(let ee=0;ee<_.mutationResults.length;++ee)_.mutationResults[ee].transformResults.length>0&&($=$.add(_.batch.mutations[ee].key));return $}($)))).next((()=>ee.localDocuments.getDocuments(_,te)))}))}(ee.localStore,$);__PRIVATE_processUserCallback(ee,te,null),__PRIVATE_triggerPendingWritesCallbacks(ee,te),ee.sharedClientState.updateMutationState(te,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ee,_)}catch(_){await __PRIVATE_ignoreIfPrimaryLeaseLoss(_)}}async function __PRIVATE_syncEngineRejectFailedWrite(_,$,ee){const te=__PRIVATE_debugCast(_);try{const _=await function __PRIVATE_localStoreRejectBatch(_,$){const ee=__PRIVATE_debugCast(_);return ee.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let te;return ee.mutationQueue.lookupMutationBatch(_,$).next(($=>(__PRIVATE_hardAssert(null!==$,37113),te=$.keys(),ee.mutationQueue.removeMutationBatch(_,$)))).next((()=>ee.mutationQueue.performConsistencyCheck(_))).next((()=>ee.documentOverlayCache.removeOverlaysForBatchId(_,te,$))).next((()=>ee.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,te))).next((()=>ee.localDocuments.getDocuments(_,te)))}))}(te.localStore,$);__PRIVATE_processUserCallback(te,$,ee),__PRIVATE_triggerPendingWritesCallbacks(te,$),te.sharedClientState.updateMutationState($,"rejected",ee),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(te,_)}catch(ee){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ee)}}function __PRIVATE_triggerPendingWritesCallbacks(_,$){(_.cu.get($)||[]).forEach((_=>{_.resolve()})),_.cu.delete($)}function __PRIVATE_processUserCallback(_,$,ee){const te=__PRIVATE_debugCast(_);let ne=te.uu[te.currentUser.toKey()];if(ne){const _=ne.get($);_&&(ee?_.reject(ee):_.resolve(),ne=ne.remove($)),te.uu[te.currentUser.toKey()]=ne}}function __PRIVATE_removeAndCleanupTarget(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_.sharedClientState.removeLocalQueryTarget($);for(const te of _.iu.get($))_.ru.delete(te),ee&&_.nu.Tu(te,ee);_.iu.delete($),_.isPrimaryClient&&_.au.Ur($).forEach(($=>{_.au.containsKey($)||__PRIVATE_removeLimboTarget(_,$)}))}function __PRIVATE_removeLimboTarget(_,$){_.su.delete($.path.canonicalString());const ee=_.ou.get($);null!==ee&&(__PRIVATE_remoteStoreUnlisten(_.remoteStore,ee),_.ou=_.ou.remove($),_._u.delete(ee),__PRIVATE_pumpEnqueuedLimboResolutions(_))}function __PRIVATE_updateTrackedLimbos(_,$,ee){for(const te of ee)te instanceof __PRIVATE_AddedLimboDocument?(_.au.addReference(te.key,$),__PRIVATE_trackLimboChange(_,te)):te instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(hn,"Document no longer in limbo: "+te.key),_.au.removeReference(te.key,$),_.au.containsKey(te.key)||__PRIVATE_removeLimboTarget(_,te.key)):fail(19791,{Iu:te})}function __PRIVATE_trackLimboChange(_,$){const ee=$.key,te=ee.path.canonicalString();_.ou.get(ee)||_.su.has(te)||(__PRIVATE_logDebug(hn,"New document in limbo: "+ee),_.su.add(te),__PRIVATE_pumpEnqueuedLimboResolutions(_))}function __PRIVATE_pumpEnqueuedLimboResolutions(_){for(;_.su.size>0&&_.ou.size<_.maxConcurrentLimboResolutions;){const $=_.su.values().next().value;_.su.delete($);const ee=new DocumentKey(ResourcePath.fromString($)),te=_.lu.next();_._u.set(te,new LimboResolution(ee)),_.ou=_.ou.insert(ee,te),__PRIVATE_remoteStoreListen(_.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(ee.path)),te,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.le))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_,$,ee){const te=__PRIVATE_debugCast(_),ne=[],re=[],ie=[];te.ru.isEmpty()||(te.ru.forEach(((_,ae)=>{ie.push(te.Pu(ae,$,ee).then((_=>{var $;if((_||ee)&&te.isPrimaryClient){const ne=_?!_.fromCache:null===($=null==ee?void 0:ee.targetChanges.get(ae.targetId))||void 0===$?void 0:$.current;te.sharedClientState.updateQueryState(ae.targetId,ne?"current":"not-current")}if(_){ne.push(_);const $=__PRIVATE_LocalViewChanges.Ps(ae.targetId,_);re.push($)}})))})),await Promise.all(ie),te.nu.Q_(ne),await async function __PRIVATE_localStoreNotifyLocalViewChanges(_,$){const ee=__PRIVATE_debugCast(_);try{await ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>PersistencePromise.forEach($,($=>PersistencePromise.forEach($.ls,(te=>ee.persistence.referenceDelegate.addReference(_,$.targetId,te))).next((()=>PersistencePromise.forEach($.hs,(te=>ee.persistence.referenceDelegate.removeReference(_,$.targetId,te)))))))))}catch(_){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;__PRIVATE_logDebug(en,"Failed to update sequence numbers: "+_)}for(const te of $){const _=te.targetId;if(!te.fromCache){const $=ee.Ss.get(_),te=$.snapshotVersion,ne=$.withLastLimboFreeSnapshotVersion(te);ee.Ss=ee.Ss.insert(_,ne)}}}(te.localStore,re))}async function __PRIVATE_syncEngineHandleCredentialChange(_,$){const ee=__PRIVATE_debugCast(_);if(!ee.currentUser.isEqual($)){__PRIVATE_logDebug(hn,"User change. New user:",$.toKey());const _=await __PRIVATE_localStoreHandleUserChange(ee.localStore,$);ee.currentUser=$,function __PRIVATE_rejectOutstandingPendingWritesCallbacks(_,$){_.cu.forEach((_=>{_.forEach((_=>{_.reject(new FirestoreError(je.CANCELLED,$))}))})),_.cu.clear()}(ee,"'waitForPendingWrites' promise is rejected due to a user change."),ee.sharedClientState.handleUserChange($,_.removedBatchIds,_.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ee,_.Ms)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(_,$){const ee=__PRIVATE_debugCast(_),te=ee._u.get($);if(te&&te.tu)return __PRIVATE_documentKeySet().add(te.key);{let _=__PRIVATE_documentKeySet();const te=ee.iu.get($);if(!te)return _;for(const $ of te){const te=ee.ru.get($);_=_.unionWith(te.view.Wa)}return _}}function __PRIVATE_ensureWatchCallbacks(_){const $=__PRIVATE_debugCast(_);return $.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,$),$.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,$),$.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,$),$.nu.Q_=__PRIVATE_eventManagerOnWatchChange.bind(null,$.eventManager),$.nu.Tu=__PRIVATE_eventManagerOnWatchError.bind(null,$.eventManager),$}function __PRIVATE_syncEngineEnsureWriteCallbacks(_){const $=__PRIVATE_debugCast(_);return $.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,$),$.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,$),$}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(_){this.serializer=__PRIVATE_newSerializer(_.databaseInfo.databaseId),this.sharedClientState=this.Au(_),this.persistence=this.Ru(_),await this.persistence.start(),this.localStore=this.Vu(_),this.gcScheduler=this.mu(_,this.localStore),this.indexBackfillerScheduler=this.fu(_,this.localStore)}mu(_,$){return null}fu(_,$){return null}Vu(_){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,_.initialUser,this.serializer)}Ru(_){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Ei,this.serializer)}Au(_){return new __PRIVATE_MemorySharedClientState}async terminate(){var _,$;null===(_=this.gcScheduler)||void 0===_||_.stop(),null===($=this.indexBackfillerScheduler)||void 0===$||$.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(_){super(),this.cacheSizeBytes=_}mu(_,$){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const ee=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(ee,_.asyncQueue,$)}Ru(_){const $=void 0!==this.cacheSizeBytes?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence((_=>__PRIVATE_MemoryLruDelegate.Ei(_,$)),this.serializer)}}class OnlineComponentProvider{async initialize(_,$){this.localStore||(this.localStore=_.localStore,this.sharedClientState=_.sharedClientState,this.datastore=this.createDatastore($),this.remoteStore=this.createRemoteStore($),this.eventManager=this.createEventManager($),this.syncEngine=this.createSyncEngine($,!_.synchronizeTabs),this.sharedClientState.onlineStateHandler=_=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,_,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(_){return function __PRIVATE_newEventManager(){return new __PRIVATE_EventManagerImpl}()}createDatastore(_){const $=__PRIVATE_newSerializer(_.databaseInfo.databaseId),ee=function __PRIVATE_newConnection(_){return new __PRIVATE_WebChannelConnection(_)}(_.databaseInfo);return function __PRIVATE_newDatastore(_,$,ee,te){return new __PRIVATE_DatastoreImpl(_,$,ee,te)}(_.authCredentials,_.appCheckCredentials,ee,$)}createRemoteStore(_){return function __PRIVATE_newRemoteStore(_,$,ee,te,ne){return new __PRIVATE_RemoteStoreImpl(_,$,ee,te,ne)}(this.localStore,this.datastore,_.asyncQueue,(_=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,_,0)),function __PRIVATE_newConnectivityMonitor(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(_,$){return function __PRIVATE_newSyncEngine(_,$,ee,te,ne,re,ie){const ae=new __PRIVATE_SyncEngineImpl(_,$,ee,te,ne,re);return ie&&(ae.hu=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,_.initialUser,_.maxConcurrentLimboResolutions,$)}async terminate(){var _,$;await async function __PRIVATE_remoteStoreShutdown(_){const $=__PRIVATE_debugCast(_);__PRIVATE_logDebug(cn,"RemoteStore shutting down."),$.aa.add(5),await __PRIVATE_disableNetworkInternal($),$.ca.shutdown(),$.la.set("Unknown")}(this.remoteStore),null===(_=this.datastore)||void 0===_||_.terminate(),null===($=this.eventManager)||void 0===$||$.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};class __PRIVATE_AsyncObserver{constructor(_){this.observer=_,this.muted=!1}next(_){this.muted||this.observer.next&&this.pu(this.observer.next,_)}error(_){this.muted||(this.observer.error?this.pu(this.observer.error,_):__PRIVATE_logError("Uncaught Error in snapshot listener:",_.toString()))}yu(){this.muted=!0}pu(_,$){setTimeout((()=>{this.muted||_($)}),0)}}const fn="FirestoreClient";class FirestoreClient{constructor(_,$,ee,te,ne){this.authCredentials=_,this.appCheckCredentials=$,this.asyncQueue=ee,this.databaseInfo=te,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=ne,this.authCredentials.start(ee,(async _=>{__PRIVATE_logDebug(fn,"Received user=",_.uid),await this.authCredentialListener(_),this.user=_})),this.appCheckCredentials.start(ee,(_=>(__PRIVATE_logDebug(fn,"Received new app check token=",_),this.appCheckCredentialListener(_,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(_){this.authCredentialListener=_}setAppCheckTokenChangeListener(_){this.appCheckCredentialListener=_}terminate(){this.asyncQueue.enterRestrictedMode();const _=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),_.resolve()}catch($){const ee=__PRIVATE_wrapInUserErrorIfRecoverable($,"Failed to shutdown persistence");_.reject(ee)}})),_.promise}}async function __PRIVATE_setOfflineComponentProvider(_,$){_.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(fn,"Initializing OfflineComponentProvider");const ee=_.configuration;await $.initialize(ee);let te=ee.initialUser;_.setCredentialChangeListener((async _=>{te.isEqual(_)||(await __PRIVATE_localStoreHandleUserChange($.localStore,_),te=_)})),$.persistence.setDatabaseDeletedListener((()=>_.terminate())),_._offlineComponents=$}async function __PRIVATE_setOnlineComponentProvider(_,$){_.asyncQueue.verifyOperationInProgress();const ee=await __PRIVATE_ensureOfflineComponents(_);__PRIVATE_logDebug(fn,"Initializing OnlineComponentProvider"),await $.initialize(ee,_.configuration),_.setCredentialChangeListener((_=>__PRIVATE_remoteStoreHandleCredentialChange($.remoteStore,_))),_.setAppCheckTokenChangeListener(((_,ee)=>__PRIVATE_remoteStoreHandleCredentialChange($.remoteStore,ee))),_._onlineComponents=$}async function __PRIVATE_ensureOfflineComponents(_){if(!_._offlineComponents)if(_._uninitializedComponentsProvider){__PRIVATE_logDebug(fn,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(_,_._uninitializedComponentsProvider._offline)}catch($){const ee=$;if(!function __PRIVATE_canFallbackFromIndexedDbError(_){return"FirebaseError"===_.name?_.code===je.FAILED_PRECONDITION||_.code===je.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code}(ee))throw ee;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+ee),await __PRIVATE_setOfflineComponentProvider(_,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(fn,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(_,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return _._offlineComponents}async function __PRIVATE_ensureOnlineComponents(_){return _._onlineComponents||(_._uninitializedComponentsProvider?(__PRIVATE_logDebug(fn,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(_,_._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(fn,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(_,new OnlineComponentProvider))),_._onlineComponents}function __PRIVATE_getSyncEngine(_){return __PRIVATE_ensureOnlineComponents(_).then((_=>_.syncEngine))}async function __PRIVATE_getEventManager(_){const $=await __PRIVATE_ensureOnlineComponents(_),ee=$.eventManager;return ee.onListen=__PRIVATE_syncEngineListen.bind(null,$.syncEngine),ee.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,$.syncEngine),ee.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,$.syncEngine),ee.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,$.syncEngine),ee}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const te=new __PRIVATE_Deferred;return _.asyncQueue.enqueueAndForget((async()=>function __PRIVATE_readDocumentViaSnapshotListener(_,$,ee,te,ne){const re=new __PRIVATE_AsyncObserver({next:ae=>{re.yu(),$.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(_,ie)));const oe=ae.docs.has(ee);!oe&&ae.fromCache?ne.reject(new FirestoreError(je.UNAVAILABLE,"Failed to get document because the client is offline.")):oe&&ae.fromCache&&te&&"server"===te.source?ne.reject(new FirestoreError(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ne.resolve(ae)},error:_=>ne.reject(_)}),ie=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(ee.path),re,{includeMetadataChanges:!0,Fa:!0});return __PRIVATE_eventManagerListen(_,ie)}(await __PRIVATE_getEventManager(_),_.asyncQueue,$,ee,te))),te.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const te=new __PRIVATE_Deferred;return _.asyncQueue.enqueueAndForget((async()=>function __PRIVATE_executeQueryViaSnapshotListener(_,$,ee,te,ne){const re=new __PRIVATE_AsyncObserver({next:ee=>{re.yu(),$.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(_,ie))),ee.fromCache&&"server"===te.source?ne.reject(new FirestoreError(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ne.resolve(ee)},error:_=>ne.reject(_)}),ie=new __PRIVATE_QueryListener(ee,re,{includeMetadataChanges:!0,Fa:!0});return __PRIVATE_eventManagerListen(_,ie)}(await __PRIVATE_getEventManager(_),_.asyncQueue,$,ee,te))),te.promise}function __PRIVATE_cloneLongPollingOptions(_){const $={};return void 0!==_.timeoutSeconds&&($.timeoutSeconds=_.timeoutSeconds),$}const pn=new Map;function __PRIVATE_validateNonEmptyArgument(_,$,ee){if(!ee)throw new FirestoreError(je.INVALID_ARGUMENT,`Function ${_}() cannot be called with an empty ${$}.`)}function __PRIVATE_validateDocumentPath(_){if(!DocumentKey.isDocumentKey(_))throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${_} has ${_.length}.`)}function __PRIVATE_validateCollectionPath(_){if(DocumentKey.isDocumentKey(_))throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${_} has ${_.length}.`)}function __PRIVATE_valueDescription(_){if(void 0===_)return"undefined";if(null===_)return"null";if("string"==typeof _)return _.length>20&&(_=`${_.substring(0,20)}...`),JSON.stringify(_);if("number"==typeof _||"boolean"==typeof _)return""+_;if("object"==typeof _){if(_ instanceof Array)return"an array";{const $=function __PRIVATE_tryGetCustomObjectType(_){return _.constructor?_.constructor.name:null}(_);return $?`a custom ${$} object`:"an object"}}return"function"==typeof _?"a function":fail(12329,{type:typeof _})}function __PRIVATE_cast(_,$){if("_delegate"in _&&(_=_._delegate),!(_ instanceof $)){if($.name===_.constructor.name)throw new FirestoreError(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const ee=__PRIVATE_valueDescription(_);throw new FirestoreError(je.INVALID_ARGUMENT,`Expected type '${$.name}', but it was: ${ee}`)}}return _}function __PRIVATE_validatePositiveNumber(_,$){if($<=0)throw new FirestoreError(je.INVALID_ARGUMENT,`Function ${_}() requires a positive number, but it was: ${$}.`)}const mn="firestore.googleapis.com",gn=!0;class FirestoreSettingsImpl{constructor(_){var $,ee;if(void 0===_.host){if(void 0!==_.ssl)throw new FirestoreError(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mn,this.ssl=gn}else this.host=_.host,this.ssl=null!==($=_.ssl)&&void 0!==$?$:gn;if(this.credentials=_.credentials,this.ignoreUndefinedProperties=!!_.ignoreUndefinedProperties,this.localCache=_.localCache,void 0===_.cacheSizeBytes)this.cacheSizeBytes=Xt;else{if(-1!==_.cacheSizeBytes&&_.cacheSizeBytes<Zt)throw new FirestoreError(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=_.cacheSizeBytes}(function __PRIVATE_validateIsNotUsedTogether(_,$,ee,te){if(!0===$&&!0===te)throw new FirestoreError(je.INVALID_ARGUMENT,`${_} and ${ee} cannot be used together.`)})("experimentalForceLongPolling",_.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",_.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!_.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===_.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!_.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions(null!==(ee=_.experimentalLongPollingOptions)&&void 0!==ee?ee:{}),function __PRIVATE_validateLongPollingOptions(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new FirestoreError(je.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new FirestoreError(je.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new FirestoreError(je.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!_.useFetchStreams}isEqual(_){return this.host===_.host&&this.ssl===_.ssl&&this.credentials===_.credentials&&this.cacheSizeBytes===_.cacheSizeBytes&&this.experimentalForceLongPolling===_.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===_.experimentalAutoDetectLongPolling&&function __PRIVATE_longPollingOptionsEqual(_,$){return _.timeoutSeconds===$.timeoutSeconds}(this.experimentalLongPollingOptions,_.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===_.ignoreUndefinedProperties&&this.useFetchStreams===_.useFetchStreams}}class Firestore$1{constructor(_,$,ee,te){this._authCredentials=_,this._appCheckCredentials=$,this._databaseId=ee,this._app=te,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(_){if(this._settingsFrozen)throw new FirestoreError(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(_),this._emulatorOptions=_.emulatorOptions||{},void 0!==_.credentials&&(this._authCredentials=function __PRIVATE_makeAuthCredentialsProvider(_){if(!_)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(_.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(_.sessionIndex||"0",_.iamToken||null,_.authTokenFactory||null);case"provider":return _.client;default:throw new FirestoreError(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(_.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function __PRIVATE_removeComponents(_){const $=pn.get(_);$&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),pn.delete(_),$.terminate())}(this),Promise.resolve()}}class Query{constructor(_,$,ee){this.converter=$,this._query=ee,this.type="query",this.firestore=_}withConverter(_){return new Query(this.firestore,_,this._query)}}class DocumentReference{constructor(_,$,ee){this.converter=$,this._key=ee,this.type="document",this.firestore=_}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(_){return new DocumentReference(this.firestore,_,this._key)}}class CollectionReference extends Query{constructor(_,$,ee){super(_,$,__PRIVATE_newQueryForPath(ee)),this._path=ee,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const _=this._path.popLast();return _.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(_))}withConverter(_){return new CollectionReference(this.firestore,_,this._path)}}function collection(_,$){for(var ee=arguments.length,te=new Array(ee>2?ee-2:0),ne=2;ne<ee;ne++)te[ne-2]=arguments[ne];if(_=(0,oe.Ku)(_),__PRIVATE_validateNonEmptyArgument("collection","path",$),_ instanceof Firestore$1){const ee=ResourcePath.fromString($,...te);return __PRIVATE_validateCollectionPath(ee),new CollectionReference(_,null,ee)}{if(!(_ instanceof DocumentReference||_ instanceof CollectionReference))throw new FirestoreError(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const ee=_._path.child(ResourcePath.fromString($,...te));return __PRIVATE_validateCollectionPath(ee),new CollectionReference(_.firestore,null,ee)}}function doc(_,$){for(var ee=arguments.length,te=new Array(ee>2?ee-2:0),ne=2;ne<ee;ne++)te[ne-2]=arguments[ne];if(_=(0,oe.Ku)(_),1===arguments.length&&($=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",$),_ instanceof Firestore$1){const ee=ResourcePath.fromString($,...te);return __PRIVATE_validateDocumentPath(ee),new DocumentReference(_,null,new DocumentKey(ee))}{if(!(_ instanceof DocumentReference||_ instanceof CollectionReference))throw new FirestoreError(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const ee=_._path.child(ResourcePath.fromString($,...te));return __PRIVATE_validateDocumentPath(ee),new DocumentReference(_.firestore,_ instanceof CollectionReference?_.converter:null,new DocumentKey(ee))}}const _n="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.ju=()=>{const _=getDocument();_&&__PRIVATE_logDebug(_n,"Visibility state changed to "+_.visibilityState),this.y_.A_()},this.Hu=_;const $=getDocument();$&&"function"==typeof $.addEventListener&&$.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(_){this.enqueue(_)}enqueueAndForgetEvenWhileRestricted(_){this.Ju(),this.Yu(_)}enterRestrictedMode(_){if(!this.$u){this.$u=!0,this.Gu=_||!1;const $=getDocument();$&&"function"==typeof $.removeEventListener&&$.removeEventListener("visibilitychange",this.ju)}}enqueue(_){if(this.Ju(),this.$u)return new Promise((()=>{}));const $=new __PRIVATE_Deferred;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(_().then($.resolve,$.reject),$.promise))).then((()=>$.promise))}enqueueRetryable(_){this.enqueueAndForget((()=>(this.Qu.push(_),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(_){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;__PRIVATE_logDebug(_n,"Operation failed with retryable error: "+_)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(_){const $=this.Hu.then((()=>(this.Wu=!0,_().catch((_=>{throw this.Ku=_,this.Wu=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(_)),_})).then((_=>(this.Wu=!1,_))))));return this.Hu=$,$}enqueueAfterDelay(_,$,ee){this.Ju(),this.zu.indexOf(_)>-1&&($=0);const te=DelayedOperation.createAndSchedule(this,_,$,ee,(_=>this.Xu(_)));return this.Uu.push(te),te}Ju(){this.Ku&&fail(47125,{ec:__PRIVATE_getMessageOrStack(this.Ku)})}verifyOperationInProgress(){}async tc(){let _;do{_=this.Hu,await _}while(_!==this.Hu)}nc(_){for(const $ of this.Uu)if($.timerId===_)return!0;return!1}rc(_){return this.tc().then((()=>{this.Uu.sort(((_,$)=>_.targetTimeMs-$.targetTimeMs));for(const $ of this.Uu)if($.skipDelay(),"all"!==_&&$.timerId===_)break;return this.tc()}))}sc(_){this.zu.push(_)}Xu(_){const $=this.Uu.indexOf(_);this.Uu.splice($,1)}}function __PRIVATE_getMessageOrStack(_){let $=_.message||"";return _.stack&&($=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),$}function __PRIVATE_isPartialObserver(_){return function __PRIVATE_implementsAnyMethods(_,$){if("object"!=typeof _||null===_)return!1;const ee=_;for(const te of $)if(te in ee&&"function"==typeof ee[te])return!0;return!1}(_,["next","error","complete"])}class Firestore extends Firestore$1{constructor(_,$,ee,te){super(_,$,ee,te),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(null==te?void 0:te.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const _=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(_),this._firestoreClient=void 0,await _}}}function getFirestore(_,$){const ee="object"==typeof _?_:(0,re.Sx)(),te="string"==typeof _?_:$||Vt,ne=(0,re.j6)(ee,"firestore").getImmediate({identifier:te});if(!ne._initialized){const _=(0,oe.yU)("firestore");_&&function connectFirestoreEmulator(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var ne;const re=(_=__PRIVATE_cast(_,Firestore$1))._getSettings(),ie=Object.assign(Object.assign({},re),{emulatorOptions:_._getEmulatorOptions()}),ae=`${$}:${ee}`;re.host!==mn&&re.host!==ae&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const se=Object.assign(Object.assign({},re),{host:ae,ssl:!1,emulatorOptions:te});if(!(0,oe.bD)(se,ie)&&(_._setSettings(se),te.mockUserToken)){let $,ee;if("string"==typeof te.mockUserToken)$=te.mockUserToken,ee=User.MOCK_USER;else{$=(0,oe.Fy)(te.mockUserToken,null===(ne=_._app)||void 0===ne?void 0:ne.options.projectId);const re=te.mockUserToken.sub||te.mockUserToken.user_id;if(!re)throw new FirestoreError(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ee=new User(re)}_._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken($,ee))}}(ne,..._)}return ne}function ensureFirestoreConfigured(_){if(_._terminated)throw new FirestoreError(je.FAILED_PRECONDITION,"The client has already been terminated.");return _._firestoreClient||__PRIVATE_configureFirestore(_),_._firestoreClient}function __PRIVATE_configureFirestore(_){var $,ee,te;const ne=_._freezeSettings(),re=function __PRIVATE_makeDatabaseInfo(_,$,ee,te){return new DatabaseInfo(_,$,ee,te.host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(te.experimentalLongPollingOptions),te.useFetchStreams)}(_._databaseId,(null===($=_._app)||void 0===$?void 0:$.options.appId)||"",_._persistenceKey,ne);_._componentsProvider||(null===(ee=ne.localCache)||void 0===ee?void 0:ee._offlineComponentProvider)&&(null===(te=ne.localCache)||void 0===te?void 0:te._onlineComponentProvider)&&(_._componentsProvider={_offline:ne.localCache._offlineComponentProvider,_online:ne.localCache._onlineComponentProvider}),_._firestoreClient=new FirestoreClient(_._authCredentials,_._appCheckCredentials,_._queue,re,_._componentsProvider&&function __PRIVATE_buildComponentProvider(_){const $=null==_?void 0:_._online.build();return{_offline:null==_?void 0:_._offline.build($),_online:$}}(_._componentsProvider))}class Bytes{constructor(_){this._byteString=_}static fromBase64String(_){try{return new Bytes(ByteString.fromBase64String(_))}catch(_){throw new FirestoreError(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+_)}}static fromUint8Array(_){return new Bytes(ByteString.fromUint8Array(_))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(_){return this._byteString.isEqual(_._byteString)}}class FieldPath{constructor(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];for(let te=0;te<$.length;++te)if(0===$[te].length)throw new FirestoreError(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1($)}isEqual(_){return this._internalPath.isEqual(_._internalPath)}}class FieldValue{constructor(_){this._methodName=_}}class GeoPoint{constructor(_,$){if(!isFinite(_)||_<-90||_>90)throw new FirestoreError(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+_);if(!isFinite($)||$<-180||$>180)throw new FirestoreError(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+$);this._lat=_,this._long=$}get latitude(){return this._lat}get longitude(){return this._long}isEqual(_){return this._lat===_._lat&&this._long===_._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(_){return __PRIVATE_primitiveComparator(this._lat,_._lat)||__PRIVATE_primitiveComparator(this._long,_._long)}}class VectorValue{constructor(_){this._values=(_||[]).map((_=>_))}toArray(){return this._values.map((_=>_))}isEqual(_){return function __PRIVATE_isPrimitiveArrayEqual(_,$){if(_.length!==$.length)return!1;for(let ee=0;ee<_.length;++ee)if(_[ee]!==$[ee])return!1;return!0}(this._values,_._values)}}const yn=/^__.*__$/;class ParsedSetData{constructor(_,$,ee){this.data=_,this.fieldMask=$,this.fieldTransforms=ee}toMutation(_,$){return null!==this.fieldMask?new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,$,this.fieldTransforms):new __PRIVATE_SetMutation(_,this.data,$,this.fieldTransforms)}}class ParsedUpdateData{constructor(_,$,ee){this.data=_,this.fieldMask=$,this.fieldTransforms=ee}toMutation(_,$){return new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,$,this.fieldTransforms)}}function __PRIVATE_isWrite(_){switch(_){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{oc:_})}}class __PRIVATE_ParseContextImpl{constructor(_,$,ee,te,ne,re){this.settings=_,this.databaseId=$,this.serializer=ee,this.ignoreUndefinedProperties=te,void 0===ne&&this._c(),this.fieldTransforms=ne||[],this.fieldMask=re||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(_){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),_),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(_){var $;const ee=null===($=this.path)||void 0===$?void 0:$.child(_),te=this.ac({path:ee,cc:!1});return te.lc(_),te}hc(_){var $;const ee=null===($=this.path)||void 0===$?void 0:$.child(_),te=this.ac({path:ee,cc:!1});return te._c(),te}Pc(_){return this.ac({path:void 0,cc:!0})}Tc(_){return __PRIVATE_createError(_,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(_){return void 0!==this.fieldMask.find(($=>_.isPrefixOf($)))||void 0!==this.fieldTransforms.find(($=>_.isPrefixOf($.field)))}_c(){if(this.path)for(let _=0;_<this.path.length;_++)this.lc(this.path.get(_))}lc(_){if(0===_.length)throw this.Tc("Document fields must not be empty");if(__PRIVATE_isWrite(this.oc)&&yn.test(_))throw this.Tc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(_,$,ee){this.databaseId=_,this.ignoreUndefinedProperties=$,this.serializer=ee||__PRIVATE_newSerializer(_)}dc(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new __PRIVATE_ParseContextImpl({oc:_,methodName:$,Ec:ee,path:FieldPath$1.emptyPath(),cc:!1,Ic:te},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(_){const $=_._freezeSettings(),ee=__PRIVATE_newSerializer(_._databaseId);return new __PRIVATE_UserDataReader(_._databaseId,!!$.ignoreUndefinedProperties,ee)}function __PRIVATE_parseSetData(_,$,ee,te,ne){let re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const ie=_.dc(re.merge||re.mergeFields?2:0,$,ee,ne);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ie,te);const ae=__PRIVATE_parseObject(te,ie);let oe,se;if(re.merge)oe=new FieldMask(ie.fieldMask),se=ie.fieldTransforms;else if(re.mergeFields){const _=[];for(const te of re.mergeFields){const ne=__PRIVATE_fieldPathFromArgument$1($,te,ee);if(!ie.contains(ne))throw new FirestoreError(je.INVALID_ARGUMENT,`Field '${ne}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(_,ne)||_.push(ne)}oe=new FieldMask(_),se=ie.fieldTransforms.filter((_=>oe.covers(_.field)))}else oe=null,se=ie.fieldTransforms;return new ParsedSetData(new ObjectValue(ae),oe,se)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(_){if(2!==_.oc)throw 1===_.oc?_.Tc(`${this._methodName}() can only appear at the top level of your update data`):_.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return _.fieldMask.push(_.path),null}isEqual(_){return _ instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_createSentinelChildContext(_,$,ee){return new __PRIVATE_ParseContextImpl({oc:3,Ec:$.settings.Ec,methodName:_._methodName,cc:ee},$.databaseId,$.serializer,$.ignoreUndefinedProperties)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(_){return new FieldTransform(_.path,new __PRIVATE_ServerTimestampTransform)}isEqual(_){return _ instanceof __PRIVATE_ServerTimestampFieldValueImpl}}class __PRIVATE_ArrayUnionFieldValueImpl extends FieldValue{constructor(_,$){super(_),this.Ac=$}_toFieldTransform(_){const $=__PRIVATE_createSentinelChildContext(this,_,!0),ee=this.Ac.map((_=>__PRIVATE_parseData(_,$))),te=new __PRIVATE_ArrayUnionTransformOperation(ee);return new FieldTransform(_.path,te)}isEqual(_){return _ instanceof __PRIVATE_ArrayUnionFieldValueImpl&&(0,oe.bD)(this.Ac,_.Ac)}}class __PRIVATE_ArrayRemoveFieldValueImpl extends FieldValue{constructor(_,$){super(_),this.Ac=$}_toFieldTransform(_){const $=__PRIVATE_createSentinelChildContext(this,_,!0),ee=this.Ac.map((_=>__PRIVATE_parseData(_,$))),te=new __PRIVATE_ArrayRemoveTransformOperation(ee);return new FieldTransform(_.path,te)}isEqual(_){return _ instanceof __PRIVATE_ArrayRemoveFieldValueImpl&&(0,oe.bD)(this.Ac,_.Ac)}}function __PRIVATE_parseUpdateData(_,$,ee,te){const ne=_.dc(1,$,ee);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ne,te);const re=[],ie=ObjectValue.empty();forEach(te,((_,te)=>{const ae=__PRIVATE_fieldPathFromDotSeparatedString($,_,ee);te=(0,oe.Ku)(te);const se=ne.hc(ae);if(te instanceof __PRIVATE_DeleteFieldValueImpl)re.push(ae);else{const _=__PRIVATE_parseData(te,se);null!=_&&(re.push(ae),ie.set(ae,_))}}));const ae=new FieldMask(re);return new ParsedUpdateData(ie,ae,ne.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(_,$,ee,te,ne,re){const ie=_.dc(1,$,ee),ae=[__PRIVATE_fieldPathFromArgument$1($,te,ee)],se=[ne];if(re.length%2!=0)throw new FirestoreError(je.INVALID_ARGUMENT,`Function ${$}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let oe=0;oe<re.length;oe+=2)ae.push(__PRIVATE_fieldPathFromArgument$1($,re[oe])),se.push(re[oe+1]);const le=[],de=ObjectValue.empty();for(let fe=ae.length-1;fe>=0;--fe)if(!__PRIVATE_fieldMaskContains(le,ae[fe])){const _=ae[fe];let $=se[fe];$=(0,oe.Ku)($);const ee=ie.hc(_);if($ instanceof __PRIVATE_DeleteFieldValueImpl)le.push(_);else{const te=__PRIVATE_parseData($,ee);null!=te&&(le.push(_),de.set(_,te))}}const he=new FieldMask(le);return new ParsedUpdateData(de,he,ie.fieldTransforms)}function __PRIVATE_parseQueryValue(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return __PRIVATE_parseData(ee,_.dc(te?4:3,$))}function __PRIVATE_parseData(_,$){if(__PRIVATE_looksLikeJsonObject(_=(0,oe.Ku)(_)))return __PRIVATE_validatePlainObject("Unsupported field value:",$,_),__PRIVATE_parseObject(_,$);if(_ instanceof FieldValue)return function __PRIVATE_parseSentinelFieldValue(_,$){if(!__PRIVATE_isWrite($.oc))throw $.Tc(`${_._methodName}() can only be used with update() and set()`);if(!$.path)throw $.Tc(`${_._methodName}() is not currently supported inside arrays`);const ee=_._toFieldTransform($);ee&&$.fieldTransforms.push(ee)}(_,$),null;if(void 0===_&&$.ignoreUndefinedProperties)return null;if($.path&&$.fieldMask.push($.path),_ instanceof Array){if($.settings.cc&&4!==$.oc)throw $.Tc("Nested arrays are not supported");return function __PRIVATE_parseArray(_,$){const ee=[];let te=0;for(const ne of _){let _=__PRIVATE_parseData(ne,$.Pc(te));null==_&&(_={nullValue:"NULL_VALUE"}),ee.push(_),te++}return{arrayValue:{values:ee}}}(_,$)}return function __PRIVATE_parseScalarValue(_,$){if(null===(_=(0,oe.Ku)(_)))return{nullValue:"NULL_VALUE"};if("number"==typeof _)return toNumber($.serializer,_);if("boolean"==typeof _)return{booleanValue:_};if("string"==typeof _)return{stringValue:_};if(_ instanceof Date){const ee=Timestamp.fromDate(_);return{timestampValue:toTimestamp($.serializer,ee)}}if(_ instanceof Timestamp){const ee=new Timestamp(_.seconds,1e3*Math.floor(_.nanoseconds/1e3));return{timestampValue:toTimestamp($.serializer,ee)}}if(_ instanceof GeoPoint)return{geoPointValue:{latitude:_.latitude,longitude:_.longitude}};if(_ instanceof Bytes)return{bytesValue:__PRIVATE_toBytes($.serializer,_._byteString)};if(_ instanceof DocumentReference){const ee=$.databaseId,te=_.firestore._databaseId;if(!te.isEqual(ee))throw $.Tc(`Document reference is for database ${te.projectId}/${te.database} but should be for database ${ee.projectId}/${ee.database}`);return{referenceValue:__PRIVATE_toResourceName(_.firestore._databaseId||$.databaseId,_._key.path)}}if(_ instanceof VectorValue)return function __PRIVATE_parseVectorValue(_,$){return{mapValue:{fields:{[Dt]:{stringValue:Mt},[Ft]:{arrayValue:{values:_.toArray().map((_=>{if("number"!=typeof _)throw $.Tc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble($.serializer,_)}))}}}}}}(_,$);throw $.Tc(`Unsupported field value: ${__PRIVATE_valueDescription(_)}`)}(_,$)}function __PRIVATE_parseObject(_,$){const ee={};return isEmpty(_)?$.path&&$.path.length>0&&$.fieldMask.push($.path):forEach(_,((_,te)=>{const ne=__PRIVATE_parseData(te,$.uc(_));null!=ne&&(ee[_]=ne)})),{mapValue:{fields:ee}}}function __PRIVATE_looksLikeJsonObject(_){return!("object"!=typeof _||null===_||_ instanceof Array||_ instanceof Date||_ instanceof Timestamp||_ instanceof GeoPoint||_ instanceof Bytes||_ instanceof DocumentReference||_ instanceof FieldValue||_ instanceof VectorValue)}function __PRIVATE_validatePlainObject(_,$,ee){if(!__PRIVATE_looksLikeJsonObject(ee)||!function __PRIVATE_isPlainObject(_){return"object"==typeof _&&null!==_&&(Object.getPrototypeOf(_)===Object.prototype||null===Object.getPrototypeOf(_))}(ee)){const te=__PRIVATE_valueDescription(ee);throw"an object"===te?$.Tc(_+" a custom object"):$.Tc(_+" "+te)}}function __PRIVATE_fieldPathFromArgument$1(_,$,ee){if(($=(0,oe.Ku)($))instanceof FieldPath)return $._internalPath;if("string"==typeof $)return __PRIVATE_fieldPathFromDotSeparatedString(_,$);throw __PRIVATE_createError("Field path arguments must be of type string or ",_,!1,void 0,ee)}const vn=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(_,$,ee){if($.search(vn)>=0)throw __PRIVATE_createError(`Invalid field path (${$}). Paths must not contain '~', '*', '/', '[', or ']'`,_,!1,void 0,ee);try{return new FieldPath(...$.split("."))._internalPath}catch(te){throw __PRIVATE_createError(`Invalid field path (${$}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,_,!1,void 0,ee)}}function __PRIVATE_createError(_,$,ee,te,ne){const re=te&&!te.isEmpty(),ie=void 0!==ne;let ae=`Function ${$}() called with invalid data`;ee&&(ae+=" (via `toFirestore()`)"),ae+=". ";let oe="";return(re||ie)&&(oe+=" (found",re&&(oe+=` in field ${te}`),ie&&(oe+=` in document ${ne}`),oe+=")"),new FirestoreError(je.INVALID_ARGUMENT,ae+_+oe)}function __PRIVATE_fieldMaskContains(_,$){return _.some((_=>_.isEqual($)))}class DocumentSnapshot$1{constructor(_,$,ee,te,ne){this._firestore=_,this._userDataWriter=$,this._key=ee,this._document=te,this._converter=ne}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const _=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(_)}return this._userDataWriter.convertValue(this._document.data.value)}}get(_){if(this._document){const $=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(null!==$)return this._userDataWriter.convertValue($)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(_,$){return"string"==typeof $?__PRIVATE_fieldPathFromDotSeparatedString(_,$):$ instanceof FieldPath?$._internalPath:$._delegate._internalPath}function __PRIVATE_validateHasExplicitOrderByForLimitToLast(_){if("L"===_.limitType&&0===_.explicitOrderBy.length)throw new FirestoreError(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(_,$){let ee=[];for(var te=arguments.length,ne=new Array(te>2?te-2:0),re=2;re<te;re++)ne[re-2]=arguments[re];$ instanceof AppliableConstraint&&ee.push($),ee=ee.concat(ne),function __PRIVATE_validateQueryConstraintArray(_){const $=_.filter((_=>_ instanceof QueryCompositeFilterConstraint)).length,ee=_.filter((_=>_ instanceof QueryFieldFilterConstraint)).length;if($>1||$>0&&ee>0)throw new FirestoreError(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(ee);for(const ie of ee)_=ie._apply(_);return _}class QueryFieldFilterConstraint extends QueryConstraint{constructor(_,$,ee){super(),this._field=_,this._op=$,this._value=ee,this.type="where"}static _create(_,$,ee){return new QueryFieldFilterConstraint(_,$,ee)}_apply(_){const $=this._parse(_);return __PRIVATE_validateNewFieldFilter(_._query,$),new Query(_.firestore,_.converter,__PRIVATE_queryWithAddedFilter(_._query,$))}_parse(_){const $=__PRIVATE_newUserDataReader(_.firestore),ee=function __PRIVATE_newQueryFilter(_,$,ee,te,ne,re,ie){let ae;if(ne.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){__PRIVATE_validateDisjunctiveFilterElements(ie,re);const $=[];for(const ee of ie)$.push(__PRIVATE_parseDocumentIdValue(te,_,ee));ae={arrayValue:{values:$}}}else ae=__PRIVATE_parseDocumentIdValue(te,_,ie)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||__PRIVATE_validateDisjunctiveFilterElements(ie,re),ae=__PRIVATE_parseQueryValue(ee,$,ie,"in"===re||"not-in"===re);return FieldFilter.create(ne,re,ae)}(_._query,"where",$,_.firestore._databaseId,this._field,this._op,this._value);return ee}}function where(_,$,ee){const te=$,ne=__PRIVATE_fieldPathFromArgument("where",_);return QueryFieldFilterConstraint._create(ne,te,ee)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(_,$){super(),this.type=_,this._queryConstraints=$}static _create(_,$){return new QueryCompositeFilterConstraint(_,$)}_parse(_){const $=this._queryConstraints.map(($=>$._parse(_))).filter((_=>_.getFilters().length>0));return 1===$.length?$[0]:CompositeFilter.create($,this._getOperator())}_apply(_){const $=this._parse(_);return 0===$.getFilters().length?_:(function __PRIVATE_validateNewFilter(_,$){let ee=_;const te=$.getFlattenedFilters();for(const ne of te)__PRIVATE_validateNewFieldFilter(ee,ne),ee=__PRIVATE_queryWithAddedFilter(ee,ne)}(_._query,$),new Query(_.firestore,_.converter,__PRIVATE_queryWithAddedFilter(_._query,$)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(_,$){super(),this._field=_,this._direction=$,this.type="orderBy"}static _create(_,$){return new QueryOrderByConstraint(_,$)}_apply(_){const $=function __PRIVATE_newQueryOrderBy(_,$,ee){if(null!==_.startAt)throw new FirestoreError(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==_.endAt)throw new FirestoreError(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy($,ee)}(_._query,this._field,this._direction);return new Query(_.firestore,_.converter,function __PRIVATE_queryWithAddedOrderBy(_,$){const ee=_.explicitOrderBy.concat([$]);return new __PRIVATE_QueryImpl(_.path,_.collectionGroup,ee,_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(_._query,$))}}function orderBy(_){const $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",ee=__PRIVATE_fieldPathFromArgument("orderBy",_);return QueryOrderByConstraint._create(ee,$)}class QueryLimitConstraint extends QueryConstraint{constructor(_,$,ee){super(),this.type=_,this._limit=$,this._limitType=ee}static _create(_,$,ee){return new QueryLimitConstraint(_,$,ee)}_apply(_){return new Query(_.firestore,_.converter,__PRIVATE_queryWithLimit(_._query,this._limit,this._limitType))}}function limit(_){return __PRIVATE_validatePositiveNumber("limit",_),QueryLimitConstraint._create("limit",_,"F")}class QueryStartAtConstraint extends QueryConstraint{constructor(_,$,ee){super(),this.type=_,this._docOrFields=$,this._inclusive=ee}static _create(_,$,ee){return new QueryStartAtConstraint(_,$,ee)}_apply(_){const $=__PRIVATE_newQueryBoundFromDocOrFields(_,this.type,this._docOrFields,this._inclusive);return new Query(_.firestore,_.converter,function __PRIVATE_queryWithStartAt(_,$){return new __PRIVATE_QueryImpl(_.path,_.collectionGroup,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,$,_.endAt)}(_._query,$))}}function startAfter(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];return QueryStartAtConstraint._create("startAfter",$,!1)}function __PRIVATE_newQueryBoundFromDocOrFields(_,$,ee,te){if(ee[0]=(0,oe.Ku)(ee[0]),ee[0]instanceof DocumentSnapshot$1)return function __PRIVATE_newQueryBoundFromDocument(_,$,ee,te,ne){if(!te)throw new FirestoreError(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${ee}().`);const re=[];for(const ie of __PRIVATE_queryNormalizedOrderBy(_))if(ie.field.isKeyField())re.push(__PRIVATE_refValue($,te.key));else{const _=te.data.field(ie.field);if(__PRIVATE_isServerTimestamp(_))throw new FirestoreError(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const _=ie.field.canonicalString();throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}re.push(_)}return new Bound(re,ne)}(_._query,_.firestore._databaseId,$,ee[0]._document,te);{const ne=__PRIVATE_newUserDataReader(_.firestore);return function __PRIVATE_newQueryBoundFromFields(_,$,ee,te,ne,re){const ie=_.explicitOrderBy;if(ne.length>ie.length)throw new FirestoreError(je.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ae=[];for(let oe=0;oe<ne.length;oe++){const re=ne[oe];if(ie[oe].field.isKeyField()){if("string"!=typeof re)throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof re}`);if(!__PRIVATE_isCollectionGroupQuery(_)&&-1!==re.indexOf("/"))throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${re}' contains a slash.`);const ee=_.path.child(ResourcePath.fromString(re));if(!DocumentKey.isDocumentKey(ee))throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const ne=new DocumentKey(ee);ae.push(__PRIVATE_refValue($,ne))}else{const _=__PRIVATE_parseQueryValue(ee,te,re);ae.push(_)}}return new Bound(ae,re)}(_._query,_.firestore._databaseId,ne,$,ee,te)}}function __PRIVATE_parseDocumentIdValue(_,$,ee){if("string"==typeof(ee=(0,oe.Ku)(ee))){if(""===ee)throw new FirestoreError(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery($)&&-1!==ee.indexOf("/"))throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${ee}' contains a '/' character.`);const te=$.path.child(ResourcePath.fromString(ee));if(!DocumentKey.isDocumentKey(te))throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${te}' is not because it has an odd number of segments (${te.length}).`);return __PRIVATE_refValue(_,new DocumentKey(te))}if(ee instanceof DocumentReference)return __PRIVATE_refValue(_,ee._key);throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(ee)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(_,$){if(!Array.isArray(_)||0===_.length)throw new FirestoreError(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${$.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(_,$){const ee=function __PRIVATE_findOpInsideFilters(_,$){for(const ee of _)for(const _ of ee.getFlattenedFilters())if($.indexOf(_.op)>=0)return _.op;return null}(_.filters,function __PRIVATE_conflictingOps(_){switch(_){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ee)throw ee===$.op?new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`):new FirestoreError(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(__PRIVATE_typeOrder(_)){case 0:return null;case 1:return _.booleanValue;case 2:return __PRIVATE_normalizeNumber(_.integerValue||_.doubleValue);case 3:return this.convertTimestamp(_.timestampValue);case 4:return this.convertServerTimestamp(_,$);case 5:return _.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(_.bytesValue));case 7:return this.convertReference(_.referenceValue);case 8:return this.convertGeoPoint(_.geoPointValue);case 9:return this.convertArray(_.arrayValue,$);case 11:return this.convertObject(_.mapValue,$);case 10:return this.convertVectorValue(_.mapValue);default:throw fail(62114,{value:_})}}convertObject(_,$){return this.convertObjectMap(_.fields,$)}convertObjectMap(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const ee={};return forEach(_,((_,te)=>{ee[_]=this.convertValue(te,$)})),ee}convertVectorValue(_){var $,ee,te;const ne=null===(te=null===(ee=null===($=_.fields)||void 0===$?void 0:$[Ft].arrayValue)||void 0===ee?void 0:ee.values)||void 0===te?void 0:te.map((_=>__PRIVATE_normalizeNumber(_.doubleValue)));return new VectorValue(ne)}convertGeoPoint(_){return new GeoPoint(__PRIVATE_normalizeNumber(_.latitude),__PRIVATE_normalizeNumber(_.longitude))}convertArray(_,$){return(_.values||[]).map((_=>this.convertValue(_,$)))}convertServerTimestamp(_,$){switch($){case"previous":const ee=__PRIVATE_getPreviousValue(_);return null==ee?null:this.convertValue(ee,$);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(_));default:return null}}convertTimestamp(_){const $=__PRIVATE_normalizeTimestamp(_);return new Timestamp($.seconds,$.nanos)}convertDocumentKey(_,$){const ee=ResourcePath.fromString(_);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(ee),9688,{name:_});const te=new DatabaseId(ee.get(1),ee.get(3)),ne=new DocumentKey(ee.popFirst(5));return te.isEqual($)||__PRIVATE_logError(`Document ${ne} contains a document reference within a different database (${te.projectId}/${te.database}) which is not supported. It will be treated as a reference in the current database (${$.projectId}/${$.database}) instead.`),ne}}function __PRIVATE_applyFirestoreDataConverter(_,$,ee){let te;return te=_?ee&&(ee.merge||ee.mergeFields)?_.toFirestore($,ee):_.toFirestore($):$,te}class SnapshotMetadata{constructor(_,$){this.hasPendingWrites=_,this.fromCache=$}isEqual(_){return this.hasPendingWrites===_.hasPendingWrites&&this.fromCache===_.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(_,$,ee,te,ne,re){super(_,$,ee,te,re),this._firestore=_,this._firestoreImpl=_,this.metadata=ne}exists(){return super.exists()}data(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const $=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore($,_)}return this._userDataWriter.convertValue(this._document.data.value,_.serverTimestamps)}}get(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const ee=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(null!==ee)return this._userDataWriter.convertValue(ee,$.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(_)}}class QuerySnapshot{constructor(_,$,ee,te){this._firestore=_,this._userDataWriter=$,this._snapshot=te,this.metadata=new SnapshotMetadata(te.hasPendingWrites,te.fromCache),this.query=ee}get docs(){const _=[];return this.forEach(($=>_.push($))),_}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(_,$){this._snapshot.docs.forEach((ee=>{_.call($,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,ee.key,ee,new SnapshotMetadata(this._snapshot.mutatedKeys.has(ee.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const _=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(_&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===_||(this._cachedChanges=function __PRIVATE_changesFromSnapshot(_,$){if(_._snapshot.oldDocs.isEmpty()){let $=0;return _._snapshot.docChanges.map((ee=>{const te=new QueryDocumentSnapshot(_._firestore,_._userDataWriter,ee.doc.key,ee.doc,new SnapshotMetadata(_._snapshot.mutatedKeys.has(ee.doc.key),_._snapshot.fromCache),_.query.converter);return ee.doc,{type:"added",doc:te,oldIndex:-1,newIndex:$++}}))}{let ee=_._snapshot.oldDocs;return _._snapshot.docChanges.filter((_=>$||3!==_.type)).map(($=>{const te=new QueryDocumentSnapshot(_._firestore,_._userDataWriter,$.doc.key,$.doc,new SnapshotMetadata(_._snapshot.mutatedKeys.has($.doc.key),_._snapshot.fromCache),_.query.converter);let ne=-1,re=-1;return 0!==$.type&&(ne=ee.indexOf($.doc.key),ee=ee.delete($.doc.key)),1!==$.type&&(ee=ee.add($.doc),re=ee.indexOf($.doc.key)),{type:__PRIVATE_resultChangeType($.type),doc:te,oldIndex:ne,newIndex:re}}))}}(this,_),this._cachedChangesIncludeMetadataChanges=_),this._cachedChanges}}function __PRIVATE_resultChangeType(_){switch(_){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:_})}}function getDoc(_){_=__PRIVATE_cast(_,DocumentReference);const $=__PRIVATE_cast(_.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured($),_._key).then((ee=>__PRIVATE_convertToDocSnapshot($,_,ee)))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(_){super(),this.firestore=_}convertBytes(_){return new Bytes(_)}convertReference(_){const $=this.convertDocumentKey(_,this.firestore._databaseId);return new DocumentReference(this.firestore,null,$)}}function getDocs(_){_=__PRIVATE_cast(_,Query);const $=__PRIVATE_cast(_.firestore,Firestore),ee=ensureFirestoreConfigured($),te=new __PRIVATE_ExpUserDataWriter($);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(_._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(ee,_._query).then((ee=>new QuerySnapshot($,te,_,ee)))}function setDoc(_,$,ee){_=__PRIVATE_cast(_,DocumentReference);const te=__PRIVATE_cast(_.firestore,Firestore),ne=__PRIVATE_applyFirestoreDataConverter(_.converter,$,ee);return executeWrite(te,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(te),"setDoc",_._key,ne,null!==_.converter,ee).toMutation(_._key,Precondition.none())])}function updateDoc(_,$,ee){_=__PRIVATE_cast(_,DocumentReference);const te=__PRIVATE_cast(_.firestore,Firestore),ne=__PRIVATE_newUserDataReader(te);let re;for(var ie=arguments.length,ae=new Array(ie>3?ie-3:0),se=3;se<ie;se++)ae[se-3]=arguments[se];return re="string"==typeof($=(0,oe.Ku)($))||$ instanceof FieldPath?__PRIVATE_parseUpdateVarargs(ne,"updateDoc",_._key,$,ee,ae):__PRIVATE_parseUpdateData(ne,"updateDoc",_._key,$),executeWrite(te,[re.toMutation(_._key,Precondition.exists(!0))])}function deleteDoc(_){return executeWrite(__PRIVATE_cast(_.firestore,Firestore),[new __PRIVATE_DeleteMutation(_._key,Precondition.none())])}function addDoc(_,$){const ee=__PRIVATE_cast(_.firestore,Firestore),te=doc(_),ne=__PRIVATE_applyFirestoreDataConverter(_.converter,$);return executeWrite(ee,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(_.firestore),"addDoc",te._key,ne,null!==_.converter,{}).toMutation(te._key,Precondition.exists(!1))]).then((()=>te))}function onSnapshot(_){for(var $=arguments.length,ee=new Array($>1?$-1:0),te=1;te<$;te++)ee[te-1]=arguments[te];var ne,re,ie;_=(0,oe.Ku)(_);let ae={includeMetadataChanges:!1,source:"default"},se=0;"object"!=typeof ee[se]||__PRIVATE_isPartialObserver(ee[se])||(ae=ee[se],se++);const le={includeMetadataChanges:ae.includeMetadataChanges,source:ae.source};if(__PRIVATE_isPartialObserver(ee[se])){const _=ee[se];ee[se]=null===(ne=_.next)||void 0===ne?void 0:ne.bind(_),ee[se+1]=null===(re=_.error)||void 0===re?void 0:re.bind(_),ee[se+2]=null===(ie=_.complete)||void 0===ie?void 0:ie.bind(_)}let de,he,fe;if(_ instanceof DocumentReference)he=__PRIVATE_cast(_.firestore,Firestore),fe=__PRIVATE_newQueryForPath(_._key.path),de={next:$=>{ee[se]&&ee[se](__PRIVATE_convertToDocSnapshot(he,_,$))},error:ee[se+1],complete:ee[se+2]};else{const $=__PRIVATE_cast(_,Query);he=__PRIVATE_cast($.firestore,Firestore),fe=$._query;const te=new __PRIVATE_ExpUserDataWriter(he);de={next:_=>{ee[se]&&ee[se](new QuerySnapshot(he,te,$,_))},error:ee[se+1],complete:ee[se+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(_._query)}return function __PRIVATE_firestoreClientListen(_,$,ee,te){const ne=new __PRIVATE_AsyncObserver(te),re=new __PRIVATE_QueryListener($,ne,ee);return _.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(_),re))),()=>{ne.yu(),_.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(_),re)))}}(ensureFirestoreConfigured(he),fe,le,de)}function executeWrite(_,$){return function __PRIVATE_firestoreClientWrite(_,$){const ee=new __PRIVATE_Deferred;return _.asyncQueue.enqueueAndForget((async()=>async function __PRIVATE_syncEngineWrite(_,$,ee){const te=__PRIVATE_syncEngineEnsureWriteCallbacks(_);try{const _=await function __PRIVATE_localStoreWriteLocally(_,$){const ee=__PRIVATE_debugCast(_),te=Timestamp.now(),ne=$.reduce(((_,$)=>_.add($.key)),__PRIVATE_documentKeySet());let re,ie;return ee.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let ae=__PRIVATE_mutableDocumentMap(),oe=__PRIVATE_documentKeySet();return ee.Cs.getEntries(_,ne).next((_=>{ae=_,ae.forEach(((_,$)=>{$.isValidDocument()||(oe=oe.add(_))}))})).next((()=>ee.localDocuments.getOverlayedDocuments(_,ae))).next((ne=>{re=ne;const ie=[];for(const _ of $){const $=__PRIVATE_mutationExtractBaseValue(_,re.get(_.key).overlayedDocument);null!=$&&ie.push(new __PRIVATE_PatchMutation(_.key,$,__PRIVATE_extractFieldMask($.value.mapValue),Precondition.exists(!0)))}return ee.mutationQueue.addMutationBatch(_,te,ie,$)})).next(($=>{ie=$;const te=$.applyToLocalDocumentSet(re,oe);return ee.documentOverlayCache.saveOverlays(_,$.batchId,te)}))})).then((()=>({batchId:ie.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(re)})))}(te.localStore,$);te.sharedClientState.addPendingMutation(_.batchId),function __PRIVATE_addMutationCallback(_,$,ee){let te=_.uu[_.currentUser.toKey()];te||(te=new SortedMap(__PRIVATE_primitiveComparator)),te=te.insert($,ee),_.uu[_.currentUser.toKey()]=te}(te,_.batchId,ee),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(te,_.changes),await __PRIVATE_fillWritePipeline(te.remoteStore)}catch(_){const $=__PRIVATE_wrapInUserErrorIfRecoverable(_,"Failed to persist write");ee.reject($)}}(await __PRIVATE_getSyncEngine(_),$,ee))),ee.promise}(ensureFirestoreConfigured(_),$)}function __PRIVATE_convertToDocSnapshot(_,$,ee){const te=ee.docs.get($._key),ne=new __PRIVATE_ExpUserDataWriter(_);return new DocumentSnapshot(_,ne,$._key,te,new SnapshotMetadata(ee.hasPendingWrites,ee.fromCache),$.converter)}class WriteBatch{constructor(_,$){this._firestore=_,this._commitHandler=$,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(_)}set(_,$,ee){this._verifyNotCommitted();const te=__PRIVATE_validateReference(_,this._firestore),ne=__PRIVATE_applyFirestoreDataConverter(te.converter,$,ee),re=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",te._key,ne,null!==te.converter,ee);return this._mutations.push(re.toMutation(te._key,Precondition.none())),this}update(_,$,ee){this._verifyNotCommitted();const te=__PRIVATE_validateReference(_,this._firestore);let ne;for(var re=arguments.length,ie=new Array(re>3?re-3:0),ae=3;ae<re;ae++)ie[ae-3]=arguments[ae];return ne="string"==typeof($=(0,oe.Ku)($))||$ instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",te._key,$,ee,ie):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",te._key,$),this._mutations.push(ne.toMutation(te._key,Precondition.exists(!0))),this}delete(_){this._verifyNotCommitted();const $=__PRIVATE_validateReference(_,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation($._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __PRIVATE_validateReference(_,$){if((_=(0,oe.Ku)(_)).firestore!==$)throw new FirestoreError(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return _}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}function arrayUnion(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];return new __PRIVATE_ArrayUnionFieldValueImpl("arrayUnion",$)}function arrayRemove(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];return new __PRIVATE_ArrayRemoveFieldValueImpl("arrayRemove",$)}function writeBatch(_){return ensureFirestoreConfigured(_=__PRIVATE_cast(_,Firestore)),new WriteBatch(_,($=>executeWrite(_,$)))}new WeakMap;!function __PRIVATE_registerFirestore(_){let $=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function __PRIVATE_setSDKVersion(_){Ne=_}(re.MF),(0,re.om)(new ie.uA("firestore",((_,ee)=>{let{instanceIdentifier:te,options:ne}=ee;const re=_.getProvider("app").getImmediate(),ie=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(_.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(re,_.getProvider("app-check-internal")),function __PRIVATE_databaseIdFromApp(_,$){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new FirestoreError(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(_.options.projectId,$)}(re,te),re);return ne=Object.assign({useFetchStreams:$},ne),ie._setSettings(ne),ie}),"PUBLIC").setMultipleInstances(!0)),(0,re.KO)(Ve,De,_),(0,re.KO)(Ve,De,"esm2017")}()},5711:(_,$,ee)=>{"use strict";ee.d($,{A:()=>te});const te=(0,ee(7784).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},6178:function(_,$,ee){(_=ee.nmd(_)).exports=function(){"use strict";var $,ee;function hooks(){return $.apply(null,arguments)}function setHookCallback(_){$=_}function isArray(_){return _ instanceof Array||"[object Array]"===Object.prototype.toString.call(_)}function isObject(_){return null!=_&&"[object Object]"===Object.prototype.toString.call(_)}function hasOwnProp(_,$){return Object.prototype.hasOwnProperty.call(_,$)}function isObjectEmpty(_){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(_).length;var $;for($ in _)if(hasOwnProp(_,$))return!1;return!0}function isUndefined(_){return void 0===_}function isNumber(_){return"number"===typeof _||"[object Number]"===Object.prototype.toString.call(_)}function isDate(_){return _ instanceof Date||"[object Date]"===Object.prototype.toString.call(_)}function map(_,$){var ee,te=[],ne=_.length;for(ee=0;ee<ne;++ee)te.push($(_[ee],ee));return te}function extend(_,$){for(var ee in $)hasOwnProp($,ee)&&(_[ee]=$[ee]);return hasOwnProp($,"toString")&&(_.toString=$.toString),hasOwnProp($,"valueOf")&&(_.valueOf=$.valueOf),_}function createUTC(_,$,ee,te){return createLocalOrUTC(_,$,ee,te,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(_){return null==_._pf&&(_._pf=defaultParsingFlags()),_._pf}function isValid(_){var $=null,te=!1,ne=_._d&&!isNaN(_._d.getTime());return ne&&($=getParsingFlags(_),te=ee.call($.parsedDateParts,(function(_){return null!=_})),ne=$.overflow<0&&!$.empty&&!$.invalidEra&&!$.invalidMonth&&!$.invalidWeekday&&!$.weekdayMismatch&&!$.nullInput&&!$.invalidFormat&&!$.userInvalidated&&(!$.meridiem||$.meridiem&&te),_._strict&&(ne=ne&&0===$.charsLeftOver&&0===$.unusedTokens.length&&void 0===$.bigHour)),null!=Object.isFrozen&&Object.isFrozen(_)?ne:(_._isValid=ne,_._isValid)}function createInvalid(_){var $=createUTC(NaN);return null!=_?extend(getParsingFlags($),_):getParsingFlags($).userInvalidated=!0,$}ee=Array.prototype.some?Array.prototype.some:function(_){var $,ee=Object(this),te=ee.length>>>0;for($=0;$<te;$++)if($ in ee&&_.call(this,ee[$],$,ee))return!0;return!1};var te=hooks.momentProperties=[],ne=!1;function copyConfig(_,$){var ee,ne,re,ie=te.length;if(isUndefined($._isAMomentObject)||(_._isAMomentObject=$._isAMomentObject),isUndefined($._i)||(_._i=$._i),isUndefined($._f)||(_._f=$._f),isUndefined($._l)||(_._l=$._l),isUndefined($._strict)||(_._strict=$._strict),isUndefined($._tzm)||(_._tzm=$._tzm),isUndefined($._isUTC)||(_._isUTC=$._isUTC),isUndefined($._offset)||(_._offset=$._offset),isUndefined($._pf)||(_._pf=getParsingFlags($)),isUndefined($._locale)||(_._locale=$._locale),ie>0)for(ee=0;ee<ie;ee++)isUndefined(re=$[ne=te[ee]])||(_[ne]=re);return _}function Moment(_){copyConfig(this,_),this._d=new Date(null!=_._d?_._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ne&&(ne=!0,hooks.updateOffset(this),ne=!1)}function isMoment(_){return _ instanceof Moment||null!=_&&null!=_._isAMomentObject}function warn(_){!1===hooks.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+_)}function deprecate(_,$){var ee=!0;return extend((function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,_),ee){var te,ne,re,ie=[],ae=arguments.length;for(ne=0;ne<ae;ne++){if(te="","object"===typeof arguments[ne]){for(re in te+="\n["+ne+"] ",arguments[0])hasOwnProp(arguments[0],re)&&(te+=re+": "+arguments[0][re]+", ");te=te.slice(0,-2)}else te=arguments[ne];ie.push(te)}warn(_+"\nArguments: "+Array.prototype.slice.call(ie).join("")+"\n"+(new Error).stack),ee=!1}return $.apply(this,arguments)}),$)}var re,ie={};function deprecateSimple(_,$){null!=hooks.deprecationHandler&&hooks.deprecationHandler(_,$),ie[_]||(warn($),ie[_]=!0)}function isFunction(_){return"undefined"!==typeof Function&&_ instanceof Function||"[object Function]"===Object.prototype.toString.call(_)}function set(_){var $,ee;for(ee in _)hasOwnProp(_,ee)&&(isFunction($=_[ee])?this[ee]=$:this["_"+ee]=$);this._config=_,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(_,$){var ee,te=extend({},_);for(ee in $)hasOwnProp($,ee)&&(isObject(_[ee])&&isObject($[ee])?(te[ee]={},extend(te[ee],_[ee]),extend(te[ee],$[ee])):null!=$[ee]?te[ee]=$[ee]:delete te[ee]);for(ee in _)hasOwnProp(_,ee)&&!hasOwnProp($,ee)&&isObject(_[ee])&&(te[ee]=extend({},te[ee]));return te}function Locale(_){null!=_&&this.set(_)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,re=Object.keys?Object.keys:function(_){var $,ee=[];for($ in _)hasOwnProp(_,$)&&ee.push($);return ee};var ae={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(_,$,ee){var te=this._calendar[_]||this._calendar.sameElse;return isFunction(te)?te.call($,ee):te}function zeroFill(_,$,ee){var te=""+Math.abs(_),ne=$-te.length;return(_>=0?ee?"+":"":"-")+Math.pow(10,Math.max(0,ne)).toString().substr(1)+te}var oe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,se=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,le={},de={};function addFormatToken(_,$,ee,te){var ne=te;"string"===typeof te&&(ne=function(){return this[te]()}),_&&(de[_]=ne),$&&(de[$[0]]=function(){return zeroFill(ne.apply(this,arguments),$[1],$[2])}),ee&&(de[ee]=function(){return this.localeData().ordinal(ne.apply(this,arguments),_)})}function removeFormattingTokens(_){return _.match(/\[[\s\S]/)?_.replace(/^\[|\]$/g,""):_.replace(/\\/g,"")}function makeFormatFunction(_){var $,ee,te=_.match(oe);for($=0,ee=te.length;$<ee;$++)de[te[$]]?te[$]=de[te[$]]:te[$]=removeFormattingTokens(te[$]);return function($){var ne,re="";for(ne=0;ne<ee;ne++)re+=isFunction(te[ne])?te[ne].call($,_):te[ne];return re}}function formatMoment(_,$){return _.isValid()?($=expandFormat($,_.localeData()),le[$]=le[$]||makeFormatFunction($),le[$](_)):_.localeData().invalidDate()}function expandFormat(_,$){var ee=5;function replaceLongDateFormatTokens(_){return $.longDateFormat(_)||_}for(se.lastIndex=0;ee>=0&&se.test(_);)_=_.replace(se,replaceLongDateFormatTokens),se.lastIndex=0,ee-=1;return _}var he={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(_){var $=this._longDateFormat[_],ee=this._longDateFormat[_.toUpperCase()];return $||!ee?$:(this._longDateFormat[_]=ee.match(oe).map((function(_){return"MMMM"===_||"MM"===_||"DD"===_||"dddd"===_?_.slice(1):_})).join(""),this._longDateFormat[_])}var fe="Invalid date";function invalidDate(){return this._invalidDate}var pe="%d",me=/\d{1,2}/;function ordinal(_){return this._ordinal.replace("%d",_)}var _e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(_,$,ee,te){var ne=this._relativeTime[ee];return isFunction(ne)?ne(_,$,ee,te):ne.replace(/%d/i,_)}function pastFuture(_,$){var ee=this._relativeTime[_>0?"future":"past"];return isFunction(ee)?ee($):ee.replace(/%s/i,$)}var be={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(_){return"string"===typeof _?be[_]||be[_.toLowerCase()]:void 0}function normalizeObjectUnits(_){var $,ee,te={};for(ee in _)hasOwnProp(_,ee)&&($=normalizeUnits(ee))&&(te[$]=_[ee]);return te}var we={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(_){var $,ee=[];for($ in _)hasOwnProp(_,$)&&ee.push({unit:$,priority:we[$]});return ee.sort((function(_,$){return _.priority-$.priority})),ee}var Ee,ke=/\d/,Ve=/\d\d/,De=/\d{3}/,Ne=/\d{4}/,Me=/[+-]?\d{6}/,je=/\d\d?/,Le=/\d\d\d\d?/,ze=/\d\d\d\d\d\d?/,qe=/\d{1,3}/,Ke=/\d{1,4}/,et=/[+-]?\d{1,6}/,tt=/\d+/,nt=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,it=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[+-]?\d+(\.\d{1,3})?/,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st=/^[1-9]\d?/,lt=/^([1-9]\d|\d)/;function addRegexToken(_,$,ee){Ee[_]=isFunction($)?$:function(_,te){return _&&ee?ee:$}}function getParseRegexForToken(_,$){return hasOwnProp(Ee,_)?Ee[_]($._strict,$._locale):new RegExp(unescapeFormat(_))}function unescapeFormat(_){return regexEscape(_.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(_,$,ee,te,ne){return $||ee||te||ne})))}function regexEscape(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(_){return _<0?Math.ceil(_)||0:Math.floor(_)}function toInt(_){var $=+_,ee=0;return 0!==$&&isFinite($)&&(ee=absFloor($)),ee}Ee={};var ct={};function addParseToken(_,$){var ee,te,ne=$;for("string"===typeof _&&(_=[_]),isNumber($)&&(ne=function(_,ee){ee[$]=toInt(_)}),te=_.length,ee=0;ee<te;ee++)ct[_[ee]]=ne}function addWeekParseToken(_,$){addParseToken(_,(function(_,ee,te,ne){te._w=te._w||{},$(_,te._w,te,ne)}))}function addTimeToArrayFromToken(_,$,ee){null!=$&&hasOwnProp(ct,_)&&ct[_]($,ee._a,ee,_)}function isLeapYear(_){return _%4===0&&_%100!==0||_%400===0}var ut=0,dt=1,ht=2,ft=3,pt=4,mt=5,gt=6,_t=7,yt=8;function daysInYear(_){return isLeapYear(_)?366:365}addFormatToken("Y",0,0,(function(){var _=this.year();return _<=9999?zeroFill(_,4):"+"+_})),addFormatToken(0,["YY",2],0,(function(){return this.year()%100})),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addRegexToken("Y",nt),addRegexToken("YY",je,Ve),addRegexToken("YYYY",Ke,Ne),addRegexToken("YYYYY",et,Me),addRegexToken("YYYYYY",et,Me),addParseToken(["YYYYY","YYYYYY"],ut),addParseToken("YYYY",(function(_,$){$[ut]=2===_.length?hooks.parseTwoDigitYear(_):toInt(_)})),addParseToken("YY",(function(_,$){$[ut]=hooks.parseTwoDigitYear(_)})),addParseToken("Y",(function(_,$){$[ut]=parseInt(_,10)})),hooks.parseTwoDigitYear=function(_){return toInt(_)+(toInt(_)>68?1900:2e3)};var vt,bt=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(_,$){return function(ee){return null!=ee?(set$1(this,_,ee),hooks.updateOffset(this,$),this):get(this,_)}}function get(_,$){if(!_.isValid())return NaN;var ee=_._d,te=_._isUTC;switch($){case"Milliseconds":return te?ee.getUTCMilliseconds():ee.getMilliseconds();case"Seconds":return te?ee.getUTCSeconds():ee.getSeconds();case"Minutes":return te?ee.getUTCMinutes():ee.getMinutes();case"Hours":return te?ee.getUTCHours():ee.getHours();case"Date":return te?ee.getUTCDate():ee.getDate();case"Day":return te?ee.getUTCDay():ee.getDay();case"Month":return te?ee.getUTCMonth():ee.getMonth();case"FullYear":return te?ee.getUTCFullYear():ee.getFullYear();default:return NaN}}function set$1(_,$,ee){var te,ne,re,ie,ae;if(_.isValid()&&!isNaN(ee)){switch(te=_._d,ne=_._isUTC,$){case"Milliseconds":return void(ne?te.setUTCMilliseconds(ee):te.setMilliseconds(ee));case"Seconds":return void(ne?te.setUTCSeconds(ee):te.setSeconds(ee));case"Minutes":return void(ne?te.setUTCMinutes(ee):te.setMinutes(ee));case"Hours":return void(ne?te.setUTCHours(ee):te.setHours(ee));case"Date":return void(ne?te.setUTCDate(ee):te.setDate(ee));case"FullYear":break;default:return}re=ee,ie=_.month(),ae=29!==(ae=_.date())||1!==ie||isLeapYear(re)?ae:28,ne?te.setUTCFullYear(re,ie,ae):te.setFullYear(re,ie,ae)}}function stringGet(_){return isFunction(this[_=normalizeUnits(_)])?this[_]():this}function stringSet(_,$){if("object"===typeof _){var ee,te=getPrioritizedUnits(_=normalizeObjectUnits(_)),ne=te.length;for(ee=0;ee<ne;ee++)this[te[ee].unit](_[te[ee].unit])}else if(isFunction(this[_=normalizeUnits(_)]))return this[_]($);return this}function mod(_,$){return(_%$+$)%$}function daysInMonth(_,$){if(isNaN(_)||isNaN($))return NaN;var ee=mod($,12);return _+=($-ee)/12,1===ee?isLeapYear(_)?29:28:31-ee%7%2}vt=Array.prototype.indexOf?Array.prototype.indexOf:function(_){var $;for($=0;$<this.length;++$)if(this[$]===_)return $;return-1},addFormatToken("M",["MM",2],"Mo",(function(){return this.month()+1})),addFormatToken("MMM",0,0,(function(_){return this.localeData().monthsShort(this,_)})),addFormatToken("MMMM",0,0,(function(_){return this.localeData().months(this,_)})),addRegexToken("M",je,st),addRegexToken("MM",je,Ve),addRegexToken("MMM",(function(_,$){return $.monthsShortRegex(_)})),addRegexToken("MMMM",(function(_,$){return $.monthsRegex(_)})),addParseToken(["M","MM"],(function(_,$){$[dt]=toInt(_)-1})),addParseToken(["MMM","MMMM"],(function(_,$,ee,te){var ne=ee._locale.monthsParse(_,te,ee._strict);null!=ne?$[dt]=ne:getParsingFlags(ee).invalidMonth=_}));var wt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tt=ot,At=ot;function localeMonths(_,$){return _?isArray(this._months)?this._months[_.month()]:this._months[(this._months.isFormat||Et).test($)?"format":"standalone"][_.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(_,$){return _?isArray(this._monthsShort)?this._monthsShort[_.month()]:this._monthsShort[Et.test($)?"format":"standalone"][_.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(_,$,ee){var te,ne,re,ie=_.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],te=0;te<12;++te)re=createUTC([2e3,te]),this._shortMonthsParse[te]=this.monthsShort(re,"").toLocaleLowerCase(),this._longMonthsParse[te]=this.months(re,"").toLocaleLowerCase();return ee?"MMM"===$?-1!==(ne=vt.call(this._shortMonthsParse,ie))?ne:null:-1!==(ne=vt.call(this._longMonthsParse,ie))?ne:null:"MMM"===$?-1!==(ne=vt.call(this._shortMonthsParse,ie))||-1!==(ne=vt.call(this._longMonthsParse,ie))?ne:null:-1!==(ne=vt.call(this._longMonthsParse,ie))||-1!==(ne=vt.call(this._shortMonthsParse,ie))?ne:null}function localeMonthsParse(_,$,ee){var te,ne,re;if(this._monthsParseExact)return handleStrictParse.call(this,_,$,ee);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),te=0;te<12;te++){if(ne=createUTC([2e3,te]),ee&&!this._longMonthsParse[te]&&(this._longMonthsParse[te]=new RegExp("^"+this.months(ne,"").replace(".","")+"$","i"),this._shortMonthsParse[te]=new RegExp("^"+this.monthsShort(ne,"").replace(".","")+"$","i")),ee||this._monthsParse[te]||(re="^"+this.months(ne,"")+"|^"+this.monthsShort(ne,""),this._monthsParse[te]=new RegExp(re.replace(".",""),"i")),ee&&"MMMM"===$&&this._longMonthsParse[te].test(_))return te;if(ee&&"MMM"===$&&this._shortMonthsParse[te].test(_))return te;if(!ee&&this._monthsParse[te].test(_))return te}}function setMonth(_,$){if(!_.isValid())return _;if("string"===typeof $)if(/^\d+$/.test($))$=toInt($);else if(!isNumber($=_.localeData().monthsParse($)))return _;var ee=$,te=_.date();return te=te<29?te:Math.min(te,daysInMonth(_.year(),ee)),_._isUTC?_._d.setUTCMonth(ee,te):_._d.setMonth(ee,te),_}function getSetMonth(_){return null!=_?(setMonth(this,_),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(_){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),_?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=Tt),this._monthsShortStrictRegex&&_?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(_){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),_?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=At),this._monthsStrictRegex&&_?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(_,$){return $.length-_.length}var _,$,ee,te,ne=[],re=[],ie=[];for(_=0;_<12;_++)$=createUTC([2e3,_]),ee=regexEscape(this.monthsShort($,"")),te=regexEscape(this.months($,"")),ne.push(ee),re.push(te),ie.push(te),ie.push(ee);ne.sort(cmpLenRev),re.sort(cmpLenRev),ie.sort(cmpLenRev),this._monthsRegex=new RegExp("^("+ie.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+re.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+ne.join("|")+")","i")}function createDate(_,$,ee,te,ne,re,ie){var ae;return _<100&&_>=0?(ae=new Date(_+400,$,ee,te,ne,re,ie),isFinite(ae.getFullYear())&&ae.setFullYear(_)):ae=new Date(_,$,ee,te,ne,re,ie),ae}function createUTCDate(_){var $,ee;return _<100&&_>=0?((ee=Array.prototype.slice.call(arguments))[0]=_+400,$=new Date(Date.UTC.apply(null,ee)),isFinite($.getUTCFullYear())&&$.setUTCFullYear(_)):$=new Date(Date.UTC.apply(null,arguments)),$}function firstWeekOffset(_,$,ee){var te=7+$-ee;return-(7+createUTCDate(_,0,te).getUTCDay()-$)%7+te-1}function dayOfYearFromWeeks(_,$,ee,te,ne){var re,ie,ae=1+7*($-1)+(7+ee-te)%7+firstWeekOffset(_,te,ne);return ae<=0?ie=daysInYear(re=_-1)+ae:ae>daysInYear(_)?(re=_+1,ie=ae-daysInYear(_)):(re=_,ie=ae),{year:re,dayOfYear:ie}}function weekOfYear(_,$,ee){var te,ne,re=firstWeekOffset(_.year(),$,ee),ie=Math.floor((_.dayOfYear()-re-1)/7)+1;return ie<1?te=ie+weeksInYear(ne=_.year()-1,$,ee):ie>weeksInYear(_.year(),$,ee)?(te=ie-weeksInYear(_.year(),$,ee),ne=_.year()+1):(ne=_.year(),te=ie),{week:te,year:ne}}function weeksInYear(_,$,ee){var te=firstWeekOffset(_,$,ee),ne=firstWeekOffset(_+1,$,ee);return(daysInYear(_)-te+ne)/7}function localeWeek(_){return weekOfYear(_,this._week.dow,this._week.doy).week}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addRegexToken("w",je,st),addRegexToken("ww",je,Ve),addRegexToken("W",je,st),addRegexToken("WW",je,Ve),addWeekParseToken(["w","ww","W","WW"],(function(_,$,ee,te){$[te.substr(0,1)]=toInt(_)}));var kt={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(_){var $=this.localeData().week(this);return null==_?$:this.add(7*(_-$),"d")}function getSetISOWeek(_){var $=weekOfYear(this,1,4).week;return null==_?$:this.add(7*(_-$),"d")}function parseWeekday(_,$){return"string"!==typeof _?_:isNaN(_)?"number"===typeof(_=$.weekdaysParse(_))?_:null:parseInt(_,10)}function parseIsoWeekday(_,$){return"string"===typeof _?$.weekdaysParse(_)%7||7:isNaN(_)?null:_}function shiftWeekdays(_,$){return _.slice($,7).concat(_.slice(0,$))}addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,(function(_){return this.localeData().weekdaysMin(this,_)})),addFormatToken("ddd",0,0,(function(_){return this.localeData().weekdaysShort(this,_)})),addFormatToken("dddd",0,0,(function(_){return this.localeData().weekdays(this,_)})),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addRegexToken("d",je),addRegexToken("e",je),addRegexToken("E",je),addRegexToken("dd",(function(_,$){return $.weekdaysMinRegex(_)})),addRegexToken("ddd",(function(_,$){return $.weekdaysShortRegex(_)})),addRegexToken("dddd",(function(_,$){return $.weekdaysRegex(_)})),addWeekParseToken(["dd","ddd","dddd"],(function(_,$,ee,te){var ne=ee._locale.weekdaysParse(_,te,ee._strict);null!=ne?$.d=ne:getParsingFlags(ee).invalidWeekday=_})),addWeekParseToken(["d","e","E"],(function(_,$,ee,te){$[te]=toInt(_)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),It="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),St="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rt=ot,Ct=ot,Vt=ot;function localeWeekdays(_,$){var ee=isArray(this._weekdays)?this._weekdays:this._weekdays[_&&!0!==_&&this._weekdays.isFormat.test($)?"format":"standalone"];return!0===_?shiftWeekdays(ee,this._week.dow):_?ee[_.day()]:ee}function localeWeekdaysShort(_){return!0===_?shiftWeekdays(this._weekdaysShort,this._week.dow):_?this._weekdaysShort[_.day()]:this._weekdaysShort}function localeWeekdaysMin(_){return!0===_?shiftWeekdays(this._weekdaysMin,this._week.dow):_?this._weekdaysMin[_.day()]:this._weekdaysMin}function handleStrictParse$1(_,$,ee){var te,ne,re,ie=_.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],te=0;te<7;++te)re=createUTC([2e3,1]).day(te),this._minWeekdaysParse[te]=this.weekdaysMin(re,"").toLocaleLowerCase(),this._shortWeekdaysParse[te]=this.weekdaysShort(re,"").toLocaleLowerCase(),this._weekdaysParse[te]=this.weekdays(re,"").toLocaleLowerCase();return ee?"dddd"===$?-1!==(ne=vt.call(this._weekdaysParse,ie))?ne:null:"ddd"===$?-1!==(ne=vt.call(this._shortWeekdaysParse,ie))?ne:null:-1!==(ne=vt.call(this._minWeekdaysParse,ie))?ne:null:"dddd"===$?-1!==(ne=vt.call(this._weekdaysParse,ie))||-1!==(ne=vt.call(this._shortWeekdaysParse,ie))||-1!==(ne=vt.call(this._minWeekdaysParse,ie))?ne:null:"ddd"===$?-1!==(ne=vt.call(this._shortWeekdaysParse,ie))||-1!==(ne=vt.call(this._weekdaysParse,ie))||-1!==(ne=vt.call(this._minWeekdaysParse,ie))?ne:null:-1!==(ne=vt.call(this._minWeekdaysParse,ie))||-1!==(ne=vt.call(this._weekdaysParse,ie))||-1!==(ne=vt.call(this._shortWeekdaysParse,ie))?ne:null}function localeWeekdaysParse(_,$,ee){var te,ne,re;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,_,$,ee);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),te=0;te<7;te++){if(ne=createUTC([2e3,1]).day(te),ee&&!this._fullWeekdaysParse[te]&&(this._fullWeekdaysParse[te]=new RegExp("^"+this.weekdays(ne,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[te]=new RegExp("^"+this.weekdaysShort(ne,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[te]=new RegExp("^"+this.weekdaysMin(ne,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[te]||(re="^"+this.weekdays(ne,"")+"|^"+this.weekdaysShort(ne,"")+"|^"+this.weekdaysMin(ne,""),this._weekdaysParse[te]=new RegExp(re.replace(".",""),"i")),ee&&"dddd"===$&&this._fullWeekdaysParse[te].test(_))return te;if(ee&&"ddd"===$&&this._shortWeekdaysParse[te].test(_))return te;if(ee&&"dd"===$&&this._minWeekdaysParse[te].test(_))return te;if(!ee&&this._weekdaysParse[te].test(_))return te}}function getSetDayOfWeek(_){if(!this.isValid())return null!=_?this:NaN;var $=get(this,"Day");return null!=_?(_=parseWeekday(_,this.localeData()),this.add(_-$,"d")):$}function getSetLocaleDayOfWeek(_){if(!this.isValid())return null!=_?this:NaN;var $=(this.day()+7-this.localeData()._week.dow)%7;return null==_?$:this.add(_-$,"d")}function getSetISODayOfWeek(_){if(!this.isValid())return null!=_?this:NaN;if(null!=_){var $=parseIsoWeekday(_,this.localeData());return this.day(this.day()%7?$:$-7)}return this.day()||7}function weekdaysRegex(_){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=Rt),this._weekdaysStrictRegex&&_?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(_){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ct),this._weekdaysShortStrictRegex&&_?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(_){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vt),this._weekdaysMinStrictRegex&&_?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(_,$){return $.length-_.length}var _,$,ee,te,ne,re=[],ie=[],ae=[],oe=[];for(_=0;_<7;_++)$=createUTC([2e3,1]).day(_),ee=regexEscape(this.weekdaysMin($,"")),te=regexEscape(this.weekdaysShort($,"")),ne=regexEscape(this.weekdays($,"")),re.push(ee),ie.push(te),ae.push(ne),oe.push(ee),oe.push(te),oe.push(ne);re.sort(cmpLenRev),ie.sort(cmpLenRev),ae.sort(cmpLenRev),oe.sort(cmpLenRev),this._weekdaysRegex=new RegExp("^("+oe.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ae.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ie.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+re.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(_,$){addFormatToken(_,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),$)}))}function matchMeridiem(_,$){return $._meridiemParse}function localeIsPM(_){return"p"===(_+"").toLowerCase().charAt(0)}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,(function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)})),addFormatToken("hmmss",0,0,(function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)})),addFormatToken("Hmm",0,0,(function(){return""+this.hours()+zeroFill(this.minutes(),2)})),addFormatToken("Hmmss",0,0,(function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)})),meridiem("a",!0),meridiem("A",!1),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",je,lt),addRegexToken("h",je,st),addRegexToken("k",je,st),addRegexToken("HH",je,Ve),addRegexToken("hh",je,Ve),addRegexToken("kk",je,Ve),addRegexToken("hmm",Le),addRegexToken("hmmss",ze),addRegexToken("Hmm",Le),addRegexToken("Hmmss",ze),addParseToken(["H","HH"],ft),addParseToken(["k","kk"],(function(_,$,ee){var te=toInt(_);$[ft]=24===te?0:te})),addParseToken(["a","A"],(function(_,$,ee){ee._isPm=ee._locale.isPM(_),ee._meridiem=_})),addParseToken(["h","hh"],(function(_,$,ee){$[ft]=toInt(_),getParsingFlags(ee).bigHour=!0})),addParseToken("hmm",(function(_,$,ee){var te=_.length-2;$[ft]=toInt(_.substr(0,te)),$[pt]=toInt(_.substr(te)),getParsingFlags(ee).bigHour=!0})),addParseToken("hmmss",(function(_,$,ee){var te=_.length-4,ne=_.length-2;$[ft]=toInt(_.substr(0,te)),$[pt]=toInt(_.substr(te,2)),$[mt]=toInt(_.substr(ne)),getParsingFlags(ee).bigHour=!0})),addParseToken("Hmm",(function(_,$,ee){var te=_.length-2;$[ft]=toInt(_.substr(0,te)),$[pt]=toInt(_.substr(te))})),addParseToken("Hmmss",(function(_,$,ee){var te=_.length-4,ne=_.length-2;$[ft]=toInt(_.substr(0,te)),$[pt]=toInt(_.substr(te,2)),$[mt]=toInt(_.substr(ne))}));var Dt=/[ap]\.?m?\.?/i,Nt=makeGetSet("Hours",!0);function localeMeridiem(_,$,ee){return _>11?ee?"pm":"PM":ee?"am":"AM"}var Ot,Mt={calendar:ae,longDateFormat:he,invalidDate:fe,ordinal:pe,dayOfMonthOrdinalParse:me,relativeTime:_e,months:wt,monthsShort:xt,week:kt,weekdays:Pt,weekdaysMin:St,weekdaysShort:It,meridiemParse:Dt},Ft={},jt={};function commonPrefix(_,$){var ee,te=Math.min(_.length,$.length);for(ee=0;ee<te;ee+=1)if(_[ee]!==$[ee])return ee;return te}function normalizeLocale(_){return _?_.toLowerCase().replace("_","-"):_}function chooseLocale(_){for(var $,ee,te,ne,re=0;re<_.length;){for($=(ne=normalizeLocale(_[re]).split("-")).length,ee=(ee=normalizeLocale(_[re+1]))?ee.split("-"):null;$>0;){if(te=loadLocale(ne.slice(0,$).join("-")))return te;if(ee&&ee.length>=$&&commonPrefix(ne,ee)>=$-1)break;$--}re++}return Ot}function isLocaleNameSane(_){return!(!_||!_.match("^[^/\\\\]*$"))}function loadLocale($){var ee=null;if(void 0===Ft[$]&&_&&_.exports&&isLocaleNameSane($))try{ee=Ot._abbr,Object(function webpackMissingModule(){var _=new Error("Cannot find module 'undefined'");throw _.code="MODULE_NOT_FOUND",_}()),getSetGlobalLocale(ee)}catch(te){Ft[$]=null}return Ft[$]}function getSetGlobalLocale(_,$){var ee;return _&&((ee=isUndefined($)?getLocale(_):defineLocale(_,$))?Ot=ee:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+_+" not found. Did you forget to load it?")),Ot._abbr}function defineLocale(_,$){if(null!==$){var ee,te=Mt;if($.abbr=_,null!=Ft[_])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),te=Ft[_]._config;else if(null!=$.parentLocale)if(null!=Ft[$.parentLocale])te=Ft[$.parentLocale]._config;else{if(null==(ee=loadLocale($.parentLocale)))return jt[$.parentLocale]||(jt[$.parentLocale]=[]),jt[$.parentLocale].push({name:_,config:$}),null;te=ee._config}return Ft[_]=new Locale(mergeConfigs(te,$)),jt[_]&&jt[_].forEach((function(_){defineLocale(_.name,_.config)})),getSetGlobalLocale(_),Ft[_]}return delete Ft[_],null}function updateLocale(_,$){if(null!=$){var ee,te,ne=Mt;null!=Ft[_]&&null!=Ft[_].parentLocale?Ft[_].set(mergeConfigs(Ft[_]._config,$)):(null!=(te=loadLocale(_))&&(ne=te._config),$=mergeConfigs(ne,$),null==te&&($.abbr=_),(ee=new Locale($)).parentLocale=Ft[_],Ft[_]=ee),getSetGlobalLocale(_)}else null!=Ft[_]&&(null!=Ft[_].parentLocale?(Ft[_]=Ft[_].parentLocale,_===getSetGlobalLocale()&&getSetGlobalLocale(_)):null!=Ft[_]&&delete Ft[_]);return Ft[_]}function getLocale(_){var $;if(_&&_._locale&&_._locale._abbr&&(_=_._locale._abbr),!_)return Ot;if(!isArray(_)){if($=loadLocale(_))return $;_=[_]}return chooseLocale(_)}function listLocales(){return re(Ft)}function checkOverflow(_){var $,ee=_._a;return ee&&-2===getParsingFlags(_).overflow&&($=ee[dt]<0||ee[dt]>11?dt:ee[ht]<1||ee[ht]>daysInMonth(ee[ut],ee[dt])?ht:ee[ft]<0||ee[ft]>24||24===ee[ft]&&(0!==ee[pt]||0!==ee[mt]||0!==ee[gt])?ft:ee[pt]<0||ee[pt]>59?pt:ee[mt]<0||ee[mt]>59?mt:ee[gt]<0||ee[gt]>999?gt:-1,getParsingFlags(_)._overflowDayOfYear&&($<ut||$>ht)&&($=ht),getParsingFlags(_)._overflowWeeks&&-1===$&&($=_t),getParsingFlags(_)._overflowWeekday&&-1===$&&($=yt),getParsingFlags(_).overflow=$),_}var Lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bt=/Z|[+-]\d\d(?::?\d\d)?/,zt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wt=/^\/?Date\((-?\d+)/i,Ht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(_){var $,ee,te,ne,re,ie,ae=_._i,oe=Lt.exec(ae)||Ut.exec(ae),se=zt.length,le=qt.length;if(oe){for(getParsingFlags(_).iso=!0,$=0,ee=se;$<ee;$++)if(zt[$][1].exec(oe[1])){ne=zt[$][0],te=!1!==zt[$][2];break}if(null==ne)return void(_._isValid=!1);if(oe[3]){for($=0,ee=le;$<ee;$++)if(qt[$][1].exec(oe[3])){re=(oe[2]||" ")+qt[$][0];break}if(null==re)return void(_._isValid=!1)}if(!te&&null!=re)return void(_._isValid=!1);if(oe[4]){if(!Bt.exec(oe[4]))return void(_._isValid=!1);ie="Z"}_._f=ne+(re||"")+(ie||""),configFromStringAndFormat(_)}else _._isValid=!1}function extractFromRFC2822Strings(_,$,ee,te,ne,re){var ie=[untruncateYear(_),xt.indexOf($),parseInt(ee,10),parseInt(te,10),parseInt(ne,10)];return re&&ie.push(parseInt(re,10)),ie}function untruncateYear(_){var $=parseInt(_,10);return $<=49?2e3+$:$<=999?1900+$:$}function preprocessRFC2822(_){return _.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(_,$,ee){return!_||It.indexOf(_)===new Date($[0],$[1],$[2]).getDay()||(getParsingFlags(ee).weekdayMismatch=!0,ee._isValid=!1,!1)}function calculateOffset(_,$,ee){if(_)return $t[_];if($)return 0;var te=parseInt(ee,10),ne=te%100;return(te-ne)/100*60+ne}function configFromRFC2822(_){var $,ee=Ht.exec(preprocessRFC2822(_._i));if(ee){if($=extractFromRFC2822Strings(ee[4],ee[3],ee[2],ee[5],ee[6],ee[7]),!checkWeekday(ee[1],$,_))return;_._a=$,_._tzm=calculateOffset(ee[8],ee[9],ee[10]),_._d=createUTCDate.apply(null,_._a),_._d.setUTCMinutes(_._d.getUTCMinutes()-_._tzm),getParsingFlags(_).rfc2822=!0}else _._isValid=!1}function configFromString(_){var $=Wt.exec(_._i);null===$?(configFromISO(_),!1===_._isValid&&(delete _._isValid,configFromRFC2822(_),!1===_._isValid&&(delete _._isValid,_._strict?_._isValid=!1:hooks.createFromInputFallback(_)))):_._d=new Date(+$[1])}function defaults(_,$,ee){return null!=_?_:null!=$?$:ee}function currentDateArray(_){var $=new Date(hooks.now());return _._useUTC?[$.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate()]:[$.getFullYear(),$.getMonth(),$.getDate()]}function configFromArray(_){var $,ee,te,ne,re,ie=[];if(!_._d){for(te=currentDateArray(_),_._w&&null==_._a[ht]&&null==_._a[dt]&&dayOfYearFromWeekInfo(_),null!=_._dayOfYear&&(re=defaults(_._a[ut],te[ut]),(_._dayOfYear>daysInYear(re)||0===_._dayOfYear)&&(getParsingFlags(_)._overflowDayOfYear=!0),ee=createUTCDate(re,0,_._dayOfYear),_._a[dt]=ee.getUTCMonth(),_._a[ht]=ee.getUTCDate()),$=0;$<3&&null==_._a[$];++$)_._a[$]=ie[$]=te[$];for(;$<7;$++)_._a[$]=ie[$]=null==_._a[$]?2===$?1:0:_._a[$];24===_._a[ft]&&0===_._a[pt]&&0===_._a[mt]&&0===_._a[gt]&&(_._nextDay=!0,_._a[ft]=0),_._d=(_._useUTC?createUTCDate:createDate).apply(null,ie),ne=_._useUTC?_._d.getUTCDay():_._d.getDay(),null!=_._tzm&&_._d.setUTCMinutes(_._d.getUTCMinutes()-_._tzm),_._nextDay&&(_._a[ft]=24),_._w&&"undefined"!==typeof _._w.d&&_._w.d!==ne&&(getParsingFlags(_).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(_){var $,ee,te,ne,re,ie,ae,oe,se;null!=($=_._w).GG||null!=$.W||null!=$.E?(re=1,ie=4,ee=defaults($.GG,_._a[ut],weekOfYear(createLocal(),1,4).year),te=defaults($.W,1),((ne=defaults($.E,1))<1||ne>7)&&(oe=!0)):(re=_._locale._week.dow,ie=_._locale._week.doy,se=weekOfYear(createLocal(),re,ie),ee=defaults($.gg,_._a[ut],se.year),te=defaults($.w,se.week),null!=$.d?((ne=$.d)<0||ne>6)&&(oe=!0):null!=$.e?(ne=$.e+re,($.e<0||$.e>6)&&(oe=!0)):ne=re),te<1||te>weeksInYear(ee,re,ie)?getParsingFlags(_)._overflowWeeks=!0:null!=oe?getParsingFlags(_)._overflowWeekday=!0:(ae=dayOfYearFromWeeks(ee,te,ne,re,ie),_._a[ut]=ae.year,_._dayOfYear=ae.dayOfYear)}function configFromStringAndFormat(_){if(_._f!==hooks.ISO_8601)if(_._f!==hooks.RFC_2822){_._a=[],getParsingFlags(_).empty=!0;var $,ee,te,ne,re,ie,ae,se=""+_._i,le=se.length,he=0;for(ae=(te=expandFormat(_._f,_._locale).match(oe)||[]).length,$=0;$<ae;$++)ne=te[$],(ee=(se.match(getParseRegexForToken(ne,_))||[])[0])&&((re=se.substr(0,se.indexOf(ee))).length>0&&getParsingFlags(_).unusedInput.push(re),se=se.slice(se.indexOf(ee)+ee.length),he+=ee.length),de[ne]?(ee?getParsingFlags(_).empty=!1:getParsingFlags(_).unusedTokens.push(ne),addTimeToArrayFromToken(ne,ee,_)):_._strict&&!ee&&getParsingFlags(_).unusedTokens.push(ne);getParsingFlags(_).charsLeftOver=le-he,se.length>0&&getParsingFlags(_).unusedInput.push(se),_._a[ft]<=12&&!0===getParsingFlags(_).bigHour&&_._a[ft]>0&&(getParsingFlags(_).bigHour=void 0),getParsingFlags(_).parsedDateParts=_._a.slice(0),getParsingFlags(_).meridiem=_._meridiem,_._a[ft]=meridiemFixWrap(_._locale,_._a[ft],_._meridiem),null!==(ie=getParsingFlags(_).era)&&(_._a[ut]=_._locale.erasConvertYear(ie,_._a[ut])),configFromArray(_),checkOverflow(_)}else configFromRFC2822(_);else configFromISO(_)}function meridiemFixWrap(_,$,ee){var te;return null==ee?$:null!=_.meridiemHour?_.meridiemHour($,ee):null!=_.isPM?((te=_.isPM(ee))&&$<12&&($+=12),te||12!==$||($=0),$):$}function configFromStringAndArray(_){var $,ee,te,ne,re,ie,ae=!1,oe=_._f.length;if(0===oe)return getParsingFlags(_).invalidFormat=!0,void(_._d=new Date(NaN));for(ne=0;ne<oe;ne++)re=0,ie=!1,$=copyConfig({},_),null!=_._useUTC&&($._useUTC=_._useUTC),$._f=_._f[ne],configFromStringAndFormat($),isValid($)&&(ie=!0),re+=getParsingFlags($).charsLeftOver,re+=10*getParsingFlags($).unusedTokens.length,getParsingFlags($).score=re,ae?re<te&&(te=re,ee=$):(null==te||re<te||ie)&&(te=re,ee=$,ie&&(ae=!0));extend(_,ee||$)}function configFromObject(_){if(!_._d){var $=normalizeObjectUnits(_._i),ee=void 0===$.day?$.date:$.day;_._a=map([$.year,$.month,ee,$.hour,$.minute,$.second,$.millisecond],(function(_){return _&&parseInt(_,10)})),configFromArray(_)}}function createFromConfig(_){var $=new Moment(checkOverflow(prepareConfig(_)));return $._nextDay&&($.add(1,"d"),$._nextDay=void 0),$}function prepareConfig(_){var $=_._i,ee=_._f;return _._locale=_._locale||getLocale(_._l),null===$||void 0===ee&&""===$?createInvalid({nullInput:!0}):("string"===typeof $&&(_._i=$=_._locale.preparse($)),isMoment($)?new Moment(checkOverflow($)):(isDate($)?_._d=$:isArray(ee)?configFromStringAndArray(_):ee?configFromStringAndFormat(_):configFromInput(_),isValid(_)||(_._d=null),_))}function configFromInput(_){var $=_._i;isUndefined($)?_._d=new Date(hooks.now()):isDate($)?_._d=new Date($.valueOf()):"string"===typeof $?configFromString(_):isArray($)?(_._a=map($.slice(0),(function(_){return parseInt(_,10)})),configFromArray(_)):isObject($)?configFromObject(_):isNumber($)?_._d=new Date($):hooks.createFromInputFallback(_)}function createLocalOrUTC(_,$,ee,te,ne){var re={};return!0!==$&&!1!==$||(te=$,$=void 0),!0!==ee&&!1!==ee||(te=ee,ee=void 0),(isObject(_)&&isObjectEmpty(_)||isArray(_)&&0===_.length)&&(_=void 0),re._isAMomentObject=!0,re._useUTC=re._isUTC=ne,re._l=ee,re._i=_,re._f=$,re._strict=te,createFromConfig(re)}function createLocal(_,$,ee,te){return createLocalOrUTC(_,$,ee,te,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(_){_._d=new Date(_._i+(_._useUTC?" UTC":""))})),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var Kt=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var _=createLocal.apply(null,arguments);return this.isValid()&&_.isValid()?_<this?this:_:createInvalid()})),Gt=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var _=createLocal.apply(null,arguments);return this.isValid()&&_.isValid()?_>this?this:_:createInvalid()}));function pickBy(_,$){var ee,te;if(1===$.length&&isArray($[0])&&($=$[0]),!$.length)return createLocal();for(ee=$[0],te=1;te<$.length;++te)$[te].isValid()&&!$[te][_](ee)||(ee=$[te]);return ee}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}var now=function(){return Date.now?Date.now():+new Date},Yt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(_){var $,ee,te=!1,ne=Yt.length;for($ in _)if(hasOwnProp(_,$)&&(-1===vt.call(Yt,$)||null!=_[$]&&isNaN(_[$])))return!1;for(ee=0;ee<ne;++ee)if(_[Yt[ee]]){if(te)return!1;parseFloat(_[Yt[ee]])!==toInt(_[Yt[ee]])&&(te=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(_){var $=normalizeObjectUnits(_),ee=$.year||0,te=$.quarter||0,ne=$.month||0,re=$.week||$.isoWeek||0,ie=$.day||0,ae=$.hour||0,oe=$.minute||0,se=$.second||0,le=$.millisecond||0;this._isValid=isDurationValid($),this._milliseconds=+le+1e3*se+6e4*oe+1e3*ae*60*60,this._days=+ie+7*re,this._months=+ne+3*te+12*ee,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(_){return _ instanceof Duration}function absRound(_){return _<0?-1*Math.round(-1*_):Math.round(_)}function compareArrays(_,$,ee){var te,ne=Math.min(_.length,$.length),re=Math.abs(_.length-$.length),ie=0;for(te=0;te<ne;te++)(ee&&_[te]!==$[te]||!ee&&toInt(_[te])!==toInt($[te]))&&ie++;return ie+re}function offset(_,$){addFormatToken(_,0,0,(function(){var _=this.utcOffset(),ee="+";return _<0&&(_=-_,ee="-"),ee+zeroFill(~~(_/60),2)+$+zeroFill(~~_%60,2)}))}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",it),addRegexToken("ZZ",it),addParseToken(["Z","ZZ"],(function(_,$,ee){ee._useUTC=!0,ee._tzm=offsetFromString(it,_)}));var Qt=/([\+\-]|\d\d)/gi;function offsetFromString(_,$){var ee,te,ne=($||"").match(_);return null===ne?null:0===(te=60*(ee=((ne[ne.length-1]||[])+"").match(Qt)||["-",0,0])[1]+toInt(ee[2]))?0:"+"===ee[0]?te:-te}function cloneWithOffset(_,$){var ee,te;return $._isUTC?(ee=$.clone(),te=(isMoment(_)||isDate(_)?_.valueOf():createLocal(_).valueOf())-ee.valueOf(),ee._d.setTime(ee._d.valueOf()+te),hooks.updateOffset(ee,!1),ee):createLocal(_).local()}function getDateOffset(_){return-Math.round(_._d.getTimezoneOffset())}function getSetOffset(_,$,ee){var te,ne=this._offset||0;if(!this.isValid())return null!=_?this:NaN;if(null!=_){if("string"===typeof _){if(null===(_=offsetFromString(it,_)))return this}else Math.abs(_)<16&&!ee&&(_*=60);return!this._isUTC&&$&&(te=getDateOffset(this)),this._offset=_,this._isUTC=!0,null!=te&&this.add(te,"m"),ne!==_&&(!$||this._changeInProgress?addSubtract(this,createDuration(_-ne,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?ne:getDateOffset(this)}function getSetZone(_,$){return null!=_?("string"!==typeof _&&(_=-_),this.utcOffset(_,$),this):-this.utcOffset()}function setOffsetToUTC(_){return this.utcOffset(0,_)}function setOffsetToLocal(_){return this._isUTC&&(this.utcOffset(0,_),this._isUTC=!1,_&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var _=offsetFromString(rt,this._i);null!=_?this.utcOffset(_):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(_){return!!this.isValid()&&(_=_?createLocal(_).utcOffset():0,(this.utcOffset()-_)%60===0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var _,$={};return copyConfig($,this),($=prepareConfig($))._a?(_=$._isUTC?createUTC($._a):createLocal($._a),this._isDSTShifted=this.isValid()&&compareArrays($._a,_.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&this._isUTC&&0===this._offset}hooks.updateOffset=function(){};var Xt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(_,$){var ee,te,ne,re=_,ie=null;return isDuration(_)?re={ms:_._milliseconds,d:_._days,M:_._months}:isNumber(_)||!isNaN(+_)?(re={},$?re[$]=+_:re.milliseconds=+_):(ie=Xt.exec(_))?(ee="-"===ie[1]?-1:1,re={y:0,d:toInt(ie[ht])*ee,h:toInt(ie[ft])*ee,m:toInt(ie[pt])*ee,s:toInt(ie[mt])*ee,ms:toInt(absRound(1e3*ie[gt]))*ee}):(ie=Jt.exec(_))?(ee="-"===ie[1]?-1:1,re={y:parseIso(ie[2],ee),M:parseIso(ie[3],ee),w:parseIso(ie[4],ee),d:parseIso(ie[5],ee),h:parseIso(ie[6],ee),m:parseIso(ie[7],ee),s:parseIso(ie[8],ee)}):null==re?re={}:"object"===typeof re&&("from"in re||"to"in re)&&(ne=momentsDifference(createLocal(re.from),createLocal(re.to)),(re={}).ms=ne.milliseconds,re.M=ne.months),te=new Duration(re),isDuration(_)&&hasOwnProp(_,"_locale")&&(te._locale=_._locale),isDuration(_)&&hasOwnProp(_,"_isValid")&&(te._isValid=_._isValid),te}function parseIso(_,$){var ee=_&&parseFloat(_.replace(",","."));return(isNaN(ee)?0:ee)*$}function positiveMomentsDifference(_,$){var ee={};return ee.months=$.month()-_.month()+12*($.year()-_.year()),_.clone().add(ee.months,"M").isAfter($)&&--ee.months,ee.milliseconds=+$-+_.clone().add(ee.months,"M"),ee}function momentsDifference(_,$){var ee;return _.isValid()&&$.isValid()?($=cloneWithOffset($,_),_.isBefore($)?ee=positiveMomentsDifference(_,$):((ee=positiveMomentsDifference($,_)).milliseconds=-ee.milliseconds,ee.months=-ee.months),ee):{milliseconds:0,months:0}}function createAdder(_,$){return function(ee,te){var ne;return null===te||isNaN(+te)||(deprecateSimple($,"moment()."+$+"(period, number) is deprecated. Please use moment()."+$+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ne=ee,ee=te,te=ne),addSubtract(this,createDuration(ee,te),_),this}}function addSubtract(_,$,ee,te){var ne=$._milliseconds,re=absRound($._days),ie=absRound($._months);_.isValid()&&(te=null==te||te,ie&&setMonth(_,get(_,"Month")+ie*ee),re&&set$1(_,"Date",get(_,"Date")+re*ee),ne&&_._d.setTime(_._d.valueOf()+ne*ee),te&&hooks.updateOffset(_,re||ie))}createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var Zt=createAdder(1,"add"),en=createAdder(-1,"subtract");function isString(_){return"string"===typeof _||_ instanceof String}function isMomentInput(_){return isMoment(_)||isDate(_)||isString(_)||isNumber(_)||isNumberOrStringArray(_)||isMomentInputObject(_)||null===_||void 0===_}function isMomentInputObject(_){var $,ee,te=isObject(_)&&!isObjectEmpty(_),ne=!1,re=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ie=re.length;for($=0;$<ie;$+=1)ee=re[$],ne=ne||hasOwnProp(_,ee);return te&&ne}function isNumberOrStringArray(_){var $=isArray(_),ee=!1;return $&&(ee=0===_.filter((function($){return!isNumber($)&&isString(_)})).length),$&&ee}function isCalendarSpec(_){var $,ee,te=isObject(_)&&!isObjectEmpty(_),ne=!1,re=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for($=0;$<re.length;$+=1)ee=re[$],ne=ne||hasOwnProp(_,ee);return te&&ne}function getCalendarFormat(_,$){var ee=_.diff($,"days",!0);return ee<-6?"sameElse":ee<-1?"lastWeek":ee<0?"lastDay":ee<1?"sameDay":ee<2?"nextDay":ee<7?"nextWeek":"sameElse"}function calendar$1(_,$){1===arguments.length&&(arguments[0]?isMomentInput(arguments[0])?(_=arguments[0],$=void 0):isCalendarSpec(arguments[0])&&($=arguments[0],_=void 0):(_=void 0,$=void 0));var ee=_||createLocal(),te=cloneWithOffset(ee,this).startOf("day"),ne=hooks.calendarFormat(this,te)||"sameElse",re=$&&(isFunction($[ne])?$[ne].call(this,ee):$[ne]);return this.format(re||this.localeData().calendar(ne,this,createLocal(ee)))}function clone(){return new Moment(this)}function isAfter(_,$){var ee=isMoment(_)?_:createLocal(_);return!(!this.isValid()||!ee.isValid())&&("millisecond"===($=normalizeUnits($)||"millisecond")?this.valueOf()>ee.valueOf():ee.valueOf()<this.clone().startOf($).valueOf())}function isBefore(_,$){var ee=isMoment(_)?_:createLocal(_);return!(!this.isValid()||!ee.isValid())&&("millisecond"===($=normalizeUnits($)||"millisecond")?this.valueOf()<ee.valueOf():this.clone().endOf($).valueOf()<ee.valueOf())}function isBetween(_,$,ee,te){var ne=isMoment(_)?_:createLocal(_),re=isMoment($)?$:createLocal($);return!!(this.isValid()&&ne.isValid()&&re.isValid())&&("("===(te=te||"()")[0]?this.isAfter(ne,ee):!this.isBefore(ne,ee))&&(")"===te[1]?this.isBefore(re,ee):!this.isAfter(re,ee))}function isSame(_,$){var ee,te=isMoment(_)?_:createLocal(_);return!(!this.isValid()||!te.isValid())&&("millisecond"===($=normalizeUnits($)||"millisecond")?this.valueOf()===te.valueOf():(ee=te.valueOf(),this.clone().startOf($).valueOf()<=ee&&ee<=this.clone().endOf($).valueOf()))}function isSameOrAfter(_,$){return this.isSame(_,$)||this.isAfter(_,$)}function isSameOrBefore(_,$){return this.isSame(_,$)||this.isBefore(_,$)}function diff(_,$,ee){var te,ne,re;if(!this.isValid())return NaN;if(!(te=cloneWithOffset(_,this)).isValid())return NaN;switch(ne=6e4*(te.utcOffset()-this.utcOffset()),$=normalizeUnits($)){case"year":re=monthDiff(this,te)/12;break;case"month":re=monthDiff(this,te);break;case"quarter":re=monthDiff(this,te)/3;break;case"second":re=(this-te)/1e3;break;case"minute":re=(this-te)/6e4;break;case"hour":re=(this-te)/36e5;break;case"day":re=(this-te-ne)/864e5;break;case"week":re=(this-te-ne)/6048e5;break;default:re=this-te}return ee?re:absFloor(re)}function monthDiff(_,$){if(_.date()<$.date())return-monthDiff($,_);var ee=12*($.year()-_.year())+($.month()-_.month()),te=_.clone().add(ee,"months");return-(ee+($-te<0?($-te)/(te-_.clone().add(ee-1,"months")):($-te)/(_.clone().add(ee+1,"months")-te)))||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(_){if(!this.isValid())return null;var $=!0!==_,ee=$?this.clone().utc():this;return ee.year()<0||ee.year()>9999?formatMoment(ee,$?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?$?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(ee,"Z")):formatMoment(ee,$?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var _,$,ee,te,ne="moment",re="";return this.isLocal()||(ne=0===this.utcOffset()?"moment.utc":"moment.parseZone",re="Z"),_="["+ne+'("]',$=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",ee="-MM-DD[T]HH:mm:ss.SSS",te=re+'[")]',this.format(_+$+ee+te)}function format(_){_||(_=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var $=formatMoment(this,_);return this.localeData().postformat($)}function from(_,$){return this.isValid()&&(isMoment(_)&&_.isValid()||createLocal(_).isValid())?createDuration({to:this,from:_}).locale(this.locale()).humanize(!$):this.localeData().invalidDate()}function fromNow(_){return this.from(createLocal(),_)}function to(_,$){return this.isValid()&&(isMoment(_)&&_.isValid()||createLocal(_).isValid())?createDuration({from:this,to:_}).locale(this.locale()).humanize(!$):this.localeData().invalidDate()}function toNow(_){return this.to(createLocal(),_)}function locale(_){var $;return void 0===_?this._locale._abbr:(null!=($=getLocale(_))&&(this._locale=$),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(_){return void 0===_?this.localeData():this.locale(_)}));function localeData(){return this._locale}var nn=1e3,rn=60*nn,an=60*rn,on=3506328*an;function mod$1(_,$){return(_%$+$)%$}function localStartOfDate(_,$,ee){return _<100&&_>=0?new Date(_+400,$,ee)-on:new Date(_,$,ee).valueOf()}function utcStartOfDate(_,$,ee){return _<100&&_>=0?Date.UTC(_+400,$,ee)-on:Date.UTC(_,$,ee)}function startOf(_){var $,ee;if(void 0===(_=normalizeUnits(_))||"millisecond"===_||!this.isValid())return this;switch(ee=this._isUTC?utcStartOfDate:localStartOfDate,_){case"year":$=ee(this.year(),0,1);break;case"quarter":$=ee(this.year(),this.month()-this.month()%3,1);break;case"month":$=ee(this.year(),this.month(),1);break;case"week":$=ee(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":$=ee(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":$=ee(this.year(),this.month(),this.date());break;case"hour":$=this._d.valueOf(),$-=mod$1($+(this._isUTC?0:this.utcOffset()*rn),an);break;case"minute":$=this._d.valueOf(),$-=mod$1($,rn);break;case"second":$=this._d.valueOf(),$-=mod$1($,nn)}return this._d.setTime($),hooks.updateOffset(this,!0),this}function endOf(_){var $,ee;if(void 0===(_=normalizeUnits(_))||"millisecond"===_||!this.isValid())return this;switch(ee=this._isUTC?utcStartOfDate:localStartOfDate,_){case"year":$=ee(this.year()+1,0,1)-1;break;case"quarter":$=ee(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":$=ee(this.year(),this.month()+1,1)-1;break;case"week":$=ee(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":$=ee(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":$=ee(this.year(),this.month(),this.date()+1)-1;break;case"hour":$=this._d.valueOf(),$+=an-mod$1($+(this._isUTC?0:this.utcOffset()*rn),an)-1;break;case"minute":$=this._d.valueOf(),$+=rn-mod$1($,rn)-1;break;case"second":$=this._d.valueOf(),$+=nn-mod$1($,nn)-1}return this._d.setTime($),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var _=this;return[_.year(),_.month(),_.date(),_.hour(),_.minute(),_.second(),_.millisecond()]}function toObject(){var _=this;return{years:_.year(),months:_.month(),date:_.date(),hours:_.hours(),minutes:_.minutes(),seconds:_.seconds(),milliseconds:_.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function localeEras(_,$){var ee,te,ne,re=this._eras||getLocale("en")._eras;for(ee=0,te=re.length;ee<te;++ee)switch("string"===typeof re[ee].since&&(ne=hooks(re[ee].since).startOf("day"),re[ee].since=ne.valueOf()),typeof re[ee].until){case"undefined":re[ee].until=1/0;break;case"string":ne=hooks(re[ee].until).startOf("day").valueOf(),re[ee].until=ne.valueOf()}return re}function localeErasParse(_,$,ee){var te,ne,re,ie,ae,oe=this.eras();for(_=_.toUpperCase(),te=0,ne=oe.length;te<ne;++te)if(re=oe[te].name.toUpperCase(),ie=oe[te].abbr.toUpperCase(),ae=oe[te].narrow.toUpperCase(),ee)switch($){case"N":case"NN":case"NNN":if(ie===_)return oe[te];break;case"NNNN":if(re===_)return oe[te];break;case"NNNNN":if(ae===_)return oe[te]}else if([re,ie,ae].indexOf(_)>=0)return oe[te]}function localeErasConvertYear(_,$){var ee=_.since<=_.until?1:-1;return void 0===$?hooks(_.since).year():hooks(_.since).year()+($-_.offset)*ee}function getEraName(){var _,$,ee,te=this.localeData().eras();for(_=0,$=te.length;_<$;++_){if(ee=this.clone().startOf("day").valueOf(),te[_].since<=ee&&ee<=te[_].until)return te[_].name;if(te[_].until<=ee&&ee<=te[_].since)return te[_].name}return""}function getEraNarrow(){var _,$,ee,te=this.localeData().eras();for(_=0,$=te.length;_<$;++_){if(ee=this.clone().startOf("day").valueOf(),te[_].since<=ee&&ee<=te[_].until)return te[_].narrow;if(te[_].until<=ee&&ee<=te[_].since)return te[_].narrow}return""}function getEraAbbr(){var _,$,ee,te=this.localeData().eras();for(_=0,$=te.length;_<$;++_){if(ee=this.clone().startOf("day").valueOf(),te[_].since<=ee&&ee<=te[_].until)return te[_].abbr;if(te[_].until<=ee&&ee<=te[_].since)return te[_].abbr}return""}function getEraYear(){var _,$,ee,te,ne=this.localeData().eras();for(_=0,$=ne.length;_<$;++_)if(ee=ne[_].since<=ne[_].until?1:-1,te=this.clone().startOf("day").valueOf(),ne[_].since<=te&&te<=ne[_].until||ne[_].until<=te&&te<=ne[_].since)return(this.year()-hooks(ne[_].since).year())*ee+ne[_].offset;return this.year()}function erasNameRegex(_){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),_?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(_){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),_?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(_){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),_?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(_,$){return $.erasAbbrRegex(_)}function matchEraName(_,$){return $.erasNameRegex(_)}function matchEraNarrow(_,$){return $.erasNarrowRegex(_)}function matchEraYearOrdinal(_,$){return $._eraYearOrdinalRegex||tt}function computeErasParse(){var _,$,ee,te,ne,re=[],ie=[],ae=[],oe=[],se=this.eras();for(_=0,$=se.length;_<$;++_)ee=regexEscape(se[_].name),te=regexEscape(se[_].abbr),ne=regexEscape(se[_].narrow),ie.push(ee),re.push(te),ae.push(ne),oe.push(ee),oe.push(te),oe.push(ne);this._erasRegex=new RegExp("^("+oe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+ie.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+re.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ae.join("|")+")","i")}function addWeekYearFormatToken(_,$){addFormatToken(0,[_,_.length],0,$)}function getSetWeekYear(_){return getSetWeekYearHelper.call(this,_,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(_){return getSetWeekYearHelper.call(this,_,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var _=this.localeData()._week;return weeksInYear(this.year(),_.dow,_.doy)}function getWeeksInWeekYear(){var _=this.localeData()._week;return weeksInYear(this.weekYear(),_.dow,_.doy)}function getSetWeekYearHelper(_,$,ee,te,ne){var re;return null==_?weekOfYear(this,te,ne).year:($>(re=weeksInYear(_,te,ne))&&($=re),setWeekAll.call(this,_,$,ee,te,ne))}function setWeekAll(_,$,ee,te,ne){var re=dayOfYearFromWeeks(_,$,ee,te,ne),ie=createUTCDate(re.year,0,re.dayOfYear);return this.year(ie.getUTCFullYear()),this.month(ie.getUTCMonth()),this.date(ie.getUTCDate()),this}function getSetQuarter(_){return null==_?Math.ceil((this.month()+1)/3):this.month(3*(_-1)+this.month()%3)}addFormatToken("N",0,0,"eraAbbr"),addFormatToken("NN",0,0,"eraAbbr"),addFormatToken("NNN",0,0,"eraAbbr"),addFormatToken("NNNN",0,0,"eraName"),addFormatToken("NNNNN",0,0,"eraNarrow"),addFormatToken("y",["y",1],"yo","eraYear"),addFormatToken("y",["yy",2],0,"eraYear"),addFormatToken("y",["yyy",3],0,"eraYear"),addFormatToken("y",["yyyy",4],0,"eraYear"),addRegexToken("N",matchEraAbbr),addRegexToken("NN",matchEraAbbr),addRegexToken("NNN",matchEraAbbr),addRegexToken("NNNN",matchEraName),addRegexToken("NNNNN",matchEraNarrow),addParseToken(["N","NN","NNN","NNNN","NNNNN"],(function(_,$,ee,te){var ne=ee._locale.erasParse(_,te,ee._strict);ne?getParsingFlags(ee).era=ne:getParsingFlags(ee).invalidEra=_})),addRegexToken("y",tt),addRegexToken("yy",tt),addRegexToken("yyy",tt),addRegexToken("yyyy",tt),addRegexToken("yo",matchEraYearOrdinal),addParseToken(["y","yy","yyy","yyyy"],ut),addParseToken(["yo"],(function(_,$,ee,te){var ne;ee._locale._eraYearOrdinalRegex&&(ne=_.match(ee._locale._eraYearOrdinalRegex)),ee._locale.eraYearOrdinalParse?$[ut]=ee._locale.eraYearOrdinalParse(_,ne):$[ut]=parseInt(_,10)})),addFormatToken(0,["gg",2],0,(function(){return this.weekYear()%100})),addFormatToken(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addRegexToken("G",nt),addRegexToken("g",nt),addRegexToken("GG",je,Ve),addRegexToken("gg",je,Ve),addRegexToken("GGGG",Ke,Ne),addRegexToken("gggg",Ke,Ne),addRegexToken("GGGGG",et,Me),addRegexToken("ggggg",et,Me),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],(function(_,$,ee,te){$[te.substr(0,2)]=toInt(_)})),addWeekParseToken(["gg","GG"],(function(_,$,ee,te){$[te]=hooks.parseTwoDigitYear(_)})),addFormatToken("Q",0,"Qo","quarter"),addRegexToken("Q",ke),addParseToken("Q",(function(_,$){$[dt]=3*(toInt(_)-1)})),addFormatToken("D",["DD",2],"Do","date"),addRegexToken("D",je,st),addRegexToken("DD",je,Ve),addRegexToken("Do",(function(_,$){return _?$._dayOfMonthOrdinalParse||$._ordinalParse:$._dayOfMonthOrdinalParseLenient})),addParseToken(["D","DD"],ht),addParseToken("Do",(function(_,$){$[ht]=toInt(_.match(je)[0])}));var sn=makeGetSet("Date",!0);function getSetDayOfYear(_){var $=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==_?$:this.add(_-$,"d")}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addRegexToken("DDD",qe),addRegexToken("DDDD",De),addParseToken(["DDD","DDDD"],(function(_,$,ee){ee._dayOfYear=toInt(_)})),addFormatToken("m",["mm",2],0,"minute"),addRegexToken("m",je,lt),addRegexToken("mm",je,Ve),addParseToken(["m","mm"],pt);var ln=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addRegexToken("s",je,lt),addRegexToken("ss",je,Ve),addParseToken(["s","ss"],mt);var cn,un,dn=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,(function(){return~~(this.millisecond()/100)})),addFormatToken(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),addFormatToken(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),addFormatToken(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),addFormatToken(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),addFormatToken(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),addFormatToken(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),addRegexToken("S",qe,ke),addRegexToken("SS",qe,Ve),addRegexToken("SSS",qe,De),cn="SSSS";cn.length<=9;cn+="S")addRegexToken(cn,tt);function parseMs(_,$){$[gt]=toInt(1e3*("0."+_))}for(cn="S";cn.length<=9;cn+="S")addParseToken(cn,parseMs);function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}un=makeGetSet("Milliseconds",!1),addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var hn=Moment.prototype;function createUnix(_){return createLocal(1e3*_)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(_){return _}hn.add=Zt,hn.calendar=calendar$1,hn.clone=clone,hn.diff=diff,hn.endOf=endOf,hn.format=format,hn.from=from,hn.fromNow=fromNow,hn.to=to,hn.toNow=toNow,hn.get=stringGet,hn.invalidAt=invalidAt,hn.isAfter=isAfter,hn.isBefore=isBefore,hn.isBetween=isBetween,hn.isSame=isSame,hn.isSameOrAfter=isSameOrAfter,hn.isSameOrBefore=isSameOrBefore,hn.isValid=isValid$2,hn.lang=tn,hn.locale=locale,hn.localeData=localeData,hn.max=Gt,hn.min=Kt,hn.parsingFlags=parsingFlags,hn.set=stringSet,hn.startOf=startOf,hn.subtract=en,hn.toArray=toArray,hn.toObject=toObject,hn.toDate=toDate,hn.toISOString=toISOString,hn.inspect=inspect,"undefined"!==typeof Symbol&&null!=Symbol.for&&(hn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),hn.toJSON=toJSON,hn.toString=toString,hn.unix=unix,hn.valueOf=valueOf,hn.creationData=creationData,hn.eraName=getEraName,hn.eraNarrow=getEraNarrow,hn.eraAbbr=getEraAbbr,hn.eraYear=getEraYear,hn.year=bt,hn.isLeapYear=getIsLeapYear,hn.weekYear=getSetWeekYear,hn.isoWeekYear=getSetISOWeekYear,hn.quarter=hn.quarters=getSetQuarter,hn.month=getSetMonth,hn.daysInMonth=getDaysInMonth,hn.week=hn.weeks=getSetWeek,hn.isoWeek=hn.isoWeeks=getSetISOWeek,hn.weeksInYear=getWeeksInYear,hn.weeksInWeekYear=getWeeksInWeekYear,hn.isoWeeksInYear=getISOWeeksInYear,hn.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear,hn.date=sn,hn.day=hn.days=getSetDayOfWeek,hn.weekday=getSetLocaleDayOfWeek,hn.isoWeekday=getSetISODayOfWeek,hn.dayOfYear=getSetDayOfYear,hn.hour=hn.hours=Nt,hn.minute=hn.minutes=ln,hn.second=hn.seconds=dn,hn.millisecond=hn.milliseconds=un,hn.utcOffset=getSetOffset,hn.utc=setOffsetToUTC,hn.local=setOffsetToLocal,hn.parseZone=setOffsetToParsedOffset,hn.hasAlignedHourOffset=hasAlignedHourOffset,hn.isDST=isDaylightSavingTime,hn.isLocal=isLocal,hn.isUtcOffset=isUtcOffset,hn.isUtc=isUtc,hn.isUTC=isUtc,hn.zoneAbbr=getZoneAbbr,hn.zoneName=getZoneName,hn.dates=deprecate("dates accessor is deprecated. Use date instead.",sn),hn.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),hn.years=deprecate("years accessor is deprecated. Use year instead",bt),hn.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),hn.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var fn=Locale.prototype;function get$1(_,$,ee,te){var ne=getLocale(),re=createUTC().set(te,$);return ne[ee](re,_)}function listMonthsImpl(_,$,ee){if(isNumber(_)&&($=_,_=void 0),_=_||"",null!=$)return get$1(_,$,ee,"month");var te,ne=[];for(te=0;te<12;te++)ne[te]=get$1(_,te,ee,"month");return ne}function listWeekdaysImpl(_,$,ee,te){"boolean"===typeof _?(isNumber($)&&(ee=$,$=void 0),$=$||""):(ee=$=_,_=!1,isNumber($)&&(ee=$,$=void 0),$=$||"");var ne,re=getLocale(),ie=_?re._week.dow:0,ae=[];if(null!=ee)return get$1($,(ee+ie)%7,te,"day");for(ne=0;ne<7;ne++)ae[ne]=get$1($,(ne+ie)%7,te,"day");return ae}function listMonths(_,$){return listMonthsImpl(_,$,"months")}function listMonthsShort(_,$){return listMonthsImpl(_,$,"monthsShort")}function listWeekdays(_,$,ee){return listWeekdaysImpl(_,$,ee,"weekdays")}function listWeekdaysShort(_,$,ee){return listWeekdaysImpl(_,$,ee,"weekdaysShort")}function listWeekdaysMin(_,$,ee){return listWeekdaysImpl(_,$,ee,"weekdaysMin")}fn.calendar=calendar,fn.longDateFormat=longDateFormat,fn.invalidDate=invalidDate,fn.ordinal=ordinal,fn.preparse=preParsePostFormat,fn.postformat=preParsePostFormat,fn.relativeTime=relativeTime,fn.pastFuture=pastFuture,fn.set=set,fn.eras=localeEras,fn.erasParse=localeErasParse,fn.erasConvertYear=localeErasConvertYear,fn.erasAbbrRegex=erasAbbrRegex,fn.erasNameRegex=erasNameRegex,fn.erasNarrowRegex=erasNarrowRegex,fn.months=localeMonths,fn.monthsShort=localeMonthsShort,fn.monthsParse=localeMonthsParse,fn.monthsRegex=monthsRegex,fn.monthsShortRegex=monthsShortRegex,fn.week=localeWeek,fn.firstDayOfYear=localeFirstDayOfYear,fn.firstDayOfWeek=localeFirstDayOfWeek,fn.weekdays=localeWeekdays,fn.weekdaysMin=localeWeekdaysMin,fn.weekdaysShort=localeWeekdaysShort,fn.weekdaysParse=localeWeekdaysParse,fn.weekdaysRegex=weekdaysRegex,fn.weekdaysShortRegex=weekdaysShortRegex,fn.weekdaysMinRegex=weekdaysMinRegex,fn.isPM=localeIsPM,fn.meridiem=localeMeridiem,getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(_){var $=_%10;return _+(1===toInt(_%100/10)?"th":1===$?"st":2===$?"nd":3===$?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var pn=Math.abs;function abs(){var _=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),_.milliseconds=pn(_.milliseconds),_.seconds=pn(_.seconds),_.minutes=pn(_.minutes),_.hours=pn(_.hours),_.months=pn(_.months),_.years=pn(_.years),this}function addSubtract$1(_,$,ee,te){var ne=createDuration($,ee);return _._milliseconds+=te*ne._milliseconds,_._days+=te*ne._days,_._months+=te*ne._months,_._bubble()}function add$1(_,$){return addSubtract$1(this,_,$,1)}function subtract$1(_,$){return addSubtract$1(this,_,$,-1)}function absCeil(_){return _<0?Math.floor(_):Math.ceil(_)}function bubble(){var _,$,ee,te,ne,re=this._milliseconds,ie=this._days,ae=this._months,oe=this._data;return re>=0&&ie>=0&&ae>=0||re<=0&&ie<=0&&ae<=0||(re+=864e5*absCeil(monthsToDays(ae)+ie),ie=0,ae=0),oe.milliseconds=re%1e3,_=absFloor(re/1e3),oe.seconds=_%60,$=absFloor(_/60),oe.minutes=$%60,ee=absFloor($/60),oe.hours=ee%24,ie+=absFloor(ee/24),ae+=ne=absFloor(daysToMonths(ie)),ie-=absCeil(monthsToDays(ne)),te=absFloor(ae/12),ae%=12,oe.days=ie,oe.months=ae,oe.years=te,this}function daysToMonths(_){return 4800*_/146097}function monthsToDays(_){return 146097*_/4800}function as(_){if(!this.isValid())return NaN;var $,ee,te=this._milliseconds;if("month"===(_=normalizeUnits(_))||"quarter"===_||"year"===_)switch($=this._days+te/864e5,ee=this._months+daysToMonths($),_){case"month":return ee;case"quarter":return ee/3;case"year":return ee/12}else switch($=this._days+Math.round(monthsToDays(this._months)),_){case"week":return $/7+te/6048e5;case"day":return $+te/864e5;case"hour":return 24*$+te/36e5;case"minute":return 1440*$+te/6e4;case"second":return 86400*$+te/1e3;case"millisecond":return Math.floor(864e5*$)+te;default:throw new Error("Unknown unit "+_)}}function makeAs(_){return function(){return this.as(_)}}var mn=makeAs("ms"),gn=makeAs("s"),_n=makeAs("m"),yn=makeAs("h"),vn=makeAs("d"),bn=makeAs("w"),wn=makeAs("M"),xn=makeAs("Q"),En=makeAs("y"),Tn=mn;function clone$1(){return createDuration(this)}function get$2(_){return _=normalizeUnits(_),this.isValid()?this[_+"s"]():NaN}function makeGetter(_){return function(){return this.isValid()?this._data[_]:NaN}}var An=makeGetter("milliseconds"),kn=makeGetter("seconds"),Pn=makeGetter("minutes"),In=makeGetter("hours"),Sn=makeGetter("days"),Rn=makeGetter("months"),Cn=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var Vn=Math.round,Dn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(_,$,ee,te,ne){return ne.relativeTime($||1,!!ee,_,te)}function relativeTime$1(_,$,ee,te){var ne=createDuration(_).abs(),re=Vn(ne.as("s")),ie=Vn(ne.as("m")),ae=Vn(ne.as("h")),oe=Vn(ne.as("d")),se=Vn(ne.as("M")),le=Vn(ne.as("w")),de=Vn(ne.as("y")),he=re<=ee.ss&&["s",re]||re<ee.s&&["ss",re]||ie<=1&&["m"]||ie<ee.m&&["mm",ie]||ae<=1&&["h"]||ae<ee.h&&["hh",ae]||oe<=1&&["d"]||oe<ee.d&&["dd",oe];return null!=ee.w&&(he=he||le<=1&&["w"]||le<ee.w&&["ww",le]),(he=he||se<=1&&["M"]||se<ee.M&&["MM",se]||de<=1&&["y"]||["yy",de])[2]=$,he[3]=+_>0,he[4]=te,substituteTimeAgo.apply(null,he)}function getSetRelativeTimeRounding(_){return void 0===_?Vn:"function"===typeof _&&(Vn=_,!0)}function getSetRelativeTimeThreshold(_,$){return void 0!==Dn[_]&&(void 0===$?Dn[_]:(Dn[_]=$,"s"===_&&(Dn.ss=$-1),!0))}function humanize(_,$){if(!this.isValid())return this.localeData().invalidDate();var ee,te,ne=!1,re=Dn;return"object"===typeof _&&($=_,_=!1),"boolean"===typeof _&&(ne=_),"object"===typeof $&&(re=Object.assign({},Dn,$),null!=$.s&&null==$.ss&&(re.ss=$.s-1)),te=relativeTime$1(this,!ne,re,ee=this.localeData()),ne&&(te=ee.pastFuture(+this,te)),ee.postformat(te)}var Nn=Math.abs;function sign(_){return(_>0)-(_<0)||+_}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var _,$,ee,te,ne,re,ie,ae,oe=Nn(this._milliseconds)/1e3,se=Nn(this._days),le=Nn(this._months),de=this.asSeconds();return de?(_=absFloor(oe/60),$=absFloor(_/60),oe%=60,_%=60,ee=absFloor(le/12),le%=12,te=oe?oe.toFixed(3).replace(/\.?0+$/,""):"",ne=de<0?"-":"",re=sign(this._months)!==sign(de)?"-":"",ie=sign(this._days)!==sign(de)?"-":"",ae=sign(this._milliseconds)!==sign(de)?"-":"",ne+"P"+(ee?re+ee+"Y":"")+(le?re+le+"M":"")+(se?ie+se+"D":"")+($||_||oe?"T":"")+($?ae+$+"H":"")+(_?ae+_+"M":"")+(oe?ae+te+"S":"")):"P0D"}var On=Duration.prototype;return On.isValid=isValid$1,On.abs=abs,On.add=add$1,On.subtract=subtract$1,On.as=as,On.asMilliseconds=mn,On.asSeconds=gn,On.asMinutes=_n,On.asHours=yn,On.asDays=vn,On.asWeeks=bn,On.asMonths=wn,On.asQuarters=xn,On.asYears=En,On.valueOf=Tn,On._bubble=bubble,On.clone=clone$1,On.get=get$2,On.milliseconds=An,On.seconds=kn,On.minutes=Pn,On.hours=In,On.days=Sn,On.weeks=weeks,On.months=Rn,On.years=Cn,On.humanize=humanize,On.toISOString=toISOString$1,On.toString=toISOString$1,On.toJSON=toISOString$1,On.locale=locale,On.localeData=localeData,On.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),On.lang=tn,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",nt),addRegexToken("X",at),addParseToken("X",(function(_,$,ee){ee._d=new Date(1e3*parseFloat(_))})),addParseToken("x",(function(_,$,ee){ee._d=new Date(toInt(_))})),hooks.version="2.30.1",setHookCallback(createLocal),hooks.fn=hn,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=hn,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},hooks}()},7064:(_,$,ee)=>{"use strict";ee.d($,{Wp:()=>te.Wp});var te=ee(52);(0,te.KO)("firebase","11.6.1","app")},7234:(_,$)=>{"use strict";function f(_,$){var ee=_.length;_.push($);e:for(;0<ee;){var te=ee-1>>>1,ne=_[te];if(!(0<g(ne,$)))break e;_[te]=$,_[ee]=ne,ee=te}}function h(_){return 0===_.length?null:_[0]}function k(_){if(0===_.length)return null;var $=_[0],ee=_.pop();if(ee!==$){_[0]=ee;e:for(var te=0,ne=_.length,re=ne>>>1;te<re;){var ie=2*(te+1)-1,ae=_[ie],oe=ie+1,se=_[oe];if(0>g(ae,ee))oe<ne&&0>g(se,ae)?(_[te]=se,_[oe]=ee,te=oe):(_[te]=ae,_[ie]=ee,te=ie);else{if(!(oe<ne&&0>g(se,ee)))break e;_[te]=se,_[oe]=ee,te=oe}}}return $}function g(_,$){var ee=_.sortIndex-$.sortIndex;return 0!==ee?ee:_.id-$.id}if("object"===typeof performance&&"function"===typeof performance.now){var ee=performance;$.unstable_now=function(){return ee.now()}}else{var te=Date,ne=te.now();$.unstable_now=function(){return te.now()-ne}}var re=[],ie=[],ae=1,oe=null,se=3,le=!1,de=!1,he=!1,fe="function"===typeof setTimeout?setTimeout:null,pe="function"===typeof clearTimeout?clearTimeout:null,me="undefined"!==typeof setImmediate?setImmediate:null;function G(_){for(var $=h(ie);null!==$;){if(null===$.callback)k(ie);else{if(!($.startTime<=_))break;k(ie),$.sortIndex=$.expirationTime,f(re,$)}$=h(ie)}}function H(_){if(he=!1,G(_),!de)if(null!==h(re))de=!0,I(J);else{var $=h(ie);null!==$&&K(H,$.startTime-_)}}function J(_,ee){de=!1,he&&(he=!1,pe(Ee),Ee=-1),le=!0;var te=se;try{for(G(ee),oe=h(re);null!==oe&&(!(oe.expirationTime>ee)||_&&!M());){var ne=oe.callback;if("function"===typeof ne){oe.callback=null,se=oe.priorityLevel;var ae=ne(oe.expirationTime<=ee);ee=$.unstable_now(),"function"===typeof ae?oe.callback=ae:oe===h(re)&&k(re),G(ee)}else k(re);oe=h(re)}if(null!==oe)var fe=!0;else{var me=h(ie);null!==me&&K(H,me.startTime-ee),fe=!1}return fe}finally{oe=null,se=te,le=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _e,be=!1,we=null,Ee=-1,ke=5,Ve=-1;function M(){return!($.unstable_now()-Ve<ke)}function R(){if(null!==we){var _=$.unstable_now();Ve=_;var ee=!0;try{ee=we(!0,_)}finally{ee?_e():(be=!1,we=null)}}else be=!1}if("function"===typeof me)_e=function(){me(R)};else if("undefined"!==typeof MessageChannel){var De=new MessageChannel,Ne=De.port2;De.port1.onmessage=R,_e=function(){Ne.postMessage(null)}}else _e=function(){fe(R,0)};function I(_){we=_,be||(be=!0,_e())}function K(_,ee){Ee=fe((function(){_($.unstable_now())}),ee)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(_){_.callback=null},$.unstable_continueExecution=function(){de||le||(de=!0,I(J))},$.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<_?Math.floor(1e3/_):5},$.unstable_getCurrentPriorityLevel=function(){return se},$.unstable_getFirstCallbackNode=function(){return h(re)},$.unstable_next=function(_){switch(se){case 1:case 2:case 3:var $=3;break;default:$=se}var ee=se;se=$;try{return _()}finally{se=ee}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(_,$){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var ee=se;se=_;try{return $()}finally{se=ee}},$.unstable_scheduleCallback=function(_,ee,te){var ne=$.unstable_now();switch("object"===typeof te&&null!==te?te="number"===typeof(te=te.delay)&&0<te?ne+te:ne:te=ne,_){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return _={id:ae++,callback:ee,priorityLevel:_,startTime:te,expirationTime:oe=te+oe,sortIndex:-1},te>ne?(_.sortIndex=te,f(ie,_),null===h(re)&&_===h(ie)&&(he?(pe(Ee),Ee=-1):he=!0,K(H,te-ne))):(_.sortIndex=oe,f(re,_),de||le||(de=!0,I(J))),_},$.unstable_shouldYield=M,$.unstable_wrapCallback=function(_){var $=se;return function(){var ee=se;se=$;try{return _.apply(this,arguments)}finally{se=ee}}}},7294:function(_,$,ee){"use strict";var te=(this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}})(ee(4222)),ne=ee(8146);function StyleToJS(_,$){var ee={};return _&&"string"===typeof _?((0,te.default)(_,(function(_,te){_&&te&&(ee[(0,ne.camelCase)(_,$)]=te)})),ee):ee}StyleToJS.default=StyleToJS,_.exports=StyleToJS},7512:(_,$,ee)=>{"use strict";!function checkDCE(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_){console.error(_)}}(),_.exports=ee(2219)},7784:(_,$,ee)=>{"use strict";ee.d($,{A:()=>createLucideIcon});var te=ee(5043);const toPascalCase=_=>{const $=(_=>_.replace(/^([A-Z])|[\s-_]+(\w)/g,((_,$,ee)=>ee?ee.toUpperCase():$.toLowerCase())))(_);return $.charAt(0).toUpperCase()+$.slice(1)},mergeClasses=function(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];return $.filter(((_,$,ee)=>Boolean(_)&&""!==_.trim()&&ee.indexOf(_)===$)).join(" ").trim()},hasA11yProp=_=>{for(const $ in _)if($.startsWith("aria-")||"role"===$||"title"===$)return!0};var ne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const re=(0,te.forwardRef)(((_,$)=>{let{color:ee="currentColor",size:re=24,strokeWidth:ie=2,absoluteStrokeWidth:ae,className:oe="",children:se,iconNode:le,...de}=_;return(0,te.createElement)("svg",{ref:$,...ne,width:re,height:re,stroke:ee,strokeWidth:ae?24*Number(ie)/Number(re):ie,className:mergeClasses("lucide",oe),...!se&&!hasA11yProp(de)&&{"aria-hidden":"true"},...de},[...le.map((_=>{let[$,ee]=_;return(0,te.createElement)($,ee)})),...Array.isArray(se)?se:[se]])})),createLucideIcon=(_,$)=>{const ee=(0,te.forwardRef)(((ee,ne)=>{let{className:ie,...ae}=ee;return(0,te.createElement)(re,{ref:ne,iconNode:$,className:mergeClasses(`lucide-${oe=toPascalCase(_),oe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${_}`,ie),...ae});var oe}));return ee.displayName=toPascalCase(_),ee}},8146:(_,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.camelCase=void 0;var ee=/^--[a-zA-Z0-9_-]+$/,te=/-([a-z])/g,ne=/^[^-]+$/,re=/^-(webkit|moz|ms|o|khtml)-/,ie=/^-(ms)-/,capitalize=function(_,$){return $.toUpperCase()},trimHyphen=function(_,$){return"".concat($,"-")};$.camelCase=function(_,$){return void 0===$&&($={}),function(_){return!_||ne.test(_)||ee.test(_)}(_)?_:(_=_.toLowerCase(),(_=$.reactCompat?_.replace(ie,trimHyphen):_.replace(re,trimHyphen)).replace(te,capitalize))}},8147:(_,$,ee)=>{"use strict";ee.d($,{qk:()=>getDownloadURL,c7:()=>getStorage,KR:()=>ref,bp:()=>uploadBytesResumable});var te=ee(52),ne=ee(1529),re=ee(8812);const ie="firebasestorage.googleapis.com",ae="storageBucket";class StorageError extends ne.g{constructor(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(prependCode(_),`Firebase Storage: ${$} (${prependCode(_)})`),this.status_=ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(_){this.status_=_}_codeEquals(_){return prependCode(_)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_){this.customData.serverResponse=_,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var oe,se;function prependCode(_){return"storage/"+_}function unknown(){return new StorageError(oe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function retryLimitExceeded(){return new StorageError(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(oe.CANCELED,"User canceled the upload/download.")}function cannotSliceBlob(){return new StorageError(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function invalidArgument(_){return new StorageError(oe.INVALID_ARGUMENT,_)}function appDeleted(){return new StorageError(oe.APP_DELETED,"The Firebase app was deleted.")}function invalidFormat(_,$){return new StorageError(oe.INVALID_FORMAT,"String does not match format '"+_+"': "+$)}function internalError(_){throw new StorageError(oe.INTERNAL_ERROR,"Internal error: "+_)}!function(_){_.UNKNOWN="unknown",_.OBJECT_NOT_FOUND="object-not-found",_.BUCKET_NOT_FOUND="bucket-not-found",_.PROJECT_NOT_FOUND="project-not-found",_.QUOTA_EXCEEDED="quota-exceeded",_.UNAUTHENTICATED="unauthenticated",_.UNAUTHORIZED="unauthorized",_.UNAUTHORIZED_APP="unauthorized-app",_.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",_.INVALID_CHECKSUM="invalid-checksum",_.CANCELED="canceled",_.INVALID_EVENT_NAME="invalid-event-name",_.INVALID_URL="invalid-url",_.INVALID_DEFAULT_BUCKET="invalid-default-bucket",_.NO_DEFAULT_BUCKET="no-default-bucket",_.CANNOT_SLICE_BLOB="cannot-slice-blob",_.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",_.NO_DOWNLOAD_URL="no-download-url",_.INVALID_ARGUMENT="invalid-argument",_.INVALID_ARGUMENT_COUNT="invalid-argument-count",_.APP_DELETED="app-deleted",_.INVALID_ROOT_OPERATION="invalid-root-operation",_.INVALID_FORMAT="invalid-format",_.INTERNAL_ERROR="internal-error",_.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(oe||(oe={}));class Location{constructor(_,$){this.bucket=_,this.path_=$}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const _=encodeURIComponent;return"/b/"+_(this.bucket)+"/o/"+_(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_,$){let ee;try{ee=Location.makeFromUrl(_,$)}catch(te){return new Location(_,"")}if(""===ee.path)return ee;throw function invalidDefaultBucket(_){return new StorageError(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+_+"'.")}(_)}static makeFromUrl(_,$){let ee=null;const te="([A-Za-z0-9.\\-_]+)";const ne=new RegExp("^gs://"+te+"(/(.*))?$","i");function httpModify(_){_.path_=decodeURIComponent(_.path)}const re=$.replace(/[.]/g,"\\."),ae=[{regex:ne,indices:{bucket:1,path:3},postModify:function gsModify(_){"/"===_.path.charAt(_.path.length-1)&&(_.path_=_.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${re}/v[A-Za-z0-9_]+/b/${te}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:httpModify},{regex:new RegExp(`^https?://${$===ie?"(?:storage.googleapis.com|storage.cloud.google.com)":$}/${te}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:httpModify}];for(let ie=0;ie<ae.length;ie++){const $=ae[ie],te=$.regex.exec(_);if(te){const _=te[$.indices.bucket];let ne=te[$.indices.path];ne||(ne=""),ee=new Location(_,ne),$.postModify(ee);break}}if(null==ee)throw function invalidUrl(_){return new StorageError(oe.INVALID_URL,"Invalid URL '"+_+"'.")}(_);return ee}}class FailRequest{constructor(_){this.promise_=Promise.reject(_)}getPromise(){return this.promise_}cancel(){}}function isString(_){return"string"===typeof _||_ instanceof String}function isNativeBlob(_){return isNativeBlobDefined()&&_ instanceof Blob}function isNativeBlobDefined(){return"undefined"!==typeof Blob}function validateNumber(_,$,ee,te){if(te<$)throw invalidArgument(`Invalid value for '${_}'. Expected ${$} or greater.`);if(te>ee)throw invalidArgument(`Invalid value for '${_}'. Expected ${ee} or less.`)}function makeUrl(_,$,ee){let te=$;return null==ee&&(te=`https://${$}`),`${ee}://${te}/v0${_}`}function makeQueryString(_){const $=encodeURIComponent;let ee="?";for(const te in _)if(_.hasOwnProperty(te)){ee=ee+($(te)+"="+$(_[te]))+"&"}return ee=ee.slice(0,-1),ee}function isRetryStatusCode(_,$){const ee=_>=500&&_<600,te=-1!==[408,429].indexOf(_),ne=-1!==$.indexOf(_);return ee||te||ne}!function(_){_[_.NO_ERROR=0]="NO_ERROR",_[_.NETWORK_ERROR=1]="NETWORK_ERROR",_[_.ABORT=2]="ABORT"}(se||(se={}));class NetworkRequest{constructor(_,$,ee,te,ne,re,ie,ae,oe,se,le){let de=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=_,this.method_=$,this.headers_=ee,this.body_=te,this.successCodes_=ne,this.additionalRetryCodes_=re,this.callback_=ie,this.errorCallback_=ae,this.timeout_=oe,this.progressCallback_=se,this.connectionFactory_=le,this.retry=de,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((_,$)=>{this.resolve_=_,this.reject_=$,this.start_()}))}start_(){const doTheRequest=(_,$)=>{if($)return void _(!1,new RequestEndStatus(!1,null,!0));const ee=this.connectionFactory_();this.pendingConnection_=ee;const progressListener=_=>{const $=_.loaded,ee=_.lengthComputable?_.total:-1;null!==this.progressCallback_&&this.progressCallback_($,ee)};null!==this.progressCallback_&&ee.addUploadProgressListener(progressListener),ee.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&ee.removeUploadProgressListener(progressListener),this.pendingConnection_=null;const $=ee.getErrorCode()===se.NO_ERROR,te=ee.getStatus();if(!$||isRetryStatusCode(te,this.additionalRetryCodes_)&&this.retry){const $=ee.getErrorCode()===se.ABORT;return void _(!1,new RequestEndStatus(!1,null,$))}const ne=-1!==this.successCodes_.indexOf(te);_(!0,new RequestEndStatus(ne,ee))}))},backoffDone=(_,$)=>{const ee=this.resolve_,te=this.reject_,ne=$.connection;if($.wasSuccessCode)try{const _=this.callback_(ne,ne.getResponse());!function isJustDef(_){return void 0!==_}(_)?ee():ee(_)}catch(re){te(re)}else if(null!==ne){const _=unknown();_.serverResponse=ne.getErrorText(),this.errorCallback_?te(this.errorCallback_(ne,_)):te(_)}else if($.canceled){te(this.appDelete_?appDeleted():canceled())}else{te(retryLimitExceeded())}};this.canceled_?backoffDone(0,new RequestEndStatus(!1,null,!0)):this.backoffId_=function start(_,$,ee){let te=1,ne=null,re=null,ie=!1,ae=0;function canceled(){return 2===ae}let oe=!1;function triggerCallback(){if(!oe){oe=!0;for(var _=arguments.length,ee=new Array(_),te=0;te<_;te++)ee[te]=arguments[te];$.apply(null,ee)}}function callWithDelay($){ne=setTimeout((()=>{ne=null,_(responseHandler,canceled())}),$)}function clearGlobalTimeout(){re&&clearTimeout(re)}function responseHandler(_){if(oe)return void clearGlobalTimeout();for(var $=arguments.length,ee=new Array($>1?$-1:0),ne=1;ne<$;ne++)ee[ne-1]=arguments[ne];if(_)return clearGlobalTimeout(),void triggerCallback.call(null,_,...ee);if(canceled()||ie)return clearGlobalTimeout(),void triggerCallback.call(null,_,...ee);let re;te<64&&(te*=2),1===ae?(ae=2,re=0):re=1e3*(te+Math.random()),callWithDelay(re)}let se=!1;function stop(_){se||(se=!0,clearGlobalTimeout(),oe||(null!==ne?(_||(ae=2),clearTimeout(ne),callWithDelay(0)):_||(ae=1)))}return callWithDelay(0),re=setTimeout((()=>{ie=!0,stop(!0)}),ee),stop}(doTheRequest,backoffDone,this.timeout_)}getPromise(){return this.promise_}cancel(_){this.canceled_=!0,this.appDelete_=_||!1,null!==this.backoffId_&&function stop(_){_(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(_,$,ee){this.wasSuccessCode=_,this.connection=$,this.canceled=!!ee}}function getBlobBuilder(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function getBlob$1(){const _=getBlobBuilder();for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];if(void 0!==_){const $=new _;for(let _=0;_<ee.length;_++)$.append(ee[_]);return $.getBlob()}if(isNativeBlobDefined())return new Blob(ee);throw new StorageError(oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function decodeBase64(_){if("undefined"===typeof atob)throw function missingPolyFill(_){return new StorageError(oe.UNSUPPORTED_ENVIRONMENT,`${_} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(_)}const le="raw",de="base64",he="base64url",fe="data_url";class StringData{constructor(_,$){this.data=_,this.contentType=$||null}}function dataFromString(_,$){switch(_){case le:return new StringData(utf8Bytes_($));case de:case he:return new StringData(base64Bytes_(_,$));case fe:return new StringData(function dataURLBytes_(_){const $=new DataURLParts(_);return $.base64?base64Bytes_(de,$.rest):function percentEncodedBytes_(_){let $;try{$=decodeURIComponent(_)}catch(ee){throw invalidFormat(fe,"Malformed data URL.")}return utf8Bytes_($)}($.rest)}($),function dataURLContentType_(_){return new DataURLParts(_).contentType}($))}throw unknown()}function utf8Bytes_(_){const $=[];for(let ee=0;ee<_.length;ee++){let te=_.charCodeAt(ee);if(te<=127)$.push(te);else if(te<=2047)$.push(192|te>>6,128|63&te);else if(55296===(64512&te)){if(ee<_.length-1&&56320===(64512&_.charCodeAt(ee+1))){te=65536|(1023&te)<<10|1023&_.charCodeAt(++ee),$.push(240|te>>18,128|te>>12&63,128|te>>6&63,128|63&te)}else $.push(239,191,189)}else 56320===(64512&te)?$.push(239,191,189):$.push(224|te>>12,128|te>>6&63,128|63&te)}return new Uint8Array($)}function base64Bytes_(_,$){switch(_){case de:{const ee=-1!==$.indexOf("-"),te=-1!==$.indexOf("_");if(ee||te){throw invalidFormat(_,"Invalid character '"+(ee?"-":"_")+"' found: is it base64url encoded?")}break}case he:{const ee=-1!==$.indexOf("+"),te=-1!==$.indexOf("/");if(ee||te){throw invalidFormat(_,"Invalid character '"+(ee?"+":"/")+"' found: is it base64 encoded?")}$=$.replace(/-/g,"+").replace(/_/g,"/");break}}let ee;try{ee=decodeBase64($)}catch(ne){if(ne.message.includes("polyfill"))throw ne;throw invalidFormat(_,"Invalid character found")}const te=new Uint8Array(ee.length);for(let re=0;re<ee.length;re++)te[re]=ee.charCodeAt(re);return te}class DataURLParts{constructor(_){this.base64=!1,this.contentType=null;const $=_.match(/^data:([^,]+)?,/);if(null===$)throw invalidFormat(fe,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ee=$[1]||null;null!=ee&&(this.base64=function endsWith(_,$){if(!(_.length>=$.length))return!1;return _.substring(_.length-$.length)===$}(ee,";base64"),this.contentType=this.base64?ee.substring(0,ee.length-7):ee),this.rest=_.substring(_.indexOf(",")+1)}}class FbsBlob{constructor(_,$){let ee=0,te="";isNativeBlob(_)?(this.data_=_,ee=_.size,te=_.type):_ instanceof ArrayBuffer?($?this.data_=new Uint8Array(_):(this.data_=new Uint8Array(_.byteLength),this.data_.set(new Uint8Array(_))),ee=this.data_.length):_ instanceof Uint8Array&&($?this.data_=_:(this.data_=new Uint8Array(_.length),this.data_.set(_)),ee=_.length),this.size_=ee,this.type_=te}size(){return this.size_}type(){return this.type_}slice(_,$){if(isNativeBlob(this.data_)){const ee=function sliceBlob(_,$,ee){return _.webkitSlice?_.webkitSlice($,ee):_.mozSlice?_.mozSlice($,ee):_.slice?_.slice($,ee):null}(this.data_,_,$);return null===ee?null:new FbsBlob(ee)}{const ee=new Uint8Array(this.data_.buffer,_,$-_);return new FbsBlob(ee,!0)}}static getBlob(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];if(isNativeBlobDefined()){const _=$.map((_=>_ instanceof FbsBlob?_.data_:_));return new FbsBlob(getBlob$1.apply(null,_))}{const _=$.map((_=>isString(_)?dataFromString(le,_).data:_.data_));let ee=0;_.forEach((_=>{ee+=_.byteLength}));const te=new Uint8Array(ee);let ne=0;return _.forEach((_=>{for(let $=0;$<_.length;$++)te[ne++]=_[$]})),new FbsBlob(te,!0)}}uploadData(){return this.data_}}function jsonObjectOrNull(_){let $;try{$=JSON.parse(_)}catch(ee){return null}return function isNonArrayObject(_){return"object"===typeof _&&!Array.isArray(_)}($)?$:null}function lastComponent(_){const $=_.lastIndexOf("/",_.length-2);return-1===$?_:_.slice($+1)}function noXform_(_,$){return $}class Mapping{constructor(_,$,ee,te){this.server=_,this.local=$||_,this.writable=!!ee,this.xform=te||noXform_}}let pe=null;function getMappings(){if(pe)return pe;const _=[];_.push(new Mapping("bucket")),_.push(new Mapping("generation")),_.push(new Mapping("metageneration")),_.push(new Mapping("name","fullPath",!0));const $=new Mapping("name");$.xform=function mappingsXformPath(_,$){return function xformPath(_){return!isString(_)||_.length<2?_:lastComponent(_)}($)},_.push($);const ee=new Mapping("size");return ee.xform=function xformSize(_,$){return void 0!==$?Number($):$},_.push(ee),_.push(new Mapping("timeCreated")),_.push(new Mapping("updated")),_.push(new Mapping("md5Hash",null,!0)),_.push(new Mapping("cacheControl",null,!0)),_.push(new Mapping("contentDisposition",null,!0)),_.push(new Mapping("contentEncoding",null,!0)),_.push(new Mapping("contentLanguage",null,!0)),_.push(new Mapping("contentType",null,!0)),_.push(new Mapping("metadata","customMetadata",!0)),pe=_,pe}function fromResource(_,$,ee){const te={type:"file"},ne=ee.length;for(let re=0;re<ne;re++){const _=ee[re];te[_.local]=_.xform(te,$[_.server])}return function addRef(_,$){Object.defineProperty(_,"ref",{get:function generateRef(){const ee=_.bucket,te=_.fullPath,ne=new Location(ee,te);return $._makeStorageReference(ne)}})}(te,_),te}function fromResourceString(_,$,ee){const te=jsonObjectOrNull($);if(null===te)return null;return fromResource(_,te,ee)}function toResourceString(_,$){const ee={},te=$.length;for(let ne=0;ne<te;ne++){const te=$[ne];te.writable&&(ee[te.server]=_[te.local])}return JSON.stringify(ee)}class RequestInfo{constructor(_,$,ee,te){this.url=_,this.method=$,this.handler=ee,this.timeout=te,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function handlerCheck(_){if(!_)throw unknown()}function metadataHandler(_,$){return function handler(ee,te){const ne=fromResourceString(_,te,$);return handlerCheck(null!==ne),ne}}function downloadUrlHandler(_,$){return function handler(ee,te){const ne=fromResourceString(_,te,$);return handlerCheck(null!==ne),function downloadUrlFromResourceString(_,$,ee,te){const ne=jsonObjectOrNull($);if(null===ne)return null;if(!isString(ne.downloadTokens))return null;const re=ne.downloadTokens;if(0===re.length)return null;const ie=encodeURIComponent;return re.split(",").map(($=>{const ne=_.bucket,re=_.fullPath;return makeUrl("/b/"+ie(ne)+"/o/"+ie(re),ee,te)+makeQueryString({alt:"media",token:$})}))[0]}(ne,te,_.host,_._protocol)}}function sharedErrorHandler(_){return function errorHandler($,ee){let te;return te=401===$.getStatus()?$.getErrorText().includes("Firebase App Check token is invalid")?function unauthorizedApp(){return new StorageError(oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function unauthenticated(){return new StorageError(oe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===$.getStatus()?function quotaExceeded(_){return new StorageError(oe.QUOTA_EXCEEDED,"Quota for bucket '"+_+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(_.bucket):403===$.getStatus()?function unauthorized(_){return new StorageError(oe.UNAUTHORIZED,"User does not have permission to access '"+_+"'.")}(_.path):ee,te.status=$.getStatus(),te.serverResponse=ee.serverResponse,te}}function objectErrorHandler(_){const $=sharedErrorHandler(_);return function errorHandler(ee,te){let ne=$(ee,te);return 404===ee.getStatus()&&(ne=function objectNotFound(_){return new StorageError(oe.OBJECT_NOT_FOUND,"Object '"+_+"' does not exist.")}(_.path)),ne.serverResponse=te.serverResponse,ne}}function getMetadata$2(_,$,ee){const te=makeUrl($.fullServerUrl(),_.host,_._protocol),ne=_.maxOperationRetryTime,re=new RequestInfo(te,"GET",metadataHandler(_,ee),ne);return re.errorHandler=objectErrorHandler($),re}function metadataForUpload_(_,$,ee){const te=Object.assign({},ee);return te.fullPath=_.path,te.size=$.size(),te.contentType||(te.contentType=function determineContentType_(_,$){return _&&_.contentType||$&&$.type()||"application/octet-stream"}(null,$)),te}function multipartUpload(_,$,ee,te,ne){const re=$.bucketOnlyServerUrl(),ie={"X-Goog-Upload-Protocol":"multipart"};const ae=function genBoundary(){let _="";for(let $=0;$<2;$++)_+=Math.random().toString().slice(2);return _}();ie["Content-Type"]="multipart/related; boundary="+ae;const oe=metadataForUpload_($,te,ne),se="--"+ae+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+toResourceString(oe,ee)+"\r\n--"+ae+"\r\nContent-Type: "+oe.contentType+"\r\n\r\n",le="\r\n--"+ae+"--",de=FbsBlob.getBlob(se,te,le);if(null===de)throw cannotSliceBlob();const he={name:oe.fullPath},fe=makeUrl(re,_.host,_._protocol),pe=_.maxUploadRetryTime,me=new RequestInfo(fe,"POST",metadataHandler(_,ee),pe);return me.urlParams=he,me.headers=ie,me.body=de.uploadData(),me.errorHandler=sharedErrorHandler($),me}class ResumableUploadStatus{constructor(_,$,ee,te){this.current=_,this.total=$,this.finalized=!!ee,this.metadata=te||null}}function checkResumeHeader_(_,$){let ee=null;try{ee=_.getResponseHeader("X-Goog-Upload-Status")}catch(te){handlerCheck(!1)}return handlerCheck(!!ee&&-1!==($||["active"]).indexOf(ee)),ee}const me=262144;function continueResumableUpload(_,$,ee,te,ne,re,ie,ae){const se=new ResumableUploadStatus(0,0);if(ie?(se.current=ie.current,se.total=ie.total):(se.current=0,se.total=te.size()),te.size()!==se.total)throw function serverFileWrongSize(){return new StorageError(oe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const le=se.total-se.current;let de=le;ne>0&&(de=Math.min(de,ne));const he=se.current,fe=he+de;let pe="";pe=0===de?"finalize":le===de?"upload, finalize":"upload";const me={"X-Goog-Upload-Command":pe,"X-Goog-Upload-Offset":`${se.current}`},_e=te.slice(he,fe);if(null===_e)throw cannotSliceBlob();const be=$.maxUploadRetryTime,we=new RequestInfo(ee,"POST",(function handler(_,ee){const ne=checkResumeHeader_(_,["active","final"]),ie=se.current+de,ae=te.size();let oe;return oe="final"===ne?metadataHandler($,re)(_,ee):null,new ResumableUploadStatus(ie,ae,"final"===ne,oe)}),be);return we.headers=me,we.body=_e.uploadData(),we.progressCallback=ae||null,we.errorHandler=sharedErrorHandler(_),we}const _e="running",be="paused",we="success",Ee="canceled",ke="error";function taskStateFromInternalTaskState(_){switch(_){case"running":case"pausing":case"canceling":return _e;case"paused":return be;case"success":return we;case"canceled":return Ee;default:return ke}}class Observer{constructor(_,$,ee){if(function isFunction(_){return"function"===typeof _}(_)||null!=$||null!=ee)this.next=_,this.error=null!==$&&void 0!==$?$:void 0,this.complete=null!==ee&&void 0!==ee?ee:void 0;else{const $=_;this.next=$.next,this.error=$.error,this.complete=$.complete}}}function index_esm2017_async(_){return function(){for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];Promise.resolve().then((()=>_(...ee)))}}let Ve=null;class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=se.NO_ERROR,this.sendPromise_=new Promise((_=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=se.ABORT,_()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=se.NETWORK_ERROR,_()})),this.xhr_.addEventListener("load",(()=>{_()}))}))}send(_,$,ee,te){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open($,_,!0),void 0!==te)for(const ne in te)te.hasOwnProperty(ne)&&this.xhr_.setRequestHeader(ne,te[ne].toString());return void 0!==ee?this.xhr_.send(ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(_){return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(_){return this.xhr_.getResponseHeader(_)}addUploadProgressListener(_){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",_)}removeUploadProgressListener(_){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",_)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return Ve?Ve():new XhrTextConnection}class UploadTask{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=_,this._blob=$,this._metadata=ee,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_=>{if(this._request=void 0,this._chunkMultiplier=1,_._codeEquals(oe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const $=this.isExponentialBackoffExpired();if(isRetryStatusCode(_.status,[])){if(!$)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();_=retryLimitExceeded()}this._error=_,this._transition("error")}},this._metadataErrorHandler=_=>{this._request=void 0,_._codeEquals(oe.CANCELED)?this.completeTransitions_():(this._error=_,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((_,$)=>{this._resolve=_,this._reject=$,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const _=this._transferred;return $=>this._updateProgress(_+$)}_shouldDoResumable(_){return _.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(_){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(($=>{let[ee,te]=$;switch(this._state){case"running":_(ee,te);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((_,$)=>{const ee=function createResumableUpload(_,$,ee,te,ne){const re=$.bucketOnlyServerUrl(),ie=metadataForUpload_($,te,ne),ae={name:ie.fullPath},oe=makeUrl(re,_.host,_._protocol),se={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${te.size()}`,"X-Goog-Upload-Header-Content-Type":ie.contentType,"Content-Type":"application/json; charset=utf-8"},le=toResourceString(ie,ee),de=_.maxUploadRetryTime,he=new RequestInfo(oe,"POST",(function handler(_){let $;checkResumeHeader_(_);try{$=_.getResponseHeader("X-Goog-Upload-URL")}catch(ee){handlerCheck(!1)}return handlerCheck(isString($)),$}),de);return he.urlParams=ae,he.headers=se,he.body=le,he.errorHandler=sharedErrorHandler($),he}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),te=this._ref.storage._makeRequest(ee,newTextConnection,_,$);this._request=te,te.getPromise().then((_=>{this._request=void 0,this._uploadUrl=_,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const _=this._uploadUrl;this._resolveToken((($,ee)=>{const te=function getResumableUploadStatus(_,$,ee,te){const ne=_.maxUploadRetryTime,re=new RequestInfo(ee,"POST",(function handler(_){const $=checkResumeHeader_(_,["active","final"]);let ee=null;try{ee=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(re){handlerCheck(!1)}ee||handlerCheck(!1);const ne=Number(ee);return handlerCheck(!isNaN(ne)),new ResumableUploadStatus(ne,te.size(),"final"===$)}),ne);return re.headers={"X-Goog-Upload-Command":"query"},re.errorHandler=sharedErrorHandler($),re}(this._ref.storage,this._ref._location,_,this._blob),ne=this._ref.storage._makeRequest(te,newTextConnection,$,ee);this._request=ne,ne.getPromise().then((_=>{this._request=void 0,this._updateProgress(_.current),this._needToFetchStatus=!1,_.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const _=me*this._chunkMultiplier,$=new ResumableUploadStatus(this._transferred,this._blob.size()),ee=this._uploadUrl;this._resolveToken(((te,ne)=>{let re;try{re=continueResumableUpload(this._ref._location,this._ref.storage,ee,this._blob,_,this._mappings,$,this._makeProgressCallback())}catch(ae){return this._error=ae,void this._transition("error")}const ie=this._ref.storage._makeRequest(re,newTextConnection,te,ne,!1);this._request=ie,ie.getPromise().then((_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(me*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((_,$)=>{const ee=getMetadata$2(this._ref.storage,this._ref._location,this._mappings),te=this._ref.storage._makeRequest(ee,newTextConnection,_,$);this._request=te,te.getPromise().then((_=>{this._request=void 0,this._metadata=_,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((_,$)=>{const ee=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),te=this._ref.storage._makeRequest(ee,newTextConnection,_,$);this._request=te,te.getPromise().then((_=>{this._request=void 0,this._metadata=_,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(_){const $=this._transferred;this._transferred=_,this._transferred!==$&&this._notifyObservers()}_transition(_){if(this._state!==_)switch(_){case"canceling":case"pausing":this._state=_,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const $="paused"===this._state;this._state=_,$&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=_,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=_,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const _=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:_,metadata:this._metadata,task:this,ref:this._ref}}on(_,$,ee,te){const ne=new Observer($||void 0,ee||void 0,te||void 0);return this._addObserver(ne),()=>{this._removeObserver(ne)}}then(_,$){return this._promise.then(_,$)}catch(_){return this.then(null,_)}_addObserver(_){this._observers.push(_),this._notifyObserver(_)}_removeObserver(_){const $=this._observers.indexOf(_);-1!==$&&this._observers.splice($,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((_=>{this._notifyObserver(_)}))}_finishPromise(){if(void 0!==this._resolve){let _=!0;switch(taskStateFromInternalTaskState(this._state)){case we:index_esm2017_async(this._resolve.bind(null,this.snapshot))();break;case Ee:case ke:index_esm2017_async(this._reject.bind(null,this._error))();break;default:_=!1}_&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(_){switch(taskStateFromInternalTaskState(this._state)){case _e:case be:_.next&&index_esm2017_async(_.next.bind(_,this.snapshot))();break;case we:_.complete&&index_esm2017_async(_.complete.bind(_))();break;default:_.error&&index_esm2017_async(_.error.bind(_,this._error))()}}resume(){const _="paused"===this._state||"pausing"===this._state;return _&&this._transition("running"),_}pause(){const _="running"===this._state;return _&&this._transition("pausing"),_}cancel(){const _="running"===this._state||"pausing"===this._state;return _&&this._transition("canceling"),_}}class Reference{constructor(_,$){this._service=_,this._location=$ instanceof Location?$:Location.makeFromUrl($,_.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_,$){return new Reference(_,$)}get root(){const _=new Location(this._location.bucket,"");return this._newRef(this._service,_)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const _=function index_esm2017_parent(_){if(0===_.length)return null;const $=_.lastIndexOf("/");return-1===$?"":_.slice(0,$)}(this._location.path);if(null===_)return null;const $=new Location(this._location.bucket,_);return new Reference(this._service,$)}_throwIfRoot(_){if(""===this._location.path)throw function invalidRootOperation(_){return new StorageError(oe.INVALID_ROOT_OPERATION,"The operation '"+_+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(_)}}function getDownloadURL$1(_){_._throwIfRoot("getDownloadURL");const $=function getDownloadUrl(_,$,ee){const te=makeUrl($.fullServerUrl(),_.host,_._protocol),ne=_.maxOperationRetryTime,re=new RequestInfo(te,"GET",downloadUrlHandler(_,ee),ne);return re.errorHandler=objectErrorHandler($),re}(_.storage,_._location,getMappings());return _.storage.makeRequestWithTokens($,newTextConnection).then((_=>{if(null===_)throw function noDownloadURL(){return new StorageError(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return _}))}function _getChild$1(_,$){const ee=function child(_,$){const ee=$.split("/").filter((_=>_.length>0)).join("/");return 0===_.length?ee:_+"/"+ee}(_._location.path,$),te=new Location(_._location.bucket,ee);return new Reference(_.storage,te)}function refFromPath(_,$){if(_ instanceof FirebaseStorageImpl){const ee=_;if(null==ee._bucket)throw function noDefaultBucket(){return new StorageError(oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ae+"' property when initializing the app?")}();const te=new Reference(ee,ee._bucket);return null!=$?refFromPath(te,$):te}return void 0!==$?_getChild$1(_,$):_}function ref$1(_,$){if($&&function isUrl(_){return/^[A-Za-z]+:\/\//.test(_)}($)){if(_ instanceof FirebaseStorageImpl)return function refFromURL(_,$){return new Reference(_,$)}(_,$);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}return refFromPath(_,$)}function extractBucket(_,$){const ee=null===$||void 0===$?void 0:$[ae];return null==ee?null:Location.makeFromBucketSpec(ee,_)}class FirebaseStorageImpl{constructor(_,$,ee,te,ne){this.app=_,this._authProvider=$,this._appCheckProvider=ee,this._url=te,this._firebaseVersion=ne,this._bucket=null,this._host=ie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=te?Location.makeFromBucketSpec(te,this._host):extractBucket(this._host,this.app.options)}get host(){return this._host}set host(_){this._host=_,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,_):this._bucket=extractBucket(_,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_){validateNumber("time",0,Number.POSITIVE_INFINITY,_),this._maxUploadRetryTime=_}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_){validateNumber("time",0,Number.POSITIVE_INFINITY,_),this._maxOperationRetryTime=_}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const _=this._authProvider.getImmediate({optional:!0});if(_){const $=await _.getToken();if(null!==$)return $.accessToken}return null}async _getAppCheckToken(){if((0,te.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const _=this._appCheckProvider.getImmediate({optional:!0});if(_){return(await _.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((_=>_.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(_){return new Reference(this,_)}_makeRequest(_,$,ee,te){let ne=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new FailRequest(appDeleted());{const re=function makeRequest(_,$,ee,te,ne,re){let ie=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const ae=makeQueryString(_.urlParams),oe=_.url+ae,se=Object.assign({},_.headers);return function addGmpidHeader_(_,$){$&&(_["X-Firebase-GMPID"]=$)}(se,$),function addAuthHeader_(_,$){null!==$&&$.length>0&&(_.Authorization="Firebase "+$)}(se,ee),function addVersionHeader_(_,$){_["X-Firebase-Storage-Version"]="webjs/"+(null!==$&&void 0!==$?$:"AppManager")}(se,re),function addAppCheckHeader_(_,$){null!==$&&(_["X-Firebase-AppCheck"]=$)}(se,te),new NetworkRequest(oe,_.method,se,_.body,_.successCodes,_.additionalRetryCodes,_.handler,_.errorHandler,_.timeout,_.progressCallback,ne,ie)}(_,this._appId,ee,te,$,this._firebaseVersion,ne);return this._requests.add(re),re.getPromise().then((()=>this._requests.delete(re)),(()=>this._requests.delete(re))),re}}async makeRequestWithTokens(_,$){const[ee,te]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(_,$,ee,te).getPromise()}}const De="@firebase/storage",Ne="0.13.7",Me="storage";function uploadBytesResumable(_,$,ee){return function uploadBytesResumable$1(_,$,ee){return _._throwIfRoot("uploadBytesResumable"),new UploadTask(_,new FbsBlob($),ee)}(_=(0,ne.Ku)(_),$,ee)}function getDownloadURL(_){return getDownloadURL$1(_=(0,ne.Ku)(_))}function ref(_,$){return ref$1(_=(0,ne.Ku)(_),$)}function getStorage(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,te.Sx)(),$=arguments.length>1?arguments[1]:void 0;_=(0,ne.Ku)(_);const ee=(0,te.j6)(_,Me).getImmediate({identifier:$}),re=(0,ne.yU)("storage");return re&&function connectStorageEmulator(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function connectStorageEmulator$1(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_.host=`${$}:${ee}`,_._protocol="http";const{mockUserToken:re}=te;re&&(_._overrideAuthToken="string"===typeof re?re:(0,ne.Fy)(re,_.app.options.projectId))}(_,$,ee,te)}(ee,...re),ee}function factory(_,$){let{instanceIdentifier:ee}=$;const ne=_.getProvider("app").getImmediate(),re=_.getProvider("auth-internal"),ie=_.getProvider("app-check-internal");return new FirebaseStorageImpl(ne,re,ie,ee,te.MF)}!function registerStorage(){(0,te.om)(new re.uA(Me,factory,"PUBLIC").setMultipleInstances(!0)),(0,te.KO)(De,Ne,""),(0,te.KO)(De,Ne,"esm2017")}()},8326:(_,$,ee)=>{"use strict";ee.d($,{A:()=>te});const te=(0,ee(7784).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8592:(_,$,ee)=>{"use strict";ee.r($),ee.d($,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var te=ee(5043),ne=ee(579);const __WEBPACK_DEFAULT_EXPORT__=()=>{const[_,$]=(0,te.useState)((()=>{if("undefined"!==typeof window){const _=localStorage.getItem("theme");return"dark"===_||"light"===_?"dark"===_:window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}));(0,te.useEffect)((()=>{const $=document.documentElement;_?($.classList.add("dark"),localStorage.setItem("theme","dark")):($.classList.remove("dark"),localStorage.setItem("theme","light"))}),[_]);return(0,ne.jsx)("button",{onClick:()=>{$((_=>!_))},className:"\r transition-all duration-500 ease-in-out\r p-2 rounded-full \r bg-gray-300 dark:bg-gray-800 \r text-gray-900 dark:text-white \r hover:text-xl\r ","aria-label":"Toggle theme",children:_?"\ud83c\udf19":"\u2600\ufe0f"})}},8638:(_,$,ee)=>{"use strict";ee.d($,{P:()=>useMemory,p:()=>MemoryProvider});var te=ee(5043),ne=ee(4895),re=ee(5472),ie=ee(9613),ae=ee(579);const oe=(0,te.createContext)(),MemoryProvider=_=>{let{children:$}=_;const[ee,se]=(0,te.useState)([]),[le,de]=(0,te.useState)([]),{user:he}=(0,ie.As)();(0,te.useEffect)((()=>{he&&loadFirestoreMemory()}),[he]);const loadFirestoreMemory=async()=>{if(he)try{const _=(0,re.P)((0,re.rJ)(ne.db,"users",he.uid,"memory"),(0,re.My)("timestamp","desc")),$=(await(0,re.GG)(_)).docs.map((_=>_.data()));se($),console.log("\u2705 Firestore Memory Loaded:",$)}catch(_){console.error("\u274c Error loading Firestore memory:",_)}};return(0,ae.jsx)(oe.Provider,{value:{memory:ee,saveToFirestore:async(_,$)=>{if(!he)return;const ee={query:_,response:$,timestamp:(new Date).toISOString()};if(de((_=>[..._,ee])),le.length>=5)try{const _=(0,re.wP)(ne.db);le.forEach(($=>{const ee=(0,re.rJ)(ne.db,"users",he.uid,"memory");_.set((0,re.gS)(ee),$)})),await _.commit(),console.log("\u2705 Batch written to Firestore:",le),de([])}catch(te){console.error("\u274c Error writing batch to Firestore:",te)}se((_=>[..._,ee]))}},children:$})},useMemory=()=>(0,te.useContext)(oe)},8812:(_,$,ee)=>{"use strict";ee.d($,{h1:()=>ComponentContainer,uA:()=>Component});var te=ee(1529);class Component{constructor(_,$,ee){this.name=_,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_){return this.instantiationMode=_,this}setMultipleInstances(_){return this.multipleInstances=_,this}setServiceProps(_){return this.serviceProps=_,this}setInstanceCreatedCallback(_){return this.onInstanceCreated=_,this}}const ne="[DEFAULT]";class Provider{constructor(_,$){this.name=_,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_){const $=this.normalizeInstanceIdentifier(_);if(!this.instancesDeferred.has($)){const _=new te.cY;if(this.instancesDeferred.set($,_),this.isInitialized($)||this.shouldAutoInitialize())try{const ee=this.getOrInitializeService({instanceIdentifier:$});ee&&_.resolve(ee)}catch(ee){}}return this.instancesDeferred.get($).promise}getImmediate(_){var $;const ee=this.normalizeInstanceIdentifier(null===_||void 0===_?void 0:_.identifier),te=null!==($=null===_||void 0===_?void 0:_.optional)&&void 0!==$&&$;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ne){if(te)return null;throw ne}}getComponent(){return this.component}setComponent(_){if(_.name!==this.name)throw Error(`Mismatching Component ${_.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_,this.shouldAutoInitialize()){if(function isComponentEager(_){return"EAGER"===_.instantiationMode}(_))try{this.getOrInitializeService({instanceIdentifier:ne})}catch($){}for(const[_,ee]of this.instancesDeferred.entries()){const te=this.normalizeInstanceIdentifier(_);try{const _=this.getOrInitializeService({instanceIdentifier:te});ee.resolve(_)}catch($){}}}}clearInstance(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;this.instancesDeferred.delete(_),this.instancesOptions.delete(_),this.instances.delete(_)}async delete(){const _=Array.from(this.instances.values());await Promise.all([..._.filter((_=>"INTERNAL"in _)).map((_=>_.INTERNAL.delete())),..._.filter((_=>"_delete"in _)).map((_=>_._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return this.instances.has(_)}getOptions(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return this.instancesOptions.get(_)||{}}initialize(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:$={}}=_,ee=this.normalizeInstanceIdentifier(_.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const te=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(const[ne,re]of this.instancesDeferred.entries()){ee===this.normalizeInstanceIdentifier(ne)&&re.resolve(te)}return te}onInit(_,$){var ee;const te=this.normalizeInstanceIdentifier($),ne=null!==(ee=this.onInitCallbacks.get(te))&&void 0!==ee?ee:new Set;ne.add(_),this.onInitCallbacks.set(te,ne);const re=this.instances.get(te);return re&&_(re,te),()=>{ne.delete(_)}}invokeOnInitCallbacks(_,$){const ee=this.onInitCallbacks.get($);if(ee)for(const ne of ee)try{ne(_,$)}catch(te){}}getOrInitializeService(_){let{instanceIdentifier:$,options:ee={}}=_,te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(re=$,re===ne?void 0:re),options:ee}),this.instances.set($,te),this.instancesOptions.set($,ee),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(ie){}var re;return te||null}normalizeInstanceIdentifier(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return this.component?this.component.multipleInstances?_:ne:_}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ComponentContainer{constructor(_){this.name=_,this.providers=new Map}addComponent(_){const $=this.getProvider(_.name);if($.isComponentSet())throw new Error(`Component ${_.name} has already been registered with ${this.name}`);$.setComponent(_)}addOrOverwriteComponent(_){this.getProvider(_.name).isComponentSet()&&this.providers.delete(_.name),this.addComponent(_)}getProvider(_){if(this.providers.has(_))return this.providers.get(_);const $=new Provider(_,this);return this.providers.set(_,$),$}getProviders(){return Array.from(this.providers.values())}}},8853:(_,$,ee)=>{"use strict";_.exports=ee(7234)},8917:(_,$,ee)=>{"use strict";ee.d($,{xQ:()=>usePresence});var te=ee(5043),ne=ee(9674);function usePresence(){let _=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const $=(0,te.useContext)(ne.t);if(null===$)return[!0,null];const{isPresent:ee,onExitComplete:re,register:ie}=$,ae=(0,te.useId)();(0,te.useEffect)((()=>{if(_)return ie(ae)}),[_]);const oe=(0,te.useCallback)((()=>_&&re&&re(ae)),[ae,re,_]);return!ee&&re?[!1,oe]:[!0]}},9613:(_,$,ee)=>{"use strict";ee.d($,{As:()=>useAuth,OJ:()=>AuthProvider});var te=ee(5043),ne=ee(4895),re=ee(5472),ie=ee(579);const ae=(0,te.createContext)();function AuthProvider(_){let{children:$}=_;const[ee,oe]=(0,te.useState)(null),[se,le]=(0,te.useState)(!0);(0,te.useEffect)((()=>{const _=(0,ne.hg)(ne.j2,(async _=>{if(_){const $=(0,re.H9)(ne.db,"users",_.uid),ee=await(0,re.x7)($);if(ee.exists()){const $=ee.data();oe({..._,firstName:$.firstname,lastName:$.lastname,profilePicture:$.profilePicture||null})}else oe(_)}else oe(null);le(!1)}));return()=>_()}),[]),(0,te.useEffect)((()=>{if(!ee)return;const _=(0,re.H9)(ne.db,"users",ee.uid),$=(0,re.aQ)(_,(_=>{var $;((null===($=_.data())||void 0===$?void 0:$.sessionVersion)||1)!==(Number(localStorage.getItem("sessionVersion"))||1)&&(alert("You've been logged out on this device."),(0,ne.CI)(ne.j2))}));return()=>$()}),[ee]),(0,te.useEffect)((()=>{(async()=>{var _;if(!ee)return;const $=(0,re.H9)(ne.db,"users",ee.uid),te=(null===(_=(await(0,re.x7)($)).data())||void 0===_?void 0:_.sessionVersion)||1,ie=localStorage.getItem("sessionVersion")||"1";te.toString()!==ie&&(alert("You've been signed out because your session expired or was revoked."),await(0,ne.CI)(ne.j2))})()}),[ee]);return(0,ie.jsx)(ae.Provider,{value:{user:ee,loading:se,setUser:oe,signup:async(_,$,ee,te,ie,ae,oe,se)=>{try{const le=(await(0,ne.eJ)(ne.j2,te,ie)).user,de=(0,re.H9)(ne.db,"users",le.uid);await(0,re.BN)(de,{firstname:_,lastname:$,phone:ee,email:te,location:ae,country:oe,profilePicture:se,sessionVersion:1,createdAt:new Date}),localStorage.setItem("sessionVersion","1"),console.log("\u2705 User signed up and data saved")}catch(le){throw console.error("\u274c Signup error:",le.message),le}},login:async(_,$)=>{try{var ee;const te=(await(0,ne.x9)(ne.j2,_,$)).user,ie=(0,re.H9)(ne.db,"users",te.uid),ae=(null===(ee=(await(0,re.x7)(ie)).data())||void 0===ee?void 0:ee.sessionVersion)||1;localStorage.setItem("sessionVersion",ae.toString()),console.log("\u2705 Primary user logged in successfully")}catch(te){throw console.error("\u274c Login error:",te.message),te}},logout:async()=>{try{await(0,ne.CI)(ne.j2),oe(null),localStorage.removeItem("sessionVersion"),console.log("\u2705 User logged out successfully")}catch(_){throw console.error("\u274c Logout error:",_.message),_}},resetPassword:async _=>{try{await(0,ne.J1)(ne.j2,_),console.log("\ud83d\udce9 Password reset email sent!")}catch($){throw console.error("\u274c Reset error:",$.message),$}}},children:$})}function useAuth(){return(0,te.useContext)(ae)}},9674:(_,$,ee)=>{"use strict";ee.d($,{t:()=>te});const te=(0,ee(5043).createContext)(null)}},$={};function __webpack_require__(ee){var te=$[ee];if(void 0!==te)return te.exports;var ne=$[ee]={id:ee,loaded:!1,exports:{}};return _[ee].call(ne.exports,ne,ne.exports,__webpack_require__),ne.loaded=!0,ne.exports}__webpack_require__.m=_,__webpack_require__.n=_=>{var $=_&&_.__esModule?()=>_.default:()=>_;return __webpack_require__.d($,{a:$}),$},__webpack_require__.d=(_,$)=>{for(var ee in $)__webpack_require__.o($,ee)&&!__webpack_require__.o(_,ee)&&Object.defineProperty(_,ee,{enumerable:!0,get:$[ee]})},__webpack_require__.f={},__webpack_require__.e=_=>Promise.all(Object.keys(__webpack_require__.f).reduce((($,ee)=>(__webpack_require__.f[ee](_,$),$)),[])),__webpack_require__.u=_=>"static/js/"+_+"."+{52:"63e29a1f",58:"2cdf87f0",109:"9aad408d",158:"751f72cf",245:"bbe33bc6",257:"c5cfb2a6",272:"64f3e499",278:"eaabae7a",304:"4726f46b",321:"95b15e31",364:"9124cfd5",407:"5263d654",464:"2f6a160a",534:"1d20ff13",624:"7971fa4e",627:"fa89ea55",645:"63a55139",662:"e329caf6",844:"95837617",883:"bebd9f91",984:"1d9a80a4"}[_]+".chunk.js",__webpack_require__.miniCssF=_=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(_){if("object"===typeof window)return window}}(),__webpack_require__.o=(_,$)=>Object.prototype.hasOwnProperty.call(_,$),(()=>{var _={},$="omnis:";__webpack_require__.l=(ee,te,ne,re)=>{if(_[ee])_[ee].push(te);else{var ie,ae;if(void 0!==ne)for(var oe=document.getElementsByTagName("script"),se=0;se<oe.length;se++){var le=oe[se];if(le.getAttribute("src")==ee||le.getAttribute("data-webpack")==$+ne){ie=le;break}}ie||(ae=!0,(ie=document.createElement("script")).charset="utf-8",ie.timeout=120,__webpack_require__.nc&&ie.setAttribute("nonce",__webpack_require__.nc),ie.setAttribute("data-webpack",$+ne),ie.src=ee),_[ee]=[te];var onScriptComplete=($,te)=>{ie.onerror=ie.onload=null,clearTimeout(de);var ne=_[ee];if(delete _[ee],ie.parentNode&&ie.parentNode.removeChild(ie),ne&&ne.forEach((_=>_(te))),$)return $(te)},de=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:ie}),12e4);ie.onerror=onScriptComplete.bind(null,ie.onerror),ie.onload=onScriptComplete.bind(null,ie.onload),ae&&document.head.appendChild(ie)}}})(),__webpack_require__.r=_=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},__webpack_require__.nmd=_=>(_.paths=[],_.children||(_.children=[]),_),__webpack_require__.p="/",(()=>{var _={792:0};__webpack_require__.f.j=($,ee)=>{var te=__webpack_require__.o(_,$)?_[$]:void 0;if(0!==te)if(te)ee.push(te[2]);else{var ne=new Promise(((ee,ne)=>te=_[$]=[ee,ne]));ee.push(te[2]=ne);var re=__webpack_require__.p+__webpack_require__.u($),ie=new Error;__webpack_require__.l(re,(ee=>{if(__webpack_require__.o(_,$)&&(0!==(te=_[$])&&(_[$]=void 0),te)){var ne=ee&&("load"===ee.type?"missing":ee.type),re=ee&&ee.target&&ee.target.src;ie.message="Loading chunk "+$+" failed.\n("+ne+": "+re+")",ie.name="ChunkLoadError",ie.type=ne,ie.request=re,te[1](ie)}}),"chunk-"+$,$)}};var webpackJsonpCallback=($,ee)=>{var te,ne,re=ee[0],ie=ee[1],ae=ee[2],oe=0;if(re.some(($=>0!==_[$]))){for(te in ie)__webpack_require__.o(ie,te)&&(__webpack_require__.m[te]=ie[te]);if(ae)ae(__webpack_require__)}for($&&$(ee);oe<re.length;oe++)ne=re[oe],__webpack_require__.o(_,ne)&&_[ne]&&_[ne][0](),_[ne]=0},$=self.webpackChunkomnis=self.webpackChunkomnis||[];$.forEach(webpackJsonpCallback.bind(null,0)),$.push=webpackJsonpCallback.bind(null,$.push.bind($))})(),(()=>{"use strict";var _={};__webpack_require__.r(_),__webpack_require__.d(_,{boolean:()=>Ot,booleanish:()=>Mt,commaOrSpaceSeparated:()=>Bt,commaSeparated:()=>Ut,number:()=>jt,overloadedBoolean:()=>Ft,spaceSeparated:()=>Lt});var $={};__webpack_require__.r($),__webpack_require__.d($,{attentionMarkers:()=>yr,contentInitial:()=>hr,disable:()=>vr,document:()=>dr,flow:()=>pr,flowInitial:()=>fr,insideSpan:()=>_r,string:()=>mr,text:()=>gr});var ee=__webpack_require__(5043),te=__webpack_require__(4391),ne=(__webpack_require__(3175),"popstate");function createBrowserHistory(){return getUrlBasedHistory((function createBrowserLocation(_,$){let{pathname:ee,search:te,hash:ne}=_.location;return createLocation("",{pathname:ee,search:te,hash:ne},$.state&&$.state.usr||null,$.state&&$.state.key||"default")}),(function createBrowserHref(_,$){return"string"===typeof $?$:createPath($)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function invariant(_,$){if(!1===_||null===_||"undefined"===typeof _)throw new Error($)}function warning(_,$){if(!_){"undefined"!==typeof console&&console.warn($);try{throw new Error($)}catch(ci){}}}function getHistoryState(_,$){return{usr:_.state,key:_.key,idx:$}}function createLocation(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,te=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof _?_:_.pathname,search:"",hash:"",..."string"===typeof $?parsePath($):$,state:ee,key:$&&$.key||te||Math.random().toString(36).substring(2,10)}}function createPath(_){let{pathname:$="/",search:ee="",hash:te=""}=_;return ee&&"?"!==ee&&($+="?"===ee.charAt(0)?ee:"?"+ee),te&&"#"!==te&&($+="#"===te.charAt(0)?te:"#"+te),$}function parsePath(_){let $={};if(_){let ee=_.indexOf("#");ee>=0&&($.hash=_.substring(ee),_=_.substring(0,ee));let te=_.indexOf("?");te>=0&&($.search=_.substring(te),_=_.substring(0,te)),_&&($.pathname=_)}return $}function getUrlBasedHistory(_,$,ee){let te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:re=document.defaultView,v5Compat:ie=!1}=te,ae=re.history,oe="POP",se=null,le=getIndex();function getIndex(){return(ae.state||{idx:null}).idx}function handlePop(){oe="POP";let _=getIndex(),$=null==_?null:_-le;le=_,se&&se({action:oe,location:de.location,delta:$})}function createURL(_){let $="null"!==re.location.origin?re.location.origin:re.location.href,ee="string"===typeof _?_:createPath(_);return ee=ee.replace(/ $/,"%20"),invariant($,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,$)}null==le&&(le=0,ae.replaceState({...ae.state,idx:le},""));let de={get action(){return oe},get location(){return _(re,ae)},listen(_){if(se)throw new Error("A history only accepts one active listener");return re.addEventListener(ne,handlePop),se=_,()=>{re.removeEventListener(ne,handlePop),se=null}},createHref:_=>$(re,_),createURL:createURL,encodeLocation(_){let $=createURL(_);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:function push(_,$){oe="PUSH";let te=createLocation(de.location,_,$);ee&&ee(te,_),le=getIndex()+1;let ne=getHistoryState(te,le),he=de.createHref(te);try{ae.pushState(ne,"",he)}catch(fe){if(fe instanceof DOMException&&"DataCloneError"===fe.name)throw fe;re.location.assign(he)}ie&&se&&se({action:oe,location:de.location,delta:1})},replace:function replace2(_,$){oe="REPLACE";let te=createLocation(de.location,_,$);ee&&ee(te,_),le=getIndex();let ne=getHistoryState(te,le),re=de.createHref(te);ae.replaceState(ne,"",re),ie&&se&&se({action:oe,location:de.location,delta:0})},go:_=>ae.go(_)};return de}new WeakMap;function matchRoutes(_,$){return matchRoutesImpl(_,$,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function matchRoutesImpl(_,$,ee,te){let ne=stripBasename(("string"===typeof $?parsePath($):$).pathname||"/",ee);if(null==ne)return null;let re=flattenRoutes(_);!function rankRouteBranches(_){_.sort(((_,$)=>_.score!==$.score?$.score-_.score:function compareIndexes(_,$){let ee=_.length===$.length&&_.slice(0,-1).every(((_,ee)=>_===$[ee]));return ee?_[_.length-1]-$[$.length-1]:0}(_.routesMeta.map((_=>_.childrenIndex)),$.routesMeta.map((_=>_.childrenIndex)))))}(re);let ie=null;for(let ae=0;null==ie&&ae<re.length;++ae){let _=decodePath(ne);ie=matchRouteBranch(re[ae],_,te)}return ie}function flattenRoutes(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",flattenRoute=(_,ne,re)=>{let ie={relativePath:void 0===re?_.path||"":re,caseSensitive:!0===_.caseSensitive,childrenIndex:ne,route:_};ie.relativePath.startsWith("/")&&(invariant(ie.relativePath.startsWith(te),`Absolute route path "${ie.relativePath}" nested under path "${te}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),ie.relativePath=ie.relativePath.slice(te.length));let ae=joinPaths([te,ie.relativePath]),oe=ee.concat(ie);_.children&&_.children.length>0&&(invariant(!0!==_.index,`Index routes must not have child routes. Please remove all child routes from route path "${ae}".`),flattenRoutes(_.children,$,oe,ae)),(null!=_.path||_.index)&&$.push({path:ae,score:computeScore(ae,_.index),routesMeta:oe})};return _.forEach(((_,$)=>{if(""!==_.path&&_.path?.includes("?"))for(let ee of explodeOptionalSegments(_.path))flattenRoute(_,$,ee);else flattenRoute(_,$)})),$}function explodeOptionalSegments(_){let $=_.split("/");if(0===$.length)return[];let[ee,...te]=$,ne=ee.endsWith("?"),re=ee.replace(/\?$/,"");if(0===te.length)return ne?[re,""]:[re];let ie=explodeOptionalSegments(te.join("/")),ae=[];return ae.push(...ie.map((_=>""===_?re:[re,_].join("/")))),ne&&ae.push(...ie),ae.map(($=>_.startsWith("/")&&""===$?"/":$))}var re=/^:[\w-]+$/,ie=3,ae=2,oe=1,se=10,le=-2,isSplat=_=>"*"===_;function computeScore(_,$){let ee=_.split("/"),te=ee.length;return ee.some(isSplat)&&(te+=le),$&&(te+=ae),ee.filter((_=>!isSplat(_))).reduce(((_,$)=>_+(re.test($)?ie:""===$?oe:se)),te)}function matchRouteBranch(_,$){let ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:te}=_,ne={},re="/",ie=[];for(let ae=0;ae<te.length;++ae){let _=te[ae],oe=ae===te.length-1,se="/"===re?$:$.slice(re.length)||"/",le=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:oe},se),de=_.route;if(!le&&oe&&ee&&!te[te.length-1].route.index&&(le=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},se)),!le)return null;Object.assign(ne,le.params),ie.push({params:ne,pathname:joinPaths([re,le.pathname]),pathnameBase:normalizePathname(joinPaths([re,le.pathnameBase])),route:de}),"/"!==le.pathnameBase&&(re=joinPaths([re,le.pathnameBase]))}return ie}function matchPath(_,$){"string"===typeof _&&(_={path:_,caseSensitive:!1,end:!0});let[ee,te]=compilePath(_.path,_.caseSensitive,_.end),ne=$.match(ee);if(!ne)return null;let re=ne[0],ie=re.replace(/(.)\/+$/,"$1"),ae=ne.slice(1),oe=te.reduce(((_,$,ee)=>{let{paramName:te,isOptional:ne}=$;if("*"===te){let _=ae[ee]||"";ie=re.slice(0,re.length-_.length).replace(/(.)\/+$/,"$1")}const oe=ae[ee];return _[te]=ne&&!oe?void 0:(oe||"").replace(/%2F/g,"/"),_}),{});return{params:oe,pathname:re,pathnameBase:ie,pattern:_}}function compilePath(_){let $=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ee=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];warning("*"===_||!_.endsWith("*")||_.endsWith("/*"),`Route path "${_}" will be treated as if it were "${_.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_.replace(/\*$/,"/*")}".`);let te=[],ne="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((_,$,ee)=>(te.push({paramName:$,isOptional:null!=ee}),ee?"/?([^\\/]+)?":"/([^\\/]+)")));return _.endsWith("*")?(te.push({paramName:"*"}),ne+="*"===_||"/*"===_?"(.*)$":"(?:\\/(.+)|\\/*)$"):ee?ne+="\\/*$":""!==_&&"/"!==_&&(ne+="(?:(?=\\/|$))"),[new RegExp(ne,$?void 0:"i"),te]}function decodePath(_){try{return _.split("/").map((_=>decodeURIComponent(_).replace(/\//g,"%2F"))).join("/")}catch($){return warning(!1,`The URL path "${_}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${$}).`),_}}function stripBasename(_,$){if("/"===$)return _;if(!_.toLowerCase().startsWith($.toLowerCase()))return null;let ee=$.endsWith("/")?$.length-1:$.length,te=_.charAt(ee);return te&&"/"!==te?null:_.slice(ee)||"/"}function getInvalidPathError(_,$,ee,te){return`Cannot include a '${_}' character in a manually specified \`to.${$}\` field [${JSON.stringify(te)}].  Please separate it out to the \`to.${ee}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_){return _.filter(((_,$)=>0===$||_.route.path&&_.route.path.length>0))}function getResolveToMatches(_){let $=getPathContributingMatches(_);return $.map(((_,ee)=>ee===$.length-1?_.pathname:_.pathnameBase))}function resolveTo(_,$,ee){let te,ne=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof _?te=parsePath(_):(te={..._},invariant(!te.pathname||!te.pathname.includes("?"),getInvalidPathError("?","pathname","search",te)),invariant(!te.pathname||!te.pathname.includes("#"),getInvalidPathError("#","pathname","hash",te)),invariant(!te.search||!te.search.includes("#"),getInvalidPathError("#","search","hash",te)));let re,ie=""===_||""===te.pathname,ae=ie?"/":te.pathname;if(null==ae)re=ee;else{let _=$.length-1;if(!ne&&ae.startsWith("..")){let $=ae.split("/");for(;".."===$[0];)$.shift(),_-=1;te.pathname=$.join("/")}re=_>=0?$[_]:"/"}let oe=function resolvePath(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:ee,search:te="",hash:ne=""}="string"===typeof _?parsePath(_):_,re=ee?ee.startsWith("/")?ee:function resolvePathname(_,$){let ee=$.replace(/\/+$/,"").split("/");return _.split("/").forEach((_=>{".."===_?ee.length>1&&ee.pop():"."!==_&&ee.push(_)})),ee.length>1?ee.join("/"):"/"}(ee,$):$;return{pathname:re,search:normalizeSearch(te),hash:normalizeHash(ne)}}(te,re),se=ae&&"/"!==ae&&ae.endsWith("/"),le=(ie||"."===ae)&&ee.endsWith("/");return oe.pathname.endsWith("/")||!se&&!le||(oe.pathname+="/"),oe}var joinPaths=_=>_.join("/").replace(/\/\/+/g,"/"),normalizePathname=_=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_=>_&&"?"!==_?_.startsWith("?")?_:"?"+_:"",normalizeHash=_=>_&&"#"!==_?_.startsWith("#")?_:"#"+_:"";function isRouteErrorResponse(_){return null!=_&&"number"===typeof _.status&&"string"===typeof _.statusText&&"boolean"===typeof _.internal&&"data"in _}var de=["POST","PUT","PATCH","DELETE"],he=(new Set(de),["GET",...de]);new Set(he),Symbol("ResetLoaderData");var fe=ee.createContext(null);fe.displayName="DataRouter";var pe=ee.createContext(null);pe.displayName="DataRouterState";var me=ee.createContext({isTransitioning:!1});me.displayName="ViewTransition";var _e=ee.createContext(new Map);_e.displayName="Fetchers";var be=ee.createContext(null);be.displayName="Await";var we=ee.createContext(null);we.displayName="Navigation";var Ee=ee.createContext(null);Ee.displayName="Location";var ke=ee.createContext({outlet:null,matches:[],isDataRoute:!1});ke.displayName="Route";var Ve=ee.createContext(null);Ve.displayName="RouteError";function useInRouterContext(){return null!=ee.useContext(Ee)}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(Ee).location}var De="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(_){ee.useContext(we).static||ee.useLayoutEffect(_)}function useNavigate(){let{isDataRoute:_}=ee.useContext(ke);return _?function useNavigateStable(){let{router:_}=useDataRouterContext("useNavigate"),$=useCurrentRouteId("useNavigate"),te=ee.useRef(!1);useIsomorphicLayoutEffect((()=>{te.current=!0}));let ne=ee.useCallback((async function(ee){let ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};warning(te.current,De),te.current&&("number"===typeof ee?_.navigate(ee):await _.navigate(ee,{fromRouteId:$,...ne}))}),[_,$]);return ne}():function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _=ee.useContext(fe),{basename:$,navigator:te}=ee.useContext(we),{matches:ne}=ee.useContext(ke),{pathname:re}=useLocation(),ie=JSON.stringify(getResolveToMatches(ne)),ae=ee.useRef(!1);useIsomorphicLayoutEffect((()=>{ae.current=!0}));let oe=ee.useCallback((function(ee){let ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(warning(ae.current,De),!ae.current)return;if("number"===typeof ee)return void te.go(ee);let oe=resolveTo(ee,JSON.parse(ie),re,"path"===ne.relative);null==_&&"/"!==$&&(oe.pathname="/"===oe.pathname?$:joinPaths([$,oe.pathname])),(ne.replace?te.replace:te.push)(oe,ne.state,ne)}),[$,te,ie,re,_]);return oe}()}ee.createContext(null);function useResolvedPath(_){let{relative:$}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:te}=ee.useContext(ke),{pathname:ne}=useLocation(),re=JSON.stringify(getResolveToMatches(te));return ee.useMemo((()=>resolveTo(_,JSON.parse(re),ne,"path"===$)),[_,re,ne,$])}function useRoutesImpl(_,$,te,ne){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:re,static:ie}=ee.useContext(we),{matches:ae}=ee.useContext(ke),oe=ae[ae.length-1],se=oe?oe.params:{},le=oe?oe.pathname:"/",de=oe?oe.pathnameBase:"/",he=oe&&oe.route;{let _=he&&he.path||"";warningOnce(le,!he||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${le}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${_}"> to <Route path="${"/"===_?"*":`${_}/*`}">.`)}let fe,pe=useLocation();if($){let _="string"===typeof $?parsePath($):$;invariant("/"===de||_.pathname?.startsWith(de),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${de}" but pathname "${_.pathname}" was given in the \`location\` prop.`),fe=_}else fe=pe;let me=fe.pathname||"/",_e=me;if("/"!==de){let _=de.replace(/^\//,"").split("/");_e="/"+me.replace(/^\//,"").split("/").slice(_.length).join("/")}let be=!ie&&te&&te.matches&&te.matches.length>0?te.matches:matchRoutes(_,{pathname:_e});warning(he||null!=be,`No routes matched location "${fe.pathname}${fe.search}${fe.hash}" `),warning(null==be||void 0!==be[be.length-1].route.element||void 0!==be[be.length-1].route.Component||void 0!==be[be.length-1].route.lazy,`Matched leaf route at location "${fe.pathname}${fe.search}${fe.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ve=_renderMatches(be&&be.map((_=>Object.assign({},_,{params:Object.assign({},se,_.params),pathname:joinPaths([de,re.encodeLocation?re.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:"/"===_.pathnameBase?de:joinPaths([de,re.encodeLocation?re.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])}))),ae,te,ne);return $&&Ve?ee.createElement(Ee.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...fe},navigationType:"POP"}},Ve):Ve}function DefaultErrorComponent(){let _=useRouteError(),$=isRouteErrorResponse(_)?`${_.status} ${_.statusText}`:_ instanceof Error?_.message:JSON.stringify(_),te=_ instanceof Error?_.stack:null,ne="rgba(200,200,200, 0.5)",re={padding:"0.5rem",backgroundColor:ne},ie={padding:"2px 4px",backgroundColor:ne},ae=null;return console.error("Error handled by React Router default ErrorBoundary:",_),ae=ee.createElement(ee.Fragment,null,ee.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:ie},"ErrorBoundary")," or"," ",ee.createElement("code",{style:ie},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},$),te?ee.createElement("pre",{style:re},te):null,ae)}var Ne=ee.createElement(DefaultErrorComponent,null),Me=class extends ee.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,$){return $.location!==_.location||"idle"!==$.revalidation&&"idle"===_.revalidation?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:void 0!==_.error?_.error:$.error,location:$.location,revalidation:_.revalidation||$.revalidation}}componentDidCatch(_,$){console.error("React Router caught the following error during render",_,$)}render(){return void 0!==this.state.error?ee.createElement(ke.Provider,{value:this.props.routeContext},ee.createElement(Ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute(_){let{routeContext:$,match:te,children:ne}=_,re=ee.useContext(fe);return re&&re.static&&re.staticContext&&(te.route.errorElement||te.route.ErrorBoundary)&&(re.staticContext._deepestRenderedBoundaryId=te.route.id),ee.createElement(ke.Provider,{value:$},ne)}function _renderMatches(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==_){if(!te)return null;if(te.errors)_=te.matches;else{if(0!==$.length||te.initialized||!(te.matches.length>0))return null;_=te.matches}}let ne=_,re=te?.errors;if(null!=re){let _=ne.findIndex((_=>_.route.id&&void 0!==re?.[_.route.id]));invariant(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(re).join(",")}`),ne=ne.slice(0,Math.min(ne.length,_+1))}let ie=!1,ae=-1;if(te)for(let ee=0;ee<ne.length;ee++){let _=ne[ee];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(ae=ee),_.route.id){let{loaderData:$,errors:ee}=te,re=_.route.loader&&!$.hasOwnProperty(_.route.id)&&(!ee||void 0===ee[_.route.id]);if(_.route.lazy||re){ie=!0,ne=ae>=0?ne.slice(0,ae+1):[ne[0]];break}}}return ne.reduceRight(((_,oe,se)=>{let le,de=!1,he=null,fe=null;te&&(le=re&&oe.route.id?re[oe.route.id]:void 0,he=oe.route.errorElement||Ne,ie&&(ae<0&&0===se?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),de=!0,fe=null):ae===se&&(de=!0,fe=oe.route.hydrateFallbackElement||null)));let pe=$.concat(ne.slice(0,se+1)),getChildren=()=>{let $;return $=le?he:de?fe:oe.route.Component?ee.createElement(oe.route.Component,null):oe.route.element?oe.route.element:_,ee.createElement(RenderedRoute,{match:oe,routeContext:{outlet:_,matches:pe,isDataRoute:null!=te},children:$})};return te&&(oe.route.ErrorBoundary||oe.route.errorElement||0===se)?ee.createElement(Me,{location:te.location,revalidation:te.revalidation,component:he,error:le,children:getChildren(),routeContext:{outlet:null,matches:pe,isDataRoute:!0}}):getChildren()}),null)}function getDataRouterConsoleError(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_){let $=ee.useContext(fe);return invariant($,getDataRouterConsoleError(_)),$}function useDataRouterState(_){let $=ee.useContext(pe);return invariant($,getDataRouterConsoleError(_)),$}function useCurrentRouteId(_){let $=function useRouteContext(_){let $=ee.useContext(ke);return invariant($,getDataRouterConsoleError(_)),$}(_),te=$.matches[$.matches.length-1];return invariant(te.route.id,`${_} can only be used on routes that contain a unique "id"`),te.route.id}function useRouteError(){let _=ee.useContext(Ve),$=useDataRouterState("useRouteError"),te=useCurrentRouteId("useRouteError");return void 0!==_?_:$.errors?.[te]}var je={};function warningOnce(_,$,ee){$||je[_]||(je[_]=!0,warning(!1,ee))}ee.memo((function DataRoutes(_){let{routes:$,future:ee,state:te}=_;return useRoutesImpl($,void 0,te,ee)}));function Navigate(_){let{to:$,replace:te,state:ne,relative:re}=_;invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:ie}=ee.useContext(we);warning(!ie,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:ae}=ee.useContext(ke),{pathname:oe}=useLocation(),se=useNavigate(),le=resolveTo($,getResolveToMatches(ae),oe,"path"===re),de=JSON.stringify(le);return ee.useEffect((()=>{se(JSON.parse(de),{replace:te,state:ne,relative:re})}),[se,de,re,te,ne]),null}function Route(_){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router(_){let{basename:$="/",children:te=null,location:ne,navigationType:re="POP",navigator:ie,static:ae=!1}=_;invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let oe=$.replace(/^\/*/,"/"),se=ee.useMemo((()=>({basename:oe,navigator:ie,static:ae,future:{}})),[oe,ie,ae]);"string"===typeof ne&&(ne=parsePath(ne));let{pathname:le="/",search:de="",hash:he="",state:fe=null,key:pe="default"}=ne,me=ee.useMemo((()=>{let _=stripBasename(le,oe);return null==_?null:{location:{pathname:_,search:de,hash:he,state:fe,key:pe},navigationType:re}}),[oe,le,de,he,fe,pe,re]);return warning(null!=me,`<Router basename="${oe}"> is not able to match the URL "${le}${de}${he}" because it does not start with the basename, so the <Router> won't render anything.`),null==me?null:ee.createElement(we.Provider,{value:se},ee.createElement(Ee.Provider,{children:te,value:me}))}function Routes(_){let{children:$,location:ee}=_;return function useRoutes(_,$){return useRoutesImpl(_,$)}(createRoutesFromChildren($),ee)}ee.Component;function createRoutesFromChildren(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],te=[];return ee.Children.forEach(_,((_,ne)=>{if(!ee.isValidElement(_))return;let re=[...$,ne];if(_.type===ee.Fragment)return void te.push.apply(te,createRoutesFromChildren(_.props.children,re));invariant(_.type===Route,`[${"string"===typeof _.type?_.type:_.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!_.props.index||!_.props.children,"An index route cannot have child routes.");let ie={id:_.props.id||re.join("-"),caseSensitive:_.props.caseSensitive,element:_.props.element,Component:_.props.Component,index:_.props.index,path:_.props.path,loader:_.props.loader,action:_.props.action,hydrateFallbackElement:_.props.hydrateFallbackElement,HydrateFallback:_.props.HydrateFallback,errorElement:_.props.errorElement,ErrorBoundary:_.props.ErrorBoundary,hasErrorBoundary:!0===_.props.hasErrorBoundary||null!=_.props.ErrorBoundary||null!=_.props.errorElement,shouldRevalidate:_.props.shouldRevalidate,handle:_.props.handle,lazy:_.props.lazy};_.props.children&&(ie.children=createRoutesFromChildren(_.props.children,re)),te.push(ie)})),te}var Le="get",ze="application/x-www-form-urlencoded";function isHtmlElement(_){return null!=_&&"string"===typeof _.tagName}var qe=null;var Ke=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_){return null==_||Ke.has(_)?_:(warning(!1,`"${_}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ze}"`),null)}function getFormSubmissionInfo(_,$){let ee,te,ne,re,ie;if(function isFormElement(_){return isHtmlElement(_)&&"form"===_.tagName.toLowerCase()}(_)){let ie=_.getAttribute("action");te=ie?stripBasename(ie,$):null,ee=_.getAttribute("method")||Le,ne=getFormEncType(_.getAttribute("enctype"))||ze,re=new FormData(_)}else if(function isButtonElement(_){return isHtmlElement(_)&&"button"===_.tagName.toLowerCase()}(_)||function isInputElement(_){return isHtmlElement(_)&&"input"===_.tagName.toLowerCase()}(_)&&("submit"===_.type||"image"===_.type)){let ie=_.form;if(null==ie)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let ae=_.getAttribute("formaction")||ie.getAttribute("action");if(te=ae?stripBasename(ae,$):null,ee=_.getAttribute("formmethod")||ie.getAttribute("method")||Le,ne=getFormEncType(_.getAttribute("formenctype"))||getFormEncType(ie.getAttribute("enctype"))||ze,re=new FormData(ie,_),!function isFormDataSubmitterSupported(){if(null===qe)try{new FormData(document.createElement("form"),0),qe=!1}catch(ci){qe=!0}return qe}()){let{name:$,type:ee,value:te}=_;if("image"===ee){let _=$?`${$}.`:"";re.append(`${_}x`,"0"),re.append(`${_}y`,"0")}else $&&re.append($,te)}}else{if(isHtmlElement(_))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');ee=Le,te=null,ne=ze,ie=_}return re&&"text/plain"===ne&&(ie=re,re=void 0),{action:te,method:ee.toLowerCase(),encType:ne,formData:re,body:ie}}function invariant2(_,$){if(!1===_||null===_||"undefined"===typeof _)throw new Error($)}async function loadRouteModule(_,$){if(_.id in $)return $[_.id];try{let ee=await import(_.module);return $[_.id]=ee,ee}catch(ee){return console.error(`Error loading route module \`${_.module}\`, reloading page...`),console.error(ee),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function isPageLinkDescriptor(_){return null!=_&&"string"===typeof _.page}function isHtmlLinkDescriptor(_){return null!=_&&(null==_.href?"preload"===_.rel&&"string"===typeof _.imageSrcSet&&"string"===typeof _.imageSizes:"string"===typeof _.rel&&"string"===typeof _.href)}function getNewMatchesForLinks(_,$,ee,te,ne,re){let isNew=(_,$)=>!ee[$]||_.route.id!==ee[$].route.id,matchPathChanged=(_,$)=>ee[$].pathname!==_.pathname||ee[$].route.path?.endsWith("*")&&ee[$].params["*"]!==_.params["*"];return"assets"===re?$.filter(((_,$)=>isNew(_,$)||matchPathChanged(_,$))):"data"===re?$.filter((($,re)=>{let ie=te.routes[$.route.id];if(!ie||!ie.hasLoader)return!1;if(isNew($,re)||matchPathChanged($,re))return!0;if($.route.shouldRevalidate){let te=$.route.shouldRevalidate({currentUrl:new URL(ne.pathname+ne.search+ne.hash,window.origin),currentParams:ee[0]?.params||{},nextUrl:new URL(_,window.origin),nextParams:$.params,defaultShouldRevalidate:!0});if("boolean"===typeof te)return te}return!0})):[]}function getModuleLinkHrefs(_,$){let{includeHydrateFallback:ee}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function dedupeHrefs(_){return[...new Set(_)]}(_.map((_=>{let te=$.routes[_.route.id];if(!te)return[];let ne=[te.module];return te.clientActionModule&&(ne=ne.concat(te.clientActionModule)),te.clientLoaderModule&&(ne=ne.concat(te.clientLoaderModule)),ee&&te.hydrateFallbackModule&&(ne=ne.concat(te.hydrateFallbackModule)),te.imports&&(ne=ne.concat(te.imports)),ne})).flat(1))}function dedupeLinkDescriptors(_,$){let ee=new Set,te=new Set($);return _.reduce(((_,ne)=>{if($&&!isPageLinkDescriptor(ne)&&"script"===ne.as&&ne.href&&te.has(ne.href))return _;let re=JSON.stringify(function sortKeys(_){let $={},ee=Object.keys(_).sort();for(let te of ee)$[te]=_[te];return $}(ne));return ee.has(re)||(ee.add(re),_.push({key:re,link:ne})),_}),[])}function createHtml(_){return{__html:_}}Symbol("SingleFetchRedirect");var et=new Set([100,101,204,205]);function singleFetchUrl(_,$){let ee="string"===typeof _?new URL(_,"undefined"===typeof window?"server://singlefetch/":window.location.origin):_;return"/"===ee.pathname?ee.pathname="_root.data":$&&"/"===stripBasename(ee.pathname,$)?ee.pathname=`${$.replace(/\/$/,"")}/_root.data`:ee.pathname=`${ee.pathname.replace(/\/$/,"")}.data`,ee}ee.Component;function RemixRootDefaultErrorBoundary(_){let{error:$,isOutsideRemixApp:te}=_;console.error($);let ne,re=ee.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(isRouteErrorResponse($))return ee.createElement(BoundaryShell,{title:"Unhandled Thrown Response!"},ee.createElement("h1",{style:{fontSize:"24px"}},$.status," ",$.statusText),re);if($ instanceof Error)0;else{let _=null==$?"Unknown Error":"object"===typeof $&&"toString"in $?$.toString():JSON.stringify($);new Error(_)}return ee.createElement(BoundaryShell,{title:"Application Error!",isOutsideRemixApp:te},ee.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),ee.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},ne.stack),re)}function BoundaryShell(_){let{title:$,renderScripts:te,isOutsideRemixApp:ne,children:re}=_,{routeModules:ie}=useFrameworkContext();return ie.root?.Layout&&!ne?re:ee.createElement("html",{lang:"en"},ee.createElement("head",null,ee.createElement("meta",{charSet:"utf-8"}),ee.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),ee.createElement("title",null,$)),ee.createElement("body",null,ee.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},re,te?ee.createElement(Scripts,null):null)))}function isFogOfWarEnabled(_){return!0===_}function useDataRouterContext2(){let _=ee.useContext(fe);return invariant2(_,"You must render this element inside a <DataRouterContext.Provider> element"),_}function useDataRouterStateContext(){let _=ee.useContext(pe);return invariant2(_,"You must render this element inside a <DataRouterStateContext.Provider> element"),_}var tt=ee.createContext(void 0);function useFrameworkContext(){let _=ee.useContext(tt);return invariant2(_,"You must render this element inside a <HydratedRouter> element"),_}function composeEventHandlers(_,$){return ee=>{_&&_(ee),ee.defaultPrevented||$(ee)}}function getActiveMatches(_,$,ee){if(ee&&!nt)return[_[0]];if($){let ee=_.findIndex((_=>void 0!==$[_.route.id]));return _.slice(0,ee+1)}return _}function PrefetchPageLinks(_){let{page:$,...te}=_,{router:ne}=useDataRouterContext2(),re=ee.useMemo((()=>matchRoutes(ne.routes,$,ne.basename)),[ne.routes,$,ne.basename]);return re?ee.createElement(PrefetchPageLinksImpl,{page:$,matches:re,...te}):null}function useKeyedPrefetchLinks(_){let{manifest:$,routeModules:te}=useFrameworkContext(),[ne,re]=ee.useState([]);return ee.useEffect((()=>{let ee=!1;return async function getKeyedPrefetchLinks(_,$,ee){return dedupeLinkDescriptors((await Promise.all(_.map((async _=>{let te=$.routes[_.route.id];if(te){let _=await loadRouteModule(te,ee);return _.links?_.links():[]}return[]})))).flat(1).filter(isHtmlLinkDescriptor).filter((_=>"stylesheet"===_.rel||"preload"===_.rel)).map((_=>"stylesheet"===_.rel?{..._,rel:"prefetch",as:"style"}:{..._,rel:"prefetch"})))}(_,$,te).then((_=>{ee||re(_)})),()=>{ee=!0}}),[_,$,te]),ne}function PrefetchPageLinksImpl(_){let{page:$,matches:te,...ne}=_,re=useLocation(),{manifest:ie,routeModules:ae}=useFrameworkContext(),{basename:oe}=useDataRouterContext2(),{loaderData:se,matches:le}=useDataRouterStateContext(),de=ee.useMemo((()=>getNewMatchesForLinks($,te,le,ie,re,"data")),[$,te,le,ie,re]),he=ee.useMemo((()=>getNewMatchesForLinks($,te,le,ie,re,"assets")),[$,te,le,ie,re]),fe=ee.useMemo((()=>{if($===re.pathname+re.search+re.hash)return[];let _=new Set,ee=!1;if(te.forEach(($=>{let te=ie.routes[$.route.id];te&&te.hasLoader&&(!de.some((_=>_.route.id===$.route.id))&&$.route.id in se&&ae[$.route.id]?.shouldRevalidate||te.hasClientLoader?ee=!0:_.add($.route.id))})),0===_.size)return[];let ne=singleFetchUrl($,oe);return ee&&_.size>0&&ne.searchParams.set("_routes",te.filter(($=>_.has($.route.id))).map((_=>_.route.id)).join(",")),[ne.pathname+ne.search]}),[oe,se,re,ie,de,te,$,ae]),pe=ee.useMemo((()=>getModuleLinkHrefs(he,ie)),[he,ie]),me=useKeyedPrefetchLinks(he);return ee.createElement(ee.Fragment,null,fe.map((_=>ee.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...ne}))),pe.map((_=>ee.createElement("link",{key:_,rel:"modulepreload",href:_,...ne}))),me.map((_=>{let{key:$,link:te}=_;return ee.createElement("link",{key:$,...te})})))}tt.displayName="FrameworkContext";var nt=!1;function Scripts(_){let{manifest:$,serverHandoffString:te,isSpaMode:ne,ssr:re,renderMeta:ie}=useFrameworkContext(),{router:ae,static:oe,staticContext:se}=useDataRouterContext2(),{matches:le}=useDataRouterStateContext(),de=isFogOfWarEnabled(re);ie&&(ie.didRenderScripts=!0);let he=getActiveMatches(le,null,ne);ee.useEffect((()=>{0}),[]);let fe=ee.useMemo((()=>{let ne=se?`window.__reactRouterContext = ${te};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",re=oe?`${$.hmr?.runtime?`import ${JSON.stringify($.hmr.runtime)};`:""}${de?"":`import ${JSON.stringify($.url)}`};\n${he.map(((_,ee)=>{let te=`route${ee}`,ne=$.routes[_.route.id];invariant2(ne,`Route ${_.route.id} not found in manifest`);let{clientActionModule:re,clientLoaderModule:ie,clientMiddlewareModule:ae,hydrateFallbackModule:oe,module:se}=ne,le=[...re?[{module:re,varName:`${te}_clientAction`}]:[],...ie?[{module:ie,varName:`${te}_clientLoader`}]:[],...ae?[{module:ae,varName:`${te}_clientMiddleware`}]:[],...oe?[{module:oe,varName:`${te}_HydrateFallback`}]:[],{module:se,varName:`${te}_main`}];return 1===le.length?`import * as ${te} from ${JSON.stringify(se)};`:[le.map((_=>`import * as ${_.varName} from "${_.module}";`)).join("\n"),`const ${te} = {${le.map((_=>`...${_.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${de?`window.__reactRouterManifest = ${JSON.stringify(function getPartialManifest(_,$){let{sri:ee,...te}=_,ne=new Set($.state.matches.map((_=>_.route.id))),re=$.state.location.pathname.split("/").filter(Boolean),ie=["/"];for(re.pop();re.length>0;)ie.push(`/${re.join("/")}`),re.pop();ie.forEach((_=>{let ee=matchRoutes($.routes,_,$.basename);ee&&ee.forEach((_=>ne.add(_.route.id)))}));let ae=[...ne].reduce(((_,$)=>Object.assign(_,{[$]:te.routes[$]})),{});return{...te,routes:ae,sri:!!ee||void 0}}($,ae),null,2)};`:""}\n  window.__reactRouterRouteModules = {${he.map(((_,$)=>`${JSON.stringify(_.route.id)}:route${$}`)).join(",")}};\n\nimport(${JSON.stringify($.entry.module)});`:" ";return ee.createElement(ee.Fragment,null,ee.createElement("script",{..._,suppressHydrationWarning:!0,dangerouslySetInnerHTML:createHtml(ne),type:void 0}),ee.createElement("script",{..._,suppressHydrationWarning:!0,dangerouslySetInnerHTML:createHtml(re),type:"module",async:!0}))}),[]),pe=nt?[]:function dedupe(_){return[...new Set(_)]}($.entry.imports.concat(getModuleLinkHrefs(he,$,{includeHydrateFallback:!0}))),me="object"===typeof $.sri?$.sri:{};return nt?null:ee.createElement(ee.Fragment,null,"object"===typeof $.sri?ee.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:me})}}):null,de?null:ee.createElement("link",{rel:"modulepreload",href:$.url,crossOrigin:_.crossOrigin,integrity:me[$.url],suppressHydrationWarning:!0}),ee.createElement("link",{rel:"modulepreload",href:$.entry.module,crossOrigin:_.crossOrigin,integrity:me[$.entry.module],suppressHydrationWarning:!0}),pe.map(($=>ee.createElement("link",{key:$,rel:"modulepreload",href:$,crossOrigin:_.crossOrigin,integrity:me[$],suppressHydrationWarning:!0}))),fe)}function mergeRefs(){for(var _=arguments.length,$=new Array(_),ee=0;ee<_;ee++)$[ee]=arguments[ee];return _=>{$.forEach(($=>{"function"===typeof $?$(_):null!=$&&($.current=_)}))}}var rt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{rt&&(window.__reactRouterVersion="7.5.3")}catch(ci){}function BrowserRouter(_){let{basename:$,children:te,window:ne}=_,re=ee.useRef();null==re.current&&(re.current=createBrowserHistory({window:ne,v5Compat:!0}));let ie=re.current,[ae,oe]=ee.useState({action:ie.action,location:ie.location}),se=ee.useCallback((_=>{ee.startTransition((()=>oe(_)))}),[oe]);return ee.useLayoutEffect((()=>ie.listen(se)),[ie,se]),ee.createElement(Router,{basename:$,children:te,location:ae.location,navigationType:ae.action,navigator:ie})}var it=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=ee.forwardRef((function LinkWithRef(_,$){let te,{onClick:ne,discover:re="render",prefetch:ie="none",relative:ae,reloadDocument:oe,replace:se,state:le,target:de,to:he,preventScrollReset:fe,viewTransition:pe,...me}=_,{basename:_e}=ee.useContext(we),be="string"===typeof he&&it.test(he),Ee=!1;if("string"===typeof he&&be&&(te=he,rt))try{let _=new URL(window.location.href),$=he.startsWith("//")?new URL(_.protocol+he):new URL(he),ee=stripBasename($.pathname,_e);$.origin===_.origin&&null!=ee?he=ee+$.search+$.hash:Ee=!0}catch(ci){warning(!1,`<Link to="${he}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ke=function useHref(_){let{relative:$}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:te,navigator:ne}=ee.useContext(we),{hash:re,pathname:ie,search:ae}=useResolvedPath(_,{relative:$}),oe=ie;return"/"!==te&&(oe="/"===ie?te:joinPaths([te,ie])),ne.createHref({pathname:oe,search:ae,hash:re})}(he,{relative:ae}),[Ve,De,Ne]=function usePrefetchBehavior(_,$){let te=ee.useContext(tt),[ne,re]=ee.useState(!1),[ie,ae]=ee.useState(!1),{onFocus:oe,onBlur:se,onMouseEnter:le,onMouseLeave:de,onTouchStart:he}=$,fe=ee.useRef(null);ee.useEffect((()=>{if("render"===_&&ae(!0),"viewport"===_){let _=new IntersectionObserver((_=>{_.forEach((_=>{ae(_.isIntersecting)}))}),{threshold:.5});return fe.current&&_.observe(fe.current),()=>{_.disconnect()}}}),[_]),ee.useEffect((()=>{if(ne){let _=setTimeout((()=>{ae(!0)}),100);return()=>{clearTimeout(_)}}}),[ne]);let setIntent=()=>{re(!0)},cancelIntent=()=>{re(!1),ae(!1)};return te?"intent"!==_?[ie,fe,{}]:[ie,fe,{onFocus:composeEventHandlers(oe,setIntent),onBlur:composeEventHandlers(se,cancelIntent),onMouseEnter:composeEventHandlers(le,setIntent),onMouseLeave:composeEventHandlers(de,cancelIntent),onTouchStart:composeEventHandlers(he,setIntent)}]:[!1,fe,{}]}(ie,me),Me=function useLinkClickHandler(_){let{target:$,replace:te,state:ne,preventScrollReset:re,relative:ie,viewTransition:ae}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},oe=useNavigate(),se=useLocation(),le=useResolvedPath(_,{relative:ie});return ee.useCallback((ee=>{if(function shouldProcessLinkClick(_,$){return 0===_.button&&(!$||"_self"===$)&&!function isModifiedEvent(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}(_)}(ee,$)){ee.preventDefault();let $=void 0!==te?te:createPath(se)===createPath(le);oe(_,{replace:$,state:ne,preventScrollReset:re,relative:ie,viewTransition:ae})}}),[se,oe,le,te,ne,$,_,re,ie,ae])}(he,{replace:se,state:le,target:de,preventScrollReset:fe,relative:ae,viewTransition:pe});let je=ee.createElement("a",{...me,...Ne,href:te||ke,onClick:Ee||oe?ne:function handleClick(_){ne&&ne(_),_.defaultPrevented||Me(_)},ref:mergeRefs($,De),target:de,"data-discover":be||"render"!==re?void 0:"true"});return Ve&&!be?ee.createElement(ee.Fragment,null,je,ee.createElement(PrefetchPageLinks,{page:ke})):je}));at.displayName="Link";var ot=ee.forwardRef((function NavLinkWithRef(_,$){let{"aria-current":te="page",caseSensitive:ne=!1,className:re="",end:ie=!1,style:ae,to:oe,viewTransition:se,children:le,...de}=_,he=useResolvedPath(oe,{relative:de.relative}),fe=useLocation(),_e=ee.useContext(pe),{navigator:be,basename:Ee}=ee.useContext(we),ke=null!=_e&&function useViewTransitionState(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},te=ee.useContext(me);invariant(null!=te,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:ne}=useDataRouterContext3("useViewTransitionState"),re=useResolvedPath(_,{relative:$.relative});if(!te.isTransitioning)return!1;let ie=stripBasename(te.currentLocation.pathname,ne)||te.currentLocation.pathname,ae=stripBasename(te.nextLocation.pathname,ne)||te.nextLocation.pathname;return null!=matchPath(re.pathname,ae)||null!=matchPath(re.pathname,ie)}(he)&&!0===se,Ve=be.encodeLocation?be.encodeLocation(he).pathname:he.pathname,De=fe.pathname,Ne=_e&&_e.navigation&&_e.navigation.location?_e.navigation.location.pathname:null;ne||(De=De.toLowerCase(),Ne=Ne?Ne.toLowerCase():null,Ve=Ve.toLowerCase()),Ne&&Ee&&(Ne=stripBasename(Ne,Ee)||Ne);const Me="/"!==Ve&&Ve.endsWith("/")?Ve.length-1:Ve.length;let je,Le=De===Ve||!ie&&De.startsWith(Ve)&&"/"===De.charAt(Me),ze=null!=Ne&&(Ne===Ve||!ie&&Ne.startsWith(Ve)&&"/"===Ne.charAt(Ve.length)),qe={isActive:Le,isPending:ze,isTransitioning:ke},Ke=Le?te:void 0;je="function"===typeof re?re(qe):[re,Le?"active":null,ze?"pending":null,ke?"transitioning":null].filter(Boolean).join(" ");let et="function"===typeof ae?ae(qe):ae;return ee.createElement(at,{...de,"aria-current":Ke,className:je,ref:$,style:et,to:oe,viewTransition:se},"function"===typeof le?le(qe):le)}));ot.displayName="NavLink";var st=ee.forwardRef(((_,$)=>{let{discover:te="render",fetcherKey:ne,navigate:re,reloadDocument:ie,replace:ae,state:oe,method:se=Le,action:le,onSubmit:de,relative:he,preventScrollReset:fe,viewTransition:pe,...me}=_,_e=useSubmit(),be=function useFormAction(_){let{relative:$}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:te}=ee.useContext(we),ne=ee.useContext(ke);invariant(ne,"useFormAction must be used inside a RouteContext");let[re]=ne.matches.slice(-1),ie={...useResolvedPath(_||".",{relative:$})},ae=useLocation();if(null==_){ie.search=ae.search;let _=new URLSearchParams(ie.search),$=_.getAll("index");if($.some((_=>""===_))){_.delete("index"),$.filter((_=>_)).forEach(($=>_.append("index",$)));let ee=_.toString();ie.search=ee?`?${ee}`:""}}_&&"."!==_||!re.route.index||(ie.search=ie.search?ie.search.replace(/^\?/,"?index&"):"?index");"/"!==te&&(ie.pathname="/"===ie.pathname?te:joinPaths([te,ie.pathname]));return createPath(ie)}(le,{relative:he}),Ee="get"===se.toLowerCase()?"get":"post",Ve="string"===typeof le&&it.test(le);return ee.createElement("form",{ref:$,method:Ee,action:be,onSubmit:ie?de:_=>{if(de&&de(_),_.defaultPrevented)return;_.preventDefault();let $=_.nativeEvent.submitter,ee=$?.getAttribute("formmethod")||se;_e($||_.currentTarget,{fetcherKey:ne,method:ee,navigate:re,replace:ae,state:oe,relative:he,preventScrollReset:fe,viewTransition:pe})},...me,"data-discover":Ve||"render"!==te?void 0:"true"})}));function getDataRouterConsoleError2(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_){let $=ee.useContext(fe);return invariant($,getDataRouterConsoleError2(_)),$}st.displayName="Form";var lt=0,getUniqueFetcherId=()=>`__${String(++lt)}__`;function useSubmit(){let{router:_}=useDataRouterContext3("useSubmit"),{basename:$}=ee.useContext(we),te=function useRouteId(){return useCurrentRouteId("useRouteId")}();return ee.useCallback((async function(ee){let ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:re,method:ie,encType:ae,formData:oe,body:se}=getFormSubmissionInfo(ee,$);if(!1===ne.navigate){let $=ne.fetcherKey||getUniqueFetcherId();await _.fetch($,te,ne.action||re,{preventScrollReset:ne.preventScrollReset,formData:oe,body:se,formMethod:ne.method||ie,formEncType:ne.encType||ae,flushSync:ne.flushSync})}else await _.navigate(ne.action||re,{preventScrollReset:ne.preventScrollReset,formData:oe,body:se,formMethod:ne.method||ie,formEncType:ne.encType||ae,replace:ne.replace,state:ne.state,fromRouteId:te,flushSync:ne.flushSync,viewTransition:ne.viewTransition})}),[_,$,te])}new TextEncoder;var ct=__webpack_require__(9613),ut=__webpack_require__(3768),dt=__webpack_require__(1362),ht=__webpack_require__(4895),ft=__webpack_require__(579),pt=__webpack_require__(2190),mt=__webpack_require__(4930),gt=__webpack_require__(293),_t=__webpack_require__(9674),yt=__webpack_require__(1051);class PopChildMeasure extends ee.Component{getSnapshotBeforeUpdate(_){const $=this.props.childRef.current;if($&&_.isPresent&&!this.props.isPresent){const _=$.offsetParent,ee=_ instanceof HTMLElement&&_.offsetWidth||0,te=this.props.sizeRef.current;te.height=$.offsetHeight||0,te.width=$.offsetWidth||0,te.top=$.offsetTop,te.left=$.offsetLeft,te.right=ee-te.width-te.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild(_){let{children:$,isPresent:te,anchorX:ne}=_;const re=(0,ee.useId)(),ie=(0,ee.useRef)(null),ae=(0,ee.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:oe}=(0,ee.useContext)(yt.Q);return(0,ee.useInsertionEffect)((()=>{const{width:_,height:$,top:ee,left:se,right:le}=ae.current;if(te||!ie.current||!_||!$)return;const de="left"===ne?`left: ${se}`:`right: ${le}`;ie.current.dataset.motionPopId=re;const he=document.createElement("style");return oe&&(he.nonce=oe),document.head.appendChild(he),he.sheet&&he.sheet.insertRule(`\n          [data-motion-pop-id="${re}"] {\n            position: absolute !important;\n            width: ${_}px !important;\n            height: ${$}px !important;\n            ${de}px !important;\n            top: ${ee}px !important;\n          }\n        `),()=>{document.head.removeChild(he)}}),[te]),(0,ft.jsx)(PopChildMeasure,{isPresent:te,childRef:ie,sizeRef:ae,children:ee.cloneElement($,{ref:ie})})}const PresenceChild=_=>{let{children:$,initial:te,isPresent:ne,onExitComplete:re,custom:ie,presenceAffectsLayout:ae,mode:oe,anchorX:se}=_;const le=(0,mt.M)(newChildrenMap),de=(0,ee.useId)();let he=!0,fe=(0,ee.useMemo)((()=>(he=!1,{id:de,initial:te,isPresent:ne,custom:ie,onExitComplete:_=>{le.set(_,!0);for(const $ of le.values())if(!$)return;re&&re()},register:_=>(le.set(_,!1),()=>le.delete(_))})),[ne,le,re]);return ae&&he&&(fe={...fe}),(0,ee.useMemo)((()=>{le.forEach(((_,$)=>le.set($,!1)))}),[ne]),ee.useEffect((()=>{!ne&&!le.size&&re&&re()}),[ne]),"popLayout"===oe&&($=(0,ft.jsx)(PopChild,{isPresent:ne,anchorX:se,children:$})),(0,ft.jsx)(_t.t.Provider,{value:fe,children:$})};function newChildrenMap(){return new Map}var vt=__webpack_require__(8917);const getChildKey=_=>_.key||"";function onlyElements(_){const $=[];return ee.Children.forEach(_,(_=>{(0,ee.isValidElement)(_)&&$.push(_)})),$}const AnimatePresence=_=>{let{children:$,custom:te,initial:ne=!0,onExitComplete:re,presenceAffectsLayout:ie=!0,mode:ae="sync",propagate:oe=!1,anchorX:se="left"}=_;const[le,de]=(0,vt.xQ)(oe),he=(0,ee.useMemo)((()=>onlyElements($)),[$]),fe=oe&&!le?[]:he.map(getChildKey),pe=(0,ee.useRef)(!0),me=(0,ee.useRef)(he),_e=(0,mt.M)((()=>new Map)),[be,we]=(0,ee.useState)(he),[Ee,ke]=(0,ee.useState)(he);(0,gt.E)((()=>{pe.current=!1,me.current=he;for(let _=0;_<Ee.length;_++){const $=getChildKey(Ee[_]);fe.includes($)?_e.delete($):!0!==_e.get($)&&_e.set($,!1)}}),[Ee,fe.length,fe.join("-")]);const Ve=[];if(he!==be){let _=[...he];for(let $=0;$<Ee.length;$++){const ee=Ee[$],te=getChildKey(ee);fe.includes(te)||(_.splice($,0,ee),Ve.push(ee))}return"wait"===ae&&Ve.length&&(_=Ve),ke(onlyElements(_)),we(he),null}const{forceRender:De}=(0,ee.useContext)(pt.L);return(0,ft.jsx)(ft.Fragment,{children:Ee.map((_=>{const $=getChildKey(_),ee=!(oe&&!le)&&(he===Ee||fe.includes($));return(0,ft.jsx)(PresenceChild,{isPresent:ee,initial:!(pe.current&&!ne)&&void 0,custom:te,presenceAffectsLayout:ie,mode:ae,onExitComplete:ee?void 0:()=>{if(!_e.has($))return;_e.set($,!0);let _=!0;_e.forEach(($=>{$||(_=!1)})),_&&(De?.(),ke(me.current),oe&&de?.(),re&&re())},anchorX:se,children:_},$)}))})};var bt=__webpack_require__(2308);function SplashScreen(){const[_,$]=(0,ee.useState)(!0);return(0,ee.useEffect)((()=>{const _=setTimeout((()=>$(!1)),7e3);return()=>clearTimeout(_)}),[]),(0,ft.jsx)(AnimatePresence,{children:_&&(0,ft.jsxs)(bt.P.div,{className:"fixed inset-0 z-50 bg-white dark:bg-gray-900 flex flex-col items-center justify-center",initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},children:[(0,ft.jsxs)(bt.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:2},className:"flex items-center gap-2",children:[(0,ft.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAEeCAYAAAAtlEFhAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABJhSURBVHhe7d1NizVHGcbxiXHhJzCuFJdiEly7SHxD0Z0LMRD8Hr4Flfj2PSQQceFOQYRgRNeSGNzqzvgJ3MW5Zqbgzm11d/XdVX2qqv8/aJ6ZZ+Y5p093XVV3Vfc5zzMf3LsDsNtHnv4EsBPhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCHrmg3tPX2Myb7/z94c///Tu45/y8gvP37304vNP3+EIwjMZBeYXb/7m7q2/vfP0N3lf/NyLd5//7GfuXnv1lae/wV6EZxKlocn5wavfJkQBhKex1KhFDTv1+DXLp9ffePPuZ2/8+um7GAK0H+FpaKtR12iwS8+hkH7vlW89fG1Dqt+XpX/z+5//5Ok7bCE8jZSOBkcClHuOPQE4+u+vjvA08rFvfPPpq0epXBPfYP/wy9d3l3C5hh8JYm6uRIDKEJ4G1CC/+t3Xnr77/0btfx4Jjw9n5DGs2o93BVwkbcBeVxE/GqhRqndP0oJCqTRvSRTOow1dYbH27tMVEZ7GbEiWpHKulC3X9PhHFx1E4VMIE5VxGiGxjPA0oGXoZKkRRq7HiB919gZvjQ8ho886wnMCzW9So1eQvv79Hz18XUONUccqGSnxiAWDBWrkmrv89b1/fOjiZmljza2G5exdIVPw0qilfaq9KmYfX/77u98+ffV4TBIWEwhP1lbDL23wW48Tafx2VWxv8EooIHYlUPu4VmLu7VRmQtnmlIwY+nluHuOpQdlJuNVi1Ghha26mn+t4KNSpNL0KwuP44KiR5wJQOplWgPwysL6vERy7MNGDq4WI8Bj+pCs0auQKgGp/GyL1uCWjz2j8NSh9rbBr0zFIm77X8ch1LApRzUWRXhGeFb6O99/7i6GzUIeRQqKvFSi/QKDvdTxyHYuoc5k9QITH0MpaYntfbEshssdt9gARHsNecMyVZVebEEdopPLl7azHjfAYfgKuRYF04hUkOzKJL+N6o33W/qv3T5u+b92YdVzsCFS6OjkawmP4ybJ6zbSCpGsf+j7JTZR7ooBon7X/2u+06XttrQOU3oiXzHirD+FxVHZszXf0855HHQVDAVmTOoVW1BH58m220YfwZPi63dLf6+e9ygVHYdd+515Tywm972BmG30IzwKdeH9xU6tJvc9zfHDSBVnttza/rNx6RPBl8Ey4t22FGpW9z0sNL8I/ztKolqwF1N/bZqWbWBP9fOmxNOKk31UDbzWa+teuMPtrRqMiPCtahafE0nPtmaes7e9Z4RG7zzOFh7LtBJHGosAdYculHH9N6ywz3ZVBeE6yVarVticQrfdtK8ijIjwnSZP1tW0vlUD23/sFjqVrOSVL2TWdObKdifBMxF/kVUB8gFQO+uCsLVDU1tvbKI4gPJPxV/YVFE3Y0+YXLmqUbArk0ubDO8tigbDatkInv8ZqW6mSVamS3/H7vWRtKbtE6fNYrY/hmRh5JqRAqZEujSoq7RS8o+Xa3uDI0jxsRJcaedRT7ikbfM/qJ+Te2mPrsbRMu9Zga408VnpeSfONPcdgyZFFh6MjXi+mD48aj+6p8is+JSfQh2fL2sVG2+iXSpcW4WnF7sfWscwdx1vuey1Tl23qHXXSckulaSKtE1uLnif3eP7vaj7nLfjSa2sFTSHxJaTOy+jHYdrw6MSUlBVrd/rmTvrV+XJNx6dkBNHI5I/l6HdZTxsefxtImiTrBNqTqNFibRKrk64ya2nTY17JkXfT+gBtHfveTRse3ztqLqIeUidQm72Y6BsE8tTQbQnsR5IS/tjrPI1avk0ZHn8ycr2jvZiYmxNdnY6hwmI/+8CXwbnjWmKWt2hPvWCQ5Hq2WT9z7SgdK4VFE3qFRR2LNh+cyKiTqAKwo48ef8TRZ8rw+AlsrmezjcGeyKtbWp2sbYbR59kf33v6eip/uZ/H/PPf7z98rT9/eh8WXdB6+37E+Zq75vDql79w93LBipF6x3+9/58PbRrB/vzue0+/cXf3yec+fvfM/Z97f0fbr/741uMv3Cv5ne985Ut3n7r/vVo04qRjJupUPv2J5x6Oz0efffZDP9PreemF58PPr3/nz9EPg2XgrUx7kVQN3V+Yy1ED2XoXZa7e70HNC43+Naos83Ma/zslx26NP0ejXTid+g6DrQCNHBxRA691i79Gx/Q6146LPx5arj9iz50KvbnEvW25HlM1d0kvZ0/uVWw14pq3CJ35WQq1XebGUHuSSns4P3Id7WVrOCPMW4GoGZ4ej3GpSyxVYx+W8csQnoGp10+3CR3dVDIlKnE1IuSoBLZqT/CXnrdHhAcPctddfEP2c0eVv1dGePBAI4gNg+aHmotofqP5ov60wZEaK2O1R64zsWCwIjKZbV122P1pcV3EHqc1pcdwS+QY92Ko8Khs2PN5zFZpo1izdmJ9SXOGFuGRtdeyZ5m/hH8uwtPAVuPfClHL8NwiONIqPIleV1Lz8w+skcMzxJxHB3ir4esErJVM9rOZa7tFcM6gzihtCk3LoIpd8RtB9yNPrle3E1v7s60r1LYnLbXVK/qavfVoUPMCZQ/s66k1jzrLcOHxDdiXYzUbVMlk9uwJ70zhObvjqa37ss2+RdqOOIm/PoFx+DsZRusIhrrOk/usAX/AubVkHLaiyHWMvRsqPLlFAz+PmelT+Gc2w3nrPjy+LFPNrwOvelnzHb+YMPIc4Er8qDPieRviOk/pNZq9qzUK4NZ75+3zXnXBQK+xZjkcvdDdm2kuksrek2AbYokrhsevdrbQ+pi1MsycR9dvtiaVOsm+lsYxrYMj6hDUCY1mmJHH08FWr+t7ftkzAm2FzTaeq408Z4w61mjl27DhsY4GaElJMGYOj32u2g07d85kpAANtVS9RA1IDcmihDvGH7vaS8k6Z+poFBZL503z2xFMER4hQPX4ck0NvNUIp1HGB0gLQyOct2nCIwSoDn8nR+sySo8/4nmbKjxCgI7RcfLXYM6wdN40N+rVFAsGObkJaeT9IjNfJNW+6+Knv2hptX49nsJrS8att5nc0rThkaUVnaiZwuMbac6tVr78vt1qP7ZMV7ZZuVKgtiM9/62UBEdyd7GfQUGxVcKt9mPL1COPpQYTYRvZ2qiiEeiMIB0deXLBUUNNb1P3P7tVr+9H9KMlagtDhOeshumdXZKVOBoe++8l9xgt3527h92PHuc+3ZZtarg6eDrZasD6U1t0BMHjMbU0quRCUbOR6jm16bz5599i346iEO399611GR4daAUmtwKksmKUK9C98W8rWCvH7Jwj8l8e6hymjk+bzlvqBEs7QB/s3v7rxe7CowPr625PoSJAx9hw5Bz5qC6dm7VzuKcD3NrPW+ouPP6g6+Cp5vYX63ocxntn70/LjeqWXeHaEyR1fluPLTN0gN0tGGhYT3IrPfbn0rpnsg1h9NU27aNKp2RpJc2P/qUrbv7f6dz4j+b1v7P1Gvw+97Bok3QVHn9gcwdKvVVJz9bC0olL+6TG0npF6Eh4xB8/Hwx/DqS0wfrH3jpesnXMeg5PV2Wbv+09V5a1/NjcCO1jagi24fTKf6CKgqJAqkHrTx8cXy6v8aFc4lfR9LxLmw2O5NrErXQ18vheJlcu6IAm6rVah2lrJDy7Z7SvP3r9xY8QS0rLtaR03/wx2yP6mlvobs6TKyskd/Pi3pO7V0kwRgtPrizzcnOVEmeEp/U536O78JQe2DMO4ozhsf9e9Bjp+k8qm6M9e+lcJrdosMYe38hrbqW7pWodmDTaLNGJ6aX3GYkaraXjrOOtY6lNX9dqmAqRfz7xwUn7sLT5C7v6u150eYeBTqR6cB8ihUY9T2/3OI3CNtoWHZA/L3o+hSVtGpl8yThyJ9hleJIUorTp5PTU84zEjwKtFlp8CaawpC03Z91iL9Yq8D3pbs5zJs1Xjn7crvh5xFlK638/L1Ojbdnj+9Isp3Qf7LFtvd97XTo8exv9UnhKl35rK+m5xa9ULr2O2tJoZ0ePPat4Z4d+L8Kzw1qjK+lte9BbA1zjj+lZoS916fDkekZvT4+tnrLm/yaQczSgvTXAJb2POnLp8GzxJ7CHhhedX2myHbnweSu9jzpCeFb0Hp6eLhjW5IPTa6nZ9VI1rsmX0b3O0QgPurJ0b2OPCA+6oXLNB6fnlUHmPCv8nKc3M815/DxHCxy934bFyLNCDbO3W0Jmow4qd8/bCPcvEp4N/p2XqEejjUZ2f3eGvz+uV5RthXSil/hl1RxfkuRuzNz7O6OWbRptdE+hD81o16IIz0El14L87yw1+pJrOGdc57nFvXq9Lw7kULY9SbW3Gqc2jTRro82s9JrPDI5GG3UCowVHLh+eFBpfe6s80nalAOm12rKwNY02I79H6/Jlmy2Dlqh3XFr9mals88eixQVKG84e71fb49Lh8T2tnaT7Hnipoc4SHn8sWsxBSo/DKC5dtvnGotFFDUabD4FWh9TA/NbbJ/dH+U5kxDnI2VgwWKFGlGg+pAbmt7NXpVpQJ2C1/iDJZORRRy4bHpUQlv+oXzmrESU2rGc1LAVHnUDScsm49RsFz3bZ8PjGmSu/bKMSNe61TTX8ESob9RhHH2eLOo60eZRr5S69YJC7/V2NR43KXwE/0iPr8WpNlKMLBrnX5LUcdcQeb3U2I9y/tubScx5/35pGGjVONXTfyEbukVWa5V6Tlytda7LPf3ZJ3MKlw6NeW73tltZlVEsacXz5uUQBy5VyNfhFidZBPcPlV9s0oiwFKM1jzpq8t+Dncnqtek1aitfmX3urpXcf4JGPaXL58IgClBqTGlZqXCPfOiIaRWyplOY09jX5zkO/X3v08aPOUmc1Gu6qriBNxtfYRnxkNNuzYGCXobcm6HYyf2T/cuw+izqmGTDyVJAm42vbre2ZoNcs3WYddYTwHBQpcc4qBe1HOK19KqpXayXMjnySysZZULYdpPDYazhbPatWmY6EZ0/Z5vdtrVyyj1ujkfvgyCzlWkJ4DtrTQGs4Ep6leY9v6EdfQy44s406Qtk2MQXLjoSaeyl8atxp00KBL62iFFb/eDJjcISR56CeR57E34a0JHrLjI7B0q0/swZHGHkuQIHYGlH08z3BUWDSyKXOwwcnXWCeNTjCyHPQ2SOPHUX29upq7KKVNz2GGrjs+bgnPYYvy7zoCDYawnOQb0ytyxQbnls0Uls2etqfkT537SjCE7RW50vtq/SJn7+cufybG3VSYOQqoUmY8wSkUm0pOKKf6/dq82+jaPEcpRRcjXwKzdWCI4QnIPd24jR/sFrcoaxGap+rxXMssaNO7vVeDeHZST29n+OoRFMPrJ7YrmppZGoxMtjbZ1o9h5cWG5IZ3sx2FOHZyY86WhywJYtfLGjxoRf+OVqPPr7DkJaLIqMgPAcslS5nlDR+hPMjQ00+nPa5r4zw7GTfPrxUMq0tJNSint+GVCNDiwD51T09J6POI8JzkO2VFSTfgFu+Vz/3ASY1A6TH8h3BFS5+luI6T4DvjUU9cu7vWjc2Bdbe4SBHL9TqMdUp+Ndz9HFnQ3gCcg02p9WFUk8jhJ/Qy97GvhQaOeu1jITwHLDUaDXinH2bylqg0wTfvxFP/0ZS6ZkLzS1eyygIz0FqgHY5+ug7RY9aCnQEZdo6wjOhtGgQDRGjTRnCM7E0Kqa3IKxRYHTXwK1HzpEQngtJcxwFyi6hE5YYwgMEcZEUCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4giPAAQYQHCCI8QBDhAYIIDxBEeIAgwgMEER4g5O7ufwkCGFJghodvAAAAAElFTkSuQmCC",alt:"App Logo",className:"w-16 h-16"}),(0,ft.jsx)("h1",{className:"text-4xl font-bold text-blue-600 italic dark:text-blue-300",children:"Omnis"})]}),(0,ft.jsx)(bt.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:2.5},className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:"Model. Adapt. Succeed."})]})})}const components_Tooltip=_=>{let{text:$,position:te="top",children:ne,backgroundColor:re="bg-black",textColor:ie="text-white",fontSize:ae="text-xs"}=_;const oe=(0,ee.useId)();return(0,ft.jsxs)("div",{className:"relative inline-block group",children:[(0,ft.jsx)("span",{tabIndex:0,"aria-describedby":oe,className:"cursor-help focus:outline-none",children:ne}),(0,ft.jsx)("div",{role:"tooltip",id:oe,className:`absolute ${{top:"bottom-full mb-2",bottom:"top-full mt-2",left:"right-full mr-2",right:"left-full ml-2"}[te]} hidden group-hover:block group-focus:block ${re} ${ie} ${ae} rounded py-1 px-2 z-10 transition-opacity duration-200 ease-in-out opacity-0 group-hover:opacity-100 group-focus:opacity-100`,children:$})]})};const wt=function Home(){useNavigate();const[_,$]=(0,ee.useState)(!1),te=[{title:"Business Analysts",desc:"Leverage AI to simulate different business strategies and optimize outcomes."},{title:"Students & Researchers",desc:"Test hypotheses and analyze scenarios in a controlled AI environment."},{title:"Investors & Traders",desc:"Predict market trends and simulate different trading strategies for better decisions."},{title:"Product Designers",desc:"Visualize user interactions and optimize product features before launching."}],ne=[{title:"Input Your Scenario",desc:"Describe your situation and let the AI understand the context."},{title:"Run Simulations",desc:"Our AI processes multiple scenarios to generate insightful predictions."},{title:"Get Insights",desc:"Receive actionable insights and make informed decisions instantly."}],HeroSection=()=>(0,ft.jsx)("div",{className:"flex flex-col lg:flex-row items-center justify-between p-6 sm:p-12 md:p-16 lg:p-20 min-h-screen dark:bg-black",children:(0,ft.jsxs)("div",{className:"lg:w-1/2 space-y-6",children:[(0,ft.jsx)("h2",{className:" transition text-4xl dark:text-blue-500 sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 text-gray-900 max-w-2xl",children:"Revolutionizing Scenario Simulations with Digital Twin Intelligence."}),(0,ft.jsx)("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl max-w-2xl mb-6 p-4 text-gray-700 dark:text-gray-200",children:"Experience the power of AI-driven simulations to make informed decisions and explore endless possibilities."}),(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6 p-6 sm:p-8",children:[(0,ft.jsx)(components_Tooltip,{text:"Join our Discord community for live support!",children:(0,ft.jsx)("a",{href:"#",className:"w-full sm:w-auto mb-4 sm:mb-0 hover:shadow-blue-500/50 transition px-6 py-3 sm:px-8 sm:py-4 text-base sm:text-xl font-semibold bg-gradient-to-r from-blue-600 to-green-500 text-white rounded-2xl shadow-lg hover:bg-blue-700",children:"Join on Discord"})}),(0,ft.jsx)("p",{className:"mt-14"}),(0,ft.jsx)(components_Tooltip,{text:"Follow us on X for updates!",children:(0,ft.jsx)("a",{href:"#",className:"w-full sm:mt-20 sm:w-auto hover:shadow-blue-500/50 transition px-6 py-3 sm:px-8 sm:py-4 text-base sm:text-xl font-semibold bg-white text-blue-600 border-2 border-blue-600 rounded-2xl hover:shadow-lg",children:"Join on X"})})]})]})}),OmnisSection=()=>(0,ft.jsxs)("section",{className:"py-32 bg-black text-white flex flex-col rounded-t-3xl md:flex-row items-center justify-between px-6 sm:px-16 dark:bg-white dark:text-black",children:[(0,ft.jsxs)("div",{className:"max-w-2xl",children:[(0,ft.jsxs)("h2",{className:"text-3xl sm:text-4xl font-light mb-6 text-gray-200 dark:text-gray-900",children:["What is ",(0,ft.jsx)("br",{}),(0,ft.jsx)("span",{className:"p-2 sm:p-4 font-bold text-4xl sm:text-5xl text-blue-400",children:(0,ft.jsx)("u",{children:"Omnis?"})})]}),(0,ft.jsx)("p",{className:"text-xl sm:text-2xl text-gray-200 dark:text-gray-900 font-semibold",children:"Omnis is our AI-powered simulation tool designed to help users explore multiple possible futures. Whether you're a business strategist, a student, or an investor, Omnis provides dynamic scenario analysis to optimize decision-making."})]}),(0,ft.jsx)("div",{className:"px-6 mt-4 relative w-[300px] sm:w-[400px] lg:w-[500px] h-[300px] sm:h-[350px] md:h-[400px] flex items-center justify-center overflow-hidden",children:[...Array(12)].map(((_,$)=>(0,ft.jsx)("div",{className:"absolute w-12 sm:w-16 h-12 sm:h-16 bg-gradient-to-r from-blue-600 to-green-500 rounded-full animated-circle",style:{top:50+40*Math.sin($/12*2*Math.PI)+"%",left:50+40*Math.cos($/12*2*Math.PI)+"%",animation:`spiralMove 4s ease-in-out ${.2*$}s infinite`}},$)))}),(0,ft.jsx)("style",{jsx:"true",children:"\n        @keyframes spiralMove {\n          0% { transform: translateY(50px) scale(0.5); opacity: 0; }\n          50% { transform: translateY(-10px) scale(1); opacity: 1; }\n          100% { transform: translateY(-50px) scale(0.5); opacity: 0; }\n        }\n        .animated-circle {\n          animation: spiralMove 4s ease-in-out infinite;\n        }\n      "})]}),StepsSection=()=>{const[_,$]=(0,ee.useState)(0),te=(0,ee.useRef)(null),startAuto=()=>{te.current&&clearInterval(te.current),te.current=setInterval((()=>{$((_=>(_+1)%ne.length))}),3e3)},stopAuto=()=>{clearInterval(te.current),te.current=null};return(0,ee.useEffect)((()=>(startAuto(),()=>stopAuto())),[]),(0,ft.jsxs)("section",{className:"py-32 bg-white text-center dark:bg-black",onMouseEnter:stopAuto,onMouseLeave:startAuto,children:[(0,ft.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold mb-12 text:black dark:text-white",children:"How It Works"}),(0,ft.jsxs)("div",{className:"max-w-4xl mx-auto px-6 flex flex-col items-center",children:[(0,ft.jsx)("div",{className:"relative w-full h-48",children:ne.map((($,ee)=>(0,ft.jsx)("div",{className:"absolute top-0 left-0 right-0 transition-opacity duration-1000 "+(ee===_?"opacity-100 scale-100":"opacity-0 scale-90"),children:(0,ft.jsxs)("div",{className:"py-8 px-6 h-48 bg-gray-900 rounded-3xl shadow-lg transform transition duration-500 hover:scale-105 hover:shadow-blue-500/50",children:[(0,ft.jsx)("h3",{className:"text-2xl sm:text-3xl font-semibold mb-4 text-green-400",children:$.title}),(0,ft.jsx)("p",{className:"text-white",children:$.desc})]})},ee)))}),(0,ft.jsx)("div",{className:"p-6 flex space-x-2",children:ne.map(((ee,te)=>(0,ft.jsx)("span",{onClick:()=>$(te),className:"cursor-pointer w-3 h-3 sm:w-4 sm:h-4 rounded-full transition-all duration-500 "+(te===_?"bg-blue-600 w-4 h-4":"bg-gray-400")},te)))})]})]})},UseCasesSection=()=>{const[_,$]=(0,ee.useState)(0),ne=(0,ee.useRef)(null),re=(0,ee.useRef)(0),startAuto=()=>{ne.current&&clearInterval(ne.current),ne.current=setInterval((()=>{$((_=>(_+1)%te.length))}),5e3)},stopAuto=()=>{clearInterval(ne.current),ne.current=null};(0,ee.useEffect)((()=>(startAuto(),()=>stopAuto())),[]);return(0,ft.jsxs)("section",{className:"py-32 p-12 bg-gray-900 text-center text-white dark:bg-black",onMouseEnter:stopAuto,onMouseLeave:startAuto,onTouchStart:_=>re.current=_.touches[0].clientX,onTouchEnd:_=>{const ee=_.changedTouches[0].clientX-re.current;ee>50?$((_=>(_-1+te.length)%te.length)):ee<-50&&$((_=>(_+1)%te.length))},children:[(0,ft.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold mb-12 text-white",children:"Who Can Benefit?"}),(0,ft.jsx)("div",{className:"relative w-full max-w-2xl mx-auto h-64 overflow-hidden",children:te.map((($,ee)=>(0,ft.jsxs)("div",{className:"absolute w-full p-8 rounded-3xl shadow-lg mb-12 bg-gray-800 transition-all duration-1000 transform "+(ee===_?"translate-x-0 opacity-100":ee<_?"-translate-x-full opacity-0":"translate-x-full opacity-0"),children:[(0,ft.jsx)("h3",{className:"text-2xl sm:text-3xl font-semibold text-green-400",children:$.title}),(0,ft.jsx)("p",{className:"text-white mt-4 text-lg sm:text-xl",children:$.desc})]},ee)))})]})},InteractiveDemoSection=()=>(0,ft.jsxs)("section",{className:"py-32 bg-gray-900 text-white text-center",children:[(0,ft.jsx)("h2",{className:"text-5xl font-bold mb-12 text-blue-500",children:"Experience It Yourself"}),(0,ft.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[(0,ft.jsx)(components_Tooltip,{text:"Demo coming soon!",children:(0,ft.jsx)("button",{className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 transition",children:"Try a Mini Demo (Coming Soon)"})}),(0,ft.jsx)("div",{className:"w-full max-w-3xl h-64 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,ft.jsx)("span",{className:"text-white",children:"[ Placeholder for Explainer Video ]"})})]})]}),TestimonialSection=()=>(0,ft.jsxs)("section",{className:"py-32 bg-gray-100 text-center dark:bg-black",children:[(0,ft.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold mb-12 text-blue-500",children:"What Our Users Are Saying"}),(0,ft.jsx)("div",{className:"flex flex-wrap justify-center",children:[{quote:"Omnis has transformed the way I approach decision-making.",name:"John Doe",role:"Business Analyst"},{quote:"I used to rely on gut feeling, but now I have the power of data-driven insights with Omnis.",name:"Jane Smith",role:"Product Designer"}].map(((_,$)=>(0,ft.jsxs)("div",{className:"max-w-md mx-4 p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-lg mb-12",children:[(0,ft.jsxs)("p",{className:"text-gray-700 dark:text-gray-200 mb-4",children:['"',_.quote,'"']}),(0,ft.jsx)("h3",{className:"font-semibold text-lg text-green-400",children:_.name}),(0,ft.jsx)("p",{className:"text-blue-400",children:_.role})]},$)))})]}),CallToActionSection=()=>(0,ft.jsxs)("section",{className:"py-32 px-6 sm:space-y-4 bg-gray-100 text-center dark:bg-black",children:[(0,ft.jsx)("h2",{className:"text-5xl font-bold mb-12 text-blue-600 dark:text-white",children:"Join the Future"}),(0,ft.jsxs)("p",{className:"text-gray-900 max-w-2xl mx-auto mb-12 py-8 dark:text-white",children:["Be part of the next big thing. Sign up for",(0,ft.jsx)("br",{})," early access and stay updated."]}),(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6 w-full sm:w-auto",children:[(0,ft.jsx)(components_Tooltip,{text:"Sign up for our beta program!",children:(0,ft.jsx)("a",{href:"#",className:"w-full sm:w-auto mb-4 sm:mb-0 hover:shadow-blue-500/50 transition px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-semibold bg-blue-600 text-white rounded-2xl shadow-lg hover:bg-blue-700",children:"Sign Up for Beta"})}),(0,ft.jsx)(components_Tooltip,{text:"Join our community for support and updates!",children:(0,ft.jsx)("a",{href:"#",className:"w-full sm:w-auto hover:shadow-blue-500/50 transition px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-semibold bg-green-500 text-white rounded-2xl shadow-lg hover:bg-green-600",children:"Join the Community"})})]})]});return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(HeroSection,{}),(0,ft.jsx)(OmnisSection,{}),(0,ft.jsx)(StepsSection,{}),(0,ft.jsx)(UseCasesSection,{}),(0,ft.jsx)(InteractiveDemoSection,{}),(0,ft.jsx)(TestimonialSection,{}),(0,ft.jsx)(CallToActionSection,{})]})};var xt=__webpack_require__(7784);const Et=(0,xt.A)("send-horizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),Tt=(0,xt.A)("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),At=(0,xt.A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kt=(0,xt.A)("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAHlBMVEVMaXH///////////////////9Fd3yDpKfB0dMHSVBshNQHAAAABXRSTlMAmM77OYnjxM4AAAI/SURBVEjHjZbpsdsgEICVDt6PlwoyaeDNvALyIwXkWEAFCKQCQHYBYChAV7fZRbeMpezYnrH8sfeyzrLsxzd4IR/vGcoXOJE3BL6fAb8vFMDnW/bzFIC/2ddz4Ne5C+TE5zkA2fMjYV8D9BsfBv0SMD2+rVAvgcaBaABymwQEgFLAUT8rbQpA/UxHQGzcWAGB+hFg9JOFu33W0KkRYDV+4cUzMB5n2sTTfQKwwIaeDU20UiYB8IrdVCBApQFQTLsOSNURkBofcquifjB+DmMGuOrBl0xPQLeEMQOsQJ0zwKti8XIGxFDwaiApvQ8PpN3BB0zjzaM4iULHwzNgp3QBM80BwA4IsrKOTJCTxh6A3BXCO6vIxFzHeguE2AW2nExEUVuADwWYagUYOtrsnOQdCLcCpq5raXdRYIFWE5xOs2afqFYuJoSMfsh9HiiKKQ/5I9Yh2AXglZ7LTYDBRHJlx3hGQLfodmXtCIS6AfMoXbECZU8pmn3IW4tpGoYViKldo6AcBqO53rccJqoiQ6Wn+LiBI/DAqR3LPSU7JJt2rcVUjC1ArSKrGZiacjv+XrmbonILLEXdHueCdUvT5qqujT4CNZP9BJjFo12YIWYXX48O1ltmE6aaBpxLAu6pO8pUBOTapYcXH3pSwnRNk5YCxlqIewFOpq5BQbZFQddda1NALguI9+RUpycgxGaVYwunABbHjpU0BOmr2MfPe9va03Ww3wdXC+XP9Uq6XGqXa/F8sdJuPnXi43+W+8Xfg3/lhdfkk3zhbwAAAABJRU5ErkJggg==";var It=__webpack_require__(5200),St=__webpack_require__(5472);const Rt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ct=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vt={};function lib_name(_,$){return(($||Vt).jsx?Ct:Rt).test(_)}const Dt=/[ \t\n\f\r]/g;function empty(_){return""===_.replace(Dt,"")}class Schema{constructor(_,$,ee){this.normal=$,this.property=_,ee&&(this.space=ee)}}function merge(_,$){const ee={},te={};for(const ne of _)Object.assign(ee,ne.property),Object.assign(te,ne.normal);return new Schema(ee,te,$)}function normalize(_){return _.toLowerCase()}Schema.prototype.normal={},Schema.prototype.property={},Schema.prototype.space=void 0;class Info{constructor(_,$){this.attribute=$,this.property=_}}Info.prototype.attribute="",Info.prototype.booleanish=!1,Info.prototype.boolean=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.commaSeparated=!1,Info.prototype.defined=!1,Info.prototype.mustUseProperty=!1,Info.prototype.number=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.property="",Info.prototype.spaceSeparated=!1,Info.prototype.space=void 0;let Nt=0;const Ot=increment(),Mt=increment(),Ft=increment(),jt=increment(),Lt=increment(),Ut=increment(),Bt=increment();function increment(){return 2**++Nt}const zt=Object.keys(_);class DefinedInfo extends Info{constructor($,ee,te,ne){let re=-1;if(super($,ee),mark(this,"space",ne),"number"===typeof te)for(;++re<zt.length;){const $=zt[re];mark(this,zt[re],(te&_[$])===_[$])}}}function mark(_,$,ee){ee&&(_[$]=ee)}function create(_){const $={},ee={};for(const[te,ne]of Object.entries(_.properties)){const re=new DefinedInfo(te,_.transform(_.attributes||{},te),ne,_.space);_.mustUseProperty&&_.mustUseProperty.includes(te)&&(re.mustUseProperty=!0),$[te]=re,ee[normalize(te)]=te,ee[normalize(re.attribute)]=te}return new Schema($,ee,_.space)}DefinedInfo.prototype.defined=!0;const qt=create({properties:{ariaActiveDescendant:null,ariaAtomic:Mt,ariaAutoComplete:null,ariaBusy:Mt,ariaChecked:Mt,ariaColCount:jt,ariaColIndex:jt,ariaColSpan:jt,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:Mt,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:Mt,ariaFlowTo:Lt,ariaGrabbed:Mt,ariaHasPopup:null,ariaHidden:Mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:jt,ariaLive:null,ariaModal:Mt,ariaMultiLine:Mt,ariaMultiSelectable:Mt,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:jt,ariaPressed:Mt,ariaReadOnly:Mt,ariaRelevant:null,ariaRequired:Mt,ariaRoleDescription:Lt,ariaRowCount:jt,ariaRowIndex:jt,ariaRowSpan:jt,ariaSelected:Mt,ariaSetSize:jt,ariaSort:null,ariaValueMax:jt,ariaValueMin:jt,ariaValueNow:jt,ariaValueText:null,role:null},transform:(_,$)=>"role"===$?$:"aria-"+$.slice(4).toLowerCase()});function caseSensitiveTransform(_,$){return $ in _?_[$]:$}function caseInsensitiveTransform(_,$){return caseSensitiveTransform(_,$.toLowerCase())}const Wt=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ut,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:Ot,allowPaymentRequest:Ot,allowUserMedia:Ot,alt:null,as:null,async:Ot,autoCapitalize:null,autoComplete:Lt,autoFocus:Ot,autoPlay:Ot,blocking:Lt,capture:null,charSet:null,checked:Ot,cite:null,className:Lt,cols:jt,colSpan:null,content:null,contentEditable:Mt,controls:Ot,controlsList:Lt,coords:jt|Ut,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ot,defer:Ot,dir:null,dirName:null,disabled:Ot,download:Ft,draggable:Mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ot,formTarget:null,headers:Lt,height:jt,hidden:Ft,high:jt,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:Ot,inputMode:null,integrity:null,is:null,isMap:Ot,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:Ot,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ot,low:jt,manifest:null,max:null,maxLength:jt,media:null,method:null,min:null,minLength:jt,multiple:Ot,muted:Ot,name:null,nonce:null,noModule:Ot,noValidate:Ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ot,optimum:jt,pattern:null,ping:Lt,placeholder:null,playsInline:Ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ot,referrerPolicy:null,rel:Lt,required:Ot,reversed:Ot,rows:jt,rowSpan:jt,sandbox:Lt,scope:null,scoped:Ot,seamless:Ot,selected:Ot,shadowRootClonable:Ot,shadowRootDelegatesFocus:Ot,shadowRootMode:null,shape:null,size:jt,sizes:null,slot:null,span:jt,spellCheck:Mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:jt,step:null,style:null,tabIndex:jt,target:null,title:null,translate:null,type:null,typeMustMatch:Ot,useMap:null,value:Mt,width:jt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:jt,borderColor:null,bottomMargin:jt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ot,declare:Ot,event:null,face:null,frame:null,frameBorder:null,hSpace:jt,leftMargin:jt,link:null,longDesc:null,lowSrc:null,marginHeight:jt,marginWidth:jt,noResize:Ot,noHref:Ot,noShade:Ot,noWrap:Ot,object:null,profile:null,prompt:null,rev:null,rightMargin:jt,rules:null,scheme:null,scrolling:Mt,standby:null,summary:null,text:null,topMargin:jt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:jt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ot,disableRemotePlayback:Ot,prefix:null,property:null,results:jt,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),Ht=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Bt,accentHeight:jt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:jt,amplitude:jt,arabicForm:null,ascent:jt,attributeName:null,attributeType:null,azimuth:jt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:jt,by:null,calcMode:null,capHeight:jt,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:jt,diffuseConstant:jt,direction:null,display:null,dur:null,divisor:jt,dominantBaseline:null,download:Ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:jt,enableBackground:null,end:null,event:null,exponent:jt,externalResourcesRequired:null,fill:null,fillOpacity:jt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ut,g2:Ut,glyphName:Ut,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:jt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:jt,horizOriginX:jt,horizOriginY:jt,id:null,ideographic:jt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:jt,k:jt,k1:jt,k2:jt,k3:jt,k4:jt,kernelMatrix:Bt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:jt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:jt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:jt,overlineThickness:jt,paintOrder:null,panose1:null,path:null,pathLength:jt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:jt,pointsAtY:jt,pointsAtZ:jt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bt,rev:Bt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bt,requiredFeatures:Bt,requiredFonts:Bt,requiredFormats:Bt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:jt,specularExponent:jt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:jt,strikethroughThickness:jt,string:null,stroke:null,strokeDashArray:Bt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:jt,strokeOpacity:jt,strokeWidth:null,style:null,surfaceScale:jt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bt,tabIndex:jt,tableValues:null,target:null,targetX:jt,targetY:jt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:jt,underlineThickness:jt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:jt,values:null,vAlphabetic:jt,vMathematical:jt,vectorEffect:null,vHanging:jt,vIdeographic:jt,version:null,vertAdvY:jt,vertOriginX:jt,vertOriginY:jt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:jt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),$t=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(_,$)=>"xlink:"+$.slice(5).toLowerCase()}),Kt=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),Gt=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(_,$)=>"xml:"+$.slice(3).toLowerCase()}),Yt=merge([qt,Wt,$t,Kt,Gt],"html"),Qt=merge([qt,Ht,$t,Kt,Gt],"svg"),Xt=/[A-Z]/g,Jt=/-[a-z]/g,Zt=/^data[-\w.:]+$/i;function kebab(_){return"-"+_.toLowerCase()}function camelcase(_){return _.charAt(1).toUpperCase()}const en={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var tn=__webpack_require__(7294);const nn=point("end"),rn=point("start");function point(_){return function point($){const ee=$&&$.position&&$.position[_]||{};if("number"===typeof ee.line&&ee.line>0&&"number"===typeof ee.column&&ee.column>0)return{line:ee.line,column:ee.column,offset:"number"===typeof ee.offset&&ee.offset>-1?ee.offset:void 0}}}function stringifyPosition(_){return _&&"object"===typeof _?"position"in _||"type"in _?lib_position(_.position):"start"in _||"end"in _?lib_position(_):"line"in _||"column"in _?lib_point(_):"":""}function lib_point(_){return index(_&&_.line)+":"+index(_&&_.column)}function lib_position(_){return lib_point(_&&_.start)+"-"+lib_point(_&&_.end)}function index(_){return _&&"number"===typeof _?_:1}class VFileMessage extends Error{constructor(_,$,ee){super(),"string"===typeof $&&(ee=$,$=void 0);let te="",ne={},re=!1;if($&&(ne="line"in $&&"column"in $||"start"in $&&"end"in $?{place:$}:"type"in $?{ancestors:[$],place:$.position}:{...$}),"string"===typeof _?te=_:!ne.cause&&_&&(re=!0,te=_.message,ne.cause=_),!ne.ruleId&&!ne.source&&"string"===typeof ee){const _=ee.indexOf(":");-1===_?ne.ruleId=ee:(ne.source=ee.slice(0,_),ne.ruleId=ee.slice(_+1))}if(!ne.place&&ne.ancestors&&ne.ancestors){const _=ne.ancestors[ne.ancestors.length-1];_&&(ne.place=_.position)}const ie=ne.place&&"start"in ne.place?ne.place.start:ne.place;this.ancestors=ne.ancestors||void 0,this.cause=ne.cause||void 0,this.column=ie?ie.column:void 0,this.fatal=void 0,this.file,this.message=te,this.line=ie?ie.line:void 0,this.name=stringifyPosition(ne.place)||"1:1",this.place=ne.place||void 0,this.reason=this.message,this.ruleId=ne.ruleId||void 0,this.source=ne.source||void 0,this.stack=re&&ne.cause&&"string"===typeof ne.cause.stack?ne.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;const an={}.hasOwnProperty,on=new Map,sn=/[A-Z]/g,ln=new Set(["table","tbody","thead","tfoot","tr"]),cn=new Set(["td","th"]),un="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(_,$){if(!$||void 0===$.Fragment)throw new TypeError("Expected `Fragment` in options");const ee=$.filePath||void 0;let te;if($.development){if("function"!==typeof $.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");te=function developmentCreate(_,$){return create;function create(ee,te,ne,re){const ie=Array.isArray(ne.children),ae=rn(ee);return $(te,ne,re,ie,{columnNumber:ae?ae.column-1:void 0,fileName:_,lineNumber:ae?ae.line:void 0},void 0)}}(ee,$.jsxDEV)}else{if("function"!==typeof $.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof $.jsxs)throw new TypeError("Expected `jsxs` in production options");te=function productionCreate(_,$,ee){return create;function create(_,te,ne,re){const ie=Array.isArray(ne.children)?ee:$;return re?ie(te,ne,re):ie(te,ne)}}(0,$.jsx,$.jsxs)}const ne={Fragment:$.Fragment,ancestors:[],components:$.components||{},create:te,elementAttributeNameCase:$.elementAttributeNameCase||"react",evaluater:$.createEvaluater?$.createEvaluater():void 0,filePath:ee,ignoreInvalidStyle:$.ignoreInvalidStyle||!1,passKeys:!1!==$.passKeys,passNode:$.passNode||!1,schema:"svg"===$.space?Qt:Yt,stylePropertyNameCase:$.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==$.tableCellAlignToStyle},re=one(ne,_,void 0);return re&&"string"!==typeof re?re:ne.create(_,ne.Fragment,{children:re||void 0},void 0)}function one(_,$,ee){return"element"===$.type?function lib_element(_,$,ee){const te=_.schema;let ne=te;"svg"===$.tagName.toLowerCase()&&"html"===te.space&&(ne=Qt,_.schema=ne);_.ancestors.push($);const re=findComponentFromName(_,$.tagName,!1),ie=function createElementProps(_,$){const ee={};let te,ne;for(ne in $.properties)if("children"!==ne&&an.call($.properties,ne)){const re=createProperty(_,ne,$.properties[ne]);if(re){const[ne,ie]=re;_.tableCellAlignToStyle&&"align"===ne&&"string"===typeof ie&&cn.has($.tagName)?te=ie:ee[ne]=ie}}if(te){(ee.style||(ee.style={}))["css"===_.stylePropertyNameCase?"text-align":"textAlign"]=te}return ee}(_,$);let ae=createChildren(_,$);ln.has($.tagName)&&(ae=ae.filter((function(_){return"string"!==typeof _||!function whitespace(_){return"object"===typeof _?"text"===_.type&&empty(_.value):empty(_)}(_)})));return addNode(_,ie,re,$),addChildren(ie,ae),_.ancestors.pop(),_.schema=te,_.create($,re,ie,ee)}(_,$,ee):"mdxFlowExpression"===$.type||"mdxTextExpression"===$.type?function mdxExpression(_,$){if($.data&&$.data.estree&&_.evaluater){const ee=$.data.estree.body[0];return ee.type,_.evaluater.evaluateExpression(ee.expression)}crashEstree(_,$.position)}(_,$):"mdxJsxFlowElement"===$.type||"mdxJsxTextElement"===$.type?function mdxJsxElement(_,$,ee){const te=_.schema;let ne=te;"svg"===$.name&&"html"===te.space&&(ne=Qt,_.schema=ne);_.ancestors.push($);const re=null===$.name?_.Fragment:findComponentFromName(_,$.name,!0),ie=function createJsxElementProps(_,$){const ee={};for(const te of $.attributes)if("mdxJsxExpressionAttribute"===te.type)if(te.data&&te.data.estree&&_.evaluater){const $=te.data.estree.body[0];$.type;const ne=$.expression;ne.type;const re=ne.properties[0];re.type,Object.assign(ee,_.evaluater.evaluateExpression(re.argument))}else crashEstree(_,$.position);else{const ne=te.name;let re;if(te.value&&"object"===typeof te.value)if(te.value.data&&te.value.data.estree&&_.evaluater){const $=te.value.data.estree.body[0];$.type,re=_.evaluater.evaluateExpression($.expression)}else crashEstree(_,$.position);else re=null===te.value||te.value;ee[ne]=re}return ee}(_,$),ae=createChildren(_,$);return addNode(_,ie,re,$),addChildren(ie,ae),_.ancestors.pop(),_.schema=te,_.create($,re,ie,ee)}(_,$,ee):"mdxjsEsm"===$.type?function mdxEsm(_,$){if($.data&&$.data.estree&&_.evaluater)return _.evaluater.evaluateProgram($.data.estree);crashEstree(_,$.position)}(_,$):"root"===$.type?function root(_,$,ee){const te={};return addChildren(te,createChildren(_,$)),_.create($,_.Fragment,te,ee)}(_,$,ee):"text"===$.type?function lib_text(_,$){return $.value}(0,$):void 0}function addNode(_,$,ee,te){"string"!==typeof ee&&ee!==_.Fragment&&_.passNode&&($.node=te)}function addChildren(_,$){if($.length>0){const ee=$.length>1?$:$[0];ee&&(_.children=ee)}}function createChildren(_,$){const ee=[];let te=-1;const ne=_.passKeys?new Map:on;for(;++te<$.children.length;){const re=$.children[te];let ie;if(_.passKeys){const _="element"===re.type?re.tagName:"mdxJsxFlowElement"===re.type||"mdxJsxTextElement"===re.type?re.name:void 0;if(_){const $=ne.get(_)||0;ie=_+"-"+$,ne.set(_,$+1)}}const ae=one(_,re,ie);void 0!==ae&&ee.push(ae)}return ee}function createProperty(_,$,ee){const te=function find(_,$){const ee=normalize($);let te=$,ne=Info;if(ee in _.normal)return _.property[_.normal[ee]];if(ee.length>4&&"data"===ee.slice(0,4)&&Zt.test($)){if("-"===$.charAt(4)){const _=$.slice(5).replace(Jt,camelcase);te="data"+_.charAt(0).toUpperCase()+_.slice(1)}else{const _=$.slice(4);if(!Jt.test(_)){let ee=_.replace(Xt,kebab);"-"!==ee.charAt(0)&&(ee="-"+ee),$="data"+ee}}ne=DefinedInfo}return new ne(te,$)}(_.schema,$);if(!(null===ee||void 0===ee||"number"===typeof ee&&Number.isNaN(ee))){if(Array.isArray(ee)&&(ee=te.commaSeparated?function stringify(_,$){const ee=$||{};return(""===_[_.length-1]?[..._,""]:_).join((ee.padRight?" ":"")+","+(!1===ee.padLeft?"":" ")).trim()}(ee):function space_separated_tokens_stringify(_){return _.join(" ").trim()}(ee)),"style"===te.property){let $="object"===typeof ee?ee:function parseStyle(_,$){try{return tn($,{reactCompat:!0})}catch(ee){if(_.ignoreInvalidStyle)return{};const $=ee,te=new VFileMessage("Cannot parse `style` attribute",{ancestors:_.ancestors,cause:$,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw te.file=_.filePath||void 0,te.url=un+"#cannot-parse-style-attribute",te}}(_,String(ee));return"css"===_.stylePropertyNameCase&&($=function transformStylesToCssCasing(_){const $={};let ee;for(ee in _)an.call(_,ee)&&($[transformStyleToCssCasing(ee)]=_[ee]);return $}($)),["style",$]}return["react"===_.elementAttributeNameCase&&te.space?en[te.property]||te.property:te.attribute,ee]}}function findComponentFromName(_,$,ee){let te;if(ee)if($.includes(".")){const _=$.split(".");let ee,ne=-1;for(;++ne<_.length;){const $=lib_name(_[ne])?{type:"Identifier",name:_[ne]}:{type:"Literal",value:_[ne]};ee=ee?{type:"MemberExpression",object:ee,property:$,computed:Boolean(ne&&"Literal"===$.type),optional:!1}:$}te=ee}else te=lib_name($)&&!/^[a-z]/.test($)?{type:"Identifier",name:$}:{type:"Literal",value:$};else te={type:"Literal",value:$};if("Literal"===te.type){const $=te.value;return an.call(_.components,$)?_.components[$]:$}if(_.evaluater)return _.evaluater.evaluateExpression(te);crashEstree(_)}function crashEstree(_,$){const ee=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:_.ancestors,place:$,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw ee.file=_.filePath||void 0,ee.url=un+"#cannot-handle-mdx-estrees-without-createevaluater",ee}function transformStyleToCssCasing(_){let $=_.replace(sn,toDash);return"ms-"===$.slice(0,3)&&($="-"+$),$}function toDash(_){return"-"+_.toLowerCase()}const dn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},hn={};function lib_one(_,$,ee){if(function node(_){return Boolean(_&&"object"===typeof _)}(_)){if("value"in _)return"html"!==_.type||ee?_.value:"";if($&&"alt"in _&&_.alt)return _.alt;if("children"in _)return lib_all(_.children,$,ee)}return Array.isArray(_)?lib_all(_,$,ee):""}function lib_all(_,$,ee){const te=[];let ne=-1;for(;++ne<_.length;)te[ne]=lib_one(_[ne],$,ee);return te.join("")}function splice(_,$,ee,te){const ne=_.length;let re,ie=0;if($=$<0?-$>ne?0:ne+$:$>ne?ne:$,ee=ee>0?ee:0,te.length<1e4)re=Array.from(te),re.unshift($,ee),_.splice(...re);else for(ee&&_.splice($,ee);ie<te.length;)re=te.slice(ie,ie+1e4),re.unshift($,0),_.splice(...re),ie+=1e4,$+=1e4}function push(_,$){return _.length>0?(splice(_,_.length,0,$),_):$}class SpliceBuffer{constructor(_){this.left=_?[..._]:[],this.right=[]}get(_){if(_<0||_>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+_+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return _<this.left.length?this.left[_]:this.right[this.right.length-_+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(_,$){const ee=null===$||void 0===$?Number.POSITIVE_INFINITY:$;return ee<this.left.length?this.left.slice(_,ee):_>this.left.length?this.right.slice(this.right.length-ee+this.left.length,this.right.length-_+this.left.length).reverse():this.left.slice(_).concat(this.right.slice(this.right.length-ee+this.left.length).reverse())}splice(_,$,ee){const te=$||0;this.setCursor(Math.trunc(_));const ne=this.right.splice(this.right.length-te,Number.POSITIVE_INFINITY);return ee&&chunkedPush(this.left,ee),ne.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(_){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(_)}pushMany(_){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,_)}unshift(_){this.setCursor(0),this.right.push(_)}unshiftMany(_){this.setCursor(0),chunkedPush(this.right,_.reverse())}setCursor(_){if(!(_===this.left.length||_>this.left.length&&0===this.right.length||_<0&&0===this.left.length))if(_<this.left.length){const $=this.left.splice(_,Number.POSITIVE_INFINITY);chunkedPush(this.right,$.reverse())}else{const $=this.right.splice(this.left.length+this.right.length-_,Number.POSITIVE_INFINITY);chunkedPush(this.left,$.reverse())}}}function chunkedPush(_,$){let ee=0;if($.length<1e4)_.push(...$);else for(;ee<$.length;)_.push(...$.slice(ee,ee+1e4)),ee+=1e4}function subtokenize(_){const $={};let ee,te,ne,re,ie,ae,oe,se=-1;const le=new SpliceBuffer(_);for(;++se<le.length;){for(;se in $;)se=$[se];if(ee=le.get(se),se&&"chunkFlow"===ee[1].type&&"listItemPrefix"===le.get(se-1)[1].type&&(ae=ee[1]._tokenizer.events,ne=0,ne<ae.length&&"lineEndingBlank"===ae[ne][1].type&&(ne+=2),ne<ae.length&&"content"===ae[ne][1].type))for(;++ne<ae.length&&"content"!==ae[ne][1].type;)"chunkText"===ae[ne][1].type&&(ae[ne][1]._isInFirstContentOfListItem=!0,ne++);if("enter"===ee[0])ee[1].contentType&&(Object.assign($,subcontent(le,se)),se=$[se],oe=!0);else if(ee[1]._container){for(ne=se,te=void 0;ne--;)if(re=le.get(ne),"lineEnding"===re[1].type||"lineEndingBlank"===re[1].type)"enter"===re[0]&&(te&&(le.get(te)[1].type="lineEndingBlank"),re[1].type="lineEnding",te=ne);else if("linePrefix"!==re[1].type&&"listItemIndent"!==re[1].type)break;te&&(ee[1].end={...le.get(te)[1].start},ie=le.slice(te,se),ie.unshift(ee),le.splice(te,se-te+1,ie))}}return splice(_,0,Number.POSITIVE_INFINITY,le.slice(0)),!oe}function subcontent(_,$){const ee=_.get($)[1],te=_.get($)[2];let ne=$-1;const re=[];let ie=ee._tokenizer;ie||(ie=te.parser[ee.contentType](ee.start),ee._contentTypeTextTrailing&&(ie._contentTypeTextTrailing=!0));const ae=ie.events,oe=[],se={};let le,de,he=-1,fe=ee,pe=0,me=0;const _e=[me];for(;fe;){for(;_.get(++ne)[1]!==fe;);re.push(ne),fe._tokenizer||(le=te.sliceStream(fe),fe.next||le.push(null),de&&ie.defineSkip(fe.start),fe._isInFirstContentOfListItem&&(ie._gfmTasklistFirstContentOfListItem=!0),ie.write(le),fe._isInFirstContentOfListItem&&(ie._gfmTasklistFirstContentOfListItem=void 0)),de=fe,fe=fe.next}for(fe=ee;++he<ae.length;)"exit"===ae[he][0]&&"enter"===ae[he-1][0]&&ae[he][1].type===ae[he-1][1].type&&ae[he][1].start.line!==ae[he][1].end.line&&(me=he+1,_e.push(me),fe._tokenizer=void 0,fe.previous=void 0,fe=fe.next);for(ie.events=[],fe?(fe._tokenizer=void 0,fe.previous=void 0):_e.pop(),he=_e.length;he--;){const $=ae.slice(_e[he],_e[he+1]),ee=re.pop();oe.push([ee,ee+$.length-1]),_.splice(ee,2,$)}for(oe.reverse(),he=-1;++he<oe.length;)se[pe+oe[he][0]]=pe+oe[he][1],pe+=oe[he][1]-oe[he][0]-1;return se}const fn={}.hasOwnProperty;function syntaxExtension(_,$){let ee;for(ee in $){const te=(fn.call(_,ee)?_[ee]:void 0)||(_[ee]={}),ne=$[ee];let re;if(ne)for(re in ne){fn.call(te,re)||(te[re]=[]);const _=ne[re];constructs(te[re],Array.isArray(_)?_:_?[_]:[])}}}function constructs(_,$){let ee=-1;const te=[];for(;++ee<$.length;)("after"===$[ee].add?_:te).push($[ee]);splice(_,0,0,te)}const pn=regexCheck(/[A-Za-z]/),mn=regexCheck(/[\dA-Za-z]/),gn=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(_){return null!==_&&(_<32||127===_)}const _n=regexCheck(/\d/),yn=regexCheck(/[\dA-Fa-f]/),vn=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(_){return null!==_&&_<-2}function markdownLineEndingOrSpace(_){return null!==_&&(_<0||32===_)}function markdownSpace(_){return-2===_||-1===_||32===_}const bn=regexCheck(/\p{P}|\p{S}/u),wn=regexCheck(/\s/);function regexCheck(_){return function check($){return null!==$&&$>-1&&_.test(String.fromCharCode($))}}function factorySpace(_,$,ee,te){const ne=te?te-1:Number.POSITIVE_INFINITY;let re=0;return function start(te){if(markdownSpace(te))return _.enter(ee),prefix(te);return $(te)};function prefix(te){return markdownSpace(te)&&re++<ne?(_.consume(te),prefix):(_.exit(ee),$(te))}}const xn={tokenize:function initializeContent(_){const $=_.attempt(this.parser.constructs.contentInitial,(function afterContentStartConstruct(ee){if(null===ee)return void _.consume(ee);return _.enter("lineEnding"),_.consume(ee),_.exit("lineEnding"),factorySpace(_,$,"linePrefix")}),(function paragraphInitial($){return _.enter("paragraph"),lineStart($)}));let ee;return $;function lineStart($){const te=_.enter("chunkText",{contentType:"text",previous:ee});return ee&&(ee.next=te),ee=te,data($)}function data($){return null===$?(_.exit("chunkText"),_.exit("paragraph"),void _.consume($)):markdownLineEnding($)?(_.consume($),_.exit("chunkText"),lineStart):(_.consume($),data)}}};const En={tokenize:function initializeDocument(_){const $=this,ee=[];let te,ne,re,ie=0;return start;function start(te){if(ie<ee.length){const ne=ee[ie];return $.containerState=ne[1],_.attempt(ne[0].continuation,documentContinue,checkNewContainers)(te)}return checkNewContainers(te)}function documentContinue(_){if(ie++,$.containerState._closeFlow){$.containerState._closeFlow=void 0,te&&closeFlow();const ee=$.events.length;let ne,re=ee;for(;re--;)if("exit"===$.events[re][0]&&"chunkFlow"===$.events[re][1].type){ne=$.events[re][1].end;break}exitContainers(ie);let ae=ee;for(;ae<$.events.length;)$.events[ae][1].end={...ne},ae++;return splice($.events,re+1,0,$.events.slice(ee)),$.events.length=ae,checkNewContainers(_)}return start(_)}function checkNewContainers(ne){if(ie===ee.length){if(!te)return documentContinued(ne);if(te.currentConstruct&&te.currentConstruct.concrete)return flowStart(ne);$.interrupt=Boolean(te.currentConstruct&&!te._gfmTableDynamicInterruptHack)}return $.containerState={},_.check(Tn,thereIsANewContainer,thereIsNoNewContainer)(ne)}function thereIsANewContainer(_){return te&&closeFlow(),exitContainers(ie),documentContinued(_)}function thereIsNoNewContainer(_){return $.parser.lazy[$.now().line]=ie!==ee.length,re=$.now().offset,flowStart(_)}function documentContinued(ee){return $.containerState={},_.attempt(Tn,containerContinue,flowStart)(ee)}function containerContinue(_){return ie++,ee.push([$.currentConstruct,$.containerState]),documentContinued(_)}function flowStart(ee){return null===ee?(te&&closeFlow(),exitContainers(0),void _.consume(ee)):(te=te||$.parser.flow($.now()),_.enter("chunkFlow",{_tokenizer:te,contentType:"flow",previous:ne}),flowContinue(ee))}function flowContinue(ee){return null===ee?(writeToChild(_.exit("chunkFlow"),!0),exitContainers(0),void _.consume(ee)):markdownLineEnding(ee)?(_.consume(ee),writeToChild(_.exit("chunkFlow")),ie=0,$.interrupt=void 0,start):(_.consume(ee),flowContinue)}function writeToChild(_,ee){const ae=$.sliceStream(_);if(ee&&ae.push(null),_.previous=ne,ne&&(ne.next=_),ne=_,te.defineSkip(_.start),te.write(ae),$.parser.lazy[_.start.line]){let _=te.events.length;for(;_--;)if(te.events[_][1].start.offset<re&&(!te.events[_][1].end||te.events[_][1].end.offset>re))return;const ee=$.events.length;let ne,ae,oe=ee;for(;oe--;)if("exit"===$.events[oe][0]&&"chunkFlow"===$.events[oe][1].type){if(ne){ae=$.events[oe][1].end;break}ne=!0}for(exitContainers(ie),_=ee;_<$.events.length;)$.events[_][1].end={...ae},_++;splice($.events,oe+1,0,$.events.slice(ee)),$.events.length=_}}function exitContainers(te){let ne=ee.length;for(;ne-- >te;){const te=ee[ne];$.containerState=te[1],te[0].exit.call($,_)}ee.length=te}function closeFlow(){te.write([null]),ne=void 0,te=void 0,$.containerState._closeFlow=void 0}}},Tn={tokenize:function tokenizeContainer(_,$,ee){return factorySpace(_,_.attempt(this.parser.constructs.document,$,ee),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const An={partial:!0,tokenize:function tokenizeBlankLine(_,$,ee){return function start($){return markdownSpace($)?factorySpace(_,after,"linePrefix")($):after($)};function after(_){return null===_||markdownLineEnding(_)?$(_):ee(_)}}};const kn={resolve:function resolveContent(_){return subtokenize(_),_},tokenize:function tokenizeContent(_,$){let ee;return function chunkStart($){return _.enter("content"),ee=_.enter("chunkContent",{contentType:"content"}),chunkInside($)};function chunkInside($){return null===$?contentEnd($):markdownLineEnding($)?_.check(Pn,contentContinue,contentEnd)($):(_.consume($),chunkInside)}function contentEnd(ee){return _.exit("chunkContent"),_.exit("content"),$(ee)}function contentContinue($){return _.consume($),_.exit("chunkContent"),ee.next=_.enter("chunkContent",{contentType:"content",previous:ee}),ee=ee.next,chunkInside}}},Pn={partial:!0,tokenize:function tokenizeContinuation(_,$,ee){const te=this;return function startLookahead($){return _.exit("chunkContent"),_.enter("lineEnding"),_.consume($),_.exit("lineEnding"),factorySpace(_,prefixed,"linePrefix")};function prefixed(ne){if(null===ne||markdownLineEnding(ne))return ee(ne);const re=te.events[te.events.length-1];return!te.parser.constructs.disable.null.includes("codeIndented")&&re&&"linePrefix"===re[1].type&&re[2].sliceSerialize(re[1],!0).length>=4?$(ne):_.interrupt(te.parser.constructs.flow,ee,$)(ne)}}};const In={tokenize:function initializeFlow(_){const $=this,ee=_.attempt(An,(function atBlankEnding(te){if(null===te)return void _.consume(te);return _.enter("lineEndingBlank"),_.consume(te),_.exit("lineEndingBlank"),$.currentConstruct=void 0,ee}),_.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(_,_.attempt(this.parser.constructs.flow,afterConstruct,_.attempt(kn,afterConstruct)),"linePrefix")));return ee;function afterConstruct(te){if(null!==te)return _.enter("lineEnding"),_.consume(te),_.exit("lineEnding"),$.currentConstruct=void 0,ee;_.consume(te)}}};const Sn={resolveAll:createResolver()},Rn=initializeFactory("string"),Cn=initializeFactory("text");function initializeFactory(_){return{resolveAll:createResolver("text"===_?resolveAllLineSuffixes:void 0),tokenize:function initializeText($){const ee=this,te=this.parser.constructs[_],ne=$.attempt(te,start,notText);return start;function start(_){return atBreak(_)?ne(_):notText(_)}function notText(_){if(null!==_)return $.enter("data"),$.consume(_),data;$.consume(_)}function data(_){return atBreak(_)?($.exit("data"),ne(_)):($.consume(_),data)}function atBreak(_){if(null===_)return!0;const $=te[_];let ne=-1;if($)for(;++ne<$.length;){const _=$[ne];if(!_.previous||_.previous.call(ee,ee.previous))return!0}return!1}}}}function createResolver(_){return function resolveAllText($,ee){let te,ne=-1;for(;++ne<=$.length;)void 0===te?$[ne]&&"data"===$[ne][1].type&&(te=ne,ne++):$[ne]&&"data"===$[ne][1].type||(ne!==te+2&&($[te][1].end=$[ne-1][1].end,$.splice(te+2,ne-te-2),ne=te+2),te=void 0);return _?_($,ee):$}}function resolveAllLineSuffixes(_,$){let ee=0;for(;++ee<=_.length;)if((ee===_.length||"lineEnding"===_[ee][1].type)&&"data"===_[ee-1][1].type){const te=_[ee-1][1],ne=$.sliceStream(te);let re,ie=ne.length,ae=-1,oe=0;for(;ie--;){const _=ne[ie];if("string"===typeof _){for(ae=_.length;32===_.charCodeAt(ae-1);)oe++,ae--;if(ae)break;ae=-1}else if(-2===_)re=!0,oe++;else if(-1!==_){ie++;break}}if($._contentTypeTextTrailing&&ee===_.length&&(oe=0),oe){const ne={type:ee===_.length||re||oe<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:ie?ae:te.start._bufferIndex+ae,_index:te.start._index+ie,line:te.end.line,column:te.end.column-oe,offset:te.end.offset-oe},end:{...te.end}};te.end={...ne.start},te.start.offset===te.end.offset?Object.assign(te,ne):(_.splice(ee,0,["enter",ne,$],["exit",ne,$]),ee+=2)}ee++}return _}const Vn={name:"thematicBreak",tokenize:function tokenizeThematicBreak(_,$,ee){let te,ne=0;return function start($){return _.enter("thematicBreak"),function before(_){return te=_,atBreak(_)}($)};function atBreak(re){return re===te?(_.enter("thematicBreakSequence"),sequence(re)):ne>=3&&(null===re||markdownLineEnding(re))?(_.exit("thematicBreak"),$(re)):ee(re)}function sequence($){return $===te?(_.consume($),ne++,sequence):(_.exit("thematicBreakSequence"),markdownSpace($)?factorySpace(_,atBreak,"whitespace")($):atBreak($))}}};const Dn={continuation:{tokenize:function tokenizeListContinuation(_,$,ee){const te=this;return te.containerState._closeFlow=void 0,_.check(An,onBlank,notBlank);function onBlank(ee){return te.containerState.furtherBlankLines=te.containerState.furtherBlankLines||te.containerState.initialBlankLine,factorySpace(_,$,"listItemIndent",te.containerState.size+1)(ee)}function notBlank(ee){return te.containerState.furtherBlankLines||!markdownSpace(ee)?(te.containerState.furtherBlankLines=void 0,te.containerState.initialBlankLine=void 0,notInCurrentItem(ee)):(te.containerState.furtherBlankLines=void 0,te.containerState.initialBlankLine=void 0,_.attempt(On,$,notInCurrentItem)(ee))}function notInCurrentItem(ne){return te.containerState._closeFlow=!0,te.interrupt=void 0,factorySpace(_,_.attempt(Dn,$,ee),"linePrefix",te.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne)}}},exit:function tokenizeListEnd(_){_.exit(this.containerState.type)},name:"list",tokenize:function tokenizeListStart(_,$,ee){const te=this,ne=te.events[te.events.length-1];let re=ne&&"linePrefix"===ne[1].type?ne[2].sliceSerialize(ne[1],!0).length:0,ie=0;return function start($){const ne=te.containerState.type||(42===$||43===$||45===$?"listUnordered":"listOrdered");if("listUnordered"===ne?!te.containerState.marker||$===te.containerState.marker:_n($)){if(te.containerState.type||(te.containerState.type=ne,_.enter(ne,{_container:!0})),"listUnordered"===ne)return _.enter("listItemPrefix"),42===$||45===$?_.check(Vn,ee,atMarker)($):atMarker($);if(!te.interrupt||49===$)return _.enter("listItemPrefix"),_.enter("listItemValue"),inside($)}return ee($)};function inside($){return _n($)&&++ie<10?(_.consume($),inside):(!te.interrupt||ie<2)&&(te.containerState.marker?$===te.containerState.marker:41===$||46===$)?(_.exit("listItemValue"),atMarker($)):ee($)}function atMarker($){return _.enter("listItemMarker"),_.consume($),_.exit("listItemMarker"),te.containerState.marker=te.containerState.marker||$,_.check(An,te.interrupt?ee:onBlank,_.attempt(Nn,endOfPrefix,otherPrefix))}function onBlank(_){return te.containerState.initialBlankLine=!0,re++,endOfPrefix(_)}function otherPrefix($){return markdownSpace($)?(_.enter("listItemPrefixWhitespace"),_.consume($),_.exit("listItemPrefixWhitespace"),endOfPrefix):ee($)}function endOfPrefix(ee){return te.containerState.size=re+te.sliceSerialize(_.exit("listItemPrefix"),!0).length,$(ee)}}},Nn={partial:!0,tokenize:function tokenizeListItemPrefixWhitespace(_,$,ee){const te=this;return factorySpace(_,(function afterPrefix(_){const ne=te.events[te.events.length-1];return!markdownSpace(_)&&ne&&"listItemPrefixWhitespace"===ne[1].type?$(_):ee(_)}),"listItemPrefixWhitespace",te.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},On={partial:!0,tokenize:function tokenizeIndent(_,$,ee){const te=this;return factorySpace(_,(function afterPrefix(_){const ne=te.events[te.events.length-1];return ne&&"listItemIndent"===ne[1].type&&ne[2].sliceSerialize(ne[1],!0).length===te.containerState.size?$(_):ee(_)}),"listItemIndent",te.containerState.size+1)}};const Mn={continuation:{tokenize:function tokenizeBlockQuoteContinuation(_,$,ee){const te=this;return function contStart($){if(markdownSpace($))return factorySpace(_,contBefore,"linePrefix",te.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($);return contBefore($)};function contBefore(te){return _.attempt(Mn,$,ee)(te)}}},exit:function exit(_){_.exit("blockQuote")},name:"blockQuote",tokenize:function tokenizeBlockQuoteStart(_,$,ee){const te=this;return function start($){if(62===$){const ee=te.containerState;return ee.open||(_.enter("blockQuote",{_container:!0}),ee.open=!0),_.enter("blockQuotePrefix"),_.enter("blockQuoteMarker"),_.consume($),_.exit("blockQuoteMarker"),after}return ee($)};function after(ee){return markdownSpace(ee)?(_.enter("blockQuotePrefixWhitespace"),_.consume(ee),_.exit("blockQuotePrefixWhitespace"),_.exit("blockQuotePrefix"),$):(_.exit("blockQuotePrefix"),$(ee))}}};function factoryDestination(_,$,ee,te,ne,re,ie,ae,oe){const se=oe||Number.POSITIVE_INFINITY;let le=0;return function start($){if(60===$)return _.enter(te),_.enter(ne),_.enter(re),_.consume($),_.exit(re),enclosedBefore;if(null===$||32===$||41===$||asciiControl($))return ee($);return _.enter(te),_.enter(ie),_.enter(ae),_.enter("chunkString",{contentType:"string"}),raw($)};function enclosedBefore(ee){return 62===ee?(_.enter(re),_.consume(ee),_.exit(re),_.exit(ne),_.exit(te),$):(_.enter(ae),_.enter("chunkString",{contentType:"string"}),enclosed(ee))}function enclosed($){return 62===$?(_.exit("chunkString"),_.exit(ae),enclosedBefore($)):null===$||60===$||markdownLineEnding($)?ee($):(_.consume($),92===$?enclosedEscape:enclosed)}function enclosedEscape($){return 60===$||62===$||92===$?(_.consume($),enclosed):enclosed($)}function raw(ne){return le||null!==ne&&41!==ne&&!markdownLineEndingOrSpace(ne)?le<se&&40===ne?(_.consume(ne),le++,raw):41===ne?(_.consume(ne),le--,raw):null===ne||32===ne||40===ne||asciiControl(ne)?ee(ne):(_.consume(ne),92===ne?rawEscape:raw):(_.exit("chunkString"),_.exit(ae),_.exit(ie),_.exit(te),$(ne))}function rawEscape($){return 40===$||41===$||92===$?(_.consume($),raw):raw($)}}function factoryLabel(_,$,ee,te,ne,re){const ie=this;let ae,oe=0;return function start($){return _.enter(te),_.enter(ne),_.consume($),_.exit(ne),_.enter(re),atBreak};function atBreak(se){return oe>999||null===se||91===se||93===se&&!ae||94===se&&!oe&&"_hiddenFootnoteSupport"in ie.parser.constructs?ee(se):93===se?(_.exit(re),_.enter(ne),_.consume(se),_.exit(ne),_.exit(te),$):markdownLineEnding(se)?(_.enter("lineEnding"),_.consume(se),_.exit("lineEnding"),atBreak):(_.enter("chunkString",{contentType:"string"}),labelInside(se))}function labelInside($){return null===$||91===$||93===$||markdownLineEnding($)||oe++>999?(_.exit("chunkString"),atBreak($)):(_.consume($),ae||(ae=!markdownSpace($)),92===$?labelEscape:labelInside)}function labelEscape($){return 91===$||92===$||93===$?(_.consume($),oe++,labelInside):labelInside($)}}function factoryTitle(_,$,ee,te,ne,re){let ie;return function start($){if(34===$||39===$||40===$)return _.enter(te),_.enter(ne),_.consume($),_.exit(ne),ie=40===$?41:$,begin;return ee($)};function begin(ee){return ee===ie?(_.enter(ne),_.consume(ee),_.exit(ne),_.exit(te),$):(_.enter(re),atBreak(ee))}function atBreak($){return $===ie?(_.exit(re),begin(ie)):null===$?ee($):markdownLineEnding($)?(_.enter("lineEnding"),_.consume($),_.exit("lineEnding"),factorySpace(_,atBreak,"linePrefix")):(_.enter("chunkString",{contentType:"string"}),inside($))}function inside($){return $===ie||null===$||markdownLineEnding($)?(_.exit("chunkString"),atBreak($)):(_.consume($),92===$?escape:inside)}function escape($){return $===ie||92===$?(_.consume($),inside):inside($)}}function factoryWhitespace(_,$){let ee;return function start(te){if(markdownLineEnding(te))return _.enter("lineEnding"),_.consume(te),_.exit("lineEnding"),ee=!0,start;if(markdownSpace(te))return factorySpace(_,start,ee?"linePrefix":"lineSuffix")(te);return $(te)}}function normalizeIdentifier(_){return _.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fn={name:"definition",tokenize:function tokenizeDefinition(_,$,ee){const te=this;let ne;return function start($){return _.enter("definition"),function before($){return factoryLabel.call(te,_,labelAfter,ee,"definitionLabel","definitionLabelMarker","definitionLabelString")($)}($)};function labelAfter($){return ne=normalizeIdentifier(te.sliceSerialize(te.events[te.events.length-1][1]).slice(1,-1)),58===$?(_.enter("definitionMarker"),_.consume($),_.exit("definitionMarker"),markerAfter):ee($)}function markerAfter($){return markdownLineEndingOrSpace($)?factoryWhitespace(_,destinationBefore)($):destinationBefore($)}function destinationBefore($){return factoryDestination(_,destinationAfter,ee,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")($)}function destinationAfter($){return _.attempt(jn,after,after)($)}function after($){return markdownSpace($)?factorySpace(_,afterWhitespace,"whitespace")($):afterWhitespace($)}function afterWhitespace(re){return null===re||markdownLineEnding(re)?(_.exit("definition"),te.parser.defined.push(ne),$(re)):ee(re)}}},jn={partial:!0,tokenize:function tokenizeTitleBefore(_,$,ee){return function titleBefore($){return markdownLineEndingOrSpace($)?factoryWhitespace(_,beforeMarker)($):ee($)};function beforeMarker($){return factoryTitle(_,titleAfter,ee,"definitionTitle","definitionTitleMarker","definitionTitleString")($)}function titleAfter($){return markdownSpace($)?factorySpace(_,titleAfterOptionalWhitespace,"whitespace")($):titleAfterOptionalWhitespace($)}function titleAfterOptionalWhitespace(_){return null===_||markdownLineEnding(_)?$(_):ee(_)}}};const Ln={name:"codeIndented",tokenize:function tokenizeCodeIndented(_,$,ee){const te=this;return function start($){return _.enter("codeIndented"),factorySpace(_,afterPrefix,"linePrefix",5)($)};function afterPrefix(_){const $=te.events[te.events.length-1];return $&&"linePrefix"===$[1].type&&$[2].sliceSerialize($[1],!0).length>=4?atBreak(_):ee(_)}function atBreak($){return null===$?after($):markdownLineEnding($)?_.attempt(Un,atBreak,after)($):(_.enter("codeFlowValue"),inside($))}function inside($){return null===$||markdownLineEnding($)?(_.exit("codeFlowValue"),atBreak($)):(_.consume($),inside)}function after(ee){return _.exit("codeIndented"),$(ee)}}},Un={partial:!0,tokenize:function tokenizeFurtherStart(_,$,ee){const te=this;return furtherStart;function furtherStart($){return te.parser.lazy[te.now().line]?ee($):markdownLineEnding($)?(_.enter("lineEnding"),_.consume($),_.exit("lineEnding"),furtherStart):factorySpace(_,afterPrefix,"linePrefix",5)($)}function afterPrefix(_){const ne=te.events[te.events.length-1];return ne&&"linePrefix"===ne[1].type&&ne[2].sliceSerialize(ne[1],!0).length>=4?$(_):markdownLineEnding(_)?furtherStart(_):ee(_)}}};const Bn={name:"headingAtx",resolve:function resolveHeadingAtx(_,$){let ee,te,ne=_.length-2,re=3;"whitespace"===_[re][1].type&&(re+=2);ne-2>re&&"whitespace"===_[ne][1].type&&(ne-=2);"atxHeadingSequence"===_[ne][1].type&&(re===ne-1||ne-4>re&&"whitespace"===_[ne-2][1].type)&&(ne-=re+1===ne?2:4);ne>re&&(ee={type:"atxHeadingText",start:_[re][1].start,end:_[ne][1].end},te={type:"chunkText",start:_[re][1].start,end:_[ne][1].end,contentType:"text"},splice(_,re,ne-re+1,[["enter",ee,$],["enter",te,$],["exit",te,$],["exit",ee,$]]));return _},tokenize:function tokenizeHeadingAtx(_,$,ee){let te=0;return function start($){return _.enter("atxHeading"),function before($){return _.enter("atxHeadingSequence"),sequenceOpen($)}($)};function sequenceOpen($){return 35===$&&te++<6?(_.consume($),sequenceOpen):null===$||markdownLineEndingOrSpace($)?(_.exit("atxHeadingSequence"),atBreak($)):ee($)}function atBreak(ee){return 35===ee?(_.enter("atxHeadingSequence"),sequenceFurther(ee)):null===ee||markdownLineEnding(ee)?(_.exit("atxHeading"),$(ee)):markdownSpace(ee)?factorySpace(_,atBreak,"whitespace")(ee):(_.enter("atxHeadingText"),data(ee))}function sequenceFurther($){return 35===$?(_.consume($),sequenceFurther):(_.exit("atxHeadingSequence"),atBreak($))}function data($){return null===$||35===$||markdownLineEndingOrSpace($)?(_.exit("atxHeadingText"),atBreak($)):(_.consume($),data)}}};const zn={name:"setextUnderline",resolveTo:function resolveToSetextUnderline(_,$){let ee,te,ne,re=_.length;for(;re--;)if("enter"===_[re][0]){if("content"===_[re][1].type){ee=re;break}"paragraph"===_[re][1].type&&(te=re)}else"content"===_[re][1].type&&_.splice(re,1),ne||"definition"!==_[re][1].type||(ne=re);const ie={type:"setextHeading",start:{..._[ee][1].start},end:{..._[_.length-1][1].end}};_[te][1].type="setextHeadingText",ne?(_.splice(te,0,["enter",ie,$]),_.splice(ne+1,0,["exit",_[ee][1],$]),_[ee][1].end={..._[ne][1].end}):_[ee][1]=ie;return _.push(["exit",ie,$]),_},tokenize:function tokenizeSetextUnderline(_,$,ee){const te=this;let ne;return function start($){let re,ie=te.events.length;for(;ie--;)if("lineEnding"!==te.events[ie][1].type&&"linePrefix"!==te.events[ie][1].type&&"content"!==te.events[ie][1].type){re="paragraph"===te.events[ie][1].type;break}if(!te.parser.lazy[te.now().line]&&(te.interrupt||re))return _.enter("setextHeadingLine"),ne=$,function before($){return _.enter("setextHeadingLineSequence"),inside($)}($);return ee($)};function inside($){return $===ne?(_.consume($),inside):(_.exit("setextHeadingLineSequence"),markdownSpace($)?factorySpace(_,after,"lineSuffix")($):after($))}function after(te){return null===te||markdownLineEnding(te)?(_.exit("setextHeadingLine"),$(te)):ee(te)}}};const qn=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wn=["pre","script","style","textarea"],Hn={concrete:!0,name:"htmlFlow",resolveTo:function resolveToHtmlFlow(_){let $=_.length;for(;$--&&("enter"!==_[$][0]||"htmlFlow"!==_[$][1].type););$>1&&"linePrefix"===_[$-2][1].type&&(_[$][1].start=_[$-2][1].start,_[$+1][1].start=_[$-2][1].start,_.splice($-2,2));return _},tokenize:function tokenizeHtmlFlow(_,$,ee){const te=this;let ne,re,ie,ae,oe;return function start($){return function before($){return _.enter("htmlFlow"),_.enter("htmlFlowData"),_.consume($),open}($)};function open(ae){return 33===ae?(_.consume(ae),declarationOpen):47===ae?(_.consume(ae),re=!0,tagCloseStart):63===ae?(_.consume(ae),ne=3,te.interrupt?$:continuationDeclarationInside):pn(ae)?(_.consume(ae),ie=String.fromCharCode(ae),tagName):ee(ae)}function declarationOpen(re){return 45===re?(_.consume(re),ne=2,commentOpenInside):91===re?(_.consume(re),ne=5,ae=0,cdataOpenInside):pn(re)?(_.consume(re),ne=4,te.interrupt?$:continuationDeclarationInside):ee(re)}function commentOpenInside(ne){return 45===ne?(_.consume(ne),te.interrupt?$:continuationDeclarationInside):ee(ne)}function cdataOpenInside(ne){const re="CDATA[";return ne===re.charCodeAt(ae++)?(_.consume(ne),6===ae?te.interrupt?$:continuation:cdataOpenInside):ee(ne)}function tagCloseStart($){return pn($)?(_.consume($),ie=String.fromCharCode($),tagName):ee($)}function tagName(ae){if(null===ae||47===ae||62===ae||markdownLineEndingOrSpace(ae)){const oe=47===ae,se=ie.toLowerCase();return oe||re||!Wn.includes(se)?qn.includes(ie.toLowerCase())?(ne=6,oe?(_.consume(ae),basicSelfClosing):te.interrupt?$(ae):continuation(ae)):(ne=7,te.interrupt&&!te.parser.lazy[te.now().line]?ee(ae):re?completeClosingTagAfter(ae):completeAttributeNameBefore(ae)):(ne=1,te.interrupt?$(ae):continuation(ae))}return 45===ae||mn(ae)?(_.consume(ae),ie+=String.fromCharCode(ae),tagName):ee(ae)}function basicSelfClosing(ne){return 62===ne?(_.consume(ne),te.interrupt?$:continuation):ee(ne)}function completeClosingTagAfter($){return markdownSpace($)?(_.consume($),completeClosingTagAfter):completeEnd($)}function completeAttributeNameBefore($){return 47===$?(_.consume($),completeEnd):58===$||95===$||pn($)?(_.consume($),completeAttributeName):markdownSpace($)?(_.consume($),completeAttributeNameBefore):completeEnd($)}function completeAttributeName($){return 45===$||46===$||58===$||95===$||mn($)?(_.consume($),completeAttributeName):completeAttributeNameAfter($)}function completeAttributeNameAfter($){return 61===$?(_.consume($),completeAttributeValueBefore):markdownSpace($)?(_.consume($),completeAttributeNameAfter):completeAttributeNameBefore($)}function completeAttributeValueBefore($){return null===$||60===$||61===$||62===$||96===$?ee($):34===$||39===$?(_.consume($),oe=$,completeAttributeValueQuoted):markdownSpace($)?(_.consume($),completeAttributeValueBefore):completeAttributeValueUnquoted($)}function completeAttributeValueQuoted($){return $===oe?(_.consume($),oe=null,completeAttributeValueQuotedAfter):null===$||markdownLineEnding($)?ee($):(_.consume($),completeAttributeValueQuoted)}function completeAttributeValueUnquoted($){return null===$||34===$||39===$||47===$||60===$||61===$||62===$||96===$||markdownLineEndingOrSpace($)?completeAttributeNameAfter($):(_.consume($),completeAttributeValueUnquoted)}function completeAttributeValueQuotedAfter(_){return 47===_||62===_||markdownSpace(_)?completeAttributeNameBefore(_):ee(_)}function completeEnd($){return 62===$?(_.consume($),completeAfter):ee($)}function completeAfter($){return null===$||markdownLineEnding($)?continuation($):markdownSpace($)?(_.consume($),completeAfter):ee($)}function continuation($){return 45===$&&2===ne?(_.consume($),continuationCommentInside):60===$&&1===ne?(_.consume($),continuationRawTagOpen):62===$&&4===ne?(_.consume($),continuationClose):63===$&&3===ne?(_.consume($),continuationDeclarationInside):93===$&&5===ne?(_.consume($),continuationCdataInside):!markdownLineEnding($)||6!==ne&&7!==ne?null===$||markdownLineEnding($)?(_.exit("htmlFlowData"),continuationStart($)):(_.consume($),continuation):(_.exit("htmlFlowData"),_.check($n,continuationAfter,continuationStart)($))}function continuationStart($){return _.check(Kn,continuationStartNonLazy,continuationAfter)($)}function continuationStartNonLazy($){return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),continuationBefore}function continuationBefore($){return null===$||markdownLineEnding($)?continuationStart($):(_.enter("htmlFlowData"),continuation($))}function continuationCommentInside($){return 45===$?(_.consume($),continuationDeclarationInside):continuation($)}function continuationRawTagOpen($){return 47===$?(_.consume($),ie="",continuationRawEndTag):continuation($)}function continuationRawEndTag($){if(62===$){const ee=ie.toLowerCase();return Wn.includes(ee)?(_.consume($),continuationClose):continuation($)}return pn($)&&ie.length<8?(_.consume($),ie+=String.fromCharCode($),continuationRawEndTag):continuation($)}function continuationCdataInside($){return 93===$?(_.consume($),continuationDeclarationInside):continuation($)}function continuationDeclarationInside($){return 62===$?(_.consume($),continuationClose):45===$&&2===ne?(_.consume($),continuationDeclarationInside):continuation($)}function continuationClose($){return null===$||markdownLineEnding($)?(_.exit("htmlFlowData"),continuationAfter($)):(_.consume($),continuationClose)}function continuationAfter(ee){return _.exit("htmlFlow"),$(ee)}}},$n={partial:!0,tokenize:function tokenizeBlankLineBefore(_,$,ee){return function start(te){return _.enter("lineEnding"),_.consume(te),_.exit("lineEnding"),_.attempt(An,$,ee)}}},Kn={partial:!0,tokenize:function tokenizeNonLazyContinuationStart(_,$,ee){const te=this;return function start($){if(markdownLineEnding($))return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),after;return ee($)};function after(_){return te.parser.lazy[te.now().line]?ee(_):$(_)}}};const Gn={partial:!0,tokenize:function tokenizeNonLazyContinuation(_,$,ee){const te=this;return function start($){if(null===$)return ee($);return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),lineStart};function lineStart(_){return te.parser.lazy[te.now().line]?ee(_):$(_)}}},Yn={concrete:!0,name:"codeFenced",tokenize:function tokenizeCodeFenced(_,$,ee){const te=this,ne={partial:!0,tokenize:function tokenizeCloseStart(_,$,ee){let ne=0;return startBefore;function startBefore($){return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),start}function start($){return _.enter("codeFencedFence"),markdownSpace($)?factorySpace(_,beforeSequenceClose,"linePrefix",te.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):beforeSequenceClose($)}function beforeSequenceClose($){return $===re?(_.enter("codeFencedFenceSequence"),sequenceClose($)):ee($)}function sequenceClose($){return $===re?(ne++,_.consume($),sequenceClose):ne>=ae?(_.exit("codeFencedFenceSequence"),markdownSpace($)?factorySpace(_,sequenceCloseAfter,"whitespace")($):sequenceCloseAfter($)):ee($)}function sequenceCloseAfter(te){return null===te||markdownLineEnding(te)?(_.exit("codeFencedFence"),$(te)):ee(te)}}};let re,ie=0,ae=0;return function start($){return function beforeSequenceOpen($){const ee=te.events[te.events.length-1];return ie=ee&&"linePrefix"===ee[1].type?ee[2].sliceSerialize(ee[1],!0).length:0,re=$,_.enter("codeFenced"),_.enter("codeFencedFence"),_.enter("codeFencedFenceSequence"),sequenceOpen($)}($)};function sequenceOpen($){return $===re?(ae++,_.consume($),sequenceOpen):ae<3?ee($):(_.exit("codeFencedFenceSequence"),markdownSpace($)?factorySpace(_,infoBefore,"whitespace")($):infoBefore($))}function infoBefore(ee){return null===ee||markdownLineEnding(ee)?(_.exit("codeFencedFence"),te.interrupt?$(ee):_.check(Gn,atNonLazyBreak,after)(ee)):(_.enter("codeFencedFenceInfo"),_.enter("chunkString",{contentType:"string"}),info(ee))}function info($){return null===$||markdownLineEnding($)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),infoBefore($)):markdownSpace($)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),factorySpace(_,metaBefore,"whitespace")($)):96===$&&$===re?ee($):(_.consume($),info)}function metaBefore($){return null===$||markdownLineEnding($)?infoBefore($):(_.enter("codeFencedFenceMeta"),_.enter("chunkString",{contentType:"string"}),meta($))}function meta($){return null===$||markdownLineEnding($)?(_.exit("chunkString"),_.exit("codeFencedFenceMeta"),infoBefore($)):96===$&&$===re?ee($):(_.consume($),meta)}function atNonLazyBreak($){return _.attempt(ne,after,contentBefore)($)}function contentBefore($){return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),contentStart}function contentStart($){return ie>0&&markdownSpace($)?factorySpace(_,beforeContentChunk,"linePrefix",ie+1)($):beforeContentChunk($)}function beforeContentChunk($){return null===$||markdownLineEnding($)?_.check(Gn,atNonLazyBreak,after)($):(_.enter("codeFlowValue"),contentChunk($))}function contentChunk($){return null===$||markdownLineEnding($)?(_.exit("codeFlowValue"),beforeContentChunk($)):(_.consume($),contentChunk)}function after(ee){return _.exit("codeFenced"),$(ee)}}};const Qn=document.createElement("i");function decodeNamedCharacterReference(_){const $="&"+_+";";Qn.innerHTML=$;const ee=Qn.textContent;return(59!==ee.charCodeAt(ee.length-1)||"semi"===_)&&(ee!==$&&ee)}const Xn={name:"characterReference",tokenize:function tokenizeCharacterReference(_,$,ee){const te=this;let ne,re,ie=0;return function start($){return _.enter("characterReference"),_.enter("characterReferenceMarker"),_.consume($),_.exit("characterReferenceMarker"),open};function open($){return 35===$?(_.enter("characterReferenceMarkerNumeric"),_.consume($),_.exit("characterReferenceMarkerNumeric"),numeric):(_.enter("characterReferenceValue"),ne=31,re=mn,value($))}function numeric($){return 88===$||120===$?(_.enter("characterReferenceMarkerHexadecimal"),_.consume($),_.exit("characterReferenceMarkerHexadecimal"),_.enter("characterReferenceValue"),ne=6,re=yn,value):(_.enter("characterReferenceValue"),ne=7,re=_n,value($))}function value(ae){if(59===ae&&ie){const ne=_.exit("characterReferenceValue");return re!==mn||decodeNamedCharacterReference(te.sliceSerialize(ne))?(_.enter("characterReferenceMarker"),_.consume(ae),_.exit("characterReferenceMarker"),_.exit("characterReference"),$):ee(ae)}return re(ae)&&ie++<ne?(_.consume(ae),value):ee(ae)}}};const Jn={name:"characterEscape",tokenize:function tokenizeCharacterEscape(_,$,ee){return function start($){return _.enter("characterEscape"),_.enter("escapeMarker"),_.consume($),_.exit("escapeMarker"),inside};function inside(te){return vn(te)?(_.enter("characterEscapeValue"),_.consume(te),_.exit("characterEscapeValue"),_.exit("characterEscape"),$):ee(te)}}};const Zn={name:"lineEnding",tokenize:function tokenizeLineEnding(_,$){return function start(ee){return _.enter("lineEnding"),_.consume(ee),_.exit("lineEnding"),factorySpace(_,$,"linePrefix")}}};function resolveAll(_,$,ee){const te=[];let ne=-1;for(;++ne<_.length;){const re=_[ne].resolveAll;re&&!te.includes(re)&&($=re($,ee),te.push(re))}return $}const er={name:"labelEnd",resolveAll:function resolveAllLabelEnd(_){let $=-1;const ee=[];for(;++$<_.length;){const te=_[$][1];if(ee.push(_[$]),"labelImage"===te.type||"labelLink"===te.type||"labelEnd"===te.type){const _="labelImage"===te.type?4:2;te.type="data",$+=_}}_.length!==ee.length&&splice(_,0,_.length,ee);return _},resolveTo:function resolveToLabelEnd(_,$){let ee,te,ne,re,ie=_.length,ae=0;for(;ie--;)if(ee=_[ie][1],te){if("link"===ee.type||"labelLink"===ee.type&&ee._inactive)break;"enter"===_[ie][0]&&"labelLink"===ee.type&&(ee._inactive=!0)}else if(ne){if("enter"===_[ie][0]&&("labelImage"===ee.type||"labelLink"===ee.type)&&!ee._balanced&&(te=ie,"labelLink"!==ee.type)){ae=2;break}}else"labelEnd"===ee.type&&(ne=ie);const oe={type:"labelLink"===_[te][1].type?"link":"image",start:{..._[te][1].start},end:{..._[_.length-1][1].end}},se={type:"label",start:{..._[te][1].start},end:{..._[ne][1].end}},le={type:"labelText",start:{..._[te+ae+2][1].end},end:{..._[ne-2][1].start}};return re=[["enter",oe,$],["enter",se,$]],re=push(re,_.slice(te+1,te+ae+3)),re=push(re,[["enter",le,$]]),re=push(re,resolveAll($.parser.constructs.insideSpan.null,_.slice(te+ae+4,ne-3),$)),re=push(re,[["exit",le,$],_[ne-2],_[ne-1],["exit",se,$]]),re=push(re,_.slice(ne+1)),re=push(re,[["exit",oe,$]]),splice(_,te,_.length,re),_},tokenize:function tokenizeLabelEnd(_,$,ee){const te=this;let ne,re,ie=te.events.length;for(;ie--;)if(("labelImage"===te.events[ie][1].type||"labelLink"===te.events[ie][1].type)&&!te.events[ie][1]._balanced){ne=te.events[ie][1];break}return function start($){if(!ne)return ee($);if(ne._inactive)return labelEndNok($);return re=te.parser.defined.includes(normalizeIdentifier(te.sliceSerialize({start:ne.end,end:te.now()}))),_.enter("labelEnd"),_.enter("labelMarker"),_.consume($),_.exit("labelMarker"),_.exit("labelEnd"),after};function after($){return 40===$?_.attempt(tr,labelEndOk,re?labelEndOk:labelEndNok)($):91===$?_.attempt(nr,labelEndOk,re?referenceNotFull:labelEndNok)($):re?labelEndOk($):labelEndNok($)}function referenceNotFull($){return _.attempt(rr,labelEndOk,labelEndNok)($)}function labelEndOk(_){return $(_)}function labelEndNok(_){return ne._balanced=!0,ee(_)}}},tr={tokenize:function tokenizeResource(_,$,ee){return function resourceStart($){return _.enter("resource"),_.enter("resourceMarker"),_.consume($),_.exit("resourceMarker"),resourceBefore};function resourceBefore($){return markdownLineEndingOrSpace($)?factoryWhitespace(_,resourceOpen)($):resourceOpen($)}function resourceOpen($){return 41===$?resourceEnd($):factoryDestination(_,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)($)}function resourceDestinationAfter($){return markdownLineEndingOrSpace($)?factoryWhitespace(_,resourceBetween)($):resourceEnd($)}function resourceDestinationMissing(_){return ee(_)}function resourceBetween($){return 34===$||39===$||40===$?factoryTitle(_,resourceTitleAfter,ee,"resourceTitle","resourceTitleMarker","resourceTitleString")($):resourceEnd($)}function resourceTitleAfter($){return markdownLineEndingOrSpace($)?factoryWhitespace(_,resourceEnd)($):resourceEnd($)}function resourceEnd(te){return 41===te?(_.enter("resourceMarker"),_.consume(te),_.exit("resourceMarker"),_.exit("resource"),$):ee(te)}}},nr={tokenize:function tokenizeReferenceFull(_,$,ee){const te=this;return function referenceFull($){return factoryLabel.call(te,_,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")($)};function referenceFullAfter(_){return te.parser.defined.includes(normalizeIdentifier(te.sliceSerialize(te.events[te.events.length-1][1]).slice(1,-1)))?$(_):ee(_)}function referenceFullMissing(_){return ee(_)}}},rr={tokenize:function tokenizeReferenceCollapsed(_,$,ee){return function referenceCollapsedStart($){return _.enter("reference"),_.enter("referenceMarker"),_.consume($),_.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(te){return 93===te?(_.enter("referenceMarker"),_.consume(te),_.exit("referenceMarker"),_.exit("reference"),$):ee(te)}}};const ir={name:"labelStartImage",resolveAll:er.resolveAll,tokenize:function tokenizeLabelStartImage(_,$,ee){const te=this;return function start($){return _.enter("labelImage"),_.enter("labelImageMarker"),_.consume($),_.exit("labelImageMarker"),open};function open($){return 91===$?(_.enter("labelMarker"),_.consume($),_.exit("labelMarker"),_.exit("labelImage"),after):ee($)}function after(_){return 94===_&&"_hiddenFootnoteSupport"in te.parser.constructs?ee(_):$(_)}}};function classifyCharacter(_){return null===_||markdownLineEndingOrSpace(_)||wn(_)?1:bn(_)?2:void 0}const ar={name:"attention",resolveAll:function resolveAllAttention(_,$){let ee,te,ne,re,ie,ae,oe,se,le=-1;for(;++le<_.length;)if("enter"===_[le][0]&&"attentionSequence"===_[le][1].type&&_[le][1]._close)for(ee=le;ee--;)if("exit"===_[ee][0]&&"attentionSequence"===_[ee][1].type&&_[ee][1]._open&&$.sliceSerialize(_[ee][1]).charCodeAt(0)===$.sliceSerialize(_[le][1]).charCodeAt(0)){if((_[ee][1]._close||_[le][1]._open)&&(_[le][1].end.offset-_[le][1].start.offset)%3&&!((_[ee][1].end.offset-_[ee][1].start.offset+_[le][1].end.offset-_[le][1].start.offset)%3))continue;ae=_[ee][1].end.offset-_[ee][1].start.offset>1&&_[le][1].end.offset-_[le][1].start.offset>1?2:1;const de={..._[ee][1].end},he={..._[le][1].start};movePoint(de,-ae),movePoint(he,ae),re={type:ae>1?"strongSequence":"emphasisSequence",start:de,end:{..._[ee][1].end}},ie={type:ae>1?"strongSequence":"emphasisSequence",start:{..._[le][1].start},end:he},ne={type:ae>1?"strongText":"emphasisText",start:{..._[ee][1].end},end:{..._[le][1].start}},te={type:ae>1?"strong":"emphasis",start:{...re.start},end:{...ie.end}},_[ee][1].end={...re.start},_[le][1].start={...ie.end},oe=[],_[ee][1].end.offset-_[ee][1].start.offset&&(oe=push(oe,[["enter",_[ee][1],$],["exit",_[ee][1],$]])),oe=push(oe,[["enter",te,$],["enter",re,$],["exit",re,$],["enter",ne,$]]),oe=push(oe,resolveAll($.parser.constructs.insideSpan.null,_.slice(ee+1,le),$)),oe=push(oe,[["exit",ne,$],["enter",ie,$],["exit",ie,$],["exit",te,$]]),_[le][1].end.offset-_[le][1].start.offset?(se=2,oe=push(oe,[["enter",_[le][1],$],["exit",_[le][1],$]])):se=0,splice(_,ee-1,le-ee+3,oe),le=ee+oe.length-se-2;break}le=-1;for(;++le<_.length;)"attentionSequence"===_[le][1].type&&(_[le][1].type="data");return _},tokenize:function tokenizeAttention(_,$){const ee=this.parser.constructs.attentionMarkers.null,te=this.previous,ne=classifyCharacter(te);let re;return function start($){return re=$,_.enter("attentionSequence"),inside($)};function inside(ie){if(ie===re)return _.consume(ie),inside;const ae=_.exit("attentionSequence"),oe=classifyCharacter(ie),se=!oe||2===oe&&ne||ee.includes(ie),le=!ne||2===ne&&oe||ee.includes(te);return ae._open=Boolean(42===re?se:se&&(ne||!le)),ae._close=Boolean(42===re?le:le&&(oe||!se)),$(ie)}}};function movePoint(_,$){_.column+=$,_.offset+=$,_._bufferIndex+=$}const or={name:"autolink",tokenize:function tokenizeAutolink(_,$,ee){let te=0;return function start($){return _.enter("autolink"),_.enter("autolinkMarker"),_.consume($),_.exit("autolinkMarker"),_.enter("autolinkProtocol"),open};function open($){return pn($)?(_.consume($),schemeOrEmailAtext):64===$?ee($):emailAtext($)}function schemeOrEmailAtext(_){return 43===_||45===_||46===_||mn(_)?(te=1,schemeInsideOrEmailAtext(_)):emailAtext(_)}function schemeInsideOrEmailAtext($){return 58===$?(_.consume($),te=0,urlInside):(43===$||45===$||46===$||mn($))&&te++<32?(_.consume($),schemeInsideOrEmailAtext):(te=0,emailAtext($))}function urlInside(te){return 62===te?(_.exit("autolinkProtocol"),_.enter("autolinkMarker"),_.consume(te),_.exit("autolinkMarker"),_.exit("autolink"),$):null===te||32===te||60===te||asciiControl(te)?ee(te):(_.consume(te),urlInside)}function emailAtext($){return 64===$?(_.consume($),emailAtSignOrDot):gn($)?(_.consume($),emailAtext):ee($)}function emailAtSignOrDot(_){return mn(_)?emailLabel(_):ee(_)}function emailLabel(ee){return 46===ee?(_.consume(ee),te=0,emailAtSignOrDot):62===ee?(_.exit("autolinkProtocol").type="autolinkEmail",_.enter("autolinkMarker"),_.consume(ee),_.exit("autolinkMarker"),_.exit("autolink"),$):emailValue(ee)}function emailValue($){if((45===$||mn($))&&te++<63){const ee=45===$?emailValue:emailLabel;return _.consume($),ee}return ee($)}}};const sr={name:"htmlText",tokenize:function tokenizeHtmlText(_,$,ee){const te=this;let ne,re,ie;return function start($){return _.enter("htmlText"),_.enter("htmlTextData"),_.consume($),open};function open($){return 33===$?(_.consume($),declarationOpen):47===$?(_.consume($),tagCloseStart):63===$?(_.consume($),instruction):pn($)?(_.consume($),tagOpen):ee($)}function declarationOpen($){return 45===$?(_.consume($),commentOpenInside):91===$?(_.consume($),re=0,cdataOpenInside):pn($)?(_.consume($),declaration):ee($)}function commentOpenInside($){return 45===$?(_.consume($),commentEnd):ee($)}function comment($){return null===$?ee($):45===$?(_.consume($),commentClose):markdownLineEnding($)?(ie=comment,lineEndingBefore($)):(_.consume($),comment)}function commentClose($){return 45===$?(_.consume($),commentEnd):comment($)}function commentEnd(_){return 62===_?end(_):45===_?commentClose(_):comment(_)}function cdataOpenInside($){const te="CDATA[";return $===te.charCodeAt(re++)?(_.consume($),6===re?cdata:cdataOpenInside):ee($)}function cdata($){return null===$?ee($):93===$?(_.consume($),cdataClose):markdownLineEnding($)?(ie=cdata,lineEndingBefore($)):(_.consume($),cdata)}function cdataClose($){return 93===$?(_.consume($),cdataEnd):cdata($)}function cdataEnd($){return 62===$?end($):93===$?(_.consume($),cdataEnd):cdata($)}function declaration($){return null===$||62===$?end($):markdownLineEnding($)?(ie=declaration,lineEndingBefore($)):(_.consume($),declaration)}function instruction($){return null===$?ee($):63===$?(_.consume($),instructionClose):markdownLineEnding($)?(ie=instruction,lineEndingBefore($)):(_.consume($),instruction)}function instructionClose(_){return 62===_?end(_):instruction(_)}function tagCloseStart($){return pn($)?(_.consume($),tagClose):ee($)}function tagClose($){return 45===$||mn($)?(_.consume($),tagClose):tagCloseBetween($)}function tagCloseBetween($){return markdownLineEnding($)?(ie=tagCloseBetween,lineEndingBefore($)):markdownSpace($)?(_.consume($),tagCloseBetween):end($)}function tagOpen($){return 45===$||mn($)?(_.consume($),tagOpen):47===$||62===$||markdownLineEndingOrSpace($)?tagOpenBetween($):ee($)}function tagOpenBetween($){return 47===$?(_.consume($),end):58===$||95===$||pn($)?(_.consume($),tagOpenAttributeName):markdownLineEnding($)?(ie=tagOpenBetween,lineEndingBefore($)):markdownSpace($)?(_.consume($),tagOpenBetween):end($)}function tagOpenAttributeName($){return 45===$||46===$||58===$||95===$||mn($)?(_.consume($),tagOpenAttributeName):tagOpenAttributeNameAfter($)}function tagOpenAttributeNameAfter($){return 61===$?(_.consume($),tagOpenAttributeValueBefore):markdownLineEnding($)?(ie=tagOpenAttributeNameAfter,lineEndingBefore($)):markdownSpace($)?(_.consume($),tagOpenAttributeNameAfter):tagOpenBetween($)}function tagOpenAttributeValueBefore($){return null===$||60===$||61===$||62===$||96===$?ee($):34===$||39===$?(_.consume($),ne=$,tagOpenAttributeValueQuoted):markdownLineEnding($)?(ie=tagOpenAttributeValueBefore,lineEndingBefore($)):markdownSpace($)?(_.consume($),tagOpenAttributeValueBefore):(_.consume($),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted($){return $===ne?(_.consume($),ne=void 0,tagOpenAttributeValueQuotedAfter):null===$?ee($):markdownLineEnding($)?(ie=tagOpenAttributeValueQuoted,lineEndingBefore($)):(_.consume($),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted($){return null===$||34===$||39===$||60===$||61===$||96===$?ee($):47===$||62===$||markdownLineEndingOrSpace($)?tagOpenBetween($):(_.consume($),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(_){return 47===_||62===_||markdownLineEndingOrSpace(_)?tagOpenBetween(_):ee(_)}function end(te){return 62===te?(_.consume(te),_.exit("htmlTextData"),_.exit("htmlText"),$):ee(te)}function lineEndingBefore($){return _.exit("htmlTextData"),_.enter("lineEnding"),_.consume($),_.exit("lineEnding"),lineEndingAfter}function lineEndingAfter($){return markdownSpace($)?factorySpace(_,lineEndingAfterPrefix,"linePrefix",te.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):lineEndingAfterPrefix($)}function lineEndingAfterPrefix($){return _.enter("htmlTextData"),ie($)}}};const lr={name:"labelStartLink",resolveAll:er.resolveAll,tokenize:function tokenizeLabelStartLink(_,$,ee){const te=this;return function start($){return _.enter("labelLink"),_.enter("labelMarker"),_.consume($),_.exit("labelMarker"),_.exit("labelLink"),after};function after(_){return 94===_&&"_hiddenFootnoteSupport"in te.parser.constructs?ee(_):$(_)}}};const cr={name:"hardBreakEscape",tokenize:function tokenizeHardBreakEscape(_,$,ee){return function start($){return _.enter("hardBreakEscape"),_.consume($),after};function after(te){return markdownLineEnding(te)?(_.exit("hardBreakEscape"),$(te)):ee(te)}}};const ur={name:"codeText",previous:function previous(_){return 96!==_||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function resolveCodeText(_){let $,ee,te=_.length-4,ne=3;if(("lineEnding"===_[ne][1].type||"space"===_[ne][1].type)&&("lineEnding"===_[te][1].type||"space"===_[te][1].type))for($=ne;++$<te;)if("codeTextData"===_[$][1].type){_[ne][1].type="codeTextPadding",_[te][1].type="codeTextPadding",ne+=2,te-=2;break}$=ne-1,te++;for(;++$<=te;)void 0===ee?$!==te&&"lineEnding"!==_[$][1].type&&(ee=$):$!==te&&"lineEnding"!==_[$][1].type||(_[ee][1].type="codeTextData",$!==ee+2&&(_[ee][1].end=_[$-1][1].end,_.splice(ee+2,$-ee-2),te-=$-ee-2,$=ee+2),ee=void 0);return _},tokenize:function tokenizeCodeText(_,$,ee){let te,ne,re=0;return function start($){return _.enter("codeText"),_.enter("codeTextSequence"),sequenceOpen($)};function sequenceOpen($){return 96===$?(_.consume($),re++,sequenceOpen):(_.exit("codeTextSequence"),between($))}function between($){return null===$?ee($):32===$?(_.enter("space"),_.consume($),_.exit("space"),between):96===$?(ne=_.enter("codeTextSequence"),te=0,sequenceClose($)):markdownLineEnding($)?(_.enter("lineEnding"),_.consume($),_.exit("lineEnding"),between):(_.enter("codeTextData"),data($))}function data($){return null===$||32===$||96===$||markdownLineEnding($)?(_.exit("codeTextData"),between($)):(_.consume($),data)}function sequenceClose(ee){return 96===ee?(_.consume(ee),te++,sequenceClose):te===re?(_.exit("codeTextSequence"),_.exit("codeText"),$(ee)):(ne.type="codeTextData",data(ee))}}};const dr={42:Dn,43:Dn,45:Dn,48:Dn,49:Dn,50:Dn,51:Dn,52:Dn,53:Dn,54:Dn,55:Dn,56:Dn,57:Dn,62:Mn},hr={91:Fn},fr={[-2]:Ln,[-1]:Ln,32:Ln},pr={35:Bn,42:Vn,45:[zn,Vn],60:Hn,61:zn,95:Vn,96:Yn,126:Yn},mr={38:Xn,92:Jn},gr={[-5]:Zn,[-4]:Zn,[-3]:Zn,33:ir,38:Xn,42:ar,60:[or,sr],91:lr,92:[cr,Jn],93:er,95:ar,96:ur},_r={null:[ar,Sn]},yr={null:[42,95]},vr={null:[]};function createTokenizer(_,$,ee){let te={_bufferIndex:-1,_index:0,line:ee&&ee.line||1,column:ee&&ee.column||1,offset:ee&&ee.offset||0};const ne={},re=[];let ie=[],ae=[],oe=!0;const se={attempt:constructFactory((function onsuccessfulconstruct(_,$){addResult(_,$.from)})),check:constructFactory(onsuccessfulcheck),consume:function consume(_){markdownLineEnding(_)?(te.line++,te.column=1,te.offset+=-3===_?2:1,accountForPotentialSkip()):-1!==_&&(te.column++,te.offset++);te._bufferIndex<0?te._index++:(te._bufferIndex++,te._bufferIndex===ie[te._index].length&&(te._bufferIndex=-1,te._index++));le.previous=_,oe=!0},enter:function enter(_,$){const ee=$||{};return ee.type=_,ee.start=now(),le.events.push(["enter",ee,le]),ae.push(ee),ee},exit:function exit(_){const $=ae.pop();return $.end=now(),le.events.push(["exit",$,le]),$},interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},le={code:null,containerState:{},defineSkip:function defineSkip(_){ne[_.line]=_.column,accountForPotentialSkip()},events:[],now:now,parser:_,previous:null,sliceSerialize:function sliceSerialize(_,$){return function serializeChunks(_,$){let ee=-1;const te=[];let ne;for(;++ee<_.length;){const re=_[ee];let ie;if("string"===typeof re)ie=re;else switch(re){case-5:ie="\r";break;case-4:ie="\n";break;case-3:ie="\r\n";break;case-2:ie=$?" ":"\t";break;case-1:if(!$&&ne)continue;ie=" ";break;default:ie=String.fromCharCode(re)}ne=-2===re,te.push(ie)}return te.join("")}(sliceStream(_),$)},sliceStream:sliceStream,write:function write(_){if(ie=push(ie,_),main(),null!==ie[ie.length-1])return[];return addResult($,0),le.events=resolveAll(re,le.events,le),le.events}};let de,he=$.tokenize.call(le,se);return $.resolveAll&&re.push($),le;function sliceStream(_){return function sliceChunks(_,$){const ee=$.start._index,te=$.start._bufferIndex,ne=$.end._index,re=$.end._bufferIndex;let ie;if(ee===ne)ie=[_[ee].slice(te,re)];else{if(ie=_.slice(ee,ne),te>-1){const _=ie[0];"string"===typeof _?ie[0]=_.slice(te):ie.shift()}re>0&&ie.push(_[ne].slice(0,re))}return ie}(ie,_)}function now(){const{_bufferIndex:_,_index:$,line:ee,column:ne,offset:re}=te;return{_bufferIndex:_,_index:$,line:ee,column:ne,offset:re}}function main(){let _;for(;te._index<ie.length;){const $=ie[te._index];if("string"===typeof $)for(_=te._index,te._bufferIndex<0&&(te._bufferIndex=0);te._index===_&&te._bufferIndex<$.length;)go($.charCodeAt(te._bufferIndex));else go($)}}function go(_){oe=void 0,de=_,he=he(_)}function onsuccessfulcheck(_,$){$.restore()}function constructFactory(_,$){return function hook(ee,ne,re){let ie,de,he,fe;return Array.isArray(ee)?handleListOfConstructs(ee):"tokenize"in ee?handleListOfConstructs([ee]):function handleMapOfConstructs(_){return start;function start($){const ee=null!==$&&_[$],te=null!==$&&_.null;return handleListOfConstructs([...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(te)?te:te?[te]:[]])($)}}(ee);function handleListOfConstructs(_){return ie=_,de=0,0===_.length?re:handleConstruct(_[de])}function handleConstruct(_){return function start(ee){fe=function store(){const _=now(),$=le.previous,ee=le.currentConstruct,ne=le.events.length,re=Array.from(ae);return{from:ne,restore:restore};function restore(){te=_,le.previous=$,le.currentConstruct=ee,le.events.length=ne,ae=re,accountForPotentialSkip()}}(),he=_,_.partial||(le.currentConstruct=_);if(_.name&&le.parser.constructs.disable.null.includes(_.name))return nok(ee);return _.tokenize.call($?Object.assign(Object.create(le),$):le,se,ok,nok)(ee)}}function ok($){return oe=!0,_(he,fe),ne}function nok(_){return oe=!0,fe.restore(),++de<ie.length?handleConstruct(ie[de]):re}}}function addResult(_,$){_.resolveAll&&!re.includes(_)&&re.push(_),_.resolve&&splice(le.events,$,le.events.length-$,_.resolve(le.events.slice($),le)),_.resolveTo&&(le.events=_.resolveTo(le.events,le))}function accountForPotentialSkip(){te.line in ne&&te.column<2&&(te.column=ne[te.line],te.offset+=ne[te.line]-1)}}function parse_parse(_){const ee=function combineExtensions(_){const $={};let ee=-1;for(;++ee<_.length;)syntaxExtension($,_[ee]);return $}([$,...(_||{}).extensions||[]]),te={constructs:ee,content:create(xn),defined:[],document:create(En),flow:create(In),lazy:{},string:create(Rn),text:create(Cn)};return te;function create(_){return function creator($){return createTokenizer(te,_,$)}}}const br=/[\0\t\n\r]/g;function decodeNumericCharacterReference(_,$){const ee=Number.parseInt(_,$);return ee<9||11===ee||ee>13&&ee<32||ee>126&&ee<160||ee>55295&&ee<57344||ee>64975&&ee<65008||65535===(65535&ee)||65534===(65535&ee)||ee>1114111?"\ufffd":String.fromCodePoint(ee)}const wr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function micromark_util_decode_string_decode(_,$,ee){if($)return $;if(35===ee.charCodeAt(0)){const _=ee.charCodeAt(1),$=120===_||88===_;return decodeNumericCharacterReference(ee.slice($?2:1),$?16:10)}return decodeNamedCharacterReference(ee)||_}const xr={}.hasOwnProperty;function fromMarkdown(_,$,ee){return"string"!==typeof $&&(ee=$,$=void 0),function compiler(_){const $={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(blockQuote),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(codeText,buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(definition),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(emphasis),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(image),label:buffer,link:opener(link),listItem:opener(listItem),listItemValue:onenterlistitemvalue,listOrdered:opener(list,onenterlistordered),listUnordered:opener(list),paragraph:opener(paragraph),reference:onenterreference,referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(strong),thematicBreak:opener(thematicBreak)},exit:{atxHeading:closer(),atxHeadingSequence:onexitatxheadingsequence,autolink:closer(),autolinkEmail:onexitautolinkemail,autolinkProtocol:onexitautolinkprotocol,blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:onexitcharacterreferencevalue,characterReference:onexitcharacterreference,codeFenced:closer(onexitcodefenced),codeFencedFence:onexitcodefencedfence,codeFencedFenceInfo:onexitcodefencedfenceinfo,codeFencedFenceMeta:onexitcodefencedfencemeta,codeFlowValue:onexitdata,codeIndented:closer(onexitcodeindented),codeText:closer(onexitcodetext),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:onexitdefinitiondestinationstring,definitionLabelString:onexitdefinitionlabelstring,definitionTitleString:onexitdefinitiontitlestring,emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(onexithtmlflow),htmlFlowData:onexitdata,htmlText:closer(onexithtmltext),htmlTextData:onexitdata,image:closer(onexitimage),label:onexitlabel,labelText:onexitlabeltext,lineEnding:onexitlineending,link:closer(onexitlink),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:onexitreferencestring,resourceDestinationString:onexitresourcedestinationstring,resourceTitleString:onexitresourcetitlestring,resource:onexitresource,setextHeading:closer(onexitsetextheading),setextHeadingLineSequence:onexitsetextheadinglinesequence,setextHeadingText:onexitsetextheadingtext,strong:closer(),thematicBreak:closer()}};configure($,(_||{}).mdastExtensions||[]);const ee={};return compile;function compile(_){let te={type:"root",children:[]};const ne={stack:[te],tokenStack:[],config:$,enter:enter,exit:exit,buffer:buffer,resume:resume,data:ee},re=[];let ie=-1;for(;++ie<_.length;)if("listOrdered"===_[ie][1].type||"listUnordered"===_[ie][1].type)if("enter"===_[ie][0])re.push(ie);else{ie=prepareList(_,re.pop(),ie)}for(ie=-1;++ie<_.length;){const ee=$[_[ie][0]];xr.call(ee,_[ie][1].type)&&ee[_[ie][1].type].call(Object.assign({sliceSerialize:_[ie][2].sliceSerialize},ne),_[ie][1])}if(ne.tokenStack.length>0){const _=ne.tokenStack[ne.tokenStack.length-1];(_[1]||defaultOnError).call(ne,void 0,_[0])}for(te.position={start:mdast_util_from_markdown_lib_point(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},ie=-1;++ie<$.transforms.length;)te=$.transforms[ie](te)||te;return te}function prepareList(_,$,ee){let te,ne,re,ie,ae=$-1,oe=-1,se=!1;for(;++ae<=ee;){const $=_[ae];switch($[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===$[0]?oe++:oe--,ie=void 0;break;case"lineEndingBlank":"enter"===$[0]&&(!te||ie||oe||re||(re=ae),ie=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ie=void 0}if(!oe&&"enter"===$[0]&&"listItemPrefix"===$[1].type||-1===oe&&"exit"===$[0]&&("listUnordered"===$[1].type||"listOrdered"===$[1].type)){if(te){let ie=ae;for(ne=void 0;ie--;){const $=_[ie];if("lineEnding"===$[1].type||"lineEndingBlank"===$[1].type){if("exit"===$[0])continue;ne&&(_[ne][1].type="lineEndingBlank",se=!0),$[1].type="lineEnding",ne=ie}else if("linePrefix"!==$[1].type&&"blockQuotePrefix"!==$[1].type&&"blockQuotePrefixWhitespace"!==$[1].type&&"blockQuoteMarker"!==$[1].type&&"listItemIndent"!==$[1].type)break}re&&(!ne||re<ne)&&(te._spread=!0),te.end=Object.assign({},ne?_[ne][1].start:$[1].end),_.splice(ne||ae,0,["exit",te,$[2]]),ae++,ee++}if("listItemPrefix"===$[1].type){const ne={type:"listItem",_spread:!1,start:Object.assign({},$[1].start),end:void 0};te=ne,_.splice(ae,0,["enter",ne,$[2]]),ae++,ee++,re=void 0,ie=!0}}}return _[$][1]._spread=se,ee}function opener(_,$){return open;function open(ee){enter.call(this,_(ee),ee),$&&$.call(this,ee)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(_,$,ee){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([$,ee||void 0]),_.position={start:mdast_util_from_markdown_lib_point($.start),end:void 0}}function closer(_){return close;function close($){_&&_.call(this,$),exit.call(this,$)}}function exit(_,$){const ee=this.stack.pop(),te=this.tokenStack.pop();if(!te)throw new Error("Cannot close `"+_.type+"` ("+stringifyPosition({start:_.start,end:_.end})+"): it\u2019s not open");if(te[0].type!==_.type)if($)$.call(this,_,te[0]);else{(te[1]||defaultOnError).call(this,_,te[0])}ee.position.end=mdast_util_from_markdown_lib_point(_.end)}function resume(){return function lib_toString(_,$){const ee=$||hn;return lib_one(_,"boolean"!==typeof ee.includeImageAlt||ee.includeImageAlt,"boolean"!==typeof ee.includeHtml||ee.includeHtml)}(this.stack.pop())}function onenterlistordered(){this.data.expectingFirstListItemValue=!0}function onenterlistitemvalue(_){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function onexitcodefencedfenceinfo(){const _=this.resume();this.stack[this.stack.length-1].lang=_}function onexitcodefencedfencemeta(){const _=this.resume();this.stack[this.stack.length-1].meta=_}function onexitcodefencedfence(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function onexitcodefenced(){const _=this.resume();this.stack[this.stack.length-1].value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function onexitcodeindented(){const _=this.resume();this.stack[this.stack.length-1].value=_.replace(/(\r?\n|\r)$/g,"")}function onexitdefinitionlabelstring(_){const $=this.resume(),ee=this.stack[this.stack.length-1];ee.label=$,ee.identifier=normalizeIdentifier(this.sliceSerialize(_)).toLowerCase()}function onexitdefinitiontitlestring(){const _=this.resume();this.stack[this.stack.length-1].title=_}function onexitdefinitiondestinationstring(){const _=this.resume();this.stack[this.stack.length-1].url=_}function onexitatxheadingsequence(_){const $=this.stack[this.stack.length-1];if(!$.depth){const ee=this.sliceSerialize(_).length;$.depth=ee}}function onexitsetextheadingtext(){this.data.setextHeadingSlurpLineEnding=!0}function onexitsetextheadinglinesequence(_){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(_).codePointAt(0)?1:2}function onexitsetextheading(){this.data.setextHeadingSlurpLineEnding=void 0}function onenterdata(_){const $=this.stack[this.stack.length-1].children;let ee=$[$.length-1];ee&&"text"===ee.type||(ee=text(),ee.position={start:mdast_util_from_markdown_lib_point(_.start),end:void 0},$.push(ee)),this.stack.push(ee)}function onexitdata(_){const $=this.stack.pop();$.value+=this.sliceSerialize(_),$.position.end=mdast_util_from_markdown_lib_point(_.end)}function onexitlineending(_){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){return ee.children[ee.children.length-1].position.end=mdast_util_from_markdown_lib_point(_.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&$.canContainEols.includes(ee.type)&&(onenterdata.call(this,_),onexitdata.call(this,_))}function onexithardbreak(){this.data.atHardBreak=!0}function onexithtmlflow(){const _=this.resume();this.stack[this.stack.length-1].value=_}function onexithtmltext(){const _=this.resume();this.stack[this.stack.length-1].value=_}function onexitcodetext(){const _=this.resume();this.stack[this.stack.length-1].value=_}function onexitlink(){const _=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=$,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function onexitimage(){const _=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=$,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function onexitlabeltext(_){const $=this.sliceSerialize(_),ee=this.stack[this.stack.length-2];ee.label=function decodeString(_){return _.replace(wr,micromark_util_decode_string_decode)}($),ee.identifier=normalizeIdentifier($).toLowerCase()}function onexitlabel(){const _=this.stack[this.stack.length-1],$=this.resume(),ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===ee.type){const $=_.children;ee.children=$}else ee.alt=$}function onexitresourcedestinationstring(){const _=this.resume();this.stack[this.stack.length-1].url=_}function onexitresourcetitlestring(){const _=this.resume();this.stack[this.stack.length-1].title=_}function onexitresource(){this.data.inReference=void 0}function onenterreference(){this.data.referenceType="collapsed"}function onexitreferencestring(_){const $=this.resume(),ee=this.stack[this.stack.length-1];ee.label=$,ee.identifier=normalizeIdentifier(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function onexitcharacterreferencemarker(_){this.data.characterReferenceType=_.type}function onexitcharacterreferencevalue(_){const $=this.sliceSerialize(_),ee=this.data.characterReferenceType;let te;if(ee)te=decodeNumericCharacterReference($,"characterReferenceMarkerNumeric"===ee?10:16),this.data.characterReferenceType=void 0;else{te=decodeNamedCharacterReference($)}this.stack[this.stack.length-1].value+=te}function onexitcharacterreference(_){this.stack.pop().position.end=mdast_util_from_markdown_lib_point(_.end)}function onexitautolinkprotocol(_){onexitdata.call(this,_);this.stack[this.stack.length-1].url=this.sliceSerialize(_)}function onexitautolinkemail(_){onexitdata.call(this,_);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(_)}function blockQuote(){return{type:"blockquote",children:[]}}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function codeText(){return{type:"inlineCode",value:""}}function definition(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function emphasis(){return{type:"emphasis",children:[]}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function image(){return{type:"image",title:null,url:"",alt:null}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(_){return{type:"list",ordered:"listOrdered"===_.type,start:null,spread:_._spread,children:[]}}function listItem(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function paragraph(){return{type:"paragraph",children:[]}}function strong(){return{type:"strong",children:[]}}function text(){return{type:"text",value:""}}function thematicBreak(){return{type:"thematicBreak"}}}(ee)(function postprocess(_){for(;!subtokenize(_););return _}(parse_parse(ee).document().write(function preprocess(){let _,$=1,ee="",te=!0;return function preprocessor(ne,re,ie){const ae=[];let oe,se,le,de,he;for(ne=ee+("string"===typeof ne?ne.toString():new TextDecoder(re||void 0).decode(ne)),le=0,ee="",te&&(65279===ne.charCodeAt(0)&&le++,te=void 0);le<ne.length;){if(br.lastIndex=le,oe=br.exec(ne),de=oe&&void 0!==oe.index?oe.index:ne.length,he=ne.charCodeAt(de),!oe){ee=ne.slice(le);break}if(10===he&&le===de&&_)ae.push(-3),_=void 0;else switch(_&&(ae.push(-5),_=void 0),le<de&&(ae.push(ne.slice(le,de)),$+=de-le),he){case 0:ae.push(65533),$++;break;case 9:for(se=4*Math.ceil($/4),ae.push(-2);$++<se;)ae.push(-1);break;case 10:ae.push(-4),$=1;break;default:_=!0,$=1}le=de+1}return ie&&(_&&ae.push(-5),ee&&ae.push(ee),ae.push(null)),ae}}()(_,$,!0))))}function mdast_util_from_markdown_lib_point(_){return{line:_.line,column:_.column,offset:_.offset}}function configure(_,$){let ee=-1;for(;++ee<$.length;){const te=$[ee];Array.isArray(te)?configure(_,te):extension(_,te)}}function extension(_,$){let ee;for(ee in $)if(xr.call($,ee))switch(ee){case"canContainEols":{const te=$[ee];te&&_[ee].push(...te);break}case"transforms":{const te=$[ee];te&&_[ee].push(...te);break}case"enter":case"exit":{const te=$[ee];te&&Object.assign(_[ee],te);break}}}function defaultOnError(_,$){throw _?new Error("Cannot close `"+_.type+"` ("+stringifyPosition({start:_.start,end:_.end})+"): a different token (`"+$.type+"`, "+stringifyPosition({start:$.start,end:$.end})+") is open"):new Error("Cannot close document, a token (`"+$.type+"`, "+stringifyPosition({start:$.start,end:$.end})+") is still open")}function remarkParse(_){const $=this;$.parser=function parser(ee){return fromMarkdown(ee,{...$.data("settings"),..._,extensions:$.data("micromarkExtensions")||[],mdastExtensions:$.data("fromMarkdownExtensions")||[]})}}const Er="object"===typeof self?self:globalThis,deserialize=_=>((_,$)=>{const as=($,ee)=>(_.set(ee,$),$),unpair=ee=>{if(_.has(ee))return _.get(ee);const[te,ne]=$[ee];switch(te){case 0:case-1:return as(ne,ee);case 1:{const _=as([],ee);for(const $ of ne)_.push(unpair($));return _}case 2:{const _=as({},ee);for(const[$,ee]of ne)_[unpair($)]=unpair(ee);return _}case 3:return as(new Date(ne),ee);case 4:{const{source:_,flags:$}=ne;return as(new RegExp(_,$),ee)}case 5:{const _=as(new Map,ee);for(const[$,ee]of ne)_.set(unpair($),unpair(ee));return _}case 6:{const _=as(new Set,ee);for(const $ of ne)_.add(unpair($));return _}case 7:{const{name:_,message:$}=ne;return as(new Er[_]($),ee)}case 8:return as(BigInt(ne),ee);case"BigInt":return as(Object(BigInt(ne)),ee);case"ArrayBuffer":return as(new Uint8Array(ne).buffer,ne);case"DataView":{const{buffer:_}=new Uint8Array(ne);return as(new DataView(_),ne)}}return as(new Er[te](ne),ee)};return unpair})(new Map,_)(0),Tr="",{toString:Ar}={},{keys:kr}=Object,typeOf=_=>{const $=typeof _;if("object"!==$||!_)return[0,$];const ee=Ar.call(_).slice(8,-1);switch(ee){case"Array":return[1,Tr];case"Object":return[2,Tr];case"Date":return[3,Tr];case"RegExp":return[4,Tr];case"Map":return[5,Tr];case"Set":return[6,Tr];case"DataView":return[1,ee]}return ee.includes("Array")?[1,ee]:ee.includes("Error")?[7,ee]:[2,ee]},shouldSkip=_=>{let[$,ee]=_;return 0===$&&("function"===ee||"symbol"===ee)},serialize_serialize=function(_){let{json:$,lossy:ee}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const te=[];return((_,$,ee,te)=>{const as=(_,$)=>{const ne=te.push(_)-1;return ee.set($,ne),ne},pair=te=>{if(ee.has(te))return ee.get(te);let[ne,re]=typeOf(te);switch(ne){case 0:{let $=te;switch(re){case"bigint":ne=8,$=te.toString();break;case"function":case"symbol":if(_)throw new TypeError("unable to serialize "+re);$=null;break;case"undefined":return as([-1],te)}return as([ne,$],te)}case 1:{if(re){let _=te;return"DataView"===re?_=new Uint8Array(te.buffer):"ArrayBuffer"===re&&(_=new Uint8Array(te)),as([re,[..._]],te)}const _=[],$=as([ne,_],te);for(const ee of te)_.push(pair(ee));return $}case 2:{if(re)switch(re){case"BigInt":return as([re,te.toString()],te);case"Boolean":case"Number":case"String":return as([re,te.valueOf()],te)}if($&&"toJSON"in te)return pair(te.toJSON());const ee=[],ie=as([ne,ee],te);for(const $ of kr(te))!_&&shouldSkip(typeOf(te[$]))||ee.push([pair($),pair(te[$])]);return ie}case 3:return as([ne,te.toISOString()],te);case 4:{const{source:_,flags:$}=te;return as([ne,{source:_,flags:$}],te)}case 5:{const $=[],ee=as([ne,$],te);for(const[ne,re]of te)(_||!shouldSkip(typeOf(ne))&&!shouldSkip(typeOf(re)))&&$.push([pair(ne),pair(re)]);return ee}case 6:{const $=[],ee=as([ne,$],te);for(const ne of te)!_&&shouldSkip(typeOf(ne))||$.push(pair(ne));return ee}}const{message:ie}=te;return as([ne,{name:re,message:ie}],te)};return pair})(!($||ee),!!$,new Map,te)(_),te},Pr="function"===typeof structuredClone?(_,$)=>$&&("json"in $||"lossy"in $)?deserialize(serialize_serialize(_,$)):structuredClone(_):(_,$)=>deserialize(serialize_serialize(_,$));function normalizeUri(_){const $=[];let ee=-1,te=0,ne=0;for(;++ee<_.length;){const re=_.charCodeAt(ee);let ie="";if(37===re&&mn(_.charCodeAt(ee+1))&&mn(_.charCodeAt(ee+2)))ne=2;else if(re<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(re))||(ie=String.fromCharCode(re));else if(re>55295&&re<57344){const $=_.charCodeAt(ee+1);re<56320&&$>56319&&$<57344?(ie=String.fromCharCode(re,$),ne=1):ie="\ufffd"}else ie=String.fromCharCode(re);ie&&($.push(_.slice(te,ee),encodeURIComponent(ie)),te=ee+ne+1,ie=""),ne&&(ee+=ne,ne=0)}return $.join("")+_.slice(te)}function defaultFootnoteBackContent(_,$){const ee=[{type:"text",value:"\u21a9"}];return $>1&&ee.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String($)}]}),ee}function defaultFootnoteBackLabel(_,$){return"Back to reference "+(_+1)+($>1?"-"+$:"")}const convert=function(_){if(null===_||void 0===_)return lib_ok;if("function"===typeof _)return castFactory(_);if("object"===typeof _)return Array.isArray(_)?function anyFactory(_){const $=[];let ee=-1;for(;++ee<_.length;)$[ee]=convert(_[ee]);return castFactory(any);function any(){let _=-1;for(var ee=arguments.length,te=new Array(ee),ne=0;ne<ee;ne++)te[ne]=arguments[ne];for(;++_<$.length;)if($[_].apply(this,te))return!0;return!1}}(_):function propsFactory(_){const $=_;return castFactory(all);function all(ee){const te=ee;let ne;for(ne in _)if(te[ne]!==$[ne])return!1;return!0}}(_);if("string"===typeof _)return function typeFactory(_){return castFactory(type);function type($){return $&&$.type===_}}(_);throw new Error("Expected function, string, or object as test")};function castFactory(_){return function check($,ee,te){return Boolean(looksLikeANode($)&&_.call(this,$,"number"===typeof ee?ee:void 0,te||void 0))}}function lib_ok(){return!0}function looksLikeANode(_){return null!==_&&"object"===typeof _&&"type"in _}const Ir=[],Sr=!0,Rr=!1;function visitParents(_,$,ee,te){let ne;"function"===typeof $&&"function"!==typeof ee?(te=ee,ee=$):ne=$;const re=convert(ne),ie=te?-1:1;!function factory(_,ne,ae){const oe=_&&"object"===typeof _?_:{};if("string"===typeof oe.type){const $="string"===typeof oe.tagName?oe.tagName:"string"===typeof oe.name?oe.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+_.type+($?"<"+$+">":"")+")"})}return visit;function visit(){let oe,se,le,de=Ir;if((!$||re(_,ne,ae[ae.length-1]||void 0))&&(de=function toResult(_){if(Array.isArray(_))return _;if("number"===typeof _)return[Sr,_];return null===_||void 0===_?Ir:[_]}(ee(_,ae)),de[0]===Rr))return de;if("children"in _&&_.children){const $=_;if($.children&&"skip"!==de[0])for(se=(te?$.children.length:-1)+ie,le=ae.concat($);se>-1&&se<$.children.length;){const _=$.children[se];if(oe=factory(_,se,le)(),oe[0]===Rr)return oe;se="number"===typeof oe[1]?oe[1]:se+ie}}return de}}(_,void 0,[])()}function visit(_,$,ee,te){let ne,re,ie;"function"===typeof $&&"function"!==typeof ee?(re=void 0,ie=$,ne=ee):(re=$,ie=ee,ne=te),visitParents(_,re,(function overload(_,$){const ee=$[$.length-1],te=ee?ee.children.indexOf(_):void 0;return ie(_,te,ee)}),ne)}function revert(_,$){const ee=$.referenceType;let te="]";if("collapsed"===ee?te+="[]":"full"===ee&&(te+="["+($.label||$.identifier)+"]"),"imageReference"===$.type)return[{type:"text",value:"!["+$.alt+te}];const ne=_.all($),re=ne[0];re&&"text"===re.type?re.value="["+re.value:ne.unshift({type:"text",value:"["});const ie=ne[ne.length-1];return ie&&"text"===ie.type?ie.value+=te:ne.push({type:"text",value:te}),ne}function listItemLoose(_){const $=_.spread;return null===$||void 0===$?_.children.length>1:$}function trimLines(_){const $=String(_),ee=/\r?\n|\r/g;let te=ee.exec($),ne=0;const re=[];for(;te;)re.push(trimLine($.slice(ne,te.index),ne>0,!0),te[0]),ne=te.index+te[0].length,te=ee.exec($);return re.push(trimLine($.slice(ne),ne>0,!1)),re.join("")}function trimLine(_,$,ee){let te=0,ne=_.length;if($){let $=_.codePointAt(te);for(;9===$||32===$;)te++,$=_.codePointAt(te)}if(ee){let $=_.codePointAt(ne-1);for(;9===$||32===$;)ne--,$=_.codePointAt(ne-1)}return ne>te?_.slice(te,ne):""}const Cr={blockquote:function blockquote(_,$){const ee={type:"element",tagName:"blockquote",properties:{},children:_.wrap(_.all($),!0)};return _.patch($,ee),_.applyData($,ee)},break:function hardBreak(_,$){const ee={type:"element",tagName:"br",properties:{},children:[]};return _.patch($,ee),[_.applyData($,ee),{type:"text",value:"\n"}]},code:function code(_,$){const ee=$.value?$.value+"\n":"",te={};$.lang&&(te.className=["language-"+$.lang]);let ne={type:"element",tagName:"code",properties:te,children:[{type:"text",value:ee}]};return $.meta&&(ne.data={meta:$.meta}),_.patch($,ne),ne=_.applyData($,ne),ne={type:"element",tagName:"pre",properties:{},children:[ne]},_.patch($,ne),ne},delete:function strikethrough(_,$){const ee={type:"element",tagName:"del",properties:{},children:_.all($)};return _.patch($,ee),_.applyData($,ee)},emphasis:function emphasis(_,$){const ee={type:"element",tagName:"em",properties:{},children:_.all($)};return _.patch($,ee),_.applyData($,ee)},footnoteReference:function footnoteReference(_,$){const ee="string"===typeof _.options.clobberPrefix?_.options.clobberPrefix:"user-content-",te=String($.identifier).toUpperCase(),ne=normalizeUri(te.toLowerCase()),re=_.footnoteOrder.indexOf(te);let ie,ae=_.footnoteCounts.get(te);void 0===ae?(ae=0,_.footnoteOrder.push(te),ie=_.footnoteOrder.length):ie=re+1,ae+=1,_.footnoteCounts.set(te,ae);const oe={type:"element",tagName:"a",properties:{href:"#"+ee+"fn-"+ne,id:ee+"fnref-"+ne+(ae>1?"-"+ae:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(ie)}]};_.patch($,oe);const se={type:"element",tagName:"sup",properties:{},children:[oe]};return _.patch($,se),_.applyData($,se)},heading:function heading(_,$){const ee={type:"element",tagName:"h"+$.depth,properties:{},children:_.all($)};return _.patch($,ee),_.applyData($,ee)},html:function html_html(_,$){if(_.options.allowDangerousHtml){const ee={type:"raw",value:$.value};return _.patch($,ee),_.applyData($,ee)}},imageReference:function imageReference(_,$){const ee=String($.identifier).toUpperCase(),te=_.definitionById.get(ee);if(!te)return revert(_,$);const ne={src:normalizeUri(te.url||""),alt:$.alt};null!==te.title&&void 0!==te.title&&(ne.title=te.title);const re={type:"element",tagName:"img",properties:ne,children:[]};return _.patch($,re),_.applyData($,re)},image:function image_image(_,$){const ee={src:normalizeUri($.url)};null!==$.alt&&void 0!==$.alt&&(ee.alt=$.alt),null!==$.title&&void 0!==$.title&&(ee.title=$.title);const te={type:"element",tagName:"img",properties:ee,children:[]};return _.patch($,te),_.applyData($,te)},inlineCode:function inlineCode(_,$){const ee={type:"text",value:$.value.replace(/\r?\n|\r/g," ")};_.patch($,ee);const te={type:"element",tagName:"code",properties:{},children:[ee]};return _.patch($,te),_.applyData($,te)},linkReference:function linkReference(_,$){const ee=String($.identifier).toUpperCase(),te=_.definitionById.get(ee);if(!te)return revert(_,$);const ne={href:normalizeUri(te.url||"")};null!==te.title&&void 0!==te.title&&(ne.title=te.title);const re={type:"element",tagName:"a",properties:ne,children:_.all($)};return _.patch($,re),_.applyData($,re)},link:function link_link(_,$){const ee={href:normalizeUri($.url)};null!==$.title&&void 0!==$.title&&(ee.title=$.title);const te={type:"element",tagName:"a",properties:ee,children:_.all($)};return _.patch($,te),_.applyData($,te)},listItem:function listItem(_,$,ee){const te=_.all($),ne=ee?function listLoose(_){let $=!1;if("list"===_.type){$=_.spread||!1;const ee=_.children;let te=-1;for(;!$&&++te<ee.length;)$=listItemLoose(ee[te])}return $}(ee):listItemLoose($),re={},ie=[];if("boolean"===typeof $.checked){const _=te[0];let ee;_&&"element"===_.type&&"p"===_.tagName?ee=_:(ee={type:"element",tagName:"p",properties:{},children:[]},te.unshift(ee)),ee.children.length>0&&ee.children.unshift({type:"text",value:" "}),ee.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:$.checked,disabled:!0},children:[]}),re.className=["task-list-item"]}let ae=-1;for(;++ae<te.length;){const _=te[ae];(ne||0!==ae||"element"!==_.type||"p"!==_.tagName)&&ie.push({type:"text",value:"\n"}),"element"!==_.type||"p"!==_.tagName||ne?ie.push(_):ie.push(..._.children)}const oe=te[te.length-1];oe&&(ne||"element"!==oe.type||"p"!==oe.tagName)&&ie.push({type:"text",value:"\n"});const se={type:"element",tagName:"li",properties:re,children:ie};return _.patch($,se),_.applyData($,se)},list:function list_list(_,$){const ee={},te=_.all($);let ne=-1;for("number"===typeof $.start&&1!==$.start&&(ee.start=$.start);++ne<te.length;){const _=te[ne];if("element"===_.type&&"li"===_.tagName&&_.properties&&Array.isArray(_.properties.className)&&_.properties.className.includes("task-list-item")){ee.className=["contains-task-list"];break}}const re={type:"element",tagName:$.ordered?"ol":"ul",properties:ee,children:_.wrap(te,!0)};return _.patch($,re),_.applyData($,re)},paragraph:function paragraph(_,$){const ee={type:"element",tagName:"p",properties:{},children:_.all($)};return _.patch($,ee),_.applyData($,ee)},root:function root_root(_,$){const ee={type:"root",children:_.wrap(_.all($))};return _.patch($,ee),_.applyData($,ee)},strong:function strong(_,$){const ee={type:"element",tagName:"strong",properties:{},children:_.all($)};return _.patch($,ee),_.applyData($,ee)},table:function table(_,$){const ee=_.all($),te=ee.shift(),ne=[];if(te){const ee={type:"element",tagName:"thead",properties:{},children:_.wrap([te],!0)};_.patch($.children[0],ee),ne.push(ee)}if(ee.length>0){const te={type:"element",tagName:"tbody",properties:{},children:_.wrap(ee,!0)},re=rn($.children[1]),ie=nn($.children[$.children.length-1]);re&&ie&&(te.position={start:re,end:ie}),ne.push(te)}const re={type:"element",tagName:"table",properties:{},children:_.wrap(ne,!0)};return _.patch($,re),_.applyData($,re)},tableCell:function tableCell(_,$){const ee={type:"element",tagName:"td",properties:{},children:_.all($)};return _.patch($,ee),_.applyData($,ee)},tableRow:function tableRow(_,$,ee){const te=ee?ee.children:void 0,ne=0===(te?te.indexOf($):1)?"th":"td",re=ee&&"table"===ee.type?ee.align:void 0,ie=re?re.length:$.children.length;let ae=-1;const oe=[];for(;++ae<ie;){const ee=$.children[ae],te={},ie=re?re[ae]:void 0;ie&&(te.align=ie);let se={type:"element",tagName:ne,properties:te,children:[]};ee&&(se.children=_.all(ee),_.patch(ee,se),se=_.applyData(ee,se)),oe.push(se)}const se={type:"element",tagName:"tr",properties:{},children:_.wrap(oe,!0)};return _.patch($,se),_.applyData($,se)},text:function handlers_text_text(_,$){const ee={type:"text",value:trimLines(String($.value))};return _.patch($,ee),_.applyData($,ee)},thematicBreak:function thematic_break_thematicBreak(_,$){const ee={type:"element",tagName:"hr",properties:{},children:[]};return _.patch($,ee),_.applyData($,ee)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const Vr={}.hasOwnProperty,Dr={};function patch(_,$){_.position&&($.position=function position(_){const $=rn(_),ee=nn(_);if($&&ee)return{start:$,end:ee}}(_))}function applyData(_,$){let ee=$;if(_&&_.data){const $=_.data.hName,te=_.data.hChildren,ne=_.data.hProperties;if("string"===typeof $)if("element"===ee.type)ee.tagName=$;else{ee={type:"element",tagName:$,properties:{},children:"children"in ee?ee.children:[ee]}}"element"===ee.type&&ne&&Object.assign(ee.properties,Pr(ne)),"children"in ee&&ee.children&&null!==te&&void 0!==te&&(ee.children=te)}return ee}function defaultUnknownHandler(_,$){const ee=$.data||{},te=!("value"in $)||Vr.call(ee,"hProperties")||Vr.call(ee,"hChildren")?{type:"element",tagName:"div",properties:{},children:_.all($)}:{type:"text",value:$.value};return _.patch($,te),_.applyData($,te)}function wrap(_,$){const ee=[];let te=-1;for($&&ee.push({type:"text",value:"\n"});++te<_.length;)te&&ee.push({type:"text",value:"\n"}),ee.push(_[te]);return $&&_.length>0&&ee.push({type:"text",value:"\n"}),ee}function trimMarkdownSpaceStart(_){let $=0,ee=_.charCodeAt($);for(;9===ee||32===ee;)$++,ee=_.charCodeAt($);return _.slice($)}function toHast(_,$){const ee=function createState(_,$){const ee=$||Dr,te=new Map,ne=new Map,re=new Map,ie={...Cr,...ee.handlers},ae={all:function all(_){const $=[];if("children"in _){const ee=_.children;let te=-1;for(;++te<ee.length;){const ne=ae.one(ee[te],_);if(ne){if(te&&"break"===ee[te-1].type&&(Array.isArray(ne)||"text"!==ne.type||(ne.value=trimMarkdownSpaceStart(ne.value)),!Array.isArray(ne)&&"element"===ne.type)){const _=ne.children[0];_&&"text"===_.type&&(_.value=trimMarkdownSpaceStart(_.value))}Array.isArray(ne)?$.push(...ne):$.push(ne)}}}return $},applyData:applyData,definitionById:te,footnoteById:ne,footnoteCounts:re,footnoteOrder:[],handlers:ie,one:function one(_,$){const ee=_.type,te=ae.handlers[ee];if(Vr.call(ae.handlers,ee)&&te)return te(ae,_,$);if(ae.options.passThrough&&ae.options.passThrough.includes(ee)){if("children"in _){const{children:$,...ee}=_,te=Pr(ee);return te.children=ae.all(_),te}return Pr(_)}return(ae.options.unknownHandler||defaultUnknownHandler)(ae,_,$)},options:ee,patch:patch,wrap:wrap};return visit(_,(function(_){if("definition"===_.type||"footnoteDefinition"===_.type){const $="definition"===_.type?te:ne,ee=String(_.identifier).toUpperCase();$.has(ee)||$.set(ee,_)}})),ae}(_,$),te=ee.one(_,void 0),ne=function footer(_){const $="string"===typeof _.options.clobberPrefix?_.options.clobberPrefix:"user-content-",ee=_.options.footnoteBackContent||defaultFootnoteBackContent,te=_.options.footnoteBackLabel||defaultFootnoteBackLabel,ne=_.options.footnoteLabel||"Footnotes",re=_.options.footnoteLabelTagName||"h2",ie=_.options.footnoteLabelProperties||{className:["sr-only"]},ae=[];let oe=-1;for(;++oe<_.footnoteOrder.length;){const ne=_.footnoteById.get(_.footnoteOrder[oe]);if(!ne)continue;const re=_.all(ne),ie=String(ne.identifier).toUpperCase(),se=normalizeUri(ie.toLowerCase());let le=0;const de=[],he=_.footnoteCounts.get(ie);for(;void 0!==he&&++le<=he;){de.length>0&&de.push({type:"text",value:" "});let _="string"===typeof ee?ee:ee(oe,le);"string"===typeof _&&(_={type:"text",value:_}),de.push({type:"element",tagName:"a",properties:{href:"#"+$+"fnref-"+se+(le>1?"-"+le:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof te?te:te(oe,le),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const fe=re[re.length-1];if(fe&&"element"===fe.type&&"p"===fe.tagName){const _=fe.children[fe.children.length-1];_&&"text"===_.type?_.value+=" ":fe.children.push({type:"text",value:" "}),fe.children.push(...de)}else re.push(...de);const pe={type:"element",tagName:"li",properties:{id:$+"fn-"+se},children:_.wrap(re,!0)};_.patch(ne,pe),ae.push(pe)}if(0!==ae.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:re,properties:{...Pr(ie),id:"footnote-label"},children:[{type:"text",value:ne}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:_.wrap(ae,!0)},{type:"text",value:"\n"}]}}(ee),re=Array.isArray(te)?{type:"root",children:te}:te||{type:"root",children:[]};return ne&&re.children.push({type:"text",value:"\n"},ne),re}function remarkRehype(_,$){return _&&"run"in _?async function(ee,te){const ne=toHast(ee,{file:te,...$});await _.run(ne,te)}:function(ee,te){return toHast(ee,{file:te,..._||$})}}function bail(_){if(_)throw _}var Nr=__webpack_require__(3240);function isPlainObject(_){if("object"!==typeof _||null===_)return!1;const $=Object.getPrototypeOf(_);return(null===$||$===Object.prototype||null===Object.getPrototypeOf($))&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)}function trough(){const _=[],$={run:function run(){for(var $=arguments.length,ee=new Array($),te=0;te<$;te++)ee[te]=arguments[te];let ne=-1;const re=ee.pop();if("function"!==typeof re)throw new TypeError("Expected function as last argument, not "+re);!function next($){const te=_[++ne];let ie=-1;if($)re($);else{for(var ae=arguments.length,oe=new Array(ae>1?ae-1:0),se=1;se<ae;se++)oe[se-1]=arguments[se];for(;++ie<ee.length;)null!==oe[ie]&&void 0!==oe[ie]||(oe[ie]=ee[ie]);ee=oe,te?function lib_wrap(_,ee){let te;return wrapped;function wrapped(){for(var ee=arguments.length,ne=new Array(ee),re=0;re<ee;re++)ne[re]=arguments[re];const ie=_.length>ne.length;let ae;ie&&ne.push(done);try{ae=_.apply(this,ne)}catch($){if(ie&&te)throw $;return done($)}ie||(ae&&ae.then&&"function"===typeof ae.then?ae.then(then,done):ae instanceof Error?done(ae):then(ae))}function done(_){if(!te){te=!0;for(var $=arguments.length,ne=new Array($>1?$-1:0),re=1;re<$;re++)ne[re-1]=arguments[re];ee(_,...ne)}}function then(_){done(null,_)}}(te,next)(...oe):re(null,...oe)}}(null,...ee)},use:function use(ee){if("function"!==typeof ee)throw new TypeError("Expected `middelware` to be a function, not "+ee);return _.push(ee),$}};return $}const Or={basename:function basename(_,$){if(void 0!==$&&"string"!==typeof $)throw new TypeError('"ext" argument must be a string');assertPath(_);let ee,te=0,ne=-1,re=_.length;if(void 0===$||0===$.length||$.length>_.length){for(;re--;)if(47===_.codePointAt(re)){if(ee){te=re+1;break}}else ne<0&&(ee=!0,ne=re+1);return ne<0?"":_.slice(te,ne)}if($===_)return"";let ie=-1,ae=$.length-1;for(;re--;)if(47===_.codePointAt(re)){if(ee){te=re+1;break}}else ie<0&&(ee=!0,ie=re+1),ae>-1&&(_.codePointAt(re)===$.codePointAt(ae--)?ae<0&&(ne=re):(ae=-1,ne=ie));te===ne?ne=ie:ne<0&&(ne=_.length);return _.slice(te,ne)},dirname:function dirname(_){if(assertPath(_),0===_.length)return".";let $,ee=-1,te=_.length;for(;--te;)if(47===_.codePointAt(te)){if($){ee=te;break}}else $||($=!0);return ee<0?47===_.codePointAt(0)?"/":".":1===ee&&47===_.codePointAt(0)?"//":_.slice(0,ee)},extname:function extname(_){assertPath(_);let $,ee=_.length,te=-1,ne=0,re=-1,ie=0;for(;ee--;){const ae=_.codePointAt(ee);if(47!==ae)te<0&&($=!0,te=ee+1),46===ae?re<0?re=ee:1!==ie&&(ie=1):re>-1&&(ie=-1);else if($){ne=ee+1;break}}if(re<0||te<0||0===ie||1===ie&&re===te-1&&re===ne+1)return"";return _.slice(re,te)},join:function join(){let _,$=-1;for(var ee=arguments.length,te=new Array(ee),ne=0;ne<ee;ne++)te[ne]=arguments[ne];for(;++$<te.length;)assertPath(te[$]),te[$]&&(_=void 0===_?te[$]:_+"/"+te[$]);return void 0===_?".":function minpath_browser_normalize(_){assertPath(_);const $=47===_.codePointAt(0);let ee=function normalizeString(_,$){let ee,te,ne="",re=0,ie=-1,ae=0,oe=-1;for(;++oe<=_.length;){if(oe<_.length)ee=_.codePointAt(oe);else{if(47===ee)break;ee=47}if(47===ee){if(ie===oe-1||1===ae);else if(ie!==oe-1&&2===ae){if(ne.length<2||2!==re||46!==ne.codePointAt(ne.length-1)||46!==ne.codePointAt(ne.length-2))if(ne.length>2){if(te=ne.lastIndexOf("/"),te!==ne.length-1){te<0?(ne="",re=0):(ne=ne.slice(0,te),re=ne.length-1-ne.lastIndexOf("/")),ie=oe,ae=0;continue}}else if(ne.length>0){ne="",re=0,ie=oe,ae=0;continue}$&&(ne=ne.length>0?ne+"/..":"..",re=2)}else ne.length>0?ne+="/"+_.slice(ie+1,oe):ne=_.slice(ie+1,oe),re=oe-ie-1;ie=oe,ae=0}else 46===ee&&ae>-1?ae++:ae=-1}return ne}(_,!$);0!==ee.length||$||(ee=".");ee.length>0&&47===_.codePointAt(_.length-1)&&(ee+="/");return $?"/"+ee:ee}(_)},sep:"/"};function assertPath(_){if("string"!==typeof _)throw new TypeError("Path must be a string. Received "+JSON.stringify(_))}const Mr={cwd:function cwd(){return"/"}};function isUrl(_){return Boolean(null!==_&&"object"===typeof _&&"href"in _&&_.href&&"protocol"in _&&_.protocol&&void 0===_.auth)}function urlToPath(_){if("string"===typeof _)_=new URL(_);else if(!isUrl(_)){const $=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+_+"`");throw $.code="ERR_INVALID_ARG_TYPE",$}if("file:"!==_.protocol){const _=new TypeError("The URL must be of scheme file");throw _.code="ERR_INVALID_URL_SCHEME",_}return function getPathFromURLPosix(_){if(""!==_.hostname){const _=new TypeError('File URL host must be "localhost" or empty on darwin');throw _.code="ERR_INVALID_FILE_URL_HOST",_}const $=_.pathname;let ee=-1;for(;++ee<$.length;)if(37===$.codePointAt(ee)&&50===$.codePointAt(ee+1)){const _=$.codePointAt(ee+2);if(70===_||102===_){const _=new TypeError("File URL path must not include encoded / characters");throw _.code="ERR_INVALID_FILE_URL_PATH",_}}return decodeURIComponent($)}(_)}const Fr=["history","path","basename","stem","extname","dirname"];class VFile{constructor(_){let $;$=_?isUrl(_)?{path:_}:"string"===typeof _||function isUint8Array(_){return Boolean(_&&"object"===typeof _&&"byteLength"in _&&"byteOffset"in _)}(_)?{value:_}:_:{},this.cwd="cwd"in $?"":Mr.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let ee,te=-1;for(;++te<Fr.length;){const _=Fr[te];_ in $&&void 0!==$[_]&&null!==$[_]&&(this[_]="history"===_?[...$[_]]:$[_])}for(ee in $)Fr.includes(ee)||(this[ee]=$[ee])}get basename(){return"string"===typeof this.path?Or.basename(this.path):void 0}set basename(_){assertNonEmpty(_,"basename"),assertPart(_,"basename"),this.path=Or.join(this.dirname||"",_)}get dirname(){return"string"===typeof this.path?Or.dirname(this.path):void 0}set dirname(_){lib_assertPath(this.basename,"dirname"),this.path=Or.join(_||"",this.basename)}get extname(){return"string"===typeof this.path?Or.extname(this.path):void 0}set extname(_){if(assertPart(_,"extname"),lib_assertPath(this.dirname,"extname"),_){if(46!==_.codePointAt(0))throw new Error("`extname` must start with `.`");if(_.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Or.join(this.dirname,this.stem+(_||""))}get path(){return this.history[this.history.length-1]}set path(_){isUrl(_)&&(_=urlToPath(_)),assertNonEmpty(_,"path"),this.path!==_&&this.history.push(_)}get stem(){return"string"===typeof this.path?Or.basename(this.path,this.extname):void 0}set stem(_){assertNonEmpty(_,"stem"),assertPart(_,"stem"),this.path=Or.join(this.dirname||"",_+(this.extname||""))}fail(_,$,ee){const te=this.message(_,$,ee);throw te.fatal=!0,te}info(_,$,ee){const te=this.message(_,$,ee);return te.fatal=void 0,te}message(_,$,ee){const te=new VFileMessage(_,$,ee);return this.path&&(te.name=this.path+":"+te.name,te.file=this.path),te.fatal=!1,this.messages.push(te),te}toString(_){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(_||void 0).decode(this.value)}}function assertPart(_,$){if(_&&_.includes(Or.sep))throw new Error("`"+$+"` cannot be a path: did not expect `"+Or.sep+"`")}function assertNonEmpty(_,$){if(!_)throw new Error("`"+$+"` cannot be empty")}function lib_assertPath(_,$){if(!_)throw new Error("Setting `"+$+"` requires `path` to be set too")}const CallableInstance=function(_){const $=this.constructor.prototype,ee=$[_],apply=function(){return ee.apply(apply,arguments)};return Object.setPrototypeOf(apply,$),apply},jr={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const _=new Processor;let $=-1;for(;++$<this.attachers.length;){const ee=this.attachers[$];_.use(...ee)}return _.data(Nr(!0,{},this.namespace)),_}data(_,$){return"string"===typeof _?2===arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[_]=$,this):jr.call(this.namespace,_)&&this.namespace[_]||void 0:_?(assertUnfrozen("data",this.frozen),this.namespace=_,this):this.namespace}freeze(){if(this.frozen)return this;const _=this;for(;++this.freezeIndex<this.attachers.length;){const[$,...ee]=this.attachers[this.freezeIndex];if(!1===ee[0])continue;!0===ee[0]&&(ee[0]=void 0);const te=$.call(_,...ee);"function"===typeof te&&this.transformers.use(te)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(_){this.freeze();const $=vfile(_),ee=this.parser||this.Parser;return assertParser("parse",ee),ee(String($),$)}process(_,$){const ee=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),$?executor(void 0,$):new Promise(executor);function executor(te,ne){const re=vfile(_),ie=ee.parse(re);function realDone(_,ee){_||!ee?ne(_):te?te(ee):$(void 0,ee)}ee.run(ie,re,(function(_,$,te){if(_||!$||!te)return realDone(_);const ne=$,re=ee.stringify(ne,te);!function looksLikeAValue(_){return"string"===typeof _||function lib_isUint8Array(_){return Boolean(_&&"object"===typeof _&&"byteLength"in _&&"byteOffset"in _)}(_)}(re)?te.result=re:te.value=re,realDone(_,te)}))}}processSync(_){let $,ee=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(_,(function realDone(_,te){ee=!0,bail(_),$=te})),assertDone("processSync","process",ee),$}run(_,$,ee){assertNode(_),this.freeze();const te=this.transformers;return ee||"function"!==typeof $||(ee=$,$=void 0),ee?executor(void 0,ee):new Promise(executor);function executor(ne,re){const ie=vfile($);te.run(_,ie,(function realDone($,te,ie){const ae=te||_;$?re($):ne?ne(ae):ee(void 0,ae,ie)}))}}runSync(_,$){let ee,te=!1;return this.run(_,$,(function realDone(_,$){bail(_),ee=$,te=!0})),assertDone("runSync","run",te),ee}stringify(_,$){this.freeze();const ee=vfile($),te=this.compiler||this.Compiler;return assertCompiler("stringify",te),assertNode(_),te(_,ee)}use(_){const $=this.attachers,ee=this.namespace;if(assertUnfrozen("use",this.frozen),null===_||void 0===_);else if("function"===typeof _){for(var te=arguments.length,ne=new Array(te>1?te-1:0),re=1;re<te;re++)ne[re-1]=arguments[re];addPlugin(_,ne)}else{if("object"!==typeof _)throw new TypeError("Expected usable value, not `"+_+"`");Array.isArray(_)?addList(_):addPreset(_)}return this;function add(_){if("function"===typeof _)addPlugin(_,[]);else{if("object"!==typeof _)throw new TypeError("Expected usable value, not `"+_+"`");if(Array.isArray(_)){const[$,...ee]=_;addPlugin($,ee)}else addPreset(_)}}function addPreset(_){if(!("plugins"in _)&&!("settings"in _))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(_.plugins),_.settings&&(ee.settings=Nr(!0,ee.settings,_.settings))}function addList(_){let $=-1;if(null===_||void 0===_);else{if(!Array.isArray(_))throw new TypeError("Expected a list of plugins, not `"+_+"`");for(;++$<_.length;){add(_[$])}}}function addPlugin(_,ee){let te=-1,ne=-1;for(;++te<$.length;)if($[te][0]===_){ne=te;break}if(-1===ne)$.push([_,...ee]);else if(ee.length>0){let[te,...re]=ee;const ie=$[ne][1];isPlainObject(ie)&&isPlainObject(te)&&(te=Nr(!0,ie,te)),$[ne]=[_,te,...re]}}}}const Lr=(new Processor).freeze();function assertParser(_,$){if("function"!==typeof $)throw new TypeError("Cannot `"+_+"` without `parser`")}function assertCompiler(_,$){if("function"!==typeof $)throw new TypeError("Cannot `"+_+"` without `compiler`")}function assertUnfrozen(_,$){if($)throw new Error("Cannot call `"+_+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(_){if(!isPlainObject(_)||"string"!==typeof _.type)throw new TypeError("Expected node, got `"+_+"`")}function assertDone(_,$,ee){if(!ee)throw new Error("`"+_+"` finished async. Use `"+$+"` instead")}function vfile(_){return function looksLikeAVFile(_){return Boolean(_&&"object"===typeof _&&"message"in _&&"messages"in _)}(_)?_:new VFile(_)}const Ur=[],Br={allowDangerousHtml:!0},zr=/^(https?|ircs?|mailto|xmpp)$/i,qr=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(_){const $=createProcessor(_),ee=createFile(_);return post($.runSync($.parse(ee),ee),_)}function createProcessor(_){const $=_.rehypePlugins||Ur,ee=_.remarkPlugins||Ur,te=_.remarkRehypeOptions?{..._.remarkRehypeOptions,...Br}:Br;return Lr().use(remarkParse).use(ee).use(remarkRehype,te).use($)}function createFile(_){const $=_.children||"",ee=new VFile;return"string"===typeof $&&(ee.value=$),ee}function post(_,$){const ee=$.allowedElements,te=$.allowElement,ne=$.components,re=$.disallowedElements,ie=$.skipHtml,ae=$.unwrapDisallowed,oe=$.urlTransform||defaultUrlTransform;for(const se of qr)Object.hasOwn($,se.from)&&(se.from,se.to&&se.to,se.id);return visit(_,(function transform(_,$,ne){if("raw"===_.type&&ne&&"number"===typeof $)return ie?ne.children.splice($,1):ne.children[$]={type:"text",value:_.value},$;if("element"===_.type){let $;for($ in dn)if(Object.hasOwn(dn,$)&&Object.hasOwn(_.properties,$)){const ee=_.properties[$],te=dn[$];(null===te||te.includes(_.tagName))&&(_.properties[$]=oe(String(ee||""),$,_))}}if("element"===_.type){let ie=ee?!ee.includes(_.tagName):!!re&&re.includes(_.tagName);if(!ie&&te&&"number"===typeof $&&(ie=!te(_,$,ne)),ie&&ne&&"number"===typeof $)return ae&&_.children?ne.children.splice($,1,..._.children):ne.children.splice($,1),$}})),toJsxRuntime(_,{Fragment:ft.Fragment,components:ne,ignoreInvalidStyle:!0,jsx:ft.jsx,jsxs:ft.jsxs,passKeys:!0,passNode:!0})}function defaultUrlTransform(_){const $=_.indexOf(":"),ee=_.indexOf("?"),te=_.indexOf("#"),ne=_.indexOf("/");return-1===$||-1!==ne&&$>ne||-1!==ee&&$>ee||-1!==te&&$>te||zr.test(_.slice(0,$))?_:""}function PartnerChat(){const[_,$]=(0,ee.useState)([{id:1,sender:"omnis",text:"Hi, I'm Omnis. How can I assist you today?",status:"sent",read:!0}]),[te,ne]=(0,ee.useState)(""),[re,ie]=(0,ee.useState)(""),[ae,oe]=(0,ee.useState)(null),se=(0,ee.useRef)(null);let le=(0,ee.useRef)(2);const[de,he]=(0,ee.useState)(null),{user:fe}=(0,ct.As)(),pe=(0,ee.useRef)(null);(0,ee.useEffect)((()=>{pe.current&&(pe.current.scrollIntoView({behavior:"smooth"}),pe.current.scrollTo({top:pe.current.scrollHeight,behavior:"smooth"}))}),[_]),(0,ee.useEffect)((()=>{fetchUserProfilePicture()}),[fe]);const fetchUserProfilePicture=async()=>{if(fe)try{const _=(0,St.H9)(ht.db,"users",fe.uid),$=await(0,St.x7)(_);if($.exists()){const _=$.data();he(_.profilePicture||null)}}catch(_){console.error("Error fetching profile picture:",_.message)}};(0,ee.useEffect)((()=>{const _=se.current;if(!_)return;_.scrollHeight-_.scrollTop<=_.clientHeight+100&&_.scrollTo({top:_.scrollHeight,behavior:"smooth"})}),[_]);const handleSend=async()=>{if(!te.trim())return;const _={id:le.current++,sender:"creator",text:te,status:"pending",read:!1};$(($=>[...$,_])),ne(""),ie("omnis"),setTimeout((()=>{$(($=>$.map(($=>$.id===_.id?{...$,status:"sent"}:$))));const ee={id:le.current++,sender:"omnis",text:"Thanks for your message! I'm processing it...",status:"sent",read:!0};$((_=>[..._,ee])),ie("user"),setTimeout((()=>{ie("")}),8e3)}),3e3)},handleAction=(_,ee)=>{if("trash"===_&&$((_=>_.filter((_=>_.id!==ee.id)))),"edit"===_){const _=prompt("Edit your message:",ee.text);null!=_&&$(($=>$.map(($=>$.id===ee.id?{...$,text:_,status:"sent"}:$))))}"copy"===_&&navigator.clipboard.writeText(ee.text||ee.fileName),"reply"===_&&ne(`@${ee.sender}: `),oe(null)};return(0,ft.jsxs)("div",{className:"flex flex-col min-h-screen dark:bg-[#0b0f19] bg-gray-50",children:[(0,ft.jsxs)("div",{className:"bg-white dark:bg-[#1e2a3b] shadow-md rounded-lg p-2",children:[(0,ft.jsx)("div",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Assistant"}),(0,ft.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Converse with Omnis"})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 px-4 m-2 lg:m-6",ref:pe,children:[(0,ft.jsx)(AnimatePresence,{initial:!1,children:_.map((_=>(0,ft.jsxs)(bt.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},className:"relative flex mb-4 "+("creator"===_.sender?"justify-end":"justify-start"),onClick:()=>oe(($=>$===_.id?null:_.id)),children:["creator"===_.sender&&(0,ft.jsx)("img",{src:de||Pt,alt:"User",className:"w-10 h-10 rounded-full absolute -right-4 -top-2 z-0 opacity-100"}),"omnis"===_.sender&&(0,ft.jsx)("img",{src:Pt,alt:"Omnis avatar",className:"w-10 h-10 rounded-full absolute -left-4 -top-2 z-0 opacity-100"}),(0,ft.jsxs)("div",{className:"relative z-10 max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-2xl shadow-2xl transform hover:scale-105 hover:shadow-2xl transition-all duration-300 ease-in-out  break-words whitespace-pre-wrap\n                                    "+("creator"===_.sender?"bg-gradient-to-br from-blue-500 to-green-500 text-white rounded-br-none mr-6":"dark:bg-indigo-800 dark:text-indigo-100 bg-gray-200 text-gray-800 rounded-bl-none ml-6"),children:[_.text&&!_.fileType&&(0,ft.jsx)("div",{className:"prose dark:prose-invert prose-sm max-w-full",children:(0,ft.jsx)(Markdown,{components:{h1:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("h1",{className:"text-2xl font-bold mb-2",...ee})},h2:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-2",...ee})},h3:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("h3",{className:"text-lg font-medium mb-1",...ee})},p:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("p",{className:"mb-2",...ee})},code:_=>{let{node:$,inline:ee,className:te,children:ne,...re}=_;return ee?(0,ft.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded",...re,children:ne}):(0,ft.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded overflow-x-auto",children:(0,ft.jsx)("code",{...re,children:ne})})},a:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("a",{className:"text-blue-500 underline",target:"_blank",rel:"noopener noreferrer",...ee})},ul:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("ul",{className:"list-disc pl-5 mb-2",...ee})},ol:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("ol",{className:"list-decimal pl-5 mb-2",...ee})},li:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("li",{className:"mb-1",...ee})},blockquote:_=>{let{node:$,...ee}=_;return(0,ft.jsx)("blockquote",{className:"border-l-4 border-gray-400 pl-4 italic text-gray-600 dark:text-gray-300",...ee})}},children:_.text})}),"image"===_.fileType&&(0,ft.jsx)("img",{src:_.text,alt:_.fileName,className:"w-48 h-48 object-cover rounded-lg"}),"audio"===_.fileType&&(0,ft.jsx)("audio",{controls:!0,className:"w-full",children:(0,ft.jsx)("source",{src:_.text,type:"audio/mpeg"})}),"application"===_.fileType&&(0,ft.jsx)("a",{href:_.text,target:"_blank",rel:"noopener noreferrer",className:"text-blue-200 underline",children:_.fileName}),"creator"===_.sender&&"pending"===_.status&&(0,ft.jsx)("span",{className:"text-xs italic mt-1",children:"\u2026"}),"creator"===_.sender&&"sent"===_.status&&(0,ft.jsx)("span",{className:"text-xs mt-1",children:"\u2714"})]}),ae===_.id&&(0,ft.jsxs)("div",{className:"flex items-end mt-2 space-x-2 text-sm",children:[(0,ft.jsx)(It.IXo,{className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer",title:"Delete",onClick:()=>handleAction("trash",_)}),(0,ft.jsx)(It.SG1,{className:"w-4 h-4 text-blue-500 hover:text-blue-700 cursor-pointer",title:"Edit",onClick:()=>handleAction("edit",_)}),(0,ft.jsx)(It.nxz,{className:"w-4 h-4 text-green-500 hover:text-green-700 cursor-pointer",title:"Copy",onClick:()=>handleAction("copy",_)}),(0,ft.jsx)(It.mEP,{className:"w-4 h-4 text-indigo-500 hover:text-indigo-700 cursor-pointer",title:"Reply",onClick:()=>handleAction("reply",_)})]})]},_.id)))}),"user"===re&&(0,ft.jsxs)("div",{className:"flex justify-end items-center space-x-2 text-sm text-gray-400 pr-2 animate-pulse dark:text-gray-300",children:[(0,ft.jsx)("span",{className:"text-base",children:"You are typing"}),(0,ft.jsx)("span",{className:"animate-bounce",children:"."}),(0,ft.jsx)("span",{className:"animate-bounce delay-150",children:"."}),(0,ft.jsx)("span",{className:"animate-bounce delay-300",children:"."})]}),"omnis"===re&&(0,ft.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400 pl-2 animate-pulse dark:text-gray-300",children:[(0,ft.jsx)("span",{className:"text-base",children:"Omnis is typing"}),(0,ft.jsx)("span",{className:"animate-bounce",children:"."}),(0,ft.jsx)("span",{className:"animate-bounce delay-150",children:"."}),(0,ft.jsx)("span",{className:"animate-bounce delay-300",children:"."})]}),(0,ft.jsx)("div",{ref:se})]}),(0,ft.jsx)("div",{className:"bg-gray-50 dark:bg-[#0b0f19] sticky px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:(0,ft.jsxs)("div",{className:"flex flex-col border-blue-700 relative",children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("textarea",{rows:1,value:te,onChange:_=>ne(_.target.value),onKeyDown:_=>{"Enter"!==_.key||_.shiftKey||(_.preventDefault(),handleSend())},onFocus:()=>ie("user"),onBlur:()=>ie(""),placeholder:"Message Omnis...",className:"w-full resize-none rounded-xl border border-gray-300 dark:border-gray-600 dark:bg-[#1f2937] dark:text-white dark:placeholder-gray-400 px-4 py-2 pr-10 focus:ring-2 focus:ring-blue-400 focus:outline-none max-h-40 overflow-y-auto",style:{maxHeight:"160px",minHeight:"48px",overflowY:"auto"},"aria-label":"Type your message"}),(0,ft.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",children:(0,ft.jsx)(Et,{className:"w-5 h-5 text-blue-600 hover:text-blue-800 cursor-pointer",title:"Send",onClick:handleSend,"aria-label":"Send message"})})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-4 mt-2 px-1",children:[(0,ft.jsx)(Tt,{className:"w-5 h-5 text-gray-500 dark:text-gray-300 hover:text-blue-500 cursor-pointer",title:"Attach file",onClick:()=>{var _;return null===(_=document.getElementById("fileInput"))||void 0===_?void 0:_.click()}}),(0,ft.jsx)(At,{className:"w-5 h-5 text-gray-500 dark:text-gray-300 hover:text-green-500 cursor-pointer",title:"Send image"}),(0,ft.jsx)(kt,{className:"w-5 h-5 text-gray-500 dark:text-gray-300 hover:text-red-500 cursor-pointer",title:"Record audio"}),(0,ft.jsx)("div",{ref:pe})]}),(0,ft.jsx)("input",{id:"fileInput",type:"file",accept:"image/*,audio/*,.pdf,.doc,.docx",className:"hidden",onChange:_=>{var ee;return(null===(ee=_.target.files)||void 0===ee?void 0:ee[0])&&(_=>{if(!_)return;const ee=_.type.split("/")[0],te={id:le.current++,sender:"creator",text:URL.createObjectURL(_),fileType:ee,fileName:_.name,status:"sent",read:!1};$((_=>[..._,te]))})(_.target.files[0])}})]})})]})}const Wr=(0,ee.lazy)((()=>__webpack_require__.e(257).then(__webpack_require__.bind(__webpack_require__,2257)))),Hr=(0,ee.lazy)((()=>__webpack_require__.e(278).then(__webpack_require__.bind(__webpack_require__,8278)))),SavedScenarios=()=>{const{currentUser:_}=(0,ct.As)(),[$,te]=(0,ee.useState)([]),[ne,re]=(0,ee.useState)(""),[ie,ae]=(0,ee.useState)([]),[oe,se]=(0,ee.useState)(!0);(0,ee.useEffect)((()=>{(async()=>{await(()=>{const _=Date.now();return new Promise(($=>{setTimeout((()=>{$()}),2e3-(Date.now()-_))}))})(),await(async()=>{if(null!==_&&void 0!==_&&_.uid)try{const $=(0,St.P)((0,St.rJ)(ht.db,"saved_scenarios"),(0,St._M)("userId","==",_.uid)),ee=(await(0,St.GG)($)).docs.map((_=>({id:_.id,..._.data()})));te(ee)}catch($){console.error("\u274c Error retrieving saved scenarios:",$)}})(),se(!1)})()}),[_]);const le=$.filter((_=>_.name.toLowerCase().includes(ne.toLowerCase())));return(0,ee.useEffect)((()=>{if(ne){const _=[...new Set($.map((_=>_.name)))];ae(_.filter((_=>_.toLowerCase().startsWith(ne.toLowerCase()))))}else ae([])}),[ne,$]),(0,ft.jsxs)("div",{className:"p-4 space-y-6 min-h-screen ",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Archive of Genius..."}),(0,ft.jsxs)("div",{className:"mt-4 relative",children:[(0,ft.jsx)("input",{type:"text",value:ne,onChange:_=>re(_.target.value),placeholder:"Search Saved Scenarios",className:"pl-10 pr-4 py-2 w-1/4 border rounded-lg text-sm bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Search saved scenarios",title:"Type to search for saved scenarios"}),ie.length>0&&(0,ft.jsx)("ul",{className:"mt-2 bg-white dark:bg-gray-800 shadow-lg rounded-md max-h-40 overflow-y-auto",role:"listbox","aria-live":"polite",title:"Click a suggestion to autofill the search",children:ie.map(((_,$)=>(0,ft.jsx)("li",{role:"option",tabIndex:0,onClick:()=>re(_),onKeyDown:$=>("Enter"===$.key||" "===$.key)&&re(_),className:"px-4 py-2 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-600",title:`Click to search for "${_}"`,children:_},$)))})]}),oe&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition",role:"status","aria-live":"polite",title:"Loading saved scenarios...",children:(0,ft.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,ft.jsx)("div",{className:"absolute w-16 h-16 border-8 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,ft.jsx)("div",{className:"w-12 h-12 border-8 border-green-500 border-t-transparent rounded-full animate-[spin_1s_linear_reverse_infinite]"})]})}),!oe&&(0,ft.jsxs)("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 gap-4 p-6",children:[(0,ft.jsx)("div",{className:"w-full",children:(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading Saved..."}),children:(0,ft.jsx)(Hr,{scenarios:le})})}),(0,ft.jsx)("div",{className:"w-full",children:(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading History..."}),children:(0,ft.jsx)(Wr,{})})})]}),!oe&&0===le.length&&(0,ft.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",role:"status","aria-live":"polite",children:"No saved scenarios found."})]})};var $r=__webpack_require__(52),Kr=__webpack_require__(1529),Gr=__webpack_require__(8812);function mapValues(_,$){const ee={};for(const te in _)_.hasOwnProperty(te)&&(ee[te]=$(_[te]));return ee}function index_esm2017_encode(_){if(null==_)return null;if(_ instanceof Number&&(_=_.valueOf()),"number"===typeof _&&isFinite(_))return _;if(!0===_||!1===_)return _;if("[object String]"===Object.prototype.toString.call(_))return _;if(_ instanceof Date)return _.toISOString();if(Array.isArray(_))return _.map((_=>index_esm2017_encode(_)));if("function"===typeof _||"object"===typeof _)return mapValues(_,(_=>index_esm2017_encode(_)));throw new Error("Data cannot be encoded in JSON: "+_)}function index_esm2017_decode(_){if(null==_)return _;if(_["@type"])switch(_["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const $=Number(_.value);if(isNaN($))throw new Error("Data cannot be decoded from JSON: "+_);return $}default:throw new Error("Data cannot be decoded from JSON: "+_)}return Array.isArray(_)?_.map((_=>index_esm2017_decode(_))):"function"===typeof _||"object"===typeof _?mapValues(_,(_=>index_esm2017_decode(_))):_}const Yr="functions",Qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FunctionsError extends Kr.g{constructor(_,$,ee){super(`${Yr}/${_}`,$||""),this.details=ee,Object.setPrototypeOf(this,FunctionsError.prototype)}}function _errorForResponse(_,$){let ee,te=function codeForHTTPStatus(_){if(_>=200&&_<300)return"ok";switch(_){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(_),ne=te;try{const _=$&&$.error;if(_){const $=_.status;if("string"===typeof $){if(!Qr[$])return new FunctionsError("internal","internal");te=Qr[$],ne=$}const re=_.message;"string"===typeof re&&(ne=re),ee=_.details,void 0!==ee&&(ee=index_esm2017_decode(ee))}}catch(ci){}return"ok"===te?null:new FunctionsError(te,ne,ee)}class ContextProvider{constructor(_,$,ee,te){this.app=_,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,(0,$r.xZ)(_)&&_.settings.appCheckToken&&(this.serverAppAppCheckToken=_.settings.appCheckToken),this.auth=$.getImmediate({optional:!0}),this.messaging=ee.getImmediate({optional:!0}),this.auth||$.get().then((_=>this.auth=_),(()=>{})),this.messaging||ee.get().then((_=>this.messaging=_),(()=>{})),this.appCheck||null===te||void 0===te||te.get().then((_=>this.appCheck=_),(()=>{}))}async getAuthToken(){if(this.auth)try{const _=await this.auth.getToken();return null===_||void 0===_?void 0:_.accessToken}catch(ci){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(ci){return}}async getAppCheckToken(_){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const $=_?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return $.error?null:$.token}return null}async getContext(_){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(_)}}}const Xr="us-central1",Jr=/^data: (.*?)(?:\n|$)/;class FunctionsService{constructor(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xr,re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=_,this.fetchImpl=re,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(_,$,ee,te),this.cancelAllRequests=new Promise((_=>{this.deleteService=()=>Promise.resolve(_())}));try{const _=new URL(ne);this.customDomain=_.origin+("/"===_.pathname?"":_.pathname),this.region=Xr}catch(ci){this.customDomain=null,this.region=ne}}_delete(){return this.deleteService()}_url(_){const $=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${$}/${this.region}/${_}`}return null!==this.customDomain?`${this.customDomain}/${_}`:`https://${this.region}-${$}.cloudfunctions.net/${_}`}}function httpsCallable$1(_,$,ee){const callable=te=>function call(_,$,ee,te){const ne=_._url($);return callAtURL(_,ne,ee,te)}(_,$,te,ee||{});return callable.stream=(ee,te)=>function stream(_,$,ee,te){const ne=_._url($);return streamAtURL(_,ne,ee,te||{})}(_,$,ee,te),callable}async function postJSON(_,$,ee,te){let ne;ee["Content-Type"]="application/json";try{ne=await te(_,{method:"POST",body:JSON.stringify($),headers:ee})}catch(ci){return{status:0,json:null}}let re=null;try{re=await ne.json()}catch(ci){}return{status:ne.status,json:re}}async function makeAuthHeaders(_,$){const ee={},te=await _.contextProvider.getContext($.limitedUseAppCheckTokens);return te.authToken&&(ee.Authorization="Bearer "+te.authToken),te.messagingToken&&(ee["Firebase-Instance-ID-Token"]=te.messagingToken),null!==te.appCheckToken&&(ee["X-Firebase-AppCheck"]=te.appCheckToken),ee}async function callAtURL(_,$,ee,te){const ne={data:ee=index_esm2017_encode(ee)},re=await makeAuthHeaders(_,te),ie=function failAfter(_){let $=null;return{promise:new Promise(((ee,te)=>{$=setTimeout((()=>{te(new FunctionsError("deadline-exceeded","deadline-exceeded"))}),_)})),cancel:()=>{$&&clearTimeout($)}}}(te.timeout||7e4),ae=await Promise.race([postJSON($,ne,re,_.fetchImpl),ie.promise,_.cancelAllRequests]);if(ie.cancel(),!ae)throw new FunctionsError("cancelled","Firebase Functions instance was deleted.");const oe=_errorForResponse(ae.status,ae.json);if(oe)throw oe;if(!ae.json)throw new FunctionsError("internal","Response is not valid JSON object.");let se=ae.json.data;if("undefined"===typeof se&&(se=ae.json.result),"undefined"===typeof se)throw new FunctionsError("internal","Response is missing data field.");return{data:index_esm2017_decode(se)}}async function streamAtURL(_,$,ee,te){var ne;const re={data:ee=index_esm2017_encode(ee)},ie=await makeAuthHeaders(_,te);let ae,oe,se;ie["Content-Type"]="application/json",ie.Accept="text/event-stream";try{ae=await _.fetchImpl($,{method:"POST",body:JSON.stringify(re),headers:ie,signal:null===te||void 0===te?void 0:te.signal})}catch(ci){if(ci instanceof Error&&"AbortError"===ci.name){const _=new FunctionsError("cancelled","Request was cancelled.");return{data:Promise.reject(_),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(_)})}}}const $=_errorForResponse(0,null);return{data:Promise.reject($),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject($)})}}}const le=new Promise(((_,$)=>{oe=_,se=$}));null===(ne=null===te||void 0===te?void 0:te.signal)||void 0===ne||ne.addEventListener("abort",(()=>{const _=new FunctionsError("cancelled","Request was cancelled.");se(_)}));const de=function createResponseStream(_,$,ee,te){const processLine=(_,te)=>{const ne=_.match(Jr);if(!ne)return;const re=ne[1];try{const _=JSON.parse(re);if("result"in _)return void $(index_esm2017_decode(_.result));if("message"in _)return void te.enqueue(index_esm2017_decode(_.message));if("error"in _){const $=_errorForResponse(0,_);return te.error($),void ee($)}}catch(ie){if(ie instanceof FunctionsError)return te.error(ie),void ee(ie)}},ne=new TextDecoder;return new ReadableStream({start($){let re="";return pump();async function pump(){if(null===te||void 0===te?void 0:te.aborted){const _=new FunctionsError("cancelled","Request was cancelled");return $.error(_),ee(_),Promise.resolve()}try{const{value:ie,done:ae}=await _.read();if(ae)return re.trim()&&processLine(re.trim(),$),void $.close();if(null===te||void 0===te?void 0:te.aborted){const te=new FunctionsError("cancelled","Request was cancelled");return $.error(te),ee(te),void await _.cancel()}re+=ne.decode(ie,{stream:!0});const oe=re.split("\n");re=oe.pop()||"";for(const _ of oe)_.trim()&&processLine(_.trim(),$);return pump()}catch(ie){const _=ie instanceof FunctionsError?ie:_errorForResponse(0,null);$.error(_),ee(_)}}},cancel:()=>_.cancel()})}(ae.body.getReader(),oe,se,null===te||void 0===te?void 0:te.signal);return{stream:{[Symbol.asyncIterator](){const _=de.getReader();return{async next(){const{value:$,done:ee}=await _.read();return{value:$,done:ee}},return:async()=>(await _.cancel(),{done:!0,value:void 0})}}},data:le}}const Zr="@firebase/functions",ei="0.12.3";function index_esm2017_getFunctions(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,$r.Sx)(),$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;const ee=(0,$r.j6)((0,Kr.Ku)(_),Yr).getImmediate({identifier:$}),te=(0,Kr.yU)("functions");return te&&function connectFunctionsEmulator(_,$,ee){!function connectFunctionsEmulator$1(_,$,ee){_.emulatorOrigin=`http://${$}:${ee}`}((0,Kr.Ku)(_),$,ee)}(ee,...te),ee}!function registerFunctions(_){(0,$r.om)(new Gr.uA(Yr,((_,$)=>{let{instanceIdentifier:ee}=$;const te=_.getProvider("app").getImmediate(),ne=_.getProvider("auth-internal"),re=_.getProvider("messaging-internal"),ie=_.getProvider("app-check-internal");return new FunctionsService(te,ne,re,ie,ee)}),"PUBLIC").setMultipleInstances(!0)),(0,$r.KO)(Zr,ei,_),(0,$r.KO)(Zr,ei,"esm2017")}();__webpack_require__(8147);function copyExifWithoutOrientation(_,$){return new Promise((function(ee,te){let ne;return getApp1Segment(_).then((function(_){try{return ne=_,ee(new Blob([$.slice(0,2),ne,$.slice(2)],{type:"image/jpeg"}))}catch(_){return te(_)}}),te)}))}const getApp1Segment=_=>new Promise((($,ee)=>{const te=new FileReader;te.addEventListener("load",(_=>{let{target:{result:te}}=_;const ne=new DataView(te);let re=0;if(65496!==ne.getUint16(re))return ee("not a valid JPEG");for(re+=2;;){const _=ne.getUint16(re);if(65498===_)break;const ie=ne.getUint16(re+2);if(65505===_&&1165519206===ne.getUint32(re+4)){const _=re+10;let ae;switch(ne.getUint16(_)){case 18761:ae=!0;break;case 19789:ae=!1;break;default:return ee("TIFF header contains invalid endian")}if(42!==ne.getUint16(_+2,ae))return ee("TIFF header contains invalid version");const oe=ne.getUint32(_+4,ae),se=_+oe+2+12*ne.getUint16(_+oe,ae);for(let $=_+oe+2;$<se;$+=12)if(274==ne.getUint16($,ae)){if(3!==ne.getUint16($+2,ae))return ee("Orientation data type is invalid");if(1!==ne.getUint32($+4,ae))return ee("Orientation data count is invalid");ne.setUint16($+8,1,ae);break}return $(te.slice(re,re+2+ie))}re+=2+ie}return $(new Blob)})),te.readAsArrayBuffer(_)}));var ci={},di={get exports(){return ci},set exports(_){ci=_}};!function(){var _,$,ee={};di.exports=ee,ee.parse=function(_,$){for(var te=ee.bin.readUshort,ne=ee.bin.readUint,re=0,ie={},ae=new Uint8Array(_),oe=ae.length-4;101010256!=ne(ae,oe);)oe--;re=oe,re+=4;var se=te(ae,re+=4);te(ae,re+=2);var le=ne(ae,re+=2),de=ne(ae,re+=4);re+=4,re=de;for(var he=0;he<se;he++){ne(ae,re),re+=4,re+=4,re+=4,ne(ae,re+=4),le=ne(ae,re+=4);var fe=ne(ae,re+=4),pe=te(ae,re+=4),me=te(ae,re+2),_e=te(ae,re+4);re+=6;var be=ne(ae,re+=8);re+=4,re+=pe+me+_e,ee._readLocal(ae,be,ie,le,fe,$)}return ie},ee._readLocal=function(_,$,te,ne,re,ie){var ae=ee.bin.readUshort,oe=ee.bin.readUint;oe(_,$),ae(_,$+=4),ae(_,$+=2);var se=ae(_,$+=2);oe(_,$+=2),oe(_,$+=4),$+=4;var le=ae(_,$+=8),de=ae(_,$+=2);$+=2;var he=ee.bin.readUTF8(_,$,le);if($+=le,$+=de,ie)te[he]={size:re,csize:ne};else{var fe=new Uint8Array(_.buffer,$);if(0==se)te[he]=new Uint8Array(fe.buffer.slice($,$+ne));else{if(8!=se)throw"unknown compression method: "+se;var pe=new Uint8Array(re);ee.inflateRaw(fe,pe),te[he]=pe}}},ee.inflateRaw=function(_,$){return ee.F.inflate(_,$)},ee.inflate=function(_,$){return _[0],_[1],ee.inflateRaw(new Uint8Array(_.buffer,_.byteOffset+2,_.length-6),$)},ee.deflate=function(_,$){null==$&&($={level:6});var te=0,ne=new Uint8Array(50+Math.floor(1.1*_.length));ne[te]=120,ne[te+1]=156,te+=2,te=ee.F.deflateRaw(_,ne,te,$.level);var re=ee.adler(_,0,_.length);return ne[te+0]=re>>>24&255,ne[te+1]=re>>>16&255,ne[te+2]=re>>>8&255,ne[te+3]=re>>>0&255,new Uint8Array(ne.buffer,0,te+4)},ee.deflateRaw=function(_,$){null==$&&($={level:6});var te=new Uint8Array(50+Math.floor(1.1*_.length)),ne=ee.F.deflateRaw(_,te,ne,$.level);return new Uint8Array(te.buffer,0,ne)},ee.encode=function(_,$){null==$&&($=!1);var te=0,ne=ee.bin.writeUint,re=ee.bin.writeUshort,ie={};for(var ae in _){var oe=!ee._noNeed(ae)&&!$,se=_[ae],le=ee.crc.crc(se,0,se.length);ie[ae]={cpr:oe,usize:se.length,crc:le,file:oe?ee.deflateRaw(se):se}}for(var ae in ie)te+=ie[ae].file.length+30+46+2*ee.bin.sizeUTF8(ae);te+=22;var de=new Uint8Array(te),he=0,fe=[];for(var ae in ie){var pe=ie[ae];fe.push(he),he=ee._writeHeader(de,he,ae,pe,0)}var me=0,_e=he;for(var ae in ie)pe=ie[ae],fe.push(he),he=ee._writeHeader(de,he,ae,pe,1,fe[me++]);var be=he-_e;return ne(de,he,101010256),he+=4,re(de,he+=4,me),re(de,he+=2,me),ne(de,he+=2,be),ne(de,he+=4,_e),he+=4,he+=2,de.buffer},ee._noNeed=function(_){var $=_.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf($)},ee._writeHeader=function(_,$,te,ne,re,ie){var ae=ee.bin.writeUint,oe=ee.bin.writeUshort,se=ne.file;return ae(_,$,0==re?67324752:33639248),$+=4,1==re&&($+=2),oe(_,$,20),oe(_,$+=2,0),oe(_,$+=2,ne.cpr?8:0),ae(_,$+=2,0),ae(_,$+=4,ne.crc),ae(_,$+=4,se.length),ae(_,$+=4,ne.usize),oe(_,$+=4,ee.bin.sizeUTF8(te)),oe(_,$+=2,0),$+=2,1==re&&($+=2,$+=2,ae(_,$+=6,ie),$+=4),$+=ee.bin.writeUTF8(_,$,te),0==re&&(_.set(se,$),$+=se.length),$},ee.crc={table:function(){for(var _=new Uint32Array(256),$=0;$<256;$++){for(var ee=$,te=0;te<8;te++)1&ee?ee=3988292384^ee>>>1:ee>>>=1;_[$]=ee}return _}(),update:function(_,$,te,ne){for(var re=0;re<ne;re++)_=ee.crc.table[255&(_^$[te+re])]^_>>>8;return _},crc:function(_,$,te){return 4294967295^ee.crc.update(4294967295,_,$,te)}},ee.adler=function(_,$,ee){for(var te=1,ne=0,re=$,ie=$+ee;re<ie;){for(var ae=Math.min(re+5552,ie);re<ae;)ne+=te+=_[re++];te%=65521,ne%=65521}return ne<<16|te},ee.bin={readUshort:function(_,$){return _[$]|_[$+1]<<8},writeUshort:function(_,$,ee){_[$]=255&ee,_[$+1]=ee>>8&255},readUint:function(_,$){return 16777216*_[$+3]+(_[$+2]<<16|_[$+1]<<8|_[$])},writeUint:function(_,$,ee){_[$]=255&ee,_[$+1]=ee>>8&255,_[$+2]=ee>>16&255,_[$+3]=ee>>24&255},readASCII:function(_,$,ee){for(var te="",ne=0;ne<ee;ne++)te+=String.fromCharCode(_[$+ne]);return te},writeASCII:function(_,$,ee){for(var te=0;te<ee.length;te++)_[$+te]=ee.charCodeAt(te)},pad:function(_){return _.length<2?"0"+_:_},readUTF8:function(_,$,te){for(var ne,re="",ie=0;ie<te;ie++)re+="%"+ee.bin.pad(_[$+ie].toString(16));try{ne=decodeURIComponent(re)}catch(ne){return ee.bin.readASCII(_,$,te)}return ne},writeUTF8:function(_,$,ee){for(var te=ee.length,ne=0,re=0;re<te;re++){var ie=ee.charCodeAt(re);if(0==(4294967168&ie))_[$+ne]=ie,ne++;else if(0==(4294965248&ie))_[$+ne]=192|ie>>6,_[$+ne+1]=128|63&ie,ne+=2;else if(0==(4294901760&ie))_[$+ne]=224|ie>>12,_[$+ne+1]=128|ie>>6&63,_[$+ne+2]=128|63&ie,ne+=3;else{if(0!=(4292870144&ie))throw"e";_[$+ne]=240|ie>>18,_[$+ne+1]=128|ie>>12&63,_[$+ne+2]=128|ie>>6&63,_[$+ne+3]=128|63&ie,ne+=4}}return ne},sizeUTF8:function(_){for(var $=_.length,ee=0,te=0;te<$;te++){var ne=_.charCodeAt(te);if(0==(4294967168&ne))ee++;else if(0==(4294965248&ne))ee+=2;else if(0==(4294901760&ne))ee+=3;else{if(0!=(4292870144&ne))throw"e";ee+=4}}return ee}},ee.F={},ee.F.deflateRaw=function(_,$,te,ne){var re=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][ne],ie=ee.F.U,ae=ee.F._goodIndex;ee.F._hash;var oe=ee.F._putsE,se=0,le=te<<3,de=0,he=_.length;if(0==ne){for(;se<he;)oe($,le,se+(Me=Math.min(65535,he-se))==he?1:0),le=ee.F._copyExact(_,se,Me,$,le+8),se+=Me;return le>>>3}var fe=ie.lits,pe=ie.strt,me=ie.prev,_e=0,be=0,we=0,Ee=0,ke=0,Ve=0;for(he>2&&(pe[Ve=ee.F._hash(_,0)]=0),se=0;se<he;se++){if(ke=Ve,se+1<he-2){Ve=ee.F._hash(_,se+1);var De=se+1&32767;me[De]=pe[Ve],pe[Ve]=De}if(de<=se){(_e>14e3||be>26697)&&he-se>100&&(de<se&&(fe[_e]=se-de,_e+=2,de=se),le=ee.F._writeBlock(se==he-1||de==he?1:0,fe,_e,Ee,_,we,se-we,$,le),_e=be=Ee=0,we=se);var Ne=0;se<he-2&&(Ne=ee.F._bestMatch(_,se,me,ke,Math.min(re[2],he-se),re[3]));var Me=Ne>>>16,je=65535&Ne;if(0!=Ne){je=65535&Ne;var Le=ae(Me=Ne>>>16,ie.of0);ie.lhst[257+Le]++;var ze=ae(je,ie.df0);ie.dhst[ze]++,Ee+=ie.exb[Le]+ie.dxb[ze],fe[_e]=Me<<23|se-de,fe[_e+1]=je<<16|Le<<8|ze,_e+=2,de=se+Me}else ie.lhst[_[se]]++;be++}}for(we==se&&0!=_.length||(de<se&&(fe[_e]=se-de,_e+=2,de=se),le=ee.F._writeBlock(1,fe,_e,Ee,_,we,se-we,$,le),_e=0,be=0,_e=be=Ee=0,we=se);0!=(7&le);)le++;return le>>>3},ee.F._bestMatch=function(_,$,te,ne,re,ie){var ae=32767&$,oe=te[ae],se=ae-oe+32768&32767;if(oe==ae||ne!=ee.F._hash(_,$-se))return 0;for(var le=0,de=0,he=Math.min(32767,$);se<=he&&0!=--ie&&oe!=ae;){if(0==le||_[$+le]==_[$+le-se]){var fe=ee.F._howLong(_,$,se);if(fe>le){if(de=se,(le=fe)>=re)break;se+2<fe&&(fe=se+2);for(var pe=0,me=0;me<fe-2;me++){var _e=$-se+me+32768&32767,be=_e-te[_e]+32768&32767;be>pe&&(pe=be,oe=_e)}}}se+=(ae=oe)-(oe=te[ae])+32768&32767}return le<<16|de},ee.F._howLong=function(_,$,ee){if(_[$]!=_[$-ee]||_[$+1]!=_[$+1-ee]||_[$+2]!=_[$+2-ee])return 0;var te=$,ne=Math.min(_.length,$+258);for($+=3;$<ne&&_[$]==_[$-ee];)$++;return $-te},ee.F._hash=function(_,$){return(_[$]<<8|_[$+1])+(_[$+2]<<4)&65535},ee.saved=0,ee.F._writeBlock=function(_,$,te,ne,re,ie,ae,oe,se){var le,de,he,fe,pe,me,_e,be,we,Ee=ee.F.U,ke=ee.F._putsF,Ve=ee.F._putsE;Ee.lhst[256]++,de=(le=ee.F.getTrees())[0],he=le[1],fe=le[2],pe=le[3],me=le[4],_e=le[5],be=le[6],we=le[7];var De=32+(0==(se+3&7)?0:8-(se+3&7))+(ae<<3),Ne=ne+ee.F.contSize(Ee.fltree,Ee.lhst)+ee.F.contSize(Ee.fdtree,Ee.dhst),Me=ne+ee.F.contSize(Ee.ltree,Ee.lhst)+ee.F.contSize(Ee.dtree,Ee.dhst);Me+=14+3*_e+ee.F.contSize(Ee.itree,Ee.ihst)+(2*Ee.ihst[16]+3*Ee.ihst[17]+7*Ee.ihst[18]);for(var je=0;je<286;je++)Ee.lhst[je]=0;for(je=0;je<30;je++)Ee.dhst[je]=0;for(je=0;je<19;je++)Ee.ihst[je]=0;var Le=De<Ne&&De<Me?0:Ne<Me?1:2;if(ke(oe,se,_),ke(oe,se+1,Le),se+=3,0==Le){for(;0!=(7&se);)se++;se=ee.F._copyExact(re,ie,ae,oe,se)}else{var ze,qe;if(1==Le&&(ze=Ee.fltree,qe=Ee.fdtree),2==Le){ee.F.makeCodes(Ee.ltree,de),ee.F.revCodes(Ee.ltree,de),ee.F.makeCodes(Ee.dtree,he),ee.F.revCodes(Ee.dtree,he),ee.F.makeCodes(Ee.itree,fe),ee.F.revCodes(Ee.itree,fe),ze=Ee.ltree,qe=Ee.dtree,Ve(oe,se,pe-257),Ve(oe,se+=5,me-1),Ve(oe,se+=5,_e-4),se+=4;for(var Ke=0;Ke<_e;Ke++)Ve(oe,se+3*Ke,Ee.itree[1+(Ee.ordr[Ke]<<1)]);se+=3*_e,se=ee.F._codeTiny(be,Ee.itree,oe,se),se=ee.F._codeTiny(we,Ee.itree,oe,se)}for(var et=ie,tt=0;tt<te;tt+=2){for(var nt=$[tt],rt=nt>>>23,it=et+(8388607&nt);et<it;)se=ee.F._writeLit(re[et++],ze,oe,se);if(0!=rt){var at=$[tt+1],ot=at>>16,st=at>>8&255,lt=255&at;Ve(oe,se=ee.F._writeLit(257+st,ze,oe,se),rt-Ee.of0[st]),se+=Ee.exb[st],ke(oe,se=ee.F._writeLit(lt,qe,oe,se),ot-Ee.df0[lt]),se+=Ee.dxb[lt],et+=rt}}se=ee.F._writeLit(256,ze,oe,se)}return se},ee.F._copyExact=function(_,$,ee,te,ne){var re=ne>>>3;return te[re]=ee,te[re+1]=ee>>>8,te[re+2]=255-te[re],te[re+3]=255-te[re+1],re+=4,te.set(new Uint8Array(_.buffer,$,ee),re),ne+(ee+4<<3)},ee.F.getTrees=function(){for(var _=ee.F.U,$=ee.F._hufTree(_.lhst,_.ltree,15),te=ee.F._hufTree(_.dhst,_.dtree,15),ne=[],re=ee.F._lenCodes(_.ltree,ne),ie=[],ae=ee.F._lenCodes(_.dtree,ie),oe=0;oe<ne.length;oe+=2)_.ihst[ne[oe]]++;for(oe=0;oe<ie.length;oe+=2)_.ihst[ie[oe]]++;for(var se=ee.F._hufTree(_.ihst,_.itree,7),le=19;le>4&&0==_.itree[1+(_.ordr[le-1]<<1)];)le--;return[$,te,se,re,ae,le,ne,ie]},ee.F.getSecond=function(_){for(var $=[],ee=0;ee<_.length;ee+=2)$.push(_[ee+1]);return $},ee.F.nonZero=function(_){for(var $="",ee=0;ee<_.length;ee+=2)0!=_[ee+1]&&($+=(ee>>1)+",");return $},ee.F.contSize=function(_,$){for(var ee=0,te=0;te<$.length;te++)ee+=$[te]*_[1+(te<<1)];return ee},ee.F._codeTiny=function(_,$,te,ne){for(var re=0;re<_.length;re+=2){var ie=_[re],ae=_[re+1];ne=ee.F._writeLit(ie,$,te,ne);var oe=16==ie?2:17==ie?3:7;ie>15&&(ee.F._putsE(te,ne,ae,oe),ne+=oe)}return ne},ee.F._lenCodes=function(_,$){for(var ee=_.length;2!=ee&&0==_[ee-1];)ee-=2;for(var te=0;te<ee;te+=2){var ne=_[te+1],re=te+3<ee?_[te+3]:-1,ie=te+5<ee?_[te+5]:-1,ae=0==te?-1:_[te-1];if(0==ne&&re==ne&&ie==ne){for(var oe=te+5;oe+2<ee&&_[oe+2]==ne;)oe+=2;(se=Math.min(oe+1-te>>>1,138))<11?$.push(17,se-3):$.push(18,se-11),te+=2*se-2}else if(ne==ae&&re==ne&&ie==ne){for(oe=te+5;oe+2<ee&&_[oe+2]==ne;)oe+=2;var se=Math.min(oe+1-te>>>1,6);$.push(16,se-3),te+=2*se-2}else $.push(ne,0)}return ee>>>1},ee.F._hufTree=function(_,$,te){var ne=[],re=_.length,ie=$.length,ae=0;for(ae=0;ae<ie;ae+=2)$[ae]=0,$[ae+1]=0;for(ae=0;ae<re;ae++)0!=_[ae]&&ne.push({lit:ae,f:_[ae]});var oe=ne.length,se=ne.slice(0);if(0==oe)return 0;if(1==oe){var le=ne[0].lit;return se=0==le?1:0,$[1+(le<<1)]=1,$[1+(se<<1)]=1,1}ne.sort((function(_,$){return _.f-$.f}));var de=ne[0],he=ne[1],fe=0,pe=1,me=2;for(ne[0]={lit:-1,f:de.f+he.f,l:de,r:he,d:0};pe!=oe-1;)de=fe!=pe&&(me==oe||ne[fe].f<ne[me].f)?ne[fe++]:ne[me++],he=fe!=pe&&(me==oe||ne[fe].f<ne[me].f)?ne[fe++]:ne[me++],ne[pe++]={lit:-1,f:de.f+he.f,l:de,r:he};var _e=ee.F.setDepth(ne[pe-1],0);for(_e>te&&(ee.F.restrictDepth(se,te,_e),_e=te),ae=0;ae<oe;ae++)$[1+(se[ae].lit<<1)]=se[ae].d;return _e},ee.F.setDepth=function(_,$){return-1!=_.lit?(_.d=$,$):Math.max(ee.F.setDepth(_.l,$+1),ee.F.setDepth(_.r,$+1))},ee.F.restrictDepth=function(_,$,ee){var te=0,ne=1<<ee-$,re=0;for(_.sort((function(_,$){return $.d==_.d?_.f-$.f:$.d-_.d})),te=0;te<_.length&&_[te].d>$;te++){var ie=_[te].d;_[te].d=$,re+=ne-(1<<ee-ie)}for(re>>>=ee-$;re>0;)(ie=_[te].d)<$?(_[te].d++,re-=1<<$-ie-1):te++;for(;te>=0;te--)_[te].d==$&&re<0&&(_[te].d--,re++);0!=re&&console.log("debt left")},ee.F._goodIndex=function(_,$){var ee=0;return $[16|ee]<=_&&(ee|=16),$[8|ee]<=_&&(ee|=8),$[4|ee]<=_&&(ee|=4),$[2|ee]<=_&&(ee|=2),$[1|ee]<=_&&(ee|=1),ee},ee.F._writeLit=function(_,$,te,ne){return ee.F._putsF(te,ne,$[_<<1]),ne+$[1+(_<<1)]},ee.F.inflate=function(_,$){var te=Uint8Array;if(3==_[0]&&0==_[1])return $||new te(0);var ne=ee.F,re=ne._bitsF,ie=ne._bitsE,ae=ne._decodeTiny,oe=ne.makeCodes,se=ne.codes2map,le=ne._get17,de=ne.U,he=null==$;he&&($=new te(_.length>>>2<<3));for(var fe,pe,me=0,_e=0,be=0,we=0,Ee=0,ke=0,Ve=0,De=0,Ne=0;0==me;)if(me=re(_,Ne,1),_e=re(_,Ne+1,2),Ne+=3,0!=_e){if(he&&($=ee.F._check($,De+(1<<17))),1==_e&&(fe=de.flmap,pe=de.fdmap,ke=511,Ve=31),2==_e){be=ie(_,Ne,5)+257,we=ie(_,Ne+5,5)+1,Ee=ie(_,Ne+10,4)+4,Ne+=14;for(var Me=0;Me<38;Me+=2)de.itree[Me]=0,de.itree[Me+1]=0;var je=1;for(Me=0;Me<Ee;Me++){var Le=ie(_,Ne+3*Me,3);de.itree[1+(de.ordr[Me]<<1)]=Le,Le>je&&(je=Le)}Ne+=3*Ee,oe(de.itree,je),se(de.itree,je,de.imap),fe=de.lmap,pe=de.dmap,Ne=ae(de.imap,(1<<je)-1,be+we,_,Ne,de.ttree);var ze=ne._copyOut(de.ttree,0,be,de.ltree);ke=(1<<ze)-1;var qe=ne._copyOut(de.ttree,be,we,de.dtree);Ve=(1<<qe)-1,oe(de.ltree,ze),se(de.ltree,ze,fe),oe(de.dtree,qe),se(de.dtree,qe,pe)}for(;;){var Ke=fe[le(_,Ne)&ke];Ne+=15&Ke;var et=Ke>>>4;if(et>>>8==0)$[De++]=et;else{if(256==et)break;var tt=De+et-254;if(et>264){var nt=de.ldef[et-257];tt=De+(nt>>>3)+ie(_,Ne,7&nt),Ne+=7&nt}var rt=pe[le(_,Ne)&Ve];Ne+=15&rt;var it=rt>>>4,at=de.ddef[it],ot=(at>>>4)+re(_,Ne,15&at);for(Ne+=15&at,he&&($=ee.F._check($,De+(1<<17)));De<tt;)$[De]=$[De++-ot],$[De]=$[De++-ot],$[De]=$[De++-ot],$[De]=$[De++-ot];De=tt}}}else{0!=(7&Ne)&&(Ne+=8-(7&Ne));var st=4+(Ne>>>3),lt=_[st-4]|_[st-3]<<8;he&&($=ee.F._check($,De+lt)),$.set(new te(_.buffer,_.byteOffset+st,lt),De),Ne=st+lt<<3,De+=lt}return $.length==De?$:$.slice(0,De)},ee.F._check=function(_,$){var ee=_.length;if($<=ee)return _;var te=new Uint8Array(Math.max(ee<<1,$));return te.set(_,0),te},ee.F._decodeTiny=function(_,$,te,ne,re,ie){for(var ae=ee.F._bitsE,oe=ee.F._get17,se=0;se<te;){var le=_[oe(ne,re)&$];re+=15&le;var de=le>>>4;if(de<=15)ie[se]=de,se++;else{var he=0,fe=0;16==de?(fe=3+ae(ne,re,2),re+=2,he=ie[se-1]):17==de?(fe=3+ae(ne,re,3),re+=3):18==de&&(fe=11+ae(ne,re,7),re+=7);for(var pe=se+fe;se<pe;)ie[se]=he,se++}}return re},ee.F._copyOut=function(_,$,ee,te){for(var ne=0,re=0,ie=te.length>>>1;re<ee;){var ae=_[re+$];te[re<<1]=0,te[1+(re<<1)]=ae,ae>ne&&(ne=ae),re++}for(;re<ie;)te[re<<1]=0,te[1+(re<<1)]=0,re++;return ne},ee.F.makeCodes=function(_,$){for(var te,ne,re,ie,ae=ee.F.U,oe=_.length,se=ae.bl_count,le=0;le<=$;le++)se[le]=0;for(le=1;le<oe;le+=2)se[_[le]]++;var de=ae.next_code;for(te=0,se[0]=0,ne=1;ne<=$;ne++)te=te+se[ne-1]<<1,de[ne]=te;for(re=0;re<oe;re+=2)0!=(ie=_[re+1])&&(_[re]=de[ie],de[ie]++)},ee.F.codes2map=function(_,$,te){for(var ne=_.length,re=ee.F.U.rev15,ie=0;ie<ne;ie+=2)if(0!=_[ie+1])for(var ae=ie>>1,oe=_[ie+1],se=ae<<4|oe,le=$-oe,de=_[ie]<<le,he=de+(1<<le);de!=he;)te[re[de]>>>15-$]=se,de++},ee.F.revCodes=function(_,$){for(var te=ee.F.U.rev15,ne=15-$,re=0;re<_.length;re+=2){var ie=_[re]<<$-_[re+1];_[re]=te[ie]>>>ne}},ee.F._putsE=function(_,$,ee){ee<<=7&$;var te=$>>>3;_[te]|=ee,_[te+1]|=ee>>>8},ee.F._putsF=function(_,$,ee){ee<<=7&$;var te=$>>>3;_[te]|=ee,_[te+1]|=ee>>>8,_[te+2]|=ee>>>16},ee.F._bitsE=function(_,$,ee){return(_[$>>>3]|_[1+($>>>3)]<<8)>>>(7&$)&(1<<ee)-1},ee.F._bitsF=function(_,$,ee){return(_[$>>>3]|_[1+($>>>3)]<<8|_[2+($>>>3)]<<16)>>>(7&$)&(1<<ee)-1},ee.F._get17=function(_,$){return(_[$>>>3]|_[1+($>>>3)]<<8|_[2+($>>>3)]<<16)>>>(7&$)},ee.F._get25=function(_,$){return(_[$>>>3]|_[1+($>>>3)]<<8|_[2+($>>>3)]<<16|_[3+($>>>3)]<<24)>>>(7&$)},ee.F.U=(_=Uint16Array,$=Uint32Array,{next_code:new _(16),bl_count:new _(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new _(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new $(32),flmap:new _(512),fltree:[],fdmap:new _(32),fdtree:[],lmap:new _(32768),ltree:[],ttree:[],dmap:new _(32768),dtree:[],imap:new _(512),itree:[],rev15:new _(32768),lhst:new $(286),dhst:new $(30),ihst:new $(19),lits:new $(15e3),strt:new _(65536),prev:new _(32768)}),function(){for(var _=ee.F.U,$=0;$<32768;$++){var te=$;te=(4278255360&(te=(4042322160&(te=(3435973836&(te=(2863311530&te)>>>1|(1431655765&te)<<1))>>>2|(858993459&te)<<2))>>>4|(252645135&te)<<4))>>>8|(16711935&te)<<8,_.rev15[$]=(te>>>16|te<<16)>>>17}function pushV(_,$,ee){for(;0!=$--;)_.push(0,ee)}for($=0;$<32;$++)_.ldef[$]=_.of0[$]<<3|_.exb[$],_.ddef[$]=_.df0[$]<<4|_.dxb[$];pushV(_.fltree,144,8),pushV(_.fltree,112,9),pushV(_.fltree,24,7),pushV(_.fltree,8,8),ee.F.makeCodes(_.fltree,9),ee.F.codes2map(_.fltree,9,_.flmap),ee.F.revCodes(_.fltree,9),pushV(_.fdtree,32,5),ee.F.makeCodes(_.fdtree,5),ee.F.codes2map(_.fdtree,5,_.fdmap),ee.F.revCodes(_.fdtree,5),pushV(_.itree,19,0),pushV(_.ltree,286,0),pushV(_.dtree,30,0),pushV(_.ttree,320,0)}()}();var _i=function _mergeNamespaces(_,$){return $.forEach((function($){$&&"string"!=typeof $&&!Array.isArray($)&&Object.keys($).forEach((function(ee){if("default"!==ee&&!(ee in _)){var te=Object.getOwnPropertyDescriptor($,ee);Object.defineProperty(_,ee,te.get?te:{enumerable:!0,get:function(){return $[ee]}})}}))})),Object.freeze(_)}({__proto__:null,default:ci},[ci]);const yi=function(){var _={nextZero(_,$){for(;0!=_[$];)$++;return $},readUshort:(_,$)=>_[$]<<8|_[$+1],writeUshort(_,$,ee){_[$]=ee>>8&255,_[$+1]=255&ee},readUint:(_,$)=>16777216*_[$]+(_[$+1]<<16|_[$+2]<<8|_[$+3]),writeUint(_,$,ee){_[$]=ee>>24&255,_[$+1]=ee>>16&255,_[$+2]=ee>>8&255,_[$+3]=255&ee},readASCII(_,$,ee){let te="";for(let ne=0;ne<ee;ne++)te+=String.fromCharCode(_[$+ne]);return te},writeASCII(_,$,ee){for(let te=0;te<ee.length;te++)_[$+te]=ee.charCodeAt(te)},readBytes(_,$,ee){const te=[];for(let ne=0;ne<ee;ne++)te.push(_[$+ne]);return te},pad:_=>_.length<2?`0${_}`:_,readUTF8($,ee,te){let ne,re="";for(let ie=0;ie<te;ie++)re+=`%${_.pad($[ee+ie].toString(16))}`;try{ne=decodeURIComponent(re)}catch(ne){return _.readASCII($,ee,te)}return ne}};function decodeImage($,ee,te,ne){const re=ee*te,ie=_getBPP(ne),ae=Math.ceil(ee*ie/8),oe=new Uint8Array(4*re),se=new Uint32Array(oe.buffer),{ctype:le}=ne,{depth:de}=ne,he=_.readUshort;if(6==le){const _=re<<2;if(8==de)for(var fe=0;fe<_;fe+=4)oe[fe]=$[fe],oe[fe+1]=$[fe+1],oe[fe+2]=$[fe+2],oe[fe+3]=$[fe+3];if(16==de)for(fe=0;fe<_;fe++)oe[fe]=$[fe<<1]}else if(2==le){const _=ne.tabs.tRNS;if(null==_){if(8==de)for(fe=0;fe<re;fe++){var pe=3*fe;se[fe]=255<<24|$[pe+2]<<16|$[pe+1]<<8|$[pe]}if(16==de)for(fe=0;fe<re;fe++)pe=6*fe,se[fe]=255<<24|$[pe+4]<<16|$[pe+2]<<8|$[pe]}else{var me=_[0];const ee=_[1],te=_[2];if(8==de)for(fe=0;fe<re;fe++){var _e=fe<<2;pe=3*fe,se[fe]=255<<24|$[pe+2]<<16|$[pe+1]<<8|$[pe],$[pe]==me&&$[pe+1]==ee&&$[pe+2]==te&&(oe[_e+3]=0)}if(16==de)for(fe=0;fe<re;fe++)_e=fe<<2,pe=6*fe,se[fe]=255<<24|$[pe+4]<<16|$[pe+2]<<8|$[pe],he($,pe)==me&&he($,pe+2)==ee&&he($,pe+4)==te&&(oe[_e+3]=0)}}else if(3==le){const _=ne.tabs.PLTE,ie=ne.tabs.tRNS,se=ie?ie.length:0;if(1==de)for(var be=0;be<te;be++){var we=be*ae,Ee=be*ee;for(fe=0;fe<ee;fe++){_e=Ee+fe<<2;var ke=3*(Ve=$[we+(fe>>3)]>>7-(7&fe)&1);oe[_e]=_[ke],oe[_e+1]=_[ke+1],oe[_e+2]=_[ke+2],oe[_e+3]=Ve<se?ie[Ve]:255}}if(2==de)for(be=0;be<te;be++)for(we=be*ae,Ee=be*ee,fe=0;fe<ee;fe++)_e=Ee+fe<<2,ke=3*(Ve=$[we+(fe>>2)]>>6-((3&fe)<<1)&3),oe[_e]=_[ke],oe[_e+1]=_[ke+1],oe[_e+2]=_[ke+2],oe[_e+3]=Ve<se?ie[Ve]:255;if(4==de)for(be=0;be<te;be++)for(we=be*ae,Ee=be*ee,fe=0;fe<ee;fe++)_e=Ee+fe<<2,ke=3*(Ve=$[we+(fe>>1)]>>4-((1&fe)<<2)&15),oe[_e]=_[ke],oe[_e+1]=_[ke+1],oe[_e+2]=_[ke+2],oe[_e+3]=Ve<se?ie[Ve]:255;if(8==de)for(fe=0;fe<re;fe++){var Ve;_e=fe<<2,ke=3*(Ve=$[fe]),oe[_e]=_[ke],oe[_e+1]=_[ke+1],oe[_e+2]=_[ke+2],oe[_e+3]=Ve<se?ie[Ve]:255}}else if(4==le){if(8==de)for(fe=0;fe<re;fe++){_e=fe<<2;var De=$[Ne=fe<<1];oe[_e]=De,oe[_e+1]=De,oe[_e+2]=De,oe[_e+3]=$[Ne+1]}if(16==de)for(fe=0;fe<re;fe++){var Ne;_e=fe<<2,De=$[Ne=fe<<2],oe[_e]=De,oe[_e+1]=De,oe[_e+2]=De,oe[_e+3]=$[Ne+2]}}else if(0==le)for(me=ne.tabs.tRNS?ne.tabs.tRNS:-1,be=0;be<te;be++){const _=be*ae,te=be*ee;if(1==de)for(var Me=0;Me<ee;Me++){var je=(De=255*($[_+(Me>>>3)]>>>7-(7&Me)&1))==255*me?0:255;se[te+Me]=je<<24|De<<16|De<<8|De}else if(2==de)for(Me=0;Me<ee;Me++)je=(De=85*($[_+(Me>>>2)]>>>6-((3&Me)<<1)&3))==85*me?0:255,se[te+Me]=je<<24|De<<16|De<<8|De;else if(4==de)for(Me=0;Me<ee;Me++)je=(De=17*($[_+(Me>>>1)]>>>4-((1&Me)<<2)&15))==17*me?0:255,se[te+Me]=je<<24|De<<16|De<<8|De;else if(8==de)for(Me=0;Me<ee;Me++)je=(De=$[_+Me])==me?0:255,se[te+Me]=je<<24|De<<16|De<<8|De;else if(16==de)for(Me=0;Me<ee;Me++)De=$[_+(Me<<1)],je=he($,_+(Me<<1))==me?0:255,se[te+Me]=je<<24|De<<16|De<<8|De}return oe}function _decompress(_,ee,te,ne){const re=_getBPP(_),ie=Math.ceil(te*re/8),ae=new Uint8Array((ie+1+_.interlace)*ne);return ee=_.tabs.CgBI?$(ee,ae):_inflate(ee,ae),0==_.interlace?ee=_filterZero(ee,_,0,te,ne):1==_.interlace&&(ee=function _readInterlace(_,$){const ee=$.width,te=$.height,ne=_getBPP($),re=ne>>3,ie=Math.ceil(ee*ne/8),ae=new Uint8Array(te*ie);let oe=0;const se=[0,0,4,0,2,0,1],le=[0,4,0,2,0,1,0],de=[8,8,8,4,4,2,2],he=[8,8,4,4,2,2,1];let fe=0;for(;fe<7;){const me=de[fe],_e=he[fe];let be=0,we=0,Ee=se[fe];for(;Ee<te;)Ee+=me,we++;let ke=le[fe];for(;ke<ee;)ke+=_e,be++;const Ve=Math.ceil(be*ne/8);_filterZero(_,$,oe,be,we);let De=0,Ne=se[fe];for(;Ne<te;){let $=le[fe],te=oe+De*Ve<<3;for(;$<ee;){var pe;if(1==ne&&(pe=(pe=_[te>>3])>>7-(7&te)&1,ae[Ne*ie+($>>3)]|=pe<<7-(7&$)),2==ne&&(pe=(pe=_[te>>3])>>6-(7&te)&3,ae[Ne*ie+($>>2)]|=pe<<6-((3&$)<<1)),4==ne&&(pe=(pe=_[te>>3])>>4-(7&te)&15,ae[Ne*ie+($>>1)]|=pe<<4-((1&$)<<2)),ne>=8){const ee=Ne*ie+$*re;for(let $=0;$<re;$++)ae[ee+$]=_[(te>>3)+$]}te+=ne,$+=_e}De++,Ne+=me}be*we!=0&&(oe+=we*(1+Ve)),fe+=1}return ae}(ee,_)),ee}function _inflate(_,ee){return $(new Uint8Array(_.buffer,2,_.length-6),ee)}var $=function(){const _={H:{}};return _.H.N=function($,ee){const te=Uint8Array;let ne,re,ie=0,ae=0,oe=0,se=0,le=0,de=0,he=0,fe=0,pe=0;if(3==$[0]&&0==$[1])return ee||new te(0);const me=_.H,_e=me.b,be=me.e,we=me.R,Ee=me.n,ke=me.A,Ve=me.Z,De=me.m,Ne=null==ee;for(Ne&&(ee=new te($.length>>>2<<5));0==ie;)if(ie=_e($,pe,1),ae=_e($,pe+1,2),pe+=3,0!=ae){if(Ne&&(ee=_.H.W(ee,fe+(1<<17))),1==ae&&(ne=De.J,re=De.h,de=511,he=31),2==ae){oe=be($,pe,5)+257,se=be($,pe+5,5)+1,le=be($,pe+10,4)+4,pe+=14;let _=1;for(var Me=0;Me<38;Me+=2)De.Q[Me]=0,De.Q[Me+1]=0;for(Me=0;Me<le;Me++){const ee=be($,pe+3*Me,3);De.Q[1+(De.X[Me]<<1)]=ee,ee>_&&(_=ee)}pe+=3*le,Ee(De.Q,_),ke(De.Q,_,De.u),ne=De.w,re=De.d,pe=we(De.u,(1<<_)-1,oe+se,$,pe,De.v);const ee=me.V(De.v,0,oe,De.C);de=(1<<ee)-1;const te=me.V(De.v,oe,se,De.D);he=(1<<te)-1,Ee(De.C,ee),ke(De.C,ee,ne),Ee(De.D,te),ke(De.D,te,re)}for(;;){const _=ne[Ve($,pe)&de];pe+=15&_;const te=_>>>4;if(te>>>8==0)ee[fe++]=te;else{if(256==te)break;{let _=fe+te-254;if(te>264){const ee=De.q[te-257];_=fe+(ee>>>3)+be($,pe,7&ee),pe+=7&ee}const ne=re[Ve($,pe)&he];pe+=15&ne;const ie=ne>>>4,ae=De.c[ie],oe=(ae>>>4)+_e($,pe,15&ae);for(pe+=15&ae;fe<_;)ee[fe]=ee[fe++-oe],ee[fe]=ee[fe++-oe],ee[fe]=ee[fe++-oe],ee[fe]=ee[fe++-oe];fe=_}}}}else{0!=(7&pe)&&(pe+=8-(7&pe));const ne=4+(pe>>>3),re=$[ne-4]|$[ne-3]<<8;Ne&&(ee=_.H.W(ee,fe+re)),ee.set(new te($.buffer,$.byteOffset+ne,re),fe),pe=ne+re<<3,fe+=re}return ee.length==fe?ee:ee.slice(0,fe)},_.H.W=function(_,$){const ee=_.length;if($<=ee)return _;const te=new Uint8Array(ee<<1);return te.set(_,0),te},_.H.R=function($,ee,te,ne,re,ie){const ae=_.H.e,oe=_.H.Z;let se=0;for(;se<te;){const _=$[oe(ne,re)&ee];re+=15&_;const te=_>>>4;if(te<=15)ie[se]=te,se++;else{let _=0,$=0;16==te?($=3+ae(ne,re,2),re+=2,_=ie[se-1]):17==te?($=3+ae(ne,re,3),re+=3):18==te&&($=11+ae(ne,re,7),re+=7);const ee=se+$;for(;se<ee;)ie[se]=_,se++}}return re},_.H.V=function(_,$,ee,te){let ne=0,re=0;const ie=te.length>>>1;for(;re<ee;){const ee=_[re+$];te[re<<1]=0,te[1+(re<<1)]=ee,ee>ne&&(ne=ee),re++}for(;re<ie;)te[re<<1]=0,te[1+(re<<1)]=0,re++;return ne},_.H.n=function($,ee){const te=_.H.m,ne=$.length;let re,ie,ae,oe;const se=te.j;for(var le=0;le<=ee;le++)se[le]=0;for(le=1;le<ne;le+=2)se[$[le]]++;const de=te.K;for(re=0,se[0]=0,ie=1;ie<=ee;ie++)re=re+se[ie-1]<<1,de[ie]=re;for(ae=0;ae<ne;ae+=2)oe=$[ae+1],0!=oe&&($[ae]=de[oe],de[oe]++)},_.H.A=function($,ee,te){const ne=$.length,re=_.H.m.r;for(let _=0;_<ne;_+=2)if(0!=$[_+1]){const ne=_>>1,ie=$[_+1],ae=ne<<4|ie,oe=ee-ie;let se=$[_]<<oe;const le=se+(1<<oe);for(;se!=le;)te[re[se]>>>15-ee]=ae,se++}},_.H.l=function($,ee){const te=_.H.m.r,ne=15-ee;for(let _=0;_<$.length;_+=2){const re=$[_]<<ee-$[_+1];$[_]=te[re]>>>ne}},_.H.M=function(_,$,ee){ee<<=7&$;const te=$>>>3;_[te]|=ee,_[te+1]|=ee>>>8},_.H.I=function(_,$,ee){ee<<=7&$;const te=$>>>3;_[te]|=ee,_[te+1]|=ee>>>8,_[te+2]|=ee>>>16},_.H.e=function(_,$,ee){return(_[$>>>3]|_[1+($>>>3)]<<8)>>>(7&$)&(1<<ee)-1},_.H.b=function(_,$,ee){return(_[$>>>3]|_[1+($>>>3)]<<8|_[2+($>>>3)]<<16)>>>(7&$)&(1<<ee)-1},_.H.Z=function(_,$){return(_[$>>>3]|_[1+($>>>3)]<<8|_[2+($>>>3)]<<16)>>>(7&$)},_.H.i=function(_,$){return(_[$>>>3]|_[1+($>>>3)]<<8|_[2+($>>>3)]<<16|_[3+($>>>3)]<<24)>>>(7&$)},_.H.m=function(){const _=Uint16Array,$=Uint32Array;return{K:new _(16),j:new _(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new _(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new $(32),J:new _(512),_:[],h:new _(32),$:[],w:new _(32768),C:[],v:[],d:new _(32768),D:[],u:new _(512),Q:[],r:new _(32768),s:new $(286),Y:new $(30),a:new $(19),t:new $(15e3),k:new _(65536),g:new _(32768)}}(),function(){const $=_.H.m;for(var ee=0;ee<32768;ee++){let _=ee;_=(2863311530&_)>>>1|(1431655765&_)<<1,_=(3435973836&_)>>>2|(858993459&_)<<2,_=(4042322160&_)>>>4|(252645135&_)<<4,_=(4278255360&_)>>>8|(16711935&_)<<8,$.r[ee]=(_>>>16|_<<16)>>>17}function n(_,$,ee){for(;0!=$--;)_.push(0,ee)}for(ee=0;ee<32;ee++)$.q[ee]=$.S[ee]<<3|$.T[ee],$.c[ee]=$.p[ee]<<4|$.z[ee];n($._,144,8),n($._,112,9),n($._,24,7),n($._,8,8),_.H.n($._,9),_.H.A($._,9,$.J),_.H.l($._,9),n($.$,32,5),_.H.n($.$,5),_.H.A($.$,5,$.h),_.H.l($.$,5),n($.Q,19,0),n($.C,286,0),n($.D,30,0),n($.v,320,0)}(),_.H.N}();function _getBPP(_){return[1,null,3,1,2,null,4][_.ctype]*_.depth}function _filterZero(_,$,ee,te,ne){let re=_getBPP($);const ie=Math.ceil(te*re/8);let ae,oe;re=Math.ceil(re/8);let se=_[ee],le=0;if(se>1&&(_[ee]=[0,0,1][se-2]),3==se)for(le=re;le<ie;le++)_[le+1]=_[le+1]+(_[le+1-re]>>>1)&255;for(let de=0;de<ne;de++)if(ae=ee+de*ie,oe=ae+de+1,se=_[oe-1],le=0,0==se)for(;le<ie;le++)_[ae+le]=_[oe+le];else if(1==se){for(;le<re;le++)_[ae+le]=_[oe+le];for(;le<ie;le++)_[ae+le]=_[oe+le]+_[ae+le-re]}else if(2==se)for(;le<ie;le++)_[ae+le]=_[oe+le]+_[ae+le-ie];else if(3==se){for(;le<re;le++)_[ae+le]=_[oe+le]+(_[ae+le-ie]>>>1);for(;le<ie;le++)_[ae+le]=_[oe+le]+(_[ae+le-ie]+_[ae+le-re]>>>1)}else{for(;le<re;le++)_[ae+le]=_[oe+le]+_paeth(0,_[ae+le-ie],0);for(;le<ie;le++)_[ae+le]=_[oe+le]+_paeth(_[ae+le-re],_[ae+le-ie],_[ae+le-re-ie])}return _}function _paeth(_,$,ee){const te=_+$-ee,ne=te-_,re=te-$,ie=te-ee;return ne*ne<=re*re&&ne*ne<=ie*ie?_:re*re<=ie*ie?$:ee}function _IHDR($,ee,te){te.width=_.readUint($,ee),ee+=4,te.height=_.readUint($,ee),ee+=4,te.depth=$[ee],ee++,te.ctype=$[ee],ee++,te.compress=$[ee],ee++,te.filter=$[ee],ee++,te.interlace=$[ee],ee++}function _copyTile(_,$,ee,te,ne,re,ie,ae,oe){const se=Math.min($,ne),le=Math.min(ee,re);let de=0,he=0;for(let Ve=0;Ve<le;Ve++)for(let ee=0;ee<se;ee++)if(ie>=0&&ae>=0?(de=Ve*$+ee<<2,he=(ae+Ve)*ne+ie+ee<<2):(de=(-ae+Ve)*$-ie+ee<<2,he=Ve*ne+ee<<2),0==oe)te[he]=_[de],te[he+1]=_[de+1],te[he+2]=_[de+2],te[he+3]=_[de+3];else if(1==oe){var fe=_[de+3]*(1/255),pe=_[de]*fe,me=_[de+1]*fe,_e=_[de+2]*fe,be=te[he+3]*(1/255),we=te[he]*be,Ee=te[he+1]*be,ke=te[he+2]*be;const $=1-fe,ee=fe+be*$,ne=0==ee?0:1/ee;te[he+3]=255*ee,te[he+0]=(pe+we*$)*ne,te[he+1]=(me+Ee*$)*ne,te[he+2]=(_e+ke*$)*ne}else if(2==oe)fe=_[de+3],pe=_[de],me=_[de+1],_e=_[de+2],be=te[he+3],we=te[he],Ee=te[he+1],ke=te[he+2],fe==be&&pe==we&&me==Ee&&_e==ke?(te[he]=0,te[he+1]=0,te[he+2]=0,te[he+3]=0):(te[he]=pe,te[he+1]=me,te[he+2]=_e,te[he+3]=fe);else if(3==oe){if(fe=_[de+3],pe=_[de],me=_[de+1],_e=_[de+2],be=te[he+3],we=te[he],Ee=te[he+1],ke=te[he+2],fe==be&&pe==we&&me==Ee&&_e==ke)continue;if(fe<220&&be>20)return!1}return!0}return{decode:function decode(ee){const te=new Uint8Array(ee);let ne=8;const re=_,ie=re.readUshort,ae=re.readUint,oe={tabs:{},frames:[]},se=new Uint8Array(te.length);let le,de=0,he=0;const fe=[137,80,78,71,13,10,26,10];for(var pe=0;pe<8;pe++)if(te[pe]!=fe[pe])throw"The input is not a PNG file!";for(;ne<te.length;){const ee=re.readUint(te,ne);ne+=4;const fe=re.readASCII(te,ne,4);if(ne+=4,"IHDR"==fe)_IHDR(te,ne,oe);else if("iCCP"==fe){for(var me=ne;0!=te[me];)me++;re.readASCII(te,ne,me-ne),te[me+1];const ie=te.slice(me+2,ne+ee);let ae=null;try{ae=_inflate(ie)}catch(_){ae=$(ie)}oe.tabs[fe]=ae}else if("CgBI"==fe)oe.tabs[fe]=te.slice(ne,ne+4);else if("IDAT"==fe){for(pe=0;pe<ee;pe++)se[de+pe]=te[ne+pe];de+=ee}else if("acTL"==fe)oe.tabs[fe]={num_frames:ae(te,ne),num_plays:ae(te,ne+4)},le=new Uint8Array(te.length);else if("fcTL"==fe){0!=he&&((Ve=oe.frames[oe.frames.length-1]).data=_decompress(oe,le.slice(0,he),Ve.rect.width,Ve.rect.height),he=0);const _={x:ae(te,ne+12),y:ae(te,ne+16),width:ae(te,ne+4),height:ae(te,ne+8)};let $=ie(te,ne+22);$=ie(te,ne+20)/(0==$?100:$);const ee={rect:_,delay:Math.round(1e3*$),dispose:te[ne+24],blend:te[ne+25]};oe.frames.push(ee)}else if("fdAT"==fe){for(pe=0;pe<ee-4;pe++)le[he+pe]=te[ne+pe+4];he+=ee-4}else if("pHYs"==fe)oe.tabs[fe]=[re.readUint(te,ne),re.readUint(te,ne+4),te[ne+8]];else if("cHRM"==fe)for(oe.tabs[fe]=[],pe=0;pe<8;pe++)oe.tabs[fe].push(re.readUint(te,ne+4*pe));else if("tEXt"==fe||"zTXt"==fe){null==oe.tabs[fe]&&(oe.tabs[fe]={});var _e=re.nextZero(te,ne),be=re.readASCII(te,ne,_e-ne),we=ne+ee-_e-1;if("tEXt"==fe)ke=re.readASCII(te,_e+1,we);else{var Ee=_inflate(te.slice(_e+2,_e+2+we));ke=re.readUTF8(Ee,0,Ee.length)}oe.tabs[fe][be]=ke}else if("iTXt"==fe){null==oe.tabs[fe]&&(oe.tabs[fe]={}),_e=0,me=ne,_e=re.nextZero(te,me),be=re.readASCII(te,me,_e-me);const _=te[me=_e+1];var ke;te[me+1],me+=2,_e=re.nextZero(te,me),re.readASCII(te,me,_e-me),me=_e+1,_e=re.nextZero(te,me),re.readUTF8(te,me,_e-me),we=ee-((me=_e+1)-ne),0==_?ke=re.readUTF8(te,me,we):(Ee=_inflate(te.slice(me,me+we)),ke=re.readUTF8(Ee,0,Ee.length)),oe.tabs[fe][be]=ke}else if("PLTE"==fe)oe.tabs[fe]=re.readBytes(te,ne,ee);else if("hIST"==fe){const _=oe.tabs.PLTE.length/3;for(oe.tabs[fe]=[],pe=0;pe<_;pe++)oe.tabs[fe].push(ie(te,ne+2*pe))}else if("tRNS"==fe)3==oe.ctype?oe.tabs[fe]=re.readBytes(te,ne,ee):0==oe.ctype?oe.tabs[fe]=ie(te,ne):2==oe.ctype&&(oe.tabs[fe]=[ie(te,ne),ie(te,ne+2),ie(te,ne+4)]);else if("gAMA"==fe)oe.tabs[fe]=re.readUint(te,ne)/1e5;else if("sRGB"==fe)oe.tabs[fe]=te[ne];else if("bKGD"==fe)0==oe.ctype||4==oe.ctype?oe.tabs[fe]=[ie(te,ne)]:2==oe.ctype||6==oe.ctype?oe.tabs[fe]=[ie(te,ne),ie(te,ne+2),ie(te,ne+4)]:3==oe.ctype&&(oe.tabs[fe]=te[ne]);else if("IEND"==fe)break;ne+=ee,re.readUint(te,ne),ne+=4}var Ve;return 0!=he&&((Ve=oe.frames[oe.frames.length-1]).data=_decompress(oe,le.slice(0,he),Ve.rect.width,Ve.rect.height)),oe.data=_decompress(oe,se,oe.width,oe.height),delete oe.compress,delete oe.interlace,delete oe.filter,oe},toRGBA8:function toRGBA8(_){const $=_.width,ee=_.height;if(null==_.tabs.acTL)return[decodeImage(_.data,$,ee,_).buffer];const te=[];null==_.frames[0].data&&(_.frames[0].data=_.data);const ne=$*ee*4,re=new Uint8Array(ne),ie=new Uint8Array(ne),ae=new Uint8Array(ne);for(let se=0;se<_.frames.length;se++){const le=_.frames[se],de=le.rect.x,he=le.rect.y,fe=le.rect.width,pe=le.rect.height,me=decodeImage(le.data,fe,pe,_);if(0!=se)for(var oe=0;oe<ne;oe++)ae[oe]=re[oe];if(0==le.blend?_copyTile(me,fe,pe,re,$,ee,de,he,0):1==le.blend&&_copyTile(me,fe,pe,re,$,ee,de,he,1),te.push(re.buffer.slice(0)),0==le.dispose);else if(1==le.dispose)_copyTile(ie,fe,pe,re,$,ee,de,he,0);else if(2==le.dispose)for(oe=0;oe<ne;oe++)re[oe]=ae[oe]}return te},_paeth:_paeth,_copyTile:_copyTile,_bin:_}}();!function(){const{_copyTile:_}=yi,{_bin:$}=yi,ee=yi._paeth;var te={table:function(){const _=new Uint32Array(256);for(let $=0;$<256;$++){let ee=$;for(let _=0;_<8;_++)1&ee?ee=3988292384^ee>>>1:ee>>>=1;_[$]=ee}return _}(),update(_,$,ee,ne){for(let re=0;re<ne;re++)_=te.table[255&(_^$[ee+re])]^_>>>8;return _},crc:(_,$,ee)=>4294967295^te.update(4294967295,_,$,ee)};function addErr(_,$,ee,te){$[ee]+=_[0]*te>>4,$[ee+1]+=_[1]*te>>4,$[ee+2]+=_[2]*te>>4,$[ee+3]+=_[3]*te>>4}function N(_){return Math.max(0,Math.min(255,_))}function D(_,$){const ee=_[0]-$[0],te=_[1]-$[1],ne=_[2]-$[2],re=_[3]-$[3];return ee*ee+te*te+ne*ne+re*re}function dither(_,$,ee,te,ne,re,ie){null==ie&&(ie=1);const ae=te.length,oe=[];for(var se=0;se<ae;se++){const _=te[se];oe.push([_>>>0&255,_>>>8&255,_>>>16&255,_>>>24&255])}for(se=0;se<ae;se++){let _=4294967295;for(var le=0,de=0;de<ae;de++){var he=D(oe[se],oe[de]);de!=se&&he<_&&(_=he,le=de)}}const fe=new Uint32Array(ne.buffer),pe=new Int16Array($*ee*4),me=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(se=0;se<me.length;se++)me[se]=255*((me[se]+.5)/16-.5);for(let be=0;be<ee;be++)for(let ne=0;ne<$;ne++){var _e;se=4*(be*$+ne),2!=ie?_e=[N(_[se]+pe[se]),N(_[se+1]+pe[se+1]),N(_[se+2]+pe[se+2]),N(_[se+3]+pe[se+3])]:(he=me[4*(3&be)+(3&ne)],_e=[N(_[se]+he),N(_[se+1]+he),N(_[se+2]+he),N(_[se+3]+he)]),le=0;let we=16777215;for(de=0;de<ae;de++){const _=D(_e,oe[de]);_<we&&(we=_,le=de)}const Ee=oe[le],ke=[_e[0]-Ee[0],_e[1]-Ee[1],_e[2]-Ee[2],_e[3]-Ee[3]];1==ie&&(ne!=$-1&&addErr(ke,pe,se+4,7),be!=ee-1&&(0!=ne&&addErr(ke,pe,se+4*$-4,3),addErr(ke,pe,se+4*$,5),ne!=$-1&&addErr(ke,pe,se+4*$+4,1))),re[se>>2]=le,fe[se>>2]=te[le]}}function _main(_,ee,ne,re,ie){null==ie&&(ie={});const{crc:ae}=te,oe=$.writeUint,se=$.writeUshort,le=$.writeASCII;let de=8;const he=_.frames.length>1;let fe,pe=!1,me=33+(he?20:0);if(null!=ie.sRGB&&(me+=13),null!=ie.pHYs&&(me+=21),null!=ie.iCCP&&(fe=pako.deflate(ie.iCCP),me+=21+fe.length+4),3==_.ctype){for(var _e=_.plte.length,be=0;be<_e;be++)_.plte[be]>>>24!=255&&(pe=!0);me+=8+3*_e+4+(pe?8+1*_e+4:0)}for(var we=0;we<_.frames.length;we++)he&&(me+=38),me+=(De=_.frames[we]).cimg.length+12,0!=we&&(me+=4);me+=12;const Ee=new Uint8Array(me),ke=[137,80,78,71,13,10,26,10];for(be=0;be<8;be++)Ee[be]=ke[be];if(oe(Ee,de,13),de+=4,le(Ee,de,"IHDR"),de+=4,oe(Ee,de,ee),de+=4,oe(Ee,de,ne),de+=4,Ee[de]=_.depth,de++,Ee[de]=_.ctype,de++,Ee[de]=0,de++,Ee[de]=0,de++,Ee[de]=0,de++,oe(Ee,de,ae(Ee,de-17,17)),de+=4,null!=ie.sRGB&&(oe(Ee,de,1),de+=4,le(Ee,de,"sRGB"),de+=4,Ee[de]=ie.sRGB,de++,oe(Ee,de,ae(Ee,de-5,5)),de+=4),null!=ie.iCCP){const _=13+fe.length;oe(Ee,de,_),de+=4,le(Ee,de,"iCCP"),de+=4,le(Ee,de,"ICC profile"),de+=11,de+=2,Ee.set(fe,de),de+=fe.length,oe(Ee,de,ae(Ee,de-(_+4),_+4)),de+=4}if(null!=ie.pHYs&&(oe(Ee,de,9),de+=4,le(Ee,de,"pHYs"),de+=4,oe(Ee,de,ie.pHYs[0]),de+=4,oe(Ee,de,ie.pHYs[1]),de+=4,Ee[de]=ie.pHYs[2],de++,oe(Ee,de,ae(Ee,de-13,13)),de+=4),he&&(oe(Ee,de,8),de+=4,le(Ee,de,"acTL"),de+=4,oe(Ee,de,_.frames.length),de+=4,oe(Ee,de,null!=ie.loop?ie.loop:0),de+=4,oe(Ee,de,ae(Ee,de-12,12)),de+=4),3==_.ctype){for(oe(Ee,de,3*(_e=_.plte.length)),de+=4,le(Ee,de,"PLTE"),de+=4,be=0;be<_e;be++){const $=3*be,ee=_.plte[be],te=255&ee,ne=ee>>>8&255,re=ee>>>16&255;Ee[de+$+0]=te,Ee[de+$+1]=ne,Ee[de+$+2]=re}if(de+=3*_e,oe(Ee,de,ae(Ee,de-3*_e-4,3*_e+4)),de+=4,pe){for(oe(Ee,de,_e),de+=4,le(Ee,de,"tRNS"),de+=4,be=0;be<_e;be++)Ee[de+be]=_.plte[be]>>>24&255;de+=_e,oe(Ee,de,ae(Ee,de-_e-4,_e+4)),de+=4}}let Ve=0;for(we=0;we<_.frames.length;we++){var De=_.frames[we];he&&(oe(Ee,de,26),de+=4,le(Ee,de,"fcTL"),de+=4,oe(Ee,de,Ve++),de+=4,oe(Ee,de,De.rect.width),de+=4,oe(Ee,de,De.rect.height),de+=4,oe(Ee,de,De.rect.x),de+=4,oe(Ee,de,De.rect.y),de+=4,se(Ee,de,re[we]),de+=2,se(Ee,de,1e3),de+=2,Ee[de]=De.dispose,de++,Ee[de]=De.blend,de++,oe(Ee,de,ae(Ee,de-30,30)),de+=4);const $=De.cimg;oe(Ee,de,(_e=$.length)+(0==we?0:4)),de+=4;const ee=de;le(Ee,de,0==we?"IDAT":"fdAT"),de+=4,0!=we&&(oe(Ee,de,Ve++),de+=4),Ee.set($,de),de+=_e,oe(Ee,de,ae(Ee,ee,de-ee)),de+=4}return oe(Ee,de,0),de+=4,le(Ee,de,"IEND"),de+=4,oe(Ee,de,ae(Ee,de-4,4)),de+=4,Ee.buffer}function compressPNG(_,$,ee){for(let te=0;te<_.frames.length;te++){const ne=_.frames[te];ne.rect.width;const re=ne.rect.height,ie=new Uint8Array(re*ne.bpl+re);ne.cimg=_filterZero(ne.img,re,ne.bpp,ne.bpl,ie,$,ee)}}function compress($,ee,te,ne,re){const ie=re[0],ae=re[1],oe=re[2],se=re[3],le=re[4],de=re[5];let he=6,fe=8,pe=255;for(var me=0;me<$.length;me++){const _=new Uint8Array($[me]);for(var _e=_.length,be=0;be<_e;be+=4)pe&=_[be+3]}const we=255!=pe,Ee=function framize($,ee,te,ne,re,ie){const ae=[];for(var oe=0;oe<$.length;oe++){const de=new Uint8Array($[oe]),fe=new Uint32Array(de.buffer);var se;let pe=0,me=0,_e=ee,be=te,we=ne?1:0;if(0!=oe){const Ee=ie||ne||1==oe||0!=ae[oe-2].dispose?1:2;let ke=0,Ve=1e9;for(let _=0;_<Ee;_++){var le=new Uint8Array($[oe-1-_]);const ne=new Uint32Array($[oe-1-_]);let ie=ee,ae=te,se=-1,de=-1;for(let _=0;_<te;_++)for(let $=0;$<ee;$++)fe[he=_*ee+$]!=ne[he]&&($<ie&&(ie=$),$>se&&(se=$),_<ae&&(ae=_),_>de&&(de=_));-1==se&&(ie=ae=se=de=0),re&&(1==(1&ie)&&ie--,1==(1&ae)&&ae--);const we=(se-ie+1)*(de-ae+1);we<Ve&&(Ve=we,ke=_,pe=ie,me=ae,_e=se-ie+1,be=de-ae+1)}le=new Uint8Array($[oe-1-ke]),1==ke&&(ae[oe-1].dispose=2),se=new Uint8Array(_e*be*4),_(le,ee,te,se,_e,be,-pe,-me,0),we=_(de,ee,te,se,_e,be,-pe,-me,3)?1:0,1==we?_prepareDiff(de,ee,te,se,{x:pe,y:me,width:_e,height:be}):_(de,ee,te,se,_e,be,-pe,-me,0)}else se=de.slice(0);ae.push({rect:{x:pe,y:me,width:_e,height:be},img:se,blend:we,dispose:0})}if(ne)for(oe=0;oe<ae.length;oe++){if(1==(fe=ae[oe]).blend)continue;const _=fe.rect,ne=ae[oe-1].rect,ie=Math.min(_.x,ne.x),se=Math.min(_.y,ne.y),le={x:ie,y:se,width:Math.max(_.x+_.width,ne.x+ne.width)-ie,height:Math.max(_.y+_.height,ne.y+ne.height)-se};ae[oe-1].dispose=1,oe-1!=0&&_updateFrame($,ee,te,ae,oe-1,le,re),_updateFrame($,ee,te,ae,oe,le,re)}let de=0;if(1!=$.length)for(var he=0;he<ae.length;he++){var fe;de+=(fe=ae[he]).rect.width*fe.rect.height}return ae}($,ee,te,ie,ae,oe),ke={},Ve=[],De=[];if(0!=ne){const _=[];for(be=0;be<Ee.length;be++)_.push(Ee[be].img.buffer);const $=function concatRGBA(_){let $=0;for(var ee=0;ee<_.length;ee++)$+=_[ee].byteLength;const te=new Uint8Array($);let ne=0;for(ee=0;ee<_.length;ee++){const $=new Uint8Array(_[ee]),re=$.length;for(let _=0;_<re;_+=4){let ee=$[_],re=$[_+1],ie=$[_+2];const ae=$[_+3];0==ae&&(ee=re=ie=0),te[ne+_]=ee,te[ne+_+1]=re,te[ne+_+2]=ie,te[ne+_+3]=ae}ne+=re}return te.buffer}(_),ee=quantize($,ne);for(be=0;be<ee.plte.length;be++)Ve.push(ee.plte[be].est.rgba);let te=0;for(be=0;be<Ee.length;be++){const _=(Me=Ee[be]).img.length;var Ne=new Uint8Array(ee.inds.buffer,te>>2,_>>2);De.push(Ne);const $=new Uint8Array(ee.abuf,te,_);de&&dither(Me.img,Me.rect.width,Me.rect.height,Ve,$,Ne),Me.img.set($),te+=_}}else for(me=0;me<Ee.length;me++){var Me=Ee[me];const _=new Uint32Array(Me.img.buffer);var je=Me.rect.width;for(_e=_.length,Ne=new Uint8Array(_e),De.push(Ne),be=0;be<_e;be++){const $=_[be];if(0!=be&&$==_[be-1])Ne[be]=Ne[be-1];else if(be>je&&$==_[be-je])Ne[be]=Ne[be-je];else{let _=ke[$];if(null==_&&(ke[$]=_=Ve.length,Ve.push($),Ve.length>=300))break;Ne[be]=_}}}const Le=Ve.length;for(Le<=256&&0==le&&(fe=Le<=2?1:Le<=4?2:Le<=16?4:8,fe=Math.max(fe,se)),me=0;me<Ee.length;me++){(Me=Ee[me]).rect.x,Me.rect.y,je=Me.rect.width;const _=Me.rect.height;let $=Me.img;new Uint32Array($.buffer);let ee=4*je,te=4;if(Le<=256&&0==le){ee=Math.ceil(fe*je/8);var ze=new Uint8Array(ee*_);const ne=De[me];for(let $=0;$<_;$++){be=$*ee;const _=$*je;if(8==fe)for(var qe=0;qe<je;qe++)ze[be+qe]=ne[_+qe];else if(4==fe)for(qe=0;qe<je;qe++)ze[be+(qe>>1)]|=ne[_+qe]<<4-4*(1&qe);else if(2==fe)for(qe=0;qe<je;qe++)ze[be+(qe>>2)]|=ne[_+qe]<<6-2*(3&qe);else if(1==fe)for(qe=0;qe<je;qe++)ze[be+(qe>>3)]|=ne[_+qe]<<7-1*(7&qe)}$=ze,he=3,te=1}else if(0==we&&1==Ee.length){ze=new Uint8Array(je*_*3);const ne=je*_;for(be=0;be<ne;be++){const _=3*be,ee=4*be;ze[_]=$[ee],ze[_+1]=$[ee+1],ze[_+2]=$[ee+2]}$=ze,he=2,te=3,ee=3*je}Me.img=$,Me.bpl=ee,Me.bpp=te}return{ctype:he,depth:fe,plte:Ve,frames:Ee}}function _updateFrame($,ee,te,ne,re,ie,ae){const oe=Uint8Array,se=Uint32Array,le=new oe($[re-1]),de=new se($[re-1]),he=re+1<$.length?new oe($[re+1]):null,fe=new oe($[re]),pe=new se(fe.buffer);let me=ee,_e=te,be=-1,we=-1;for(let _=0;_<ie.height;_++)for(let $=0;$<ie.width;$++){const te=ie.x+$,ae=ie.y+_,oe=ae*ee+te,se=pe[oe];0==se||0==ne[re-1].dispose&&de[oe]==se&&(null==he||0!=he[4*oe+3])||(te<me&&(me=te),te>be&&(be=te),ae<_e&&(_e=ae),ae>we&&(we=ae))}-1==be&&(me=_e=be=we=0),ae&&(1==(1&me)&&me--,1==(1&_e)&&_e--),ie={x:me,y:_e,width:be-me+1,height:we-_e+1};const Ee=ne[re];Ee.rect=ie,Ee.blend=1,Ee.img=new Uint8Array(ie.width*ie.height*4),0==ne[re-1].dispose?(_(le,ee,te,Ee.img,ie.width,ie.height,-ie.x,-ie.y,0),_prepareDiff(fe,ee,te,Ee.img,ie)):_(fe,ee,te,Ee.img,ie.width,ie.height,-ie.x,-ie.y,0)}function _prepareDiff($,ee,te,ne,re){_($,ee,te,ne,re.width,re.height,-re.x,-re.y,2)}function _filterZero(_,$,ee,te,ne,re,ie){const ae=[];let oe,se=[0,1,2,3,4];-1!=re?se=[re]:($*te>5e5||1==ee)&&(se=[0]),ie&&(oe={level:0});const le=_i;for(var de=0;de<se.length;de++){for(let re=0;re<$;re++)_filterLine(ne,_,re,te,ee,se[de]);ae.push(le.deflate(ne,oe))}let he,fe=1e9;for(de=0;de<ae.length;de++)ae[de].length<fe&&(he=de,fe=ae[de].length);return ae[he]}function _filterLine(_,$,te,ne,re,ie){const ae=te*ne;let oe=ae+te;if(_[oe]=ie,oe++,0==ie)if(ne<500)for(var se=0;se<ne;se++)_[oe+se]=$[ae+se];else _.set(new Uint8Array($.buffer,ae,ne),oe);else if(1==ie){for(se=0;se<re;se++)_[oe+se]=$[ae+se];for(se=re;se<ne;se++)_[oe+se]=$[ae+se]-$[ae+se-re]+256&255}else if(0==te){for(se=0;se<re;se++)_[oe+se]=$[ae+se];if(2==ie)for(se=re;se<ne;se++)_[oe+se]=$[ae+se];if(3==ie)for(se=re;se<ne;se++)_[oe+se]=$[ae+se]-($[ae+se-re]>>1)+256&255;if(4==ie)for(se=re;se<ne;se++)_[oe+se]=$[ae+se]-ee($[ae+se-re],0,0)+256&255}else{if(2==ie)for(se=0;se<ne;se++)_[oe+se]=$[ae+se]+256-$[ae+se-ne]&255;if(3==ie){for(se=0;se<re;se++)_[oe+se]=$[ae+se]+256-($[ae+se-ne]>>1)&255;for(se=re;se<ne;se++)_[oe+se]=$[ae+se]+256-($[ae+se-ne]+$[ae+se-re]>>1)&255}if(4==ie){for(se=0;se<re;se++)_[oe+se]=$[ae+se]+256-ee(0,$[ae+se-ne],0)&255;for(se=re;se<ne;se++)_[oe+se]=$[ae+se]+256-ee($[ae+se-re],$[ae+se-ne],$[ae+se-re-ne])&255}}}function quantize(_,$){const ee=new Uint8Array(_),te=ee.slice(0),ne=new Uint32Array(te.buffer),re=getKDtree(te,$),ie=re[0],ae=re[1],oe=ee.length,se=new Uint8Array(oe>>2);let le;if(ee.length<2e7)for(var de=0;de<oe;de+=4)le=getNearest(ie,he=ee[de]*(1/255),fe=ee[de+1]*(1/255),pe=ee[de+2]*(1/255),me=ee[de+3]*(1/255)),se[de>>2]=le.ind,ne[de>>2]=le.est.rgba;else for(de=0;de<oe;de+=4){var he=ee[de]*(1/255),fe=ee[de+1]*(1/255),pe=ee[de+2]*(1/255),me=ee[de+3]*(1/255);for(le=ie;le.left;)le=planeDst(le.est,he,fe,pe,me)<=0?le.left:le.right;se[de>>2]=le.ind,ne[de>>2]=le.est.rgba}return{abuf:te.buffer,inds:se,plte:ae}}function getKDtree(_,$,ee){null==ee&&(ee=1e-4);const te=new Uint32Array(_.buffer),ne={i0:0,i1:_.length,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=stats(_,ne.i0,ne.i1),ne.est=estats(ne.bst);const re=[ne];for(;re.length<$;){let $=0,ne=0;for(var ie=0;ie<re.length;ie++)re[ie].est.L>$&&($=re[ie].est.L,ne=ie);if($<ee)break;const ae=re[ne],oe=splitPixels(_,te,ae.i0,ae.i1,ae.est.e,ae.est.eMq255);if(ae.i0>=oe||ae.i1<=oe){ae.est.L=0;continue}const se={i0:ae.i0,i1:oe,bst:null,est:null,tdst:0,left:null,right:null};se.bst=stats(_,se.i0,se.i1),se.est=estats(se.bst);const le={i0:oe,i1:ae.i1,bst:null,est:null,tdst:0,left:null,right:null};for(le.bst={R:[],m:[],N:ae.bst.N-se.bst.N},ie=0;ie<16;ie++)le.bst.R[ie]=ae.bst.R[ie]-se.bst.R[ie];for(ie=0;ie<4;ie++)le.bst.m[ie]=ae.bst.m[ie]-se.bst.m[ie];le.est=estats(le.bst),ae.left=se,ae.right=le,re[ne]=se,re.push(le)}for(re.sort(((_,$)=>$.bst.N-_.bst.N)),ie=0;ie<re.length;ie++)re[ie].ind=ie;return[ne,re]}function getNearest(_,$,ee,te,ne){if(null==_.left)return _.tdst=function dist(_,$,ee,te,ne){const re=$-_[0],ie=ee-_[1],ae=te-_[2],oe=ne-_[3];return re*re+ie*ie+ae*ae+oe*oe}(_.est.q,$,ee,te,ne),_;const re=planeDst(_.est,$,ee,te,ne);let ie=_.left,ae=_.right;re>0&&(ie=_.right,ae=_.left);const oe=getNearest(ie,$,ee,te,ne);if(oe.tdst<=re*re)return oe;const se=getNearest(ae,$,ee,te,ne);return se.tdst<oe.tdst?se:oe}function planeDst(_,$,ee,te,ne){const{e:re}=_;return re[0]*$+re[1]*ee+re[2]*te+re[3]*ne-_.eMq}function splitPixels(_,$,ee,te,ne,re){for(te-=4;ee<te;){for(;vecDot(_,ee,ne)<=re;)ee+=4;for(;vecDot(_,te,ne)>re;)te-=4;if(ee>=te)break;const ie=$[ee>>2];$[ee>>2]=$[te>>2],$[te>>2]=ie,ee+=4,te-=4}for(;vecDot(_,ee,ne)>re;)ee-=4;return ee+4}function vecDot(_,$,ee){return _[$]*ee[0]+_[$+1]*ee[1]+_[$+2]*ee[2]+_[$+3]*ee[3]}function stats(_,$,ee){const te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=[0,0,0,0],re=ee-$>>2;for(let ie=$;ie<ee;ie+=4){const $=_[ie]*(1/255),ee=_[ie+1]*(1/255),re=_[ie+2]*(1/255),ae=_[ie+3]*(1/255);ne[0]+=$,ne[1]+=ee,ne[2]+=re,ne[3]+=ae,te[0]+=$*$,te[1]+=$*ee,te[2]+=$*re,te[3]+=$*ae,te[5]+=ee*ee,te[6]+=ee*re,te[7]+=ee*ae,te[10]+=re*re,te[11]+=re*ae,te[15]+=ae*ae}return te[4]=te[1],te[8]=te[2],te[9]=te[6],te[12]=te[3],te[13]=te[7],te[14]=te[11],{R:te,m:ne,N:re}}function estats(_){const{R:$}=_,{m:ee}=_,{N:te}=_,re=ee[0],ie=ee[1],ae=ee[2],oe=ee[3],se=0==te?0:1/te,le=[$[0]-re*re*se,$[1]-re*ie*se,$[2]-re*ae*se,$[3]-re*oe*se,$[4]-ie*re*se,$[5]-ie*ie*se,$[6]-ie*ae*se,$[7]-ie*oe*se,$[8]-ae*re*se,$[9]-ae*ie*se,$[10]-ae*ae*se,$[11]-ae*oe*se,$[12]-oe*re*se,$[13]-oe*ie*se,$[14]-oe*ae*se,$[15]-oe*oe*se],de=le,he=ne;let fe=[Math.random(),Math.random(),Math.random(),Math.random()],pe=0,me=0;if(0!=te)for(let ne=0;ne<16&&(fe=he.multVec(de,fe),me=Math.sqrt(he.dot(fe,fe)),fe=he.sml(1/me,fe),!(0!=ne&&Math.abs(me-pe)<1e-9));ne++)pe=me;const _e=[re*se,ie*se,ae*se,oe*se];return{Cov:le,q:_e,e:fe,L:pe,eMq255:he.dot(he.sml(255,_e),fe),eMq:he.dot(fe,_e),rgba:(Math.round(255*_e[3])<<24|Math.round(255*_e[2])<<16|Math.round(255*_e[1])<<8|Math.round(255*_e[0]))>>>0}}var ne={multVec:(_,$)=>[_[0]*$[0]+_[1]*$[1]+_[2]*$[2]+_[3]*$[3],_[4]*$[0]+_[5]*$[1]+_[6]*$[2]+_[7]*$[3],_[8]*$[0]+_[9]*$[1]+_[10]*$[2]+_[11]*$[3],_[12]*$[0]+_[13]*$[1]+_[14]*$[2]+_[15]*$[3]],dot:(_,$)=>_[0]*$[0]+_[1]*$[1]+_[2]*$[2]+_[3]*$[3],sml:(_,$)=>[_*$[0],_*$[1],_*$[2],_*$[3]]};yi.encode=function encode(_,$,ee,te,ne,re,ie){null==te&&(te=0),null==ie&&(ie=!1);const ae=compress(_,$,ee,te,[!1,!1,!1,0,ie,!1]);return compressPNG(ae,-1),_main(ae,$,ee,ne,re)},yi.encodeLL=function encodeLL(_,$,ee,te,ne,re,ie,ae){const oe={ctype:0+(1==te?0:2)+(0==ne?0:4),depth:re,frames:[]},se=(te+ne)*re,le=se*$;for(let de=0;de<_.length;de++)oe.frames.push({rect:{x:0,y:0,width:$,height:ee},img:new Uint8Array(_[de]),blend:0,dispose:1,bpp:Math.ceil(se/8),bpl:Math.ceil(le/8)});return compressPNG(oe,0,!0),_main(oe,$,ee,ie,ae)},yi.encode.compress=compress,yi.encode.dither=dither,yi.quantize=quantize,yi.quantize.getKDtree=getKDtree,yi.quantize.getNearest=getNearest}();const bi={toArrayBuffer(_,$){const ee=_.width,te=_.height,ne=ee<<2,re=_.getContext("2d").getImageData(0,0,ee,te),ie=new Uint32Array(re.data.buffer),ae=(32*ee+31)/32<<2,oe=ae*te,se=122+oe,le=new ArrayBuffer(se),de=new DataView(le),he=1<<20;let fe,pe,me,_e,be=he,we=0,Ee=0,ke=0;function set16(_){de.setUint16(Ee,_,!0),Ee+=2}function set32(_){de.setUint32(Ee,_,!0),Ee+=4}function seek(_){Ee+=_}set16(19778),set32(se),seek(4),set32(122),set32(108),set32(ee),set32(-te>>>0),set16(1),set16(32),set32(3),set32(oe),set32(2835),set32(2835),seek(8),set32(16711680),set32(65280),set32(255),set32(4278190080),set32(1466527264),function convert(){for(;we<te&&be>0;){for(_e=122+we*ae,fe=0;fe<ne;)be--,pe=ie[ke++],me=pe>>>24,de.setUint32(_e+fe,pe<<8|me),fe+=4;we++}ke<ie.length?(be=he,setTimeout(convert,bi._dly)):$(le)}()},toBlob(_,$){this.toArrayBuffer(_,(_=>{$(new Blob([_],{type:"image/bmp"}))}))},_dly:9};var Ti={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Vi={[Ti.CHROME]:16384,[Ti.FIREFOX]:11180,[Ti.DESKTOP_SAFARI]:16384,[Ti.IE]:8192,[Ti.IOS]:4096,[Ti.ETC]:8192};const Ui="undefined"!=typeof window,zi="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Wi=Ui&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Yi=(Ui||zi)&&(Wi&&Wi.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),Xi=(Ui||zi)&&(Wi&&Wi.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function getFilefromDataUrl(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((te=>{const ne=_.split(","),re=ne[0].match(/:(.*?);/)[1],ie=globalThis.atob(ne[1]);let ae=ie.length;const oe=new Uint8Array(ae);for(;ae--;)oe[ae]=ie.charCodeAt(ae);const se=new Blob([oe],{type:re});se.name=$,se.lastModified=ee,te(se)}))}function getDataUrlFromFile(_){return new Promise((($,ee)=>{const te=new Xi;te.onload=()=>$(te.result),te.onerror=_=>ee(_),te.readAsDataURL(_)}))}function loadImage(_){return new Promise((($,ee)=>{const te=new Image;te.onload=()=>$(te),te.onerror=_=>ee(_),te.src=_}))}function getBrowserName(){if(void 0!==getBrowserName.cachedResult)return getBrowserName.cachedResult;let _=Ti.ETC;const{userAgent:$}=navigator;return/Chrom(e|ium)/i.test($)?_=Ti.CHROME:/iP(ad|od|hone)/i.test($)&&/WebKit/i.test($)?_=Ti.IOS:/Safari/i.test($)?_=Ti.DESKTOP_SAFARI:/Firefox/i.test($)?_=Ti.FIREFOX:(/MSIE/i.test($)||1==!!document.documentMode)&&(_=Ti.IE),getBrowserName.cachedResult=_,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(_,$){const ee=getBrowserName(),te=Vi[ee];let ne=_,re=$,ie=ne*re;const ae=ne>re?re/ne:ne/re;for(;ie>te*te;){const _=(te+ne)/2,$=(te+re)/2;_<$?(re=$,ne=$*ae):(re=_*ae,ne=_),ie=ne*re}return{width:ne,height:re}}function getNewCanvasAndCtx(_,$){let ee,te;try{if(ee=new OffscreenCanvas(_,$),te=ee.getContext("2d"),null===te)throw new Error("getContext of OffscreenCanvas returns null")}catch(_){ee=document.createElement("canvas"),te=ee.getContext("2d")}return ee.width=_,ee.height=$,[ee,te]}function drawImageInCanvas(_,$){const{width:ee,height:te}=approximateBelowMaximumCanvasSizeOfBrowser(_.width,_.height),[ne,re]=getNewCanvasAndCtx(ee,te);return $&&/jpe?g/.test($)&&(re.fillStyle="white",re.fillRect(0,0,ne.width,ne.height)),re.drawImage(_,0,0,ne.width,ne.height),ne}function isIOS(){return void 0!==isIOS.cachedResult||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(ee,te){let ne,re;var $Try_2_Post=function(){try{return re=drawImageInCanvas(ne,$.fileType||_.type),ee([ne,re])}catch(_){return te(_)}},$Try_2_Catch=function($){try{var $Try_3_Catch=function(_){try{throw _}catch(_){return te(_)}};try{let $;return getDataUrlFromFile(_).then((function(_){try{return $=_,loadImage($).then((function(_){try{return ne=_,function(){try{return $Try_2_Post()}catch(_){return te(_)}}()}catch(_){return $Try_3_Catch(_)}}),$Try_3_Catch)}catch(_){return $Try_3_Catch(_)}}),$Try_3_Catch)}catch(_){$Try_3_Catch(_)}}catch(_){return te(_)}};try{if(isIOS()||[Ti.DESKTOP_SAFARI,Ti.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(_).then((function(_){try{return ne=_,$Try_2_Post()}catch(_){return $Try_2_Catch()}}),$Try_2_Catch)}catch(_){$Try_2_Catch()}}))}function canvasToFile(_,$,ee,te){let ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(re,ie){let ae;if("image/png"===$){let oe,se,le;return oe=_.getContext("2d"),({data:se}=oe.getImageData(0,0,_.width,_.height)),le=yi.encode([se.buffer],_.width,_.height,4096*ne),ae=new Blob([le],{type:$}),ae.name=ee,ae.lastModified=te,$If_4.call(this)}{if("image/bmp"===$)return new Promise(($=>bi.toBlob(_,$))).then(function(_){try{return ae=_,ae.name=ee,ae.lastModified=te,$If_5.call(this)}catch(_){return ie(_)}}.bind(this),ie);{if("function"==typeof OffscreenCanvas&&_ instanceof OffscreenCanvas)return _.convertToBlob({type:$,quality:ne}).then(function(_){try{return ae=_,ae.name=ee,ae.lastModified=te,$If_6.call(this)}catch(_){return ie(_)}}.bind(this),ie);{let de;return de=_.toDataURL($,ne),getFilefromDataUrl(de,ee,te).then(function(_){try{return ae=_,$If_6.call(this)}catch(_){return ie(_)}}.bind(this),ie)}function $If_6(){return $If_5.call(this)}}function $If_5(){return $If_4.call(this)}}function $If_4(){return re(ae)}}))}function cleanupCanvasMemory(_){_.width=0,_.height=0}function isAutoOrientationInBrowser(){return new Promise((function(_,$){let ee,te,ne,re,ie;return void 0!==isAutoOrientationInBrowser.cachedResult?_(isAutoOrientationInBrowser.cachedResult):(ee="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(ee){try{return te=ee,drawFileInCanvas(te).then((function(ee){try{return ne=ee[1],canvasToFile(ne,te.type,te.name,te.lastModified).then((function(ee){try{return re=ee,cleanupCanvasMemory(ne),drawFileInCanvas(re).then((function(ee){try{return ie=ee[0],isAutoOrientationInBrowser.cachedResult=1===ie.width&&2===ie.height,_(isAutoOrientationInBrowser.cachedResult)}catch(_){return $(_)}}),$)}catch(_){return $(_)}}),$)}catch(_){return $(_)}}),$)}catch(_){return $(_)}}),$))}))}function getExifOrientation(_){return new Promise((($,ee)=>{const te=new Xi;te.onload=_=>{const ee=new DataView(_.target.result);if(65496!=ee.getUint16(0,!1))return $(-2);const te=ee.byteLength;let ne=2;for(;ne<te;){if(ee.getUint16(ne+2,!1)<=8)return $(-1);const _=ee.getUint16(ne,!1);if(ne+=2,65505==_){if(1165519206!=ee.getUint32(ne+=2,!1))return $(-1);const _=18761==ee.getUint16(ne+=6,!1);ne+=ee.getUint32(ne+4,_);const te=ee.getUint16(ne,_);ne+=2;for(let re=0;re<te;re++)if(274==ee.getUint16(ne+12*re,_))return $(ee.getUint16(ne+12*re+8,_))}else{if(65280!=(65280&_))break;ne+=ee.getUint16(ne,!1)}}return $(-1)},te.onerror=_=>ee(_),te.readAsArrayBuffer(_)}))}function handleMaxWidthOrHeight(_,$){const{width:ee}=_,{height:te}=_,{maxWidthOrHeight:ne}=$;let re,ie=_;return isFinite(ne)&&(ee>ne||te>ne)&&([ie,re]=getNewCanvasAndCtx(ee,te),ee>te?(ie.width=ne,ie.height=te/ee*ne):(ie.width=ee/te*ne,ie.height=ne),re.drawImage(_,0,0,ie.width,ie.height),cleanupCanvasMemory(_)),ie}function followExifOrientation(_,$){const{width:ee}=_,{height:te}=_,[ne,re]=getNewCanvasAndCtx(ee,te);switch($>4&&$<9?(ne.width=te,ne.height=ee):(ne.width=ee,ne.height=te),$){case 2:re.transform(-1,0,0,1,ee,0);break;case 3:re.transform(-1,0,0,-1,ee,te);break;case 4:re.transform(1,0,0,-1,0,te);break;case 5:re.transform(0,1,1,0,0,0);break;case 6:re.transform(0,1,-1,0,te,0);break;case 7:re.transform(0,-1,-1,0,te,ee);break;case 8:re.transform(0,-1,1,0,0,ee)}return re.drawImage(_,0,0,ee,te),cleanupCanvasMemory(_),ne}function compress(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(te,ne){let re,ie,ae,oe,se,le,de,he,fe,pe,me,_e,be,we,Ee,ke,Ve,De,Ne,Me;function incProgress(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if($.signal&&$.signal.aborted)throw $.signal.reason;re+=_,$.onProgress(Math.min(re,100))}function setProgress(_){if($.signal&&$.signal.aborted)throw $.signal.reason;re=Math.min(Math.max(_,re),100),$.onProgress(re)}return re=ee,ie=$.maxIteration||10,ae=1024*$.maxSizeMB*1024,incProgress(),drawFileInCanvas(_,$).then(function(ee){try{return[,oe]=ee,incProgress(),se=handleMaxWidthOrHeight(oe,$),incProgress(),new Promise((function(ee,te){var ne;if(!(ne=$.exifOrientation))return getExifOrientation(_).then(function(_){try{return ne=_,$If_2.call(this)}catch(_){return te(_)}}.bind(this),te);function $If_2(){return ee(ne)}return $If_2.call(this)})).then(function(ee){try{return le=ee,incProgress(),isAutoOrientationInBrowser().then(function(ee){try{return de=ee?se:followExifOrientation(se,le),incProgress(),he=$.initialQuality||1,fe=$.fileType||_.type,canvasToFile(de,fe,_.name,_.lastModified,he).then(function(ee){try{{if(pe=ee,incProgress(),me=pe.size>ae,_e=pe.size>_.size,!me&&!_e)return setProgress(100),te(pe);var re;function $Loop_3(){if(ie--&&(Ee>ae||Ee>be)){let $,ee;return $=Me?.95*Ne.width:Ne.width,ee=Me?.95*Ne.height:Ne.height,[Ve,De]=getNewCanvasAndCtx($,ee),De.drawImage(Ne,0,0,$,ee),he*="image/png"===fe?.85:.95,canvasToFile(Ve,fe,_.name,_.lastModified,he).then((function(_){try{return ke=_,cleanupCanvasMemory(Ne),Ne=Ve,Ee=ke.size,setProgress(Math.min(99,Math.floor((we-Ee)/(we-ae)*100))),$Loop_3}catch(_){return ne(_)}}),ne)}return[1]}return be=_.size,we=pe.size,Ee=we,Ne=de,Me=!$.alwaysKeepResolution&&me,(re=function(_){for(;_;){if(_.then)return void _.then(re,ne);try{if(_.pop){if(_.length)return _.pop()?$Loop_3_exit.call(this):_;_=$Loop_3}else _=_.call(this)}catch(_){return ne(_)}}}.bind(this))($Loop_3);function $Loop_3_exit(){return cleanupCanvasMemory(Ne),cleanupCanvasMemory(Ve),cleanupCanvasMemory(se),cleanupCanvasMemory(de),cleanupCanvasMemory(oe),setProgress(100),te(ke)}}}catch(le){return ne(le)}}.bind(this),ne)}catch(_){return ne(_)}}.bind(this),ne)}catch(_){return ne(_)}}.bind(this),ne)}catch(_){return ne(_)}}.bind(this),ne)}))}let Zi;function compressOnWebWorker(_,$){return new Promise(((ee,te)=>{Zi||(Zi=function createWorkerScriptURL(_){const $=[];return"function"==typeof _?$.push(`(${_})()`):$.push(_),URL.createObjectURL(new Blob($))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const ne=new Worker(Zi);ne.addEventListener("message",(function handler(_){if($.signal&&$.signal.aborted)ne.terminate();else if(void 0===_.data.progress){if(_.data.error)return te(new Error(_.data.error)),void ne.terminate();ee(_.data.file),ne.terminate()}else $.onProgress(_.data.progress)})),ne.addEventListener("error",te),$.signal&&$.signal.addEventListener("abort",(()=>{te($.signal.reason),ne.terminate()})),ne.postMessage({file:_,imageCompressionLibUrl:$.libURL,options:{...$,onProgress:void 0,signal:void 0}})}))}function imageCompression(_,$){return new Promise((function(ee,te){let ne,re,ie,ae,oe,se;if(ne={...$},ie=0,({onProgress:ae}=ne),ne.maxSizeMB=ne.maxSizeMB||Number.POSITIVE_INFINITY,oe="boolean"!=typeof ne.useWebWorker||ne.useWebWorker,delete ne.useWebWorker,ne.onProgress=_=>{ie=_,"function"==typeof ae&&ae(ie)},!(_ instanceof Blob||_ instanceof Yi))return te(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(_.type))return te(new Error("The file given is not an image"));if(se="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!oe||"function"!=typeof Worker||se)return compress(_,ne).then(function(_){try{return re=_,$If_4.call(this)}catch(_){return te(_)}}.bind(this),te);var le=function(){try{return $If_4.call(this)}catch(_){return te(_)}}.bind(this),$Try_1_Catch=function($){try{return compress(_,ne).then((function(_){try{return re=_,le()}catch(_){return te(_)}}),te)}catch(_){return te(_)}};try{return ne.libURL=ne.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",compressOnWebWorker(_,ne).then((function(_){try{return re=_,le()}catch(_){return $Try_1_Catch()}}),$Try_1_Catch)}catch(_){$Try_1_Catch()}function $If_4(){try{re.name=_.name,re.lastModified=_.lastModified}catch(_){}try{ne.preserveExif&&"image/jpeg"===_.type&&(!ne.fileType||ne.fileType&&ne.fileType===_.type)&&(re=copyExifWithoutOrientation(_,re))}catch(_){}return ee(re)}}))}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.copyExifWithoutOrientation=copyExifWithoutOrientation,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.2";const ProfileSkeleton=()=>(0,ft.jsxs)("div",{className:"animate-pulse max-w-lg mx-auto border p-8 mt-10 bg-white dark:bg-gray-900 rounded-2xl shadow-lg",children:[(0,ft.jsx)("div",{className:"h-6 w-1/2 bg-gray-300 dark:bg-gray-700 rounded mb-6"}),(0,ft.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow-lg text-center",children:[(0,ft.jsx)("div",{className:"w-24 h-24 mx-auto rounded-full bg-gray-300 dark:bg-gray-700 mb-4"}),(0,ft.jsx)("div",{className:"h-4 w-3/4 mx-auto bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,ft.jsx)("div",{className:"h-4 w-1/2 mx-auto bg-gray-300 dark:bg-gray-600 rounded"})]}),(0,ft.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,ft.jsx)("div",{className:"h-4 w-full bg-gray-300 dark:bg-gray-700 rounded"}),(0,ft.jsx)("div",{className:"h-4 w-5/6 bg-gray-300 dark:bg-gray-700 rounded"}),(0,ft.jsx)("div",{className:"h-4 w-2/3 bg-gray-300 dark:bg-gray-700 rounded"})]}),(0,ft.jsx)("div",{className:"mt-6 h-10 w-1/2 bg-gray-300 dark:bg-gray-700 rounded mx-auto"})]}),AnimatedInput=_=>{let{label:$,value:ee,onChange:te,editable:ne,isTextArea:re}=_;return(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:$}),ne?re?(0,ft.jsx)("textarea",{value:ee,onChange:_=>te(_.target.value),rows:"4",className:"p-2 w-full rounded-lg bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white ring-1 ring-blue-200 focus:ring-2 focus:ring-blue-400 transition duration-200"}):(0,ft.jsx)("input",{type:"text",value:ee,onChange:_=>te(_.target.value),className:"p-2 w-full rounded-lg bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white ring-1 ring-blue-200 focus:ring-2 focus:ring-blue-400 transition duration-200"}):(0,ft.jsx)("p",{className:"text-gray-700 dark:text-white",children:ee||"N/A"})]})},SimpleProfilePage=()=>{const{user:_}=(0,ct.As)(),[$,te]=(0,ee.useState)(null),[ne,re]=(0,ee.useState)(!0),[ie,ae]=(0,ee.useState)(!1),[oe,se]=(0,ee.useState)("personal"),[le,de]=(0,ee.useState)(null),[he,fe]=(0,ee.useState)(""),[pe,me]=(0,ee.useState)(0),[_e,be]=(0,ee.useState)(""),[we,Ee]=(0,ee.useState)(null),[ke,Ve]=(0,ee.useState)(""),[De,Ne]=(0,ee.useState)(""),[Me,je]=(0,ee.useState)(""),[Le,ze]=(0,ee.useState)(null),[qe,Ke]=(0,ee.useState)(""),[et,tt]=(0,ee.useState)(""),[nt,rt]=(0,ee.useState)(""),[it,at]=(0,ee.useState)(""),[ot,st]=(0,ee.useState)(""),[lt,ut]=(0,ee.useState)(!1),[pt,mt]=(0,ee.useState)(null),{currentUser:gt}=(0,ct.As)(),_t=(0,dt.xI)();(0,ee.useEffect)((()=>{(async()=>{const _=_t.currentUser;if(_){const $=(0,St.H9)(ht.db,"users",_.uid),ee=await(0,St.x7)($);if(ee.exists()){const _=ee.data();_.profilePicture&&Ee(_.profilePicture)}else console.log("No such document!")}})()}),[]),(0,ee.useEffect)((()=>{(async()=>{if(_)try{const ne=(0,St.H9)(ht.db,"users",_.uid),re=await(0,St.x7)(ne);if(re.exists()){var $,ee;const _=re.data();te(_),Ne(_.firstname||""),je(_.lastname||""),Ke(_.bio||""),tt(_.email||""),rt(_.phone||""),at((null===($=_.location)||void 0===$?void 0:$.city)||""),st((null===(ee=_.location)||void 0===ee?void 0:ee.country)||""),ze(_.profilePicture||null)}else console.error("No user data found in Firestore!")}catch(ne){console.error("Error fetching user data:",ne.message)}finally{setTimeout((()=>re(!1)),2e3)}})()}),[_]);return ne?(0,ft.jsx)(ProfileSkeleton,{}):ie?(0,ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ft.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,ft.jsx)("div",{className:"absolute w-16 h-16 border-8 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,ft.jsx)("div",{className:"w-12 h-12 border-8 border-green-500 border-t-transparent rounded-full animate-[spin_1s_linear_reverse_infinite]"})]})}):$?(0,ft.jsxs)("div",{className:"relative",children:[pt&&(0,ft.jsxs)("div",{className:"fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50 animate-fade-in",children:["profileUpdated"===pt&&"Profile updated successfully!","comingSoon"===pt&&"Feature coming soon!","error"===pt&&"Error occurred while updating profile!"]}),(0,ft.jsxs)("div",{className:"animate-fade-in max-w-lg mx-auto bg-white border p-8 bg-white dark:bg-gray-900 mb-20 mt-16 rounded-2xl shadow-lg hover:shadow-blue-500/50 transition-all",children:[(0,ft.jsxs)("div",{className:"animate-fade-in max-w-lg mx-auto bg-white border p-8 bg-white dark:bg-gray-900 rounded-2xl shadow-lg hover:shadow-blue-500/50 transition-all",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300",children:"Profile details"}),(0,ft.jsx)("div",{className:"p-4",children:(0,ft.jsxs)("div",{className:"",children:[(0,ft.jsxs)("div",{className:"bg-gray-100 border dark:bg-gray-800 p-6 rounded-xl shadow-lg text-center",children:[Le?(0,ft.jsx)("img",{src:Le,alt:"User Avatar",className:"border-4 dark:text-white border-gray-500 dark:border-gray-300 w-24 h-24 mx-auto rounded-full transform transition-transform duration-300 hover:scale-105"}):(0,ft.jsx)("div",{className:"w-24 h-24 mx-auto rounded-full bg-gray-300 animate-pulse"}),(0,ft.jsxs)("h2",{className:"text-xl font-semibold mt-3 text-gray-900 dark:text-white",children:[De||"John"," ",Me||"Doe"]}),(0,ft.jsx)("button",{onClick:()=>document.getElementById("file-input").click(),className:"mt-2 text-sm text-blue-500 hover:underline",children:"Update Profile Picture"})]}),(0,ft.jsx)("input",{type:"file",accept:"image/*",id:"file-input",onChange:async _=>{const $=_.target.files[0];if($){const _={maxSizeMB:.3,maxWidthOrHeight:800,useWebWorker:!0};try{const ee=await imageCompression($,_),te=new FileReader;te.onloadend=()=>{Ve(te.result),Ee(te.result)},te.readAsDataURL(ee)}catch(ee){console.error("Error compressing the image",ee)}}},className:"hidden"}),_e&&(0,ft.jsx)("div",{className:"text-red-500 text-sm mb-2",children:_e}),(0,ft.jsx)("button",{onClick:async()=>{const _=(0,dt.xI)().currentUser;if(_)if(ke)try{const $=(0,St.H9)(ht.db,"users",_.uid);await(0,St.mZ)($,{profilePicture:ke}),alert("Profile picture updated successfully!"),ze(ke),Ve(null),Ee(null)}catch($){console.error("Error saving profile picture: ",$),alert("Error updating profile picture.")}else alert("Please select an image.");else alert("No user is logged in.")},className:"bg-blue-600 text-white py-2 px-4 ml-8 mt-10 rounded-2xl hover:bg-blue-900 transition",children:"Save"})]})})]}),(0,ft.jsxs)("div",{className:"mt-6",children:[(0,ft.jsx)("div",{className:"flex flex-wrap justify-center gap-2 md:gap-4 mt-4",children:["personal","contact","address"].map((_=>(0,ft.jsx)("button",{onClick:()=>se(_),className:"text-sm md:text-base font-semibold py-2 px-3 md:px-6 rounded-full transition-all "+(oe===_?"bg-blue-500 text-white border-2 border-blue-700":"bg-gray-200 text-gray-700 hover:bg-green-300"),children:"personal"===_?"Personal Info":"contact"===_?"Contact Info":"Address"},_)))}),(0,ft.jsxs)("div",{className:"transition-all duration-300 ease-in-out",children:["personal"===oe&&(0,ft.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow-lg mt-4 animate-fade-in",children:[(0,ft.jsx)(AnimatedInput,{label:"First Name",value:De,editable:lt,onChange:Ne}),(0,ft.jsx)(AnimatedInput,{label:"Last Name",value:Me,editable:lt,onChange:je}),(0,ft.jsx)(AnimatedInput,{label:"Bio",value:qe,editable:lt,onChange:Ke,isTextArea:!0})]}),"contact"===oe&&(0,ft.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow-lg mt-4 animate-fade-in",children:[(0,ft.jsx)(AnimatedInput,{label:"Email",value:et,editable:lt,onChange:tt}),(0,ft.jsx)(AnimatedInput,{label:"Phone",value:nt,editable:lt,onChange:rt})]}),"address"===oe&&(0,ft.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow-lg mt-4 animate-fade-in",children:[(0,ft.jsx)(AnimatedInput,{label:"City",value:it,editable:lt,onChange:at}),(0,ft.jsx)(AnimatedInput,{label:"Country",value:ot,editable:lt,onChange:st})]})]})]}),(0,ft.jsx)("div",{className:"mt-6 text-center",children:(0,ft.jsx)("button",{onClick:lt?async()=>{if(_){ae(!0);try{const $=(0,St.H9)(ht.db,"users",_.uid);await(0,St.mZ)($,{firstname:De,lastname:Me,bio:qe,email:et,phone:nt,location:{city:it,country:ot}}),mt("profileUpdated"),ut(!1)}catch($){console.error("Error updating profile:",$.message),mt("error")}finally{ae(!1)}}}:()=>ut(!0),className:"px-6 py-2 rounded-lg transition-transform duration-200 ease-in-out "+(lt?"bg-blue-500 text-white hover:bg-blue-600 hover:scale-105":"bg-green-500 text-white hover:bg-green-600 hover:scale-105"),children:lt?"Save Changes":"Edit Profile"})})]})]}):(0,ft.jsx)("p",{className:"text-center text-red-500",children:"User data not found."})};var aa=__webpack_require__(4581);const pages_UserProfilePage=()=>{const{currentUser:_}=(0,ct.As)(),[$,te]=(0,ee.useState)(null),[ne,re]=(0,ee.useState)(!0);(0,ee.useEffect)((()=>{if(!_)return;const $=(0,St.aQ)((0,St.H9)(ht.db,"users",_.uid),(_=>{_.exists()&&(te(_.data()),re(!1))}));return()=>$()}),[_]);return(0,ft.jsxs)("div",{className:"p-4 space-y-6 min-h-screen",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300",children:"Personal Settings & Preferences"}),(0,ft.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,ft.jsx)("div",{className:"w-full lg:w-1/2",children:(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading Profile\u2026"}),children:(0,ft.jsx)(SimpleProfilePage,{userDetails:$,isLoading:ne})})}),(0,ft.jsx)("div",{className:"w-full lg:w-1/2 mr-8",children:(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading Account\u2026"}),children:(0,ft.jsx)(aa.default,{userDetails:$,isLoading:ne})})})]})]})};var ca=__webpack_require__(5173),ga=__webpack_require__.n(ca);function _extends(){return _extends=Object.assign||function(_){for(var $=1;$<arguments.length;$++){var ee=arguments[$];for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&(_[te]=ee[te])}return _},_extends.apply(this,arguments)}function _objectWithoutProperties(_,$){if(null==_)return{};var ee,te,ne=function _objectWithoutPropertiesLoose(_,$){if(null==_)return{};var ee,te,ne={},re=Object.keys(_);for(te=0;te<re.length;te++)ee=re[te],$.indexOf(ee)>=0||(ne[ee]=_[ee]);return ne}(_,$);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(_);for(te=0;te<re.length;te++)ee=re[te],$.indexOf(ee)>=0||Object.prototype.propertyIsEnumerable.call(_,ee)&&(ne[ee]=_[ee])}return ne}var _a=(0,ee.forwardRef)((function(_,$){var te=_.color,ne=void 0===te?"currentColor":te,re=_.size,ie=void 0===re?24:re,ae=_objectWithoutProperties(_,["color","size"]);return ee.createElement("svg",_extends({ref:$,xmlns:"http://www.w3.org/2000/svg",width:ie,height:ie,viewBox:"0 0 24 24",fill:"none",stroke:ne,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},ae),ee.createElement("polyline",{points:"18 15 12 9 6 15"}))}));_a.propTypes={color:ga().string,size:ga().oneOfType([ga().string,ga().number])},_a.displayName="ChevronUp";const ya=_a;function chevron_right_extends(){return chevron_right_extends=Object.assign||function(_){for(var $=1;$<arguments.length;$++){var ee=arguments[$];for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&(_[te]=ee[te])}return _},chevron_right_extends.apply(this,arguments)}function chevron_right_objectWithoutProperties(_,$){if(null==_)return{};var ee,te,ne=function chevron_right_objectWithoutPropertiesLoose(_,$){if(null==_)return{};var ee,te,ne={},re=Object.keys(_);for(te=0;te<re.length;te++)ee=re[te],$.indexOf(ee)>=0||(ne[ee]=_[ee]);return ne}(_,$);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(_);for(te=0;te<re.length;te++)ee=re[te],$.indexOf(ee)>=0||Object.prototype.propertyIsEnumerable.call(_,ee)&&(ne[ee]=_[ee])}return ne}var Na=(0,ee.forwardRef)((function(_,$){var te=_.color,ne=void 0===te?"currentColor":te,re=_.size,ie=void 0===re?24:re,ae=chevron_right_objectWithoutProperties(_,["color","size"]);return ee.createElement("svg",chevron_right_extends({ref:$,xmlns:"http://www.w3.org/2000/svg",width:ie,height:ie,viewBox:"0 0 24 24",fill:"none",stroke:ne,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},ae),ee.createElement("polyline",{points:"9 18 15 12 9 6"}))}));Na.propTypes={color:ga().string,size:ga().oneOfType([ga().string,ga().number])},Na.displayName="ChevronRight";const Fa=Na,Ba=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(109),__webpack_require__.e(407)]).then(__webpack_require__.bind(__webpack_require__,3407)))),Support=()=>{const[_,$]=(0,ee.useState)("FAQs"),[te,ne]=(0,ee.useState)({categoryIdx:null,faqIdx:null}),re={FAQs:"FAQs",Contact:"Contact Us"},isOpen=(_,$)=>te.categoryIdx===_&&te.faqIdx===$,handleFaqToggle=(_,$)=>{isOpen(_,$)?ne({categoryIdx:null,faqIdx:null}):ne({categoryIdx:_,faqIdx:$})};return(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsx)("div",{role:"tablist",className:"flex flex-wrap gap-4 justify-center mt-8 sm:justify-start mb-4 sm:mb-6",children:Object.keys(re).map((ee=>(0,ft.jsx)("button",{role:"tab","aria-selected":_===ee,"aria-controls":`${ee}-panel`,id:`${ee}-tab`,onClick:()=>$(ee),title:`Go to ${re[ee]}`,className:"px-4 py-2 sm:px-5 sm:py-2 rounded-full font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 "+(_===ee?"bg-blue-500 text-white border border-blue-700":"bg-gray-300 text-gray-800 hover:bg-green-300"),children:re[ee]},ee)))}),(0,ft.jsxs)("div",{className:"relative grid h-full grid-cols-1 msm:grid-cols-2 lg:grid-cols-1 gap-6 transition-all",children:["FAQs"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,ft.jsx)("div",{className:"w-10 h-10 border-4 border-blue-400 border-t-transparent rounded-full animate-spin"})}),children:(0,ft.jsxs)("div",{id:"FAQs-panel",role:"tabpanel","aria-labelledby":"FAQs-tab",className:"space-y-4",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-black dark:text-green-500",children:"Frequently Asked Questions"}),[{category:"General",faqs:[{question:"What is Omnis and what does it do?",answer:"Omnis is an AI-powered platform that helps individuals and businesses make better, data-informed decisions through scenario analysis, multi-path scenario evaluation, predictive modeling, and personalized insights."},{question:"Who is Omnis for?",answer:"Omnis is designed for decision-makers across industries\u2014founders, teams, professionals, and anyone seeking to turn complexity into clarity."}]},{category:"Account",faqs:[{question:"Is Omnis free to use?",answer:"Omnis offers a free tier with core features, and additional premium features will be available under paid plans."},{question:"How do I reset my password?",answer:"To reset your password, click 'Forgot Password' on the login page and follow the instructions sent to your email."}]},{category:"Security",faqs:[{question:"Is my data safe with Omnis?",answer:"Yes. We prioritize your data privacy and security using best-in-class encryption and user-controlled data permissions."},{question:"How can I enable two-factor authentication?",answer:"You can enable two-factor authentication in your account settings. Just follow the steps under 'Security Settings.'"}]}].map(((_,$)=>(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsx)("h4",{className:"text-lg font-semibold text-green-500 dark:text-white",children:_.category}),_.faqs.map(((_,ee)=>(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md hover:shadow-blue-500/30 transition-all",title:"Click to expand the answer",children:[(0,ft.jsxs)("button",{role:"button",tabIndex:0,"aria-expanded":isOpen($,ee),"aria-controls":`faq-${$}-${ee}`,onClick:()=>handleFaqToggle($,ee),onKeyDown:_=>("Enter"===_.key||" "===_.key)&&handleFaqToggle($,ee),className:"w-full text-left flex justify-between items-center text-base md:text-lg font-medium text-blue-600 dark:text-blue-400",children:[_.question,(0,ft.jsx)("span",{className:"ml-2 text-xl",children:isOpen($,ee)?(0,ft.jsx)(ya,{}):(0,ft.jsx)(Fa,{})})]}),isOpen($,ee)&&(0,ft.jsx)("p",{id:`faq-${$}-${ee}`,className:"mt-3 text-sm md:text-base text-gray-700 dark:text-gray-300",children:_.answer})]},ee)))]},$)))]})}),"Contact"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,ft.jsx)("div",{className:"w-10 h-10 border-4 border-blue-400 border-t-transparent rounded-full animate-spin"})}),children:(0,ft.jsxs)("div",{id:"Contact-panel",role:"tabpanel","aria-labelledby":"Contact-tab",className:"space-y-4",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-green-500 dark:text-green-500",children:"Contact Us"}),(0,ft.jsx)(Ba,{})]})})]})]})};var za=__webpack_require__(2382),Ha=__webpack_require__(8326);const SubscriptionAndBilling_SubscriptionCard=_=>{var $,te;let{userDetails:ne}=_;const[re,ie]=(0,ee.useState)(!1),[ae,oe]=(0,ee.useState)(!1),se=index_esm2017_getFunctions(),toggleOpen=()=>{ie((_=>{const $=!_;return $&&(oe(!0),setTimeout((()=>oe(!1)),1e3)),$}))},handleCheckout=async _=>{const $=function index_esm2017_httpsCallable(_,$,ee){return httpsCallable$1((0,Kr.Ku)(_),$,ee)}(se,"createCheckoutSession"),{data:ee}=await $({priceId:_,successUrl:window.location.href+"?subscribed=true",cancelUrl:window.location.href})};return(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 border shadow-lg rounded-xl p-6 transition hover:shadow-blue-500/50",children:[(0,ft.jsxs)("div",{role:"button",tabIndex:0,"aria-expanded":re,"aria-controls":"subscription-content","aria-label":"Toggle Subscription Section",onClick:toggleOpen,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&toggleOpen(),className:"flex justify-between items-center cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300",children:"Subscription"}),re?(0,ft.jsx)(za.A,{className:"w-5 h-5 dark:text-white"}):(0,ft.jsx)(Ha.A,{className:"w-5 h-5 dark:text-white"})]}),(0,ft.jsx)("div",{id:"subscription-content",className:"overflow-hidden transition-all duration-300 ease-in-out "+(re?"max-h-64 opacity-100 mt-4":"max-h-0 opacity-0"),children:ae?(0,ft.jsxs)("div",{className:"animate-pulse space-y-2",children:[(0,ft.jsx)("div",{className:"h-5 w-2/3 bg-gray-300 dark:bg-gray-700 rounded"}),(0,ft.jsx)("div",{className:"h-5 w-1/2 bg-gray-300 dark:bg-gray-700 rounded"}),(0,ft.jsx)("div",{className:"h-10 w-full bg-blue-300 dark:bg-blue-700 rounded"})]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Current Plan: ",(null===ne||void 0===ne||null===($=ne.subscription)||void 0===$?void 0:$.plan)||"N/A"]}),(0,ft.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Next Payment: ",(null===ne||void 0===ne||null===(te=ne.subscription)||void 0===te?void 0:te.nextPaymentDate)||"N/A"]}),(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("button",{"aria-label":"Upgrade to premium",onClick:()=>handleCheckout(ne.subscription.premiumPriceId),className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Upgrade"}),(0,ft.jsx)("button",{"aria-label":"Downgrade to basic",onClick:()=>handleCheckout(ne.subscription.basicPriceId),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Downgrade"})]})]})})]})},SubscriptionAndBilling_BillingInfoForm=_=>{let{onSaveBillingInfo:$}=_;const[te,ne]=(0,ee.useState)(!1),[re,ie]=(0,ee.useState)(!1),[ae,oe]=(0,ee.useState)(!1),[se,le]=(0,ee.useState)(""),[de,he]=(0,ee.useState)({cardNumber:"",billingAddress:""}),toggleOpen=()=>{ne((_=>{const $=!_;return $&&(ie(!0),setTimeout((()=>ie(!1)),1e3)),$}))},handleChange=_=>he(($=>({...$,[_.target.name]:_.target.value})));return(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg border rounded-xl p-6 transition hover:shadow-blue-500/50 relative",children:[se&&(0,ft.jsx)("div",{className:"fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded animate-fade-in z-50",children:se}),(0,ft.jsxs)("div",{role:"button",tabIndex:0,"aria-expanded":te,"aria-controls":"billing-content","aria-label":"Toggle Billing Information Section",onClick:toggleOpen,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&toggleOpen(),className:"flex justify-between items-center cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300",children:"Billing Information"}),te?(0,ft.jsx)(za.A,{className:"w-5 h-5 dark:text-white"}):(0,ft.jsx)(Ha.A,{className:"w-5 h-5 dark:text-white"})]}),(0,ft.jsx)("div",{id:"billing-content",className:"overflow-hidden transition-all duration-300 ease-in-out "+(te?"max-h-96 opacity-100 mt-4":"max-h-0 opacity-0"),children:re?(0,ft.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,ft.jsx)("div",{className:"h-10 bg-gray-300 dark:bg-gray-700 rounded"}),(0,ft.jsx)("div",{className:"h-10 bg-gray-300 dark:bg-gray-700 rounded"}),(0,ft.jsx)("div",{className:"h-10 bg-blue-300 dark:bg-blue-700 rounded"})]}):(0,ft.jsxs)("form",{onSubmit:async _=>{_.preventDefault(),oe(!0);try{await $(de),le("Billing info saved!")}catch{le("Save failed.")}finally{oe(!1),setTimeout((()=>le("")),3e3)}},className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"cardNumber",className:"block text-gray-600 dark:text-white",children:"Card Number"}),(0,ft.jsx)("input",{id:"cardNumber",name:"cardNumber",value:de.cardNumber,onChange:handleChange,className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\r bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"billingAddress",className:"block text-gray-600 dark:text-white",children:"Billing Address"}),(0,ft.jsx)("input",{id:"billingAddress",name:"billingAddress",value:de.billingAddress,onChange:handleChange,className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\r bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,ft.jsx)("button",{type:"submit",disabled:ae,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:ae?"Saving\u2026":"Save Billing Info"})]})})]})},components_SubscriptionHistory=_=>{let{subscriptions:$}=_;const ee=$||[];return(0,ft.jsxs)("div",{className:"bg-white  border dark:bg-gray-800 p-6 rounded-xl shadow-lg transition hover:shadow-blue-500/50",role:"region","aria-labelledby":"sub-History",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-4 text-green-500",children:"Subscription History"}),0===ee.length?(0,ft.jsx)("p",{className:" dark:text-gray-100",children:"No subscriptions found."}):(0,ft.jsxs)("table",{className:"w-full border-collapse",children:[(0,ft.jsx)("thead",{children:(0,ft.jsxs)("tr",{className:"border-b",children:[(0,ft.jsx)("th",{className:"text-left p-2",children:"Date"}),(0,ft.jsx)("th",{className:"text-left p-2",children:"Plan"}),(0,ft.jsx)("th",{className:"text-left p-2",children:"Amount"}),(0,ft.jsx)("th",{className:"text-left p-2",children:"Status"})]})}),(0,ft.jsx)("tbody",{children:ee.map((_=>{let{id:$,date:ee,plan:te,amount:ne,status:re}=_;return(0,ft.jsxs)("tr",{className:"border-b hover:bg-gray-100",children:[(0,ft.jsx)("td",{className:"p-2",children:new Date(ee).toLocaleDateString()}),(0,ft.jsx)("td",{className:"p-2",children:te}),(0,ft.jsxs)("td",{className:"p-2",children:["$",ne.toFixed(2)]}),(0,ft.jsx)("td",{className:"p-2",children:(0,ft.jsx)("span",{className:"px-2 py-1 rounded text-white "+("active"===re?"bg-green-500":"cancelled"===re?"bg-red-500":"bg-gray-500"),children:re.charAt(0).toUpperCase()+re.slice(1)})})]},$)}))})]})]})},components_SavedCardDetails=_=>{let{card:$,onUpdate:ee,onRemove:te}=_;return $?(0,ft.jsx)("div",{className:"bg-white border dark:bg-gray-800 p-6 rounded-xl shadow-lg transition hover:shadow-blue-500/50",role:"region","aria-labelledby":"saved-card-details",children:(0,ft.jsxs)("section",{children:[(0,ft.jsx)("h2",{className:"text-xl text-green-500 font-semibold mb-4",children:"Saved Card Details"}),(0,ft.jsxs)("div",{className:"p-4 border rounded shadow-sm max-w-md",children:[(0,ft.jsxs)("p",{children:[(0,ft.jsx)("strong",{children:"Cardholder Name:"})," ",$.name]}),(0,ft.jsxs)("p",{children:[(0,ft.jsx)("strong",{children:"Card Number:"})," **** **** **** ",$.last4]}),(0,ft.jsxs)("p",{children:[(0,ft.jsx)("strong",{children:"Expiry:"})," ",$.expiryMonth,"/",$.expiryYear]}),(0,ft.jsxs)("div",{className:"mt-4 space-x-4",children:[(0,ft.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:ee,children:"Update Card"}),(0,ft.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",onClick:te,children:"Remove Card"})]})]})]})}):(0,ft.jsx)("div",{className:"bg-white border dark:bg-gray-800 p-6 rounded-xl shadow-lg transition hover:shadow-blue-500/50",role:"region","aria-labelledby":"saved-card-details",children:(0,ft.jsxs)("section",{children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-4 text-green-500",children:"Saved Card Details"}),(0,ft.jsx)("p",{className:" dark:text-gray-100",children:"No saved card details available."})]})})},RecieptGenerator=_=>{let{subscriptions:$}=_;const te=$||[],[ne,re]=(0,ee.useState)(null);return(0,ft.jsx)("div",{className:"bg-white  border dark:bg-gray-800 p-6 rounded-xl shadow-lg transition hover:shadow-blue-500/50",role:"region","aria-labelledby":"sub-History",children:(0,ft.jsxs)("section",{children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-4 text-green-500",children:"Receipt Generator"}),(0,ft.jsx)("p",{className:" dark:text-gray-100",children:"Please click on the button below to generate your reciept"}),(0,ft.jsx)("div",{className:"max-w-md mt-8",children:(0,ft.jsx)("button",{disabled:!ne,className:"px-4 py-2 rounded text-white "+(ne?"bg-blue-600 hover:bg-green-700":"bg-blue-400 cursor-not-allowed"),onClick:()=>{const _=te.find((_=>_.id===ne));if(!_)return;const $=`\n      Receipt\n      ----------\n      Date: ${new Date(_.date).toLocaleDateString()}\n      Plan: ${_.plan}\n      Amount: $${_.amount.toFixed(2)}\n      Status: ${_.status}\n    `,ee=new Blob([$],{type:"text/plain"}),re=URL.createObjectURL(ee),ie=document.createElement("a");ie.href=re,ie.download=`receipt-${_.id}.txt`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(re)},children:"Download Receipt"})})]})})},pages_PaymentsPage=()=>{const{currentUser:_}=(0,ct.As)(),[$,te]=(0,ee.useState)(null),[ne,re]=(0,ee.useState)(!1);(0,ee.useEffect)((()=>{if(!_)return te(null),void re(!1);re(!0);const $=(0,St.aQ)((0,St.H9)(ht.db,"users",_.uid),(_=>{_.exists()?te(_.data()):te(null),re(!1)}));return()=>$()}),[_]);const[ie,ae]=(0,ee.useState)(null);return(0,ft.jsxs)("div",{className:"p-4 space-y-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Payment and Subscription..."}),(0,ft.jsx)("main",{className:"min-h-screen bg-white dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,ft.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10",children:[(0,ft.jsxs)("section",{className:"flex-1 space-y-8",children:[(0,ft.jsx)(components_SubscriptionHistory,{setReceiptData:ae}),(0,ft.jsx)(RecieptGenerator,{receiptData:ie})]}),(0,ft.jsxs)("section",{className:"bg-white flex-1 space-y-4 border dark:bg-gray-800 p-6 rounded-xl shadow-lg transition hover:shadow-blue-500/50",role:"region","aria-labelledby":"sub-bill-heading",children:[(0,ft.jsx)("h2",{id:"sub-bill-heading",className:"text-xl font-semibold text-green-500 dark:text-green-500 mb-4",children:"Subscription & Billing Info"}),(0,ft.jsx)(SubscriptionAndBilling_SubscriptionCard,{}),(0,ft.jsx)(SubscriptionAndBilling_BillingInfoForm,{})]})]}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsx)(components_SavedCardDetails,{})})]})})]})};var Ga=__webpack_require__(5711);const pages_ResourcesPage=()=>{const[_,$]=(0,ee.useState)("documentation"),[te,ne]=(0,ee.useState)(null),re={documentation:"View guides, API docs, and manuals",tutorials:"Learn how to use Omnis step-by-step",tools:"Explore helpful resources and utilities",FAQs:"Find answers to common questions",downloads:"Access templates, whitepapers, and software"};return(0,ft.jsxs)("div",{className:"p-6 bg-gray-100 min-h-screen dark:bg-gray-900",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Docs, Guides, maybe FAQs?"}),(0,ft.jsxs)("div",{role:"tablist","aria-label":"Resource Sections",className:"mt-6",children:[(0,ft.jsx)("div",{className:"flex flex-wrap justify-center gap-2 md:gap-4 mt-4",children:["documentation","tutorials","tools","FAQs","downloads"].map(((ee,te)=>(0,ft.jsx)("button",{role:"tab",id:`tab-${ee}`,title:re[ee],"aria-selected":_===ee,"aria-controls":`panel-${ee}`,tabIndex:0===te?0:-1,onClick:()=>$(ee),onKeyDown:te=>((ee,te)=>{if("Enter"!==ee.key&&" "!==ee.key||$(te),"ArrowRight"===ee.key){const ee=["documentation","tutorials","tools","FAQs","downloads"],te=(ee.indexOf(_)+1)%ee.length;$(ee[te])}if("ArrowLeft"===ee.key){const ee=["documentation","tutorials","tools","FAQs","downloads"],te=(ee.indexOf(_)-1+ee.length)%ee.length;$(ee[te])}})(te,ee),className:"text-sm md:text-base font-semibold py-2 px-3 md:px-6 rounded-full transition-all "+(_===ee?"bg-blue-500 text-white border-2 border-blue-700":"bg-gray-200 text-gray-700 hover:bg-green-300"),children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee)))}),(0,ft.jsx)("div",{className:"p-8"}),(0,ft.jsxs)("div",{className:"transition-all duration-300 ease-in-out mt-6",children:["documentation"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading..."}),children:(0,ft.jsx)("div",{role:"tabpanel",id:"panel-documentation","aria-labelledby":"tab-documentation",className:"mx-auto md:w-10/12 lg:w-full",children:(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border rounded-lg shadow-lg hover:shadow-blue-500/50 transition-all",title:"Browse getting started guides, API references, and manuals.",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-green-500 dark:text-green-500",children:"Documentation"}),(0,ft.jsxs)("ul",{className:"mt-8 space-y-2",children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Start here to learn the basics",children:"Getting Started"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Explore detailed API references",children:"API Reference"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"User manuals for better understanding",children:"User Manual"})})]})]})})}),"tutorials"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading..."}),children:(0,ft.jsx)("div",{role:"tabpanel",id:"panel-tutorials","aria-labelledby":"tab-tutorials",className:"mx-auto md:w-10/12 lg:w-full",children:(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border rounded-lg shadow-lg hover:shadow-blue-500/50 transition-all",title:"Learn with step-by-step tutorials.",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-green-500 dark:text-green-500",children:"Tutorials"}),(0,ft.jsxs)("ul",{className:"mt-8 space-y-2",children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Beginner friendly tutorials",children:"Beginner's Guide"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Advanced topics and best practices",children:"Advanced Techniques"})})]})]})})}),"tools"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading..."}),children:(0,ft.jsx)("div",{role:"tabpanel",id:"panel-tools","aria-labelledby":"tab-tools",className:"mx-auto md:w-10/12 lg:w-full",children:(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border rounded-lg shadow-lg hover:shadow-blue-500/50 transition-all",title:"Explore useful tools and utilities.",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-green-500 dark:text-green-500",children:"Tools"}),(0,ft.jsxs)("ul",{className:"mt-8 space-y-2",children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Build resources with ease",children:"Resource Builder"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Analyze data and insights",children:"Analytics Tool"})})]})]})})}),"FAQs"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading..."}),children:(0,ft.jsxs)("div",{role:"tabpanel",id:"panel-FAQs","aria-labelledby":"tab-FAQs",className:"mx-auto md:w-10/12 lg:w-full space-y-4",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-green-500 dark:text-green-500",children:"Frequently Asked Questions"}),[{question:"What is Omnis and what does it do?",answer:"Omnis is an AI-powered platform that helps individuals and businesses make better, data-informed decisions through scenario analysis, multi-path scenario evaluation, predictive modeling, and personalized insights."},{question:"Who is Omnis for?",answer:"Omnis is designed for decision-makers across industries\u2014founders, teams, professionals, and anyone seeking to turn complexity into clarity."},{question:"Is Omnis free to use?",answer:"Omnis offers a free tier with core features, and additional premium features will be available under paid plans."},{question:"How does Omnis learn from me?",answer:"Omnis learns from your interactions over time\u2014like your inputs, feedback, and choices\u2014to deliver more relevant, context-aware suggestions."},{question:"Is my data safe with Omnis?",answer:"Yes. We prioritize your data privacy and security using best-in-class encryption and user-controlled data permissions."},{question:"Can I integrate Omnis with other tools?",answer:"Future versions of Omnis will support integrations with popular productivity, analytics, and collaboration tools."}].map(((_,$)=>(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md hover:shadow-blue-500/30 transition-all",title:"Click to expand the answer",children:[(0,ft.jsxs)("button",{role:"button",tabIndex:0,"aria-expanded":te===$,"aria-controls":`faq-${$}`,onClick:()=>ne(te===$?null:$),onKeyDown:_=>("Enter"===_.key||" "===_.key)&&ne(te===$?null:$),className:"w-full text-left flex justify-between items-center text-base md:text-lg font-medium text-blue-600 dark-text-blue-400",children:[_.question,(0,ft.jsx)("span",{className:"ml-2 text-xl",children:te===$?(0,ft.jsx)(Ga.A,{}):(0,ft.jsx)(Ha.A,{})})]}),te===$&&(0,ft.jsx)("p",{id:`faq-${$}`,className:"mt-3 text-sm md:text-base text-gray-700 dark:text-gray-300",children:_.answer})]},$)))]})}),"downloads"===_&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading..."}),children:(0,ft.jsx)("div",{role:"tabpanel",id:"panel-downloads","aria-labelledby":"tab-downloads",className:"mx-auto md:w-10/12 lg:w-full",children:(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border rounded-lg shadow-lg hover:shadow-blue-500/50 transition-all",title:"Download important resources and files.",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-green-500 dark:text-green-500",children:"Downloads"}),(0,ft.jsxs)("ul",{className:"mt-8 space-y-2",children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Download templates for your work",children:"Download Templates"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Get software tools and packages",children:"Download Software"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Read our whitepaper document",children:"Download Whitepaper"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("a",{href:"#",className:"text-blue-500 hover:underline",title:"Download the user guide for reference",children:"Download User Guide"})})]})]})})})]})]})]})};var eo=__webpack_require__(3441);function AiOutlineAppstore(_){return(0,eo.k5)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"},child:[]}]})(_)}function AiOutlineGlobal(_){return(0,eo.k5)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 0 0 3.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 0 0 540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z"},child:[]}]})(_)}const no=(0,ee.lazy)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,8592)))),ro=(0,ee.lazy)((()=>__webpack_require__.e(321).then(__webpack_require__.bind(__webpack_require__,9321)))),io=(0,ee.lazy)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4581)))),Settings=()=>{const{currentUser:_}=(0,ct.As)(),[$,te]=(0,ee.useState)(null),[ne,re]=(0,ee.useState)(!0),[ie,ae]=(0,ee.useState)(!1),[oe,se]=(0,ee.useState)("settings"),[le,de]=(0,ee.useState)(!1),[he,fe]=(0,ee.useState)(!1),[pe,me]=(0,ee.useState)({WeatherUpdates:!0,AIResponses:!0,AppUpdates:!1}),[_e,be]=(0,ee.useState)("English"),[we,Ee]=(0,ee.useState)({LocationAccess:!0,DataCollection:!1}),[ke,Ve]=(0,ee.useState)(!1),[De,Ne]=(0,ee.useState)(!1),[Me,je]=(0,ee.useState)(!1);(0,ee.useEffect)((()=>{if(!_)return;const $=(0,St.H9)(ht.db,"users",_.uid),ee=(0,St.aQ)($,(_=>{_.exists()?(te(_.data()),ae(_.data().isOnline)):te(null),re(!1)}));return()=>ee()}),[_]);const handleNotificationChange=_=>{const{name:$,checked:ee}=_.target;me({...pe,[$]:ee})},handlePrivacyChange=_=>{const{name:$,checked:ee}=_.target;Ee({...we,[$]:ee})},handleSave=()=>{Ve(!0),je(!0);const _={notifications:pe,language:_e,privacy:we};try{localStorage.setItem("userSettings",JSON.stringify(_)),setTimeout((()=>{je(!1),fe(!0),setTimeout((()=>fe(!1)),3e3)}),500)}catch($){console.error("Error saving settings:",$),alert("Failed to save settings.")}finally{setTimeout((()=>{Ve(!1)}),500)}},clearHistory=()=>{window.confirm("Are you sure you want to clear your history?")&&console.log("History cleared")},resetSavedItems=()=>{window.confirm("Reset all saved items?")&&console.log("Saved items reset")},exportUserData=async()=>{Ne(!0);const ee={notifications:pe,language:_e,privacy:we},te={uid:null===_||void 0===_?void 0:_.uid,email:null===_||void 0===_?void 0:_.email,settings:ee,fetchedUserData:$};try{const $=new Blob([JSON.stringify(te,null,2)],{type:"application/json"}),ee=URL.createObjectURL($),ne=document.createElement("a");ne.href=ee,ne.download=`Omnis_UserData_${(null===_||void 0===_?void 0:_.uid)||"unknown"}.json`,ne.click(),URL.revokeObjectURL(ee)}catch(ne){console.error("Export failed:",ne),alert("Error exporting data. Please try again.")}finally{Ne(!1)}},handleDeleteAccount=()=>{de(!0)},handleSessionLogout=async()=>{if(_&&window.confirm("Log out from all other devices?")){const $=(0,St.H9)(ht.db,"users",_.uid),ee=Date.now();await(0,St.mZ)($,{sessionVersion:ee}),localStorage.setItem("sessionVersion",ee.toString()),alert("Sessions on other devices will be logged out on next activity.")}};return(0,ft.jsxs)("div",{className:"p-4 space-y-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Deeper config and app-wide settings..."}),he&&(0,ft.jsx)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded shadow-lg z-50",children:"Settings saved successfully!"}),(0,ft.jsx)("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900 p-6",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-10 w-full max-w-6xl mx-auto",children:["settings"===oe&&(0,ft.jsxs)("div",{className:"bg-white shadow-lg rounded-lg dark:bg-gray-800 dark:text-white p-6 border rounded-xl shadow-lg hover:shadow-blue-500/50 transition",role:"region","aria-labelledby":"settings-heading",children:[(0,ft.jsxs)("h2",{id:"settings-heading",className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 flex items-center justify-center",children:[(0,ft.jsx)(It.VSk,{className:"mr-2"})," App Settings"]}),(0,ft.jsxs)("div",{className:"mt-4",title:"Click to change themes",children:[(0,ft.jsx)("h3",{className:"font-semibold",children:"Theme Settings"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading Theme Toggle..."}),children:(0,ft.jsx)(no,{})})]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsxs)("div",{className:"mt-6",title:"Click to select your preferred notifications",children:[(0,ft.jsx)("h3",{className:"font-semibold",children:"Notification Preferences"}),Object.keys(pe).map((_=>(0,ft.jsxs)("label",{className:"flex items-center space-x-2 mt-6",children:[(0,ft.jsx)("input",{type:"checkbox",name:_,checked:pe[_],onChange:handleNotificationChange,"aria-label":`${_} notification toggle`}),(0,ft.jsxs)("span",{className:"flex items-center",children:["WeatherUpdates"===_&&(0,ft.jsx)(It.Jqy,{className:"mr-2 text-blue-500"}),"AIResponses"===_&&(0,ft.jsx)(AiOutlineAppstore,{className:"mr-2 text-purple-500"}),"AppUpdates"===_&&(0,ft.jsx)(It.zd,{className:"mr-2 text-green-500"}),_.replace(/([A-Z])/g," $1").replace(/^./,(_=>_.toUpperCase()))]})]},_)))]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsxs)("div",{className:"mt-6",title:"Select your privacy settings",children:[(0,ft.jsx)("h3",{className:"font-semibold",children:"Privacy Settings"}),Object.keys(we).map((_=>(0,ft.jsxs)("label",{className:"flex items-center space-x-2 mt-6",children:[(0,ft.jsx)("input",{type:"checkbox",name:_,checked:we[_],onChange:handlePrivacyChange,"aria-label":`${_} privacy toggle`}),(0,ft.jsxs)("span",{className:"flex items-center dark:text-white",children:["LocationAccess"===_&&(0,ft.jsx)(AiOutlineGlobal,{className:"mr-2 text-orange-500"}),"DataCollection"===_&&(0,ft.jsx)(It.Hbo,{className:"mr-2 text-red-500"}),_.replace(/([A-Z])/g," $1").replace(/^./,(_=>_.toUpperCase()))]})]},_)))]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsxs)("div",{className:"mt-6",title:"Select your preferred language",children:[(0,ft.jsx)("h3",{className:"font-semibold ",children:"Language Selection"}),(0,ft.jsxs)("select",{value:_e,onChange:_=>be(_.target.value),className:"p-2 mt-8 border rounded-md dark:bg-gray-700","aria-label":"Language selector",children:[(0,ft.jsx)("option",{children:"English"}),(0,ft.jsx)("option",{children:"Spanish"}),(0,ft.jsx)("option",{children:"French"}),(0,ft.jsx)("option",{children:"German"})]})]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsxs)("div",{className:"mt-4",title:"Manage your data and history",children:[(0,ft.jsx)("h3",{className:"font-semibold hover:scale-105",children:"Data Management"}),(0,ft.jsx)("button",{onClick:clearHistory,className:"hover:scale-105 mt-6 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition",role:"button",tabIndex:0,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&clearHistory(),"aria-label":"Clear history",children:"Clear History"}),(0,ft.jsx)("button",{onClick:resetSavedItems,className:"hover:scale-105 mt-6 ml-2 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-red-600 transition",role:"button",tabIndex:0,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&resetSavedItems(),"aria-label":"Reset saved items",children:"Reset Saved Items"}),(0,ft.jsx)("button",{onClick:exportUserData,disabled:De,className:`hover:scale-105 mt-6 ml-2 px-4 py-2 ${De?"bg-gray-400":"bg-blue-600"} text-white rounded-md hover:bg-blue-700 transition`,role:"button",tabIndex:0,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&exportUserData(),"aria-label":"Export user data",children:De?"Exporting...":"Export My Data"})]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsxs)("div",{className:"mt-4",title:"Manage your sessions",children:[(0,ft.jsx)("h3",{className:"font-semibold hover:scale-105",children:"Session Management"}),(0,ft.jsx)("button",{onClick:handleSessionLogout,className:"hover:scale-105 mt-6 px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition",role:"button",tabIndex:0,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&handleSessionLogout(),"aria-label":"Log out of other devices",children:"Log Out of Other Devices"})]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsxs)("div",{className:"mt-4",title:"Delete your account",children:[(0,ft.jsx)("h3",{className:"font-semibold text-red-500 hover:scale-105",children:"Danger Zone"}),(0,ft.jsx)("button",{onClick:handleDeleteAccount,className:"hover:scale-105 mt-6 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",role:"button",tabIndex:0,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&handleDeleteAccount(),"aria-label":"Delete my account",children:"Delete My Account"})]}),(0,ft.jsx)("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),(0,ft.jsx)("div",{className:"flex justify-end",title:"Save your settings",children:(0,ft.jsx)("button",{onClick:handleSave,disabled:Me,className:`mt-6 px-8 hover:scale-105 py-2 transform ${ke?"bg-gray-400":"bg-gradient-to-r from-blue-600 to-green-500"} text-white rounded-md hover:bg-gradient-to-r from-blue-500 to-green-600 transition`,role:"button",tabIndex:0,onKeyDown:_=>("Enter"===_.key||" "===_.key)&&handleSave(),"aria-label":"Save settings",children:ke?"Saving...":"Save"})})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading Activity Log..."}),children:(0,ft.jsx)(io,{})})})]})}),le&&(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading modal..."}),children:(0,ft.jsx)(ro,{onSuccess:()=>{de(!1),(async()=>{try{await(0,dt.hG)(_),alert("Account deleted."),(0,dt.xI)().signOut()}catch($){console.error("Delete failed:",$),alert("Account deletion failed. Please try again.")}})()},onClose:()=>de(!1)})})]})};var ao=__webpack_require__(741);const oo=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(304),__webpack_require__.e(883)]).then(__webpack_require__.bind(__webpack_require__,5883)))),so=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(304),__webpack_require__.e(464)]).then(__webpack_require__.bind(__webpack_require__,9464)))),lo=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(304),__webpack_require__.e(364)]).then(__webpack_require__.bind(__webpack_require__,4364)))),co=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(304),__webpack_require__.e(627)]).then(__webpack_require__.bind(__webpack_require__,2627)))),uo=(0,ee.lazy)((()=>__webpack_require__.e(645).then(__webpack_require__.bind(__webpack_require__,5645)))),pages_AnalyticsPage=()=>{const[_,$]=(0,ee.useState)(0),[te,ne]=(0,ee.useState)(0),[re,ie]=(0,ee.useState)(0),[ae,oe]=(0,ee.useState)([]),[se,le]=(0,ee.useState)([]),[de,he]=(0,ee.useState)(!0),[fe,pe]=(0,ee.useState)(null);return(0,ee.useEffect)((()=>{let _=!0;return(async()=>{he(!0),pe(null);try{const[ee,te,re,ae]=await Promise.all([(0,St.GG)((0,St.rJ)(ht.db,"user_analytics")),(0,St.GG)((0,St.rJ)(ht.db,"simulations")),(0,St.GG)((0,St.rJ)(ht.db,"scenarios")),(0,St.GG)((0,St.rJ)(ht.db,"narratives"))]);if(!_)return;const se=ee.docs.map((_=>_.data().totalTimeSpent||0));$(se.reduce(((_,$)=>_+$),0)),ne(te.docs.length);const de=re.docs.map((_=>_.data().accuracy||0));ie(de.length>0?de.reduce(((_,$)=>_+$),0)/de.length:0);const he=re.docs.map((_=>_.data().category)).reduce(((_,$)=>(_[$]=(_[$]||0)+1,_)),{});oe(Object.entries(he)),le(ae.docs.map((_=>_.data().insight)))}catch(ee){console.error("\u274c Error fetching analytics data:",ee),_&&pe("Failed to load analytics data. Please try again later.")}finally{_&&he(!1)}})(),()=>{_=!1}}),[]),(0,ft.jsxs)("div",{id:"analytics-panel",role:"tabpanel","aria-labelledby":"analytics-tab",className:"p-6 space-y-4 min-h-screen",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"User Analytics + Insights"}),de?(0,ft.jsx)(ao.A,{height:"h-[300px]"}):fe?(0,ft.jsx)("div",{className:"text-red-500 text-center py-4",children:fe}):(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,ft.jsxs)("div",{title:"Total time spent on the platform",children:[(0,ft.jsx)("h3",{className:"font-semibold text-green-500",children:"Total Time Spent"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[150px]"}),children:(0,ft.jsx)(oo,{value:_,label:"hours"})})]}),(0,ft.jsxs)("div",{title:"Total number of simulations run",children:[(0,ft.jsx)("h3",{className:"font-semibold text-green-500",children:"Total Simulations"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[150px]"}),children:(0,ft.jsx)(so,{total:te})})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"font-semibold text-green-500",children:"Scenario Accuracy"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[300px]"}),children:(0,ft.jsx)(lo,{accuracy:re})})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,ft.jsxs)("div",{title:"Distribution of scenarios across categories",children:[(0,ft.jsx)("h3",{className:"font-semibold text-green-500",children:"Category Distribution"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[250px]"}),children:(0,ft.jsx)(co,{data:ae})})]}),(0,ft.jsxs)("div",{title:"Narrative insights based on your simulations",children:[(0,ft.jsx)("h3",{className:"font-semibold text-green-500",children:"Narrative Insights"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[250px]"}),children:(0,ft.jsx)(uo,{insights:se})})]})]})]})]})},ho=(0,ee.lazy)((()=>__webpack_require__.e(624).then(__webpack_require__.bind(__webpack_require__,7624)))),fo=(0,ee.lazy)((()=>__webpack_require__.e(245).then(__webpack_require__.bind(__webpack_require__,8245)))),pages_ScenarioTabs=()=>{const[_,$]=(0,ee.useState)("core"),te=["core","ai_match"],ne=(0,ee.useRef)([]);return(0,ft.jsxs)("div",{className:"p-4 sm:p-6 dark:bg-gray-900 min-h-screen",children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-600 dark:text-blue-300 mb-4 sm:mb-6",children:"Creation Playground"}),(0,ft.jsx)("div",{role:"tablist","aria-label":"Scenario tabs",className:"flex flex-wrap gap-4 justify-center sm:justify-start mb-4 sm:mb-6",children:te.map(((ee,re)=>(0,ft.jsx)(components_Tooltip,{text:"core"===ee?"Go to Omnis Core":"Switch to AI Match",children:(0,ft.jsx)("button",{ref:_=>ne.current[re]=_,role:"tab",id:`tab-${ee}`,"aria-selected":_===ee,"aria-controls":`panel-${ee}`,tabIndex:_===ee?0:-1,onClick:()=>$(ee),onKeyDown:_=>((_,ee)=>{if("ArrowRight"===_.key){const _=(ee+1)%te.length;ne.current[_].focus(),$(te[_])}else if("ArrowLeft"===_.key){const _=(ee-1+te.length)%te.length;ne.current[_].focus(),$(te[_])}else"Enter"!==_.key&&" "!==_.key||$(te[ee])})(_,re),className:"px-4 py-2 sm:px-5 sm:py-2 rounded-full font-semibold transition-all outline-none focus:ring-2 focus:ring-blue-400 "+(_===ee?"bg-blue-500 text-white border border-blue-700":"bg-gray-300 text-gray-800 hover:bg-green-300"),children:"core"===ee?"Omnis Core":"AI_Match"})},ee)))}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading Core..."}),children:"core"===_&&(0,ft.jsx)("div",{role:"tabpanel",id:"panel-core","aria-labelledby":"tab-core",tabIndex:0,className:"transition-opacity duration-500 ease-in-out opacity-100",children:(0,ft.jsx)(ho,{})})}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("div",{children:"Loading AI Match..."}),children:"ai_match"===_&&(0,ft.jsx)("div",{role:"tabpanel",id:"panel-ai_match","aria-labelledby":"tab-ai_match",tabIndex:0,className:"transition-opacity duration-500 ease-in-out opacity-100",children:(0,ft.jsx)(fo,{})})})]})]})},components_KpiCard=()=>{const _=(0,ee.useRef)(null),[$,te]=(0,ee.useState)(!0),[ne,re]=(0,ee.useState)(null),[ie,ae]=(0,ee.useState)(null),[oe,se]=(0,ee.useState)(null),[le,de]=(0,ee.useState)(null),[he,fe]=(0,ee.useState)(null),[pe,me]=(0,ee.useState)(null),[_e,be]=(0,ee.useState)(null),[we,Ee]=(0,ee.useState)("99.99%"),scrollCards=$=>{_.current&&_.current.scrollBy({left:"left"===$?-300:300,behavior:"smooth"})};(0,ee.useEffect)((()=>{const _=setTimeout((()=>te(!1)),2e3);return()=>clearTimeout(_)}),[]),(0,ee.useEffect)((()=>{const _=(0,St.rJ)(ht.db,"users"),$=(0,St.rJ)(ht.db,"simulations"),ee=(0,St.aQ)(_,(_=>{re(_.size)})),te=(0,St.P)(_,(0,St.My)("lastLogin","desc"),(0,St.AB)(1)),ne=(0,St.aQ)(te,(_=>{const $=_.docs[0];if($&&$.data().lastLogin){const _=new Date($.data().lastLogin.toDate()),ee=new Date,te=Math.floor((ee-_)/6e4);ae(te<60?`${te} mins ago`:te<1440?`${Math.floor(te/60)} hours ago`:`${Math.floor(te/1440)} days ago`)}else ae("No login data")})),ie=(0,St.aQ)($,(_=>{fe(_.size);const $=_.docs.map((_=>_.data().accuracy)).filter((_=>"number"===typeof _)),ee=$.length?($.reduce(((_,$)=>_+$),0)/$.length).toFixed(2)+"%":"N/A";be(ee)})),oe=new Date(Date.now()-864e5),le=(0,St.P)(_,(0,St._M)("lastLogin",">",oe)),he=(0,St.aQ)(le,(_=>{me(_.size)})),{timing:pe}=window.performance;if(pe&&pe.loadEventEnd&&pe.navigationStart){const _=pe.loadEventEnd-pe.navigationStart;se(_<1e3?"Excellent":_<3e3?"Good":_<5e3?"Fair":"Poor")}else se("Unavailable");return(async()=>{const _=navigator.onLine?"Online":"Offline",$=navigator.hardwareConcurrency||"N/A";let ee="Battery: Unknown";try{var te,ne;const _=await(null===(te=(ne=navigator).getBattery)||void 0===te?void 0:te.call(ne));_&&(ee=`${Math.round(100*_.level)}%`)}catch(ci){console.warn("Battery info not available:",ci)}let re="Unknown";const ie=navigator.userAgent;ie.includes("Chrome")?re="Chrome":ie.includes("Firefox")?re="Firefox":ie.includes("Safari")?re="Safari":ie.includes("Edg")&&(re="Edge");de(`${_} | ${$} cores | Battery: ${ee} | ${re}`)})(),()=>{ee(),ne(),ie(),he()}}),[]);const ke=[{icon:(0,ft.jsx)(It.JXP,{className:"text-3xl md:text-4xl"}),title:"Total Users",value:ne,iconColor:"text-blue-500"},{icon:(0,ft.jsx)(It.hht,{className:"text-3xl md:text-4xl"}),title:"Performance",value:oe,iconColor:"text-green-500"},{icon:(0,ft.jsx)(It.Ohp,{className:"text-3xl md:text-4xl"}),title:"Last Activity",value:ie,iconColor:"text-yellow-500"},{icon:(0,ft.jsx)(It.VSk,{className:"text-3xl md:text-4xl"}),title:"System Status",value:le,iconColor:"text-red-500"},{icon:(0,ft.jsx)(It.z1n,{className:"text-3xl md:text-4xl"}),title:"Total Simulations",value:he,iconColor:"text-indigo-500"},{icon:(0,ft.jsx)(It.ARf,{className:"text-3xl md:text-4xl"}),title:"Active Users",value:pe,iconColor:"text-teal-500"},{icon:(0,ft.jsx)(It.A3x,{className:"text-3xl md:text-4xl"}),title:"Avg. Accuracy",value:_e,iconColor:"text-purple-500"},{icon:(0,ft.jsx)(It.Ohp,{className:"text-3xl md:text-4xl"}),title:"System Uptime",value:we,iconColor:"text-emerald-500"}];return(0,ft.jsxs)("div",{className:"relative mt-8",children:[(0,ft.jsx)("button",{onClick:()=>scrollCards("left"),className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white dark:text-white dark:bg-gray-700 rounded-full p-2 shadow-lg",children:(0,ft.jsx)(It.irw,{size:24})}),(0,ft.jsx)("div",{ref:_,className:"flex overflow-x-auto space-x-6 scrollbar-hide px-8 py-2",children:ke.map(((_,ee)=>(0,ft.jsxs)("div",{className:"min-w-[250px] bg-gray-50 dark:bg-gray-800 dark:shadow-lg p-6 rounded-lg shadow-lg flex items-center space-x-4 transition-all hover:scale-105",children:[(0,ft.jsx)("div",{className:`${_.iconColor} flex-shrink-0`,children:_.icon}),(0,ft.jsxs)("div",{className:"flex flex-col",children:[(0,ft.jsx)("h3",{className:"text-base md:text-lg font-semibold text-gray-700 dark:text-white",children:_.title}),(0,ft.jsx)("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300 break-words",children:$?(0,ft.jsx)("span",{className:"inline-block bg-gray-300 dark:bg-gray-700 rounded w-24 h-4 animate-pulse"}):_.value})]})]},ee)))}),(0,ft.jsx)("button",{onClick:()=>scrollCards("right"),className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white dark:text-white dark:bg-gray-700 rounded-full p-2 shadow-lg",children:(0,ft.jsx)(It.fOo,{size:24})})]})},ActionButton=()=>{const[_,$]=(0,ee.useState)((()=>"true"===localStorage.getItem("envInfoExpanded")));return(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 mt-8 min-w-[250px]  hover:shadow-blue-500/50 transition px-6 py-6 border bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md",children:[(0,ft.jsx)("div",{className:"flex items-center mt-8 justify-center",children:(0,ft.jsx)(components_Tooltip,{text:"Create a new report with the data",children:(0,ft.jsxs)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white text-sm py-2 px-3 rounded-md flex items-center space-x-1 w-auto",children:[(0,ft.jsx)(It.GGD,{className:"text-base"}),(0,ft.jsx)("span",{children:"Create Report"})]})})}),(0,ft.jsx)("div",{className:"flex items-center justify-center",children:(0,ft.jsx)(components_Tooltip,{text:"Add new data for analysis",children:(0,ft.jsxs)("button",{className:"bg-green-500 hover:bg-green-600 mt-8 text-white text-sm py-2 px-3 rounded-md flex items-center space-x-1 w-auto",children:[(0,ft.jsx)(It.GGD,{className:"text-base"}),(0,ft.jsx)("span",{children:"Add Data"})]})})})]})};function isArray(_){return Array.isArray?Array.isArray(_):"[object Array]"===getTag(_)}function isString(_){return"string"===typeof _}function isNumber(_){return"number"===typeof _}function isBoolean(_){return!0===_||!1===_||function isObjectLike(_){return isObject(_)&&null!==_}(_)&&"[object Boolean]"==getTag(_)}function isObject(_){return"object"===typeof _}function isDefined(_){return void 0!==_&&null!==_}function isBlank(_){return!_.trim().length}function getTag(_){return null==_?void 0===_?"[object Undefined]":"[object Null]":Object.prototype.toString.call(_)}const po=Object.prototype.hasOwnProperty;class KeyStore{constructor(_){this._keys=[],this._keyMap={};let $=0;_.forEach((_=>{let ee=fuse_createKey(_);this._keys.push(ee),this._keyMap[ee.id]=ee,$+=ee.weight})),this._keys.forEach((_=>{_.weight/=$}))}get(_){return this._keyMap[_]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function fuse_createKey(_){let $=null,ee=null,te=null,ne=1,re=null;if(isString(_)||isArray(_))te=_,$=createKeyPath(_),ee=createKeyId(_);else{if(!po.call(_,"name"))throw new Error((_=>`Missing ${_} property in key`)("name"));const ie=_.name;if(te=ie,po.call(_,"weight")&&(ne=_.weight,ne<=0))throw new Error((_=>`Property 'weight' in key '${_}' must be a positive integer`)(ie));$=createKeyPath(ie),ee=createKeyId(ie),re=_.getFn}return{path:$,id:ee,weight:ne,src:te,getFn:re}}function createKeyPath(_){return isArray(_)?_:_.split(".")}function createKeyId(_){return isArray(_)?_.join("."):_}const mo={useExtendedSearch:!1,getFn:function get(_,$){let ee=[],te=!1;const deepGet=(_,$,ne)=>{if(isDefined(_))if($[ne]){const re=_[$[ne]];if(!isDefined(re))return;if(ne===$.length-1&&(isString(re)||isNumber(re)||isBoolean(re)))ee.push(function fuse_toString(_){return null==_?"":function baseToString(_){if("string"==typeof _)return _;let $=_+"";return"0"==$&&1/_==-1/0?"-0":$}(_)}(re));else if(isArray(re)){te=!0;for(let _=0,ee=re.length;_<ee;_+=1)deepGet(re[_],$,ne+1)}else $.length&&deepGet(re,$,ne+1)}else ee.push(_)};return deepGet(_,isString($)?$.split("."):$,0),te?ee:ee[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _o={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(_,$)=>_.score===$.score?_.idx<$.idx?-1:1:_.score<$.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...mo};const yo=/[^ ]+/g;class FuseIndex{constructor(){let{getFn:_=_o.getFn,fieldNormWeight:$=_o.fieldNormWeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.norm=function norm(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const ee=new Map,te=Math.pow(10,$);return{get($){const ne=$.match(yo).length;if(ee.has(ne))return ee.get(ne);const re=1/Math.pow(ne,.5*_),ie=parseFloat(Math.round(re*te)/te);return ee.set(ne,ie),ie},clear(){ee.clear()}}}($,3),this.getFn=_,this.isCreated=!1,this.setIndexRecords()}setSources(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=_}setIndexRecords(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=_}setKeys(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=_,this._keysMap={},_.forEach(((_,$)=>{this._keysMap[_.id]=$}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,isString(this.docs[0])?this.docs.forEach(((_,$)=>{this._addString(_,$)})):this.docs.forEach(((_,$)=>{this._addObject(_,$)})),this.norm.clear())}add(_){const $=this.size();isString(_)?this._addString(_,$):this._addObject(_,$)}removeAt(_){this.records.splice(_,1);for(let $=_,ee=this.size();$<ee;$+=1)this.records[$].i-=1}getValueForItemAtKeyId(_,$){return _[this._keysMap[$]]}size(){return this.records.length}_addString(_,$){if(!isDefined(_)||isBlank(_))return;let ee={v:_,i:$,n:this.norm.get(_)};this.records.push(ee)}_addObject(_,$){let ee={i:$,$:{}};this.keys.forEach((($,te)=>{let ne=$.getFn?$.getFn(_):this.getFn(_,$.path);if(isDefined(ne))if(isArray(ne)){let _=[];const $=[{nestedArrIndex:-1,value:ne}];for(;$.length;){const{nestedArrIndex:ee,value:te}=$.pop();if(isDefined(te))if(isString(te)&&!isBlank(te)){let $={v:te,i:ee,n:this.norm.get(te)};_.push($)}else isArray(te)&&te.forEach(((_,ee)=>{$.push({nestedArrIndex:ee,value:_})}))}ee.$[te]=_}else if(isString(ne)&&!isBlank(ne)){let _={v:ne,n:this.norm.get(ne)};ee.$[te]=_}})),this.records.push(ee)}toJSON(){return{keys:this.keys,records:this.records}}}function createIndex(_,$){let{getFn:ee=_o.getFn,fieldNormWeight:te=_o.fieldNormWeight}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ne=new FuseIndex({getFn:ee,fieldNormWeight:te});return ne.setKeys(_.map(fuse_createKey)),ne.setSources($),ne.create(),ne}function computeScore$1(_){let{errors:$=0,currentLocation:ee=0,expectedLocation:te=0,distance:ne=_o.distance,ignoreLocation:re=_o.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const ie=$/_.length;if(re)return ie;const ae=Math.abs(te-ee);return ne?ie+ae/ne:ae?1:ie}const vo=32;function fuse_search(_,$,ee){let{location:te=_o.location,distance:ne=_o.distance,threshold:re=_o.threshold,findAllMatches:ie=_o.findAllMatches,minMatchCharLength:ae=_o.minMatchCharLength,includeMatches:oe=_o.includeMatches,ignoreLocation:se=_o.ignoreLocation}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if($.length>vo)throw new Error(`Pattern length exceeds max of ${vo}.`);const le=$.length,de=_.length,he=Math.max(0,Math.min(te,de));let fe=re,pe=he;const me=ae>1||oe,_e=me?Array(de):[];let be;for(;(be=_.indexOf($,pe))>-1;){let _=computeScore$1($,{currentLocation:be,expectedLocation:he,distance:ne,ignoreLocation:se});if(fe=Math.min(_,fe),pe=be+le,me){let _=0;for(;_<le;)_e[be+_]=1,_+=1}}pe=-1;let we=[],Ee=1,ke=le+de;const Ve=1<<le-1;for(let Ne=0;Ne<le;Ne+=1){let te=0,re=ke;for(;te<re;){computeScore$1($,{errors:Ne,currentLocation:he+re,expectedLocation:he,distance:ne,ignoreLocation:se})<=fe?te=re:ke=re,re=Math.floor((ke-te)/2+te)}ke=re;let ae=Math.max(1,he-re+1),oe=ie?de:Math.min(he+re,de)+le,be=Array(oe+2);be[oe+1]=(1<<Ne)-1;for(let ie=oe;ie>=ae;ie-=1){let te=ie-1,re=ee[_.charAt(te)];if(me&&(_e[te]=+!!re),be[ie]=(be[ie+1]<<1|1)&re,Ne&&(be[ie]|=(we[ie+1]|we[ie])<<1|1|we[ie+1]),be[ie]&Ve&&(Ee=computeScore$1($,{errors:Ne,currentLocation:te,expectedLocation:he,distance:ne,ignoreLocation:se}),Ee<=fe)){if(fe=Ee,pe=te,pe<=he)break;ae=Math.max(1,2*he-pe)}}if(computeScore$1($,{errors:Ne+1,currentLocation:he,expectedLocation:he,distance:ne,ignoreLocation:se})>fe)break;we=be}const De={isMatch:pe>=0,score:Math.max(.001,Ee)};if(me){const _=function convertMaskToIndices(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.minMatchCharLength,ee=[],te=-1,ne=-1,re=0;for(let ie=_.length;re<ie;re+=1){let ie=_[re];ie&&-1===te?te=re:ie||-1===te||(ne=re-1,ne-te+1>=$&&ee.push([te,ne]),te=-1)}return _[re-1]&&re-te>=$&&ee.push([te,re-1]),ee}(_e,ae);_.length?oe&&(De.indices=_):De.isMatch=!1}return De}function createPatternAlphabet(_){let $={};for(let ee=0,te=_.length;ee<te;ee+=1){const ne=_.charAt(ee);$[ne]=($[ne]||0)|1<<te-ee-1}return $}const bo=String.prototype.normalize?_=>_.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):_=>_;class BitapSearch{constructor(_){let{location:$=_o.location,threshold:ee=_o.threshold,distance:te=_o.distance,includeMatches:ne=_o.includeMatches,findAllMatches:re=_o.findAllMatches,minMatchCharLength:ie=_o.minMatchCharLength,isCaseSensitive:ae=_o.isCaseSensitive,ignoreDiacritics:oe=_o.ignoreDiacritics,ignoreLocation:se=_o.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options={location:$,threshold:ee,distance:te,includeMatches:ne,findAllMatches:re,minMatchCharLength:ie,isCaseSensitive:ae,ignoreDiacritics:oe,ignoreLocation:se},_=ae?_:_.toLowerCase(),_=oe?bo(_):_,this.pattern=_,this.chunks=[],!this.pattern.length)return;const addChunk=(_,$)=>{this.chunks.push({pattern:_,alphabet:createPatternAlphabet(_),startIndex:$})},le=this.pattern.length;if(le>vo){let _=0;const $=le%vo,ee=le-$;for(;_<ee;)addChunk(this.pattern.substr(_,vo),_),_+=vo;if($){const _=le-vo;addChunk(this.pattern.substr(_),_)}}else addChunk(this.pattern,0)}searchIn(_){const{isCaseSensitive:$,ignoreDiacritics:ee,includeMatches:te}=this.options;if(_=$?_:_.toLowerCase(),_=ee?bo(_):_,this.pattern===_){let $={isMatch:!0,score:0};return te&&($.indices=[[0,_.length-1]]),$}const{location:ne,distance:re,threshold:ie,findAllMatches:ae,minMatchCharLength:oe,ignoreLocation:se}=this.options;let le=[],de=0,he=!1;this.chunks.forEach(($=>{let{pattern:ee,alphabet:fe,startIndex:pe}=$;const{isMatch:me,score:_e,indices:be}=fuse_search(_,ee,fe,{location:ne+pe,distance:re,threshold:ie,findAllMatches:ae,minMatchCharLength:oe,includeMatches:te,ignoreLocation:se});me&&(he=!0),de+=_e,me&&be&&(le=[...le,...be])}));let fe={isMatch:he,score:he?de/this.chunks.length:1};return he&&te&&(fe.indices=le),fe}}class BaseMatch{constructor(_){this.pattern=_}static isMultiMatch(_){return getMatch(_,this.multiRegex)}static isSingleMatch(_){return getMatch(_,this.singleRegex)}search(){}}function getMatch(_,$){const ee=_.match($);return ee?ee[1]:null}class FuzzyMatch extends BaseMatch{constructor(_){let{location:$=_o.location,threshold:ee=_o.threshold,distance:te=_o.distance,includeMatches:ne=_o.includeMatches,findAllMatches:re=_o.findAllMatches,minMatchCharLength:ie=_o.minMatchCharLength,isCaseSensitive:ae=_o.isCaseSensitive,ignoreDiacritics:oe=_o.ignoreDiacritics,ignoreLocation:se=_o.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(_),this._bitapSearch=new BitapSearch(_,{location:$,threshold:ee,distance:te,includeMatches:ne,findAllMatches:re,minMatchCharLength:ie,isCaseSensitive:ae,ignoreDiacritics:oe,ignoreLocation:se})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(_){return this._bitapSearch.searchIn(_)}}class IncludeMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(_){let $,ee=0;const te=[],ne=this.pattern.length;for(;($=_.indexOf(this.pattern,ee))>-1;)ee=$+ne,te.push([$,ee-1]);const re=!!te.length;return{isMatch:re,score:re?0:1,indices:te}}}const wo=[class ExactMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(_){const $=_===this.pattern;return{isMatch:$,score:$?0:1,indices:[0,this.pattern.length-1]}}},IncludeMatch,class PrefixExactMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(_){const $=_.startsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,this.pattern.length-1]}}},class InversePrefixExactMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(_){const $=!_.startsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,_.length-1]}}},class InverseSuffixExactMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(_){const $=!_.endsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,_.length-1]}}},class SuffixExactMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(_){const $=_.endsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[_.length-this.pattern.length,_.length-1]}}},class InverseExactMatch extends BaseMatch{constructor(_){super(_)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(_){const $=-1===_.indexOf(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,_.length-1]}}},FuzzyMatch],xo=wo.length,Eo=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const To=new Set([FuzzyMatch.type,IncludeMatch.type]);class ExtendedSearch{constructor(_){let{isCaseSensitive:$=_o.isCaseSensitive,ignoreDiacritics:ee=_o.ignoreDiacritics,includeMatches:te=_o.includeMatches,minMatchCharLength:ne=_o.minMatchCharLength,ignoreLocation:re=_o.ignoreLocation,findAllMatches:ie=_o.findAllMatches,location:ae=_o.location,threshold:oe=_o.threshold,distance:se=_o.distance}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.query=null,this.options={isCaseSensitive:$,ignoreDiacritics:ee,includeMatches:te,minMatchCharLength:ne,findAllMatches:ie,ignoreLocation:re,location:ae,threshold:oe,distance:se},_=$?_:_.toLowerCase(),_=ee?bo(_):_,this.pattern=_,this.query=function parseQuery(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.split("|").map((_=>{let ee=_.trim().split(Eo).filter((_=>_&&!!_.trim())),te=[];for(let ne=0,re=ee.length;ne<re;ne+=1){const _=ee[ne];let re=!1,ie=-1;for(;!re&&++ie<xo;){const ee=wo[ie];let ne=ee.isMultiMatch(_);ne&&(te.push(new ee(ne,$)),re=!0)}if(!re)for(ie=-1;++ie<xo;){const ee=wo[ie];let ne=ee.isSingleMatch(_);if(ne){te.push(new ee(ne,$));break}}}return te}))}(this.pattern,this.options)}static condition(_,$){return $.useExtendedSearch}searchIn(_){const $=this.query;if(!$)return{isMatch:!1,score:1};const{includeMatches:ee,isCaseSensitive:te,ignoreDiacritics:ne}=this.options;_=te?_:_.toLowerCase(),_=ne?bo(_):_;let re=0,ie=[],ae=0;for(let oe=0,se=$.length;oe<se;oe+=1){const te=$[oe];ie.length=0,re=0;for(let $=0,ne=te.length;$<ne;$+=1){const ne=te[$],{isMatch:oe,indices:se,score:le}=ne.search(_);if(!oe){ae=0,re=0,ie.length=0;break}if(re+=1,ae+=le,ee){const _=ne.constructor.type;To.has(_)?ie=[...ie,...se]:ie.push(se)}}if(re){let _={isMatch:!0,score:ae/re};return ee&&(_.indices=ie),_}}return{isMatch:!1,score:1}}}const Ao=[];function createSearcher(_,$){for(let ee=0,te=Ao.length;ee<te;ee+=1){let te=Ao[ee];if(te.condition(_,$))return new te(_,$)}return new BitapSearch(_,$)}const ko="$and",Po="$or",Io="$path",So="$val",isExpression=_=>!(!_[ko]&&!_[Po]),convertToExplicit=_=>({[ko]:Object.keys(_).map(($=>({[$]:_[$]})))});function fuse_parse(_,$){let{auto:ee=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const next=_=>{let te=Object.keys(_);const ne=(_=>!!_[Io])(_);if(!ne&&te.length>1&&!isExpression(_))return next(convertToExplicit(_));if((_=>!isArray(_)&&isObject(_)&&!isExpression(_))(_)){const re=ne?_[Io]:te[0],ie=ne?_[So]:_[re];if(!isString(ie))throw new Error((_=>`Invalid value for key ${_}`)(re));const ae={keyId:createKeyId(re),pattern:ie};return ee&&(ae.searcher=createSearcher(ie,$)),ae}let re={children:[],operator:te[0]};return te.forEach(($=>{const ee=_[$];isArray(ee)&&ee.forEach((_=>{re.children.push(next(_))}))})),re};return isExpression(_)||(_=convertToExplicit(_)),next(_)}function transformMatches(_,$){const ee=_.matches;$.matches=[],isDefined(ee)&&ee.forEach((_=>{if(!isDefined(_.indices)||!_.indices.length)return;const{indices:ee,value:te}=_;let ne={indices:ee,value:te};_.key&&(ne.key=_.key.src),_.idx>-1&&(ne.refIndex=_.idx),$.matches.push(ne)}))}function transformScore(_,$){$.score=_.score}class Fuse{constructor(_){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=arguments.length>2?arguments[2]:void 0;this.options={..._o,...$},this.options.useExtendedSearch,this._keyStore=new KeyStore(this.options.keys),this.setCollection(_,ee)}setCollection(_,$){if(this._docs=_,$&&!($ instanceof FuseIndex))throw new Error("Incorrect 'index' type");this._myIndex=$||createIndex(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(_){isDefined(_)&&(this._docs.push(_),this._myIndex.add(_))}remove(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1;const $=[];for(let ee=0,te=this._docs.length;ee<te;ee+=1){const ne=this._docs[ee];_(ne,ee)&&(this.removeAt(ee),ee-=1,te-=1,$.push(ne))}return $}removeAt(_){this._docs.splice(_,1),this._myIndex.removeAt(_)}getIndex(){return this._myIndex}search(_){let{limit:$=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeMatches:ee,includeScore:te,shouldSort:ne,sortFn:re,ignoreFieldNorm:ie}=this.options;let ae=isString(_)?isString(this._docs[0])?this._searchStringList(_):this._searchObjectList(_):this._searchLogical(_);return function fuse_computeScore(_,$){let{ignoreFieldNorm:ee=_o.ignoreFieldNorm}=$;_.forEach((_=>{let $=1;_.matches.forEach((_=>{let{key:te,norm:ne,score:re}=_;const ie=te?te.weight:null;$*=Math.pow(0===re&&ie?Number.EPSILON:re,(ie||1)*(ee?1:ne))})),_.score=$}))}(ae,{ignoreFieldNorm:ie}),ne&&ae.sort(re),isNumber($)&&$>-1&&(ae=ae.slice(0,$)),function format(_,$){let{includeMatches:ee=_o.includeMatches,includeScore:te=_o.includeScore}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ne=[];return ee&&ne.push(transformMatches),te&&ne.push(transformScore),_.map((_=>{const{idx:ee}=_,te={item:$[ee],refIndex:ee};return ne.length&&ne.forEach(($=>{$(_,te)})),te}))}(ae,this._docs,{includeMatches:ee,includeScore:te})}_searchStringList(_){const $=createSearcher(_,this.options),{records:ee}=this._myIndex,te=[];return ee.forEach((_=>{let{v:ee,i:ne,n:re}=_;if(!isDefined(ee))return;const{isMatch:ie,score:ae,indices:oe}=$.searchIn(ee);ie&&te.push({item:ee,idx:ne,matches:[{score:ae,value:ee,norm:re,indices:oe}]})})),te}_searchLogical(_){const $=fuse_parse(_,this.options),evaluate=(_,$,ee)=>{if(!_.children){const{keyId:te,searcher:ne}=_,re=this._findMatches({key:this._keyStore.get(te),value:this._myIndex.getValueForItemAtKeyId($,te),searcher:ne});return re&&re.length?[{idx:ee,item:$,matches:re}]:[]}const te=[];for(let ne=0,re=_.children.length;ne<re;ne+=1){const re=_.children[ne],ie=evaluate(re,$,ee);if(ie.length)te.push(...ie);else if(_.operator===ko)return[]}return te},ee=this._myIndex.records,te={},ne=[];return ee.forEach((_=>{let{$:ee,i:re}=_;if(isDefined(ee)){let _=evaluate($,ee,re);_.length&&(te[re]||(te[re]={idx:re,item:ee,matches:[]},ne.push(te[re])),_.forEach((_=>{let{matches:$}=_;te[re].matches.push(...$)})))}})),ne}_searchObjectList(_){const $=createSearcher(_,this.options),{keys:ee,records:te}=this._myIndex,ne=[];return te.forEach((_=>{let{$:te,i:re}=_;if(!isDefined(te))return;let ie=[];ee.forEach(((_,ee)=>{ie.push(...this._findMatches({key:_,value:te[ee],searcher:$}))})),ie.length&&ne.push({idx:re,item:te,matches:ie})})),ne}_findMatches(_){let{key:$,value:ee,searcher:te}=_;if(!isDefined(ee))return[];let ne=[];if(isArray(ee))ee.forEach((_=>{let{v:ee,i:re,n:ie}=_;if(!isDefined(ee))return;const{isMatch:ae,score:oe,indices:se}=te.searchIn(ee);ae&&ne.push({score:oe,key:$,value:ee,idx:re,norm:ie,indices:se})}));else{const{v:_,n:re}=ee,{isMatch:ie,score:ae,indices:oe}=te.searchIn(_);ie&&ne.push({score:ae,key:$,value:_,norm:re,indices:oe})}return ne}}Fuse.version="7.1.0",Fuse.createIndex=createIndex,Fuse.parseIndex=function parseIndex(_){let{getFn:$=_o.getFn,fieldNormWeight:ee=_o.fieldNormWeight}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{keys:te,records:ne}=_,re=new FuseIndex({getFn:$,fieldNormWeight:ee});return re.setKeys(te),re.setIndexRecords(ne),re},Fuse.config=_o,Fuse.parseQuery=fuse_parse,function register(){Ao.push(...arguments)}(ExtendedSearch);const Ro=[{name:"Go to Quick Stats",icon:(0,ft.jsx)(It.ARf,{}),action:_=>_("quickStats")},{name:"Go to Analytics",icon:(0,ft.jsx)(It.vQY,{}),action:_=>_("analytics")},{name:"Go to Achievements",icon:(0,ft.jsx)(It.TPq,{}),action:_=>_("achievements")},{name:"Create New Scenario",icon:(0,ft.jsx)(It.GGD,{}),action:()=>console.log("Creating...")},{name:"Logout",icon:(0,ft.jsx)(It.QeK,{}),action:()=>console.log("Logging out...")}],Co=new Fuse(Ro,{keys:["name"],threshold:.3});function CommandPalette(_){let{setActiveTab:$}=_;const[te,ne]=(0,ee.useState)(!1),[re,ie]=(0,ee.useState)(""),[ae,oe]=(0,ee.useState)([]),[se,le]=(0,ee.useState)(0),[de,he]=(0,ee.useState)([]);(0,ee.useEffect)((()=>{const _=localStorage.getItem("recentCommands");_&&he(JSON.parse(_))}),[]),(0,ee.useEffect)((()=>{oe(re?Co.search(re).map((_=>_.item)):[...de,...Ro])}),[re,de]);const handleSelect=_=>{_.action($);const ee=[_,...de.filter(($=>$.name!==_.name))].slice(0,5);he(ee),localStorage.setItem("recentCommands",JSON.stringify(ee)),ne(!1),ie(""),le(0)};return(0,ee.useEffect)((()=>{const handleKeyDown=_=>{(_.metaKey||_.ctrlKey)&&"k"===_.key&&(_.preventDefault(),ne(!0)),"Escape"===_.key&&(ne(!1),ie(""),le(0))};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[]),te?(0,ft.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-start justify-center pt-24",children:(0,ft.jsxs)("div",{className:"w-full max-w-xl bg-white dark:bg-[#1f1f1f] border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-4",children:[(0,ft.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Type a command or action...",className:"w-full px-4 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-[#2c2c2c] text-gray-900 dark:text-white focus:outline-none",value:re,onChange:_=>ie(_.target.value),onKeyDown:_=>{"ArrowDown"===_.key?(le((_=>(_+1)%ae.length)),_.preventDefault()):"ArrowUp"===_.key?(le((_=>(_-1+ae.length)%ae.length)),_.preventDefault()):"Enter"===_.key&&handleSelect(ae[se])}}),(0,ft.jsx)("ul",{className:"mt-3 space-y-1 max-h-64 overflow-y-auto",children:ae.map(((_,$)=>(0,ft.jsxs)("li",{className:"flex items-center gap-3 px-4 py-2 text-sm cursor-pointer rounded-md transition-colors "+($===se?"bg-blue-600 text-white":"text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800"),onMouseEnter:()=>le($),onClick:()=>handleSelect(_),children:[(0,ft.jsx)("span",{className:"text-lg",children:_.icon}),(0,ft.jsx)("span",{children:_.name})]},_.name)))})]})}):null}const Badge=_=>{let{icon:$,label:ee,color:te="blue"}=_;const ne={blue:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",green:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300",purple:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300",yellow:"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300"}[te]||"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300";return(0,ft.jsxs)(bt.P.div,{whileHover:{scale:1.1,rotate:3},className:`flex flex-col items-center justify-center w-24 h-24 rounded-xl shadow transition-all cursor-pointer ${ne}`,children:[(0,ft.jsx)($,{className:"text-3xl mb-1","aria-hidden":"true"}),(0,ft.jsx)("span",{className:"text-xs text-center",children:ee})]})},components_AchievementsTab=_=>{let{level:$=4,currentXP:ee=720,maxXP:te=1e3,badges:ne=[],challenges:re=[]}=_;const ie=ee/te*100;return(0,ft.jsxs)("div",{className:"p-6 space-y-6 text-gray-900 dark:text-gray-100",children:[(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-2xl p-6 transition-colors duration-300",children:[(0,ft.jsx)("h2",{className:"text-xl text-green-600 font-bold mb-3",children:"Your Level"}),(0,ft.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ft.jsxs)("span",{className:"text-sm font-medium",children:["Level ",$]}),(0,ft.jsxs)("span",{className:"text-sm font-medium text-blue-500",children:[ee," / ",te," XP"]})]}),(0,ft.jsx)("div",{className:"w-full bg-gray-300 dark:bg-gray-700 h-3 rounded-full overflow-hidden",children:(0,ft.jsx)(bt.P.div,{className:"bg-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:`${ie}%`},transition:{duration:.8}})})]}),(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-2xl p-6 transition-colors duration-300",children:[(0,ft.jsx)("h2",{className:"text-xl font-bold text-green-600 mb-4",children:"Unlocked Badges"}),(0,ft.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:ne.length>0?ne.map(((_,$)=>(0,ft.jsx)(Badge,{icon:_.icon,label:_.label,color:_.color},$))):(0,ft.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 col-span-full",children:"No badges yet\u2014start earning!"})})]}),(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-2xl p-6 transition-colors duration-300",children:[(0,ft.jsx)("h2",{className:"text-xl text-green-600 font-bold mb-4",children:"Active Challenges"}),re.length>0?(0,ft.jsx)("ul",{className:"space-y-3 text-sm list-disc list-inside",children:re.map(((_,$)=>(0,ft.jsxs)("li",{"aria-label":_.label,children:[_.icon," ",_.label," (",_.progress,")"]},$)))}):(0,ft.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No active challenges. Check back later!"})]})]})},QuickActionButtons=()=>{const _=useNavigate(),$=[{label:"+ New Scenario",bgColor:"bg-primary",textColor:"text-black",hoverColor:"hover:bg-primary/90",glow:"rgba(59, 130, 246, 0.6)",onClick:()=>{console.log("New Scenario clicked"),_("/new-scenario")}},{label:"\ud83d\udcc2 Saved Scenarios",bgColor:"bg-secondary",textColor:"text-black",hoverColor:"hover:bg-secondary/90",glow:"rgba(16, 185, 129, 0.6)",onClick:()=>{console.log("Saved Scenarios clicked"),_("/saved-scenarios")}},{label:"\ud83d\udcac Open Partner Chat",bgColor:"bg-accent",textColor:"text-black",hoverColor:"hover:bg-accent/90",glow:"rgba(236, 72, 153, 0.6)",onClick:()=>{console.log("Partner Chat clicked"),_("/partner-chat")}}];return(0,ft.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:$.map(((_,$)=>(0,ft.jsx)(bt.P.button,{whileHover:{scale:1.05,boxShadow:`0px 0px 12px ${_.glow}`},whileTap:{scale:.95},onClick:_.onClick,className:`${_.bgColor} ${_.hoverColor} text-gray-500 dark:text-white rounded-2xl px-6 py-3 text-lg shadow-md transition-all`,children:_.label},$)))})},Vo=(0,ee.lazy)((()=>__webpack_require__.e(844).then(__webpack_require__.bind(__webpack_require__,2844)))),Do=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(304),__webpack_require__.e(534),__webpack_require__.e(52),__webpack_require__.e(662)]).then(__webpack_require__.bind(__webpack_require__,3662)))),No=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(304),__webpack_require__.e(272)]).then(__webpack_require__.bind(__webpack_require__,5272)))),Oo=(0,ee.lazy)((()=>__webpack_require__.e(984).then(__webpack_require__.bind(__webpack_require__,5984)))),pages_OmnisDashboard=()=>{const[_,$]=(0,ee.useState)(null),[te,ne]=(0,ee.useState)(!1),[re,ie]=(0,ee.useState)(""),[ae,oe]=(0,ee.useState)([]),[se,le]=(0,ee.useState)("quickStats"),[de,he]=(0,ee.useState)(!1),fe=(0,dt.xI)(),pe=(0,St.aU)(),me=fe.currentUser;(0,ee.useEffect)((()=>{(async()=>{if(""!==re.trim())try{const _=(0,St.P)((0,St.rJ)(pe,"activities"),(0,St._M)("name",">=",re),(0,St._M)("name","<=",re+"\uf8ff")),$=await(0,St.GG)(_);oe($.docs.map((_=>_.data())))}catch(_){console.error("Error fetching filtered data: ",_)}else oe([])})()}),[re,pe]),(0,ee.useEffect)((()=>{if(me){(async()=>{try{const _=(0,St.H9)(pe,"users",me.uid),ee=await(0,St.x7)(_);ee.exists()&&$(ee.data().firstname)}catch(_){console.error("Error fetching user name: ",_)}})()}}),[me,pe]);(0,ee.useEffect)((()=>{const handler=_=>{var $;"/"===_.key&&"INPUT"!==document.activeElement.tagName&&(_.preventDefault(),null===($=document.getElementById("dashboard-search"))||void 0===$||$.focus());_.altKey&&"1"===_.key&&le("quickStats"),_.altKey&&"2"===_.key&&le("analytics"),_.altKey&&"3"===_.key&&le("achievements"),"Escape"===_.key&&document.activeElement.blur(),"?"===_.key&&he((_=>!_)),"Enter"===_.key&&de&&(he(!1),document.activeElement.blur()),(_.ctrlKey||_.metaKey)&&"k"===_.key.toLowerCase()&&(_.preventDefault(),ne(!0))};return window.addEventListener("keydown",handler),()=>window.removeEventListener("keydown",handler)}),[de]);const _e={quickStats:"Pilot Dashboard",analytics:"Analytics",achievements:"Achievements"};return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(CommandPalette,{isOpen:te,setIsOpen:ne,setActiveTab:le}),(0,ft.jsxs)("div",{className:"p-4 flex-1 overflow-y-auto space-y-4 max-h-screen pb-24 transition-all duration-300",children:[(0,ft.jsxs)("h1",{className:"text-3xl font-semibold text-green-500 mb-6",children:[(()=>{const _=(new Date).getHours();return _<12?"Good morning":_<18?"Good afternoon":"Good evening"})(),", ",_||"there"," \ud83d\udc4b"]}),(0,ft.jsx)("div",{role:"tablist",className:"flex flex-wrap gap-4 justify-center mt-8 sm:justify-start mb-4 sm:mb-6",children:Object.keys(_e).map((_=>(0,ft.jsx)("button",{role:"tab","aria-selected":se===_,"aria-controls":`${_}-panel`,id:`${_}-tab`,onClick:()=>le(_),title:`Go to ${_e[_]}`,className:"px-4 py-2 sm:px-5 sm:py-2 rounded-full font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 "+(se===_?"bg-blue-500 text-white border border-blue-700":"bg-gray-300 text-gray-800 hover:bg-green-300"),children:_e[_]},_)))}),(0,ft.jsxs)("div",{className:"relative grid h-full grid-cols-1 msm:grid-cols-2 lg:grid-cols-1 gap-6 transition-all",children:["quickStats"===se&&(0,ft.jsxs)("div",{id:"quickStats-panel",role:"tabpanel","aria-labelledby":"quickStats-tab",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Quick stats, activity logs etc.."}),(0,ft.jsx)("div",{className:"mb-4 mt-8",children:(0,ft.jsx)("input",{id:"dashboard-search",type:"text",value:re,onChange:_=>ie(_.target.value),placeholder:"Search activities",title:"Search for activities",className:"pl-10 pr-4 py-2 w-full sm:w-2/4 border rounded-lg text-sm bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})}),ae.length>0&&(0,ft.jsxs)("div",{className:"mt-6",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Search Results"}),(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-6",children:ae.map(((_,$)=>(0,ft.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md",title:"Click for more details",children:[(0,ft.jsx)("h4",{className:"font-bold text-lg",children:_.name}),(0,ft.jsx)("p",{children:_.description})]},$)))})]}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-40"}),children:(0,ft.jsx)(components_KpiCard,{})}),(0,ft.jsxs)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[300px]"}),children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,ft.jsx)(Vo,{}),(0,ft.jsx)(No,{})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,ft.jsx)(Oo,{}),(0,ft.jsx)(ActionButton,{})]})]}),(0,ft.jsx)("div",{className:"flex justify-center",children:(0,ft.jsx)(QuickActionButtons,{})})]}),"analytics"===se&&(0,ft.jsxs)("div",{id:"analytics-panel",role:"tabpanel","aria-labelledby":"analytics-tab",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Analytics (overview)"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[300px]"}),children:(0,ft.jsx)(Do,{})})]}),"achievements"===se&&(0,ft.jsxs)("div",{id:"achievements-panel",role:"tabpanel","aria-labelledby":"achievements-tab",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Gamification & Engagement"}),(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)(ao.A,{height:"h-[200px]"}),children:(0,ft.jsx)(components_AchievementsTab,{})})]})]}),de&&(0,ft.jsx)("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:(0,ft.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl w-full max-w-md relative",children:[(0,ft.jsx)("button",{className:"absolute top-2 right-2 text-gray-500 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring\r ChatGPT said:\r\n-blue-500 rounded",onClick:()=>he(!1),"aria-label":"Close keyboard shortcuts",children:"\u2715"}),(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Keyboard Shortcuts"}),(0,ft.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300",children:[(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"/"}),": Focus search"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"Alt + 1"}),": Quick Stats Tab"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"Alt + 2"}),": Analytics Tab"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"Alt + 3"}),": Achievements Tab"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"Esc"}),": Blur input / Close modals"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"?"}),": Toggle this help dialog"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"Enter"}),": Close this dialog"]}),(0,ft.jsxs)("li",{children:[(0,ft.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded",children:"Ctrl + K / Cmd + K"}),": Open Command Palette"]})]})]})})]})]})},Mo=(0,ee.lazy)((()=>Promise.all([__webpack_require__.e(534),__webpack_require__.e(158)]).then(__webpack_require__.bind(__webpack_require__,9158)))),ActivityLog=()=>{const{currentUser:_}=(0,ct.As)(),[$,te]=(0,ee.useState)([]),[ne,re]=(0,ee.useState)(!1);(0,ee.useEffect)((()=>{null!==_&&void 0!==_&&_.uid&&fetchActivityData()}),[_]);const fetchActivityData=async()=>{re(!0);try{const $=(0,St.H9)(ht.db,"users",_.uid),ee=await(0,St.x7)($);if(ee.exists()){const _=ee.data(),$=[];_.lastLogin&&$.push({id:"lastLogin",activityType:"Last Login",description:`User last logged in on ${_.lastLogin.toDate().toLocaleString()}`,timestamp:_.lastLogin.toDate()}),_.profileUpdated&&$.push({id:"profileUpdated",activityType:"Profile Updated",description:`User updated their profile on ${_.profileUpdated.toDate().toLocaleString()}`,timestamp:_.profileUpdated.toDate()}),te($)}}catch($){console.error("Error fetching activity data:",$)}re(!1)};return(0,ft.jsxs)("div",{className:"p-4 min-h-screen",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-blue-500 dark:text-blue-300 mb-4",children:"Activity Log"}),(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,ft.jsx)("thead",{children:(0,ft.jsxs)("tr",{className:"bg-blue-100 dark:bg-gray-700",children:[(0,ft.jsx)("th",{className:"py-2 px-4 text-left text-gray-700 dark:text-gray-300 text-sm font-semibold",children:"Activity"}),(0,ft.jsx)("th",{className:"py-2 px-4 text-left text-gray-700 dark:text-gray-300 text-sm font-semibold",children:"Description"}),(0,ft.jsx)("th",{className:"py-2 px-4 text-left text-gray-700 dark:text-gray-300 text-sm font-semibold",children:"Time"})]})}),(0,ft.jsx)("tbody",{children:(0,ft.jsx)(ee.Suspense,{fallback:(0,ft.jsx)("tr",{children:(0,ft.jsx)("td",{colSpan:3,className:"text-center py-8",children:"Loading activity..."})}),children:$.map((_=>(0,ft.jsx)(Mo,{log:_},_.id)))})})]})}),ne&&(0,ft.jsx)("div",{className:"text-center text-blue-500 py-4",children:"Loading activity..."})]})};var Fo=__webpack_require__(6178),jo=__webpack_require__.n(Fo);function NotificationsPage(){const[_,$]=(0,ee.useState)([]),[te,ne]=(0,ee.useState)(!0),[re,ie]=(0,ee.useState)(null),[ae,oe]=(0,ee.useState)(!0),[se,le]=(0,ee.useState)(!1);(0,ee.useEffect)((()=>{const _=(0,St.P)((0,St.rJ)(ht.db,"notifications"),(0,St.My)("timestamp","desc"),(0,St.AB)(10)),ee=(0,St.aQ)(_,(_=>{const ee=_.docs.map((_=>({id:_.id,..._.data()})));$(ee),ie(_.docs[_.docs.length-1]),ne(!1),oe(10===_.docs.length)}));return()=>ee()}),[]);const showError=_=>ut.Ay.error(_),showSuccess=_=>ut.Ay.success(_);return te?(0,ft.jsx)("p",{className:"text-gray-600",children:"Loading notifications..."}):(0,ft.jsxs)("div",{className:"p-4 min-h-screen",children:[(0,ft.jsx)(ut.l$,{position:"top-right",reverseOrder:!1}),(0,ft.jsx)("h1",{className:"text-2xl text-blue-600 dark:text-blue-300 font-bold mb-4",children:"Notifications"}),_.some((_=>!_.read))&&(0,ft.jsx)("button",{onClick:async()=>{try{const ee=_.filter((_=>!_.read));if(0===ee.length)return void(0,ut.Ay)("All notifications are already read.",{icon:"\u2139\ufe0f"});const te=(0,St.wP)(ht.db);ee.forEach((_=>{const $=(0,St.H9)(ht.db,"notifications",_.id);te.update($,{read:!0})})),await te.commit(),$((_=>_.map((_=>({..._,read:!0}))))),showSuccess("All notifications marked as read.")}catch(ee){console.error("Error marking all as read:",ee.message),showError("Error marking all as read.")}},"aria-label":"Mark all notifications as read",className:"mb-4 p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400",children:"Mark All as Read"}),0===_.length?(0,ft.jsxs)("div",{className:"dark:text-gray-100 flex flex-col items-center",children:[(0,ft.jsx)("p",{children:"No notifications found."}),(0,ft.jsx)("p",{className:"mt-2 text-sm italic",children:"You\u2019ll see updates here soon \ud83d\ude80"})]}):(0,ft.jsxs)("div",{children:[_.map((_=>(0,ft.jsxs)("div",{className:"p-4 border rounded-lg shadow-md mb-3 "+(_.read?"bg-gray-50":"bg-white border-blue-500"),children:[(0,ft.jsx)("h2",{className:"font-semibold",children:_.title}),(0,ft.jsx)("p",{className:"text-sm",children:_.message}),(0,ft.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,ft.jsx)("span",{className:"text-sm text-gray-500",children:_.timestamp?jo()(_.timestamp.toDate()).fromNow():"Just now"}),(0,ft.jsxs)("div",{className:"flex items-center space-x-4",children:[!_.read&&(0,ft.jsx)("button",{className:"text-green-600 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-400","aria-label":"Mark notification as read",onClick:()=>(async _=>{try{const ee=(0,St.H9)(ht.db,"notifications",_);await(0,St.mZ)(ee,{read:!0}),$(($=>$.map(($=>$.id===_?{...$,read:!0}:$)))),showSuccess("Notification marked as read.")}catch(ee){console.error("Error marking as read:",ee.message),showError("Error marking notification as read.")}})(_.id),children:"Mark as Read"}),(0,ft.jsx)("button",{className:"text-red-600 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400","aria-label":"Delete notification",onClick:()=>(async _=>{try{await(0,St.kd)((0,St.H9)(ht.db,"notifications",_)),$(($=>$.filter(($=>$.id!==_)))),showSuccess("Notification deleted.")}catch(ee){console.error("Error deleting notification:",ee.message),showError("Error deleting notification.")}})(_.id),children:"Delete"})]})]})]},_.id))),ae&&(0,ft.jsx)("button",{onClick:async()=>{if(re){le(!0);try{const _=(0,St.P)((0,St.rJ)(ht.db,"notifications"),(0,St.My)("timestamp","desc"),(0,St.HM)(re),(0,St.AB)(10)),ee=await(0,St.GG)(_),te=ee.docs.map((_=>({id:_.id,..._.data()})));$((_=>[..._,...te])),ie(ee.docs[ee.docs.length-1]),oe(10===ee.docs.length)}catch(_){console.error(_),showError("Error loading more notifications")}finally{le(!1)}}},disabled:se,className:"mt-4 p-2 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 "+(se?"opacity-50 cursor-not-allowed":""),"aria-label":"Load more notifications",children:se?"Loading...":"Load More Notifications"})]})]})}var Lo=__webpack_require__(8592),Uo=__webpack_require__(7064);const Bo=(0,ee.createContext)(),zo={apiKey:"AIzaSyBc3CNH5hAatFsuvAhrsOoNBZxIgUdfdCU",authDomain:"the-digital-twin-app-3e2b1.firebaseapp.com",projectId:"the-digital-twin-app-3e2b1",storageBucket:"the-digital-twin-app-3e2b1.appspot.com",messagingSenderId:"404132163896",appId:"1:404132163896:web:4be038cbee416c56c7d1cd",measurementId:"G-BZNSJW940T"};function AccountProvider(_){let{children:$}=_;const[te,ne]=(0,ee.useState)([]),[re,ie]=(0,ee.useState)(null),addAccount=(_,$,ee,te)=>{ne((ne=>[...ne,{name:_,app:$,auth:ee,user:te}])),ie(_)};return(0,ft.jsx)(Bo.Provider,{value:{accounts:te,activeAccount:re,addAccount:addAccount,switchAccount:_=>{ie(_)},getActiveAuth:()=>{const _=te.find((_=>_.name===re));return _?_.auth:null},getActiveUser:()=>{const _=te.find((_=>_.name===re));return _?_.user:null},loginNewAccount:async(_,$,ee)=>{const te=(0,Uo.Wp)(zo,ee),ne=(0,dt.xI)(te),re=(await(0,dt.x9)(ne,_,$)).user;addAccount(ee,te,ne,re)}},children:$})}const qo=function Sidebar(_){let{isSidebarOpen:$,setIsSidebarOpen:te}=_;const{logout:ne,user:re,login:ie}=(0,ct.As)(),ae=useNavigate(),oe=useLocation(),[se,le]=(0,ee.useState)(""),de=(0,ee.useRef)(null),{accounts:he,activeAccount:fe,setActiveAccount:pe}=function useAccounts(){return(0,ee.useContext)(Bo)}(),[me,_e]=(0,ee.useState)("");(0,ee.useEffect)((()=>{function handleClickOutside(_){$&&de.current&&!de.current.contains(_.target)&&te(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[$]);const be=[{name:"Home",icon:(0,ft.jsx)(It.V5Y,{}),path:"/home"},{name:"Dashboard",icon:(0,ft.jsx)(It.QPV,{}),path:"/dashboard"},{name:"Partner Chat",icon:(0,ft.jsx)(It.X6_,{}),path:"/partner-chat"},{name:"New Scenario",icon:(0,ft.jsx)(It.GGD,{}),path:"/new-scenario"},{name:"Saved Scenarios",icon:(0,ft.jsx)(It.Y19,{}),path:"/saved-scenarios"},{name:"Analytics",icon:(0,ft.jsx)(It.hht,{}),path:"/analytics"},{name:"Activity Log",icon:(0,ft.jsx)(It.Wm,{}),path:"/activity-log"},{name:"Resources",icon:(0,ft.jsx)(It.Hbo,{}),path:"/resources"},{name:"Payments",icon:(0,ft.jsx)(It.lZI,{}),path:"/payments"},{name:"Support",icon:(0,ft.jsx)(It.lrG,{}),path:"/support"},{name:"Settings",icon:(0,ft.jsx)(It.VSk,{}),path:"/settings"},{name:"My Profile",icon:(0,ft.jsx)(It.JOY,{}),path:"/user-profile"}];return(0,ft.jsxs)("aside",{ref:de,id:"sidebar",className:"h-full left-0 w-64 p-4 transition-all fixed inset-y-0 duration-300 z-30 \n        bg-gradient-to-r from-blue-600 to-green-500 text-white dark:bg-gray-800 overflow-y-auto\n        "+($?"translate-x-0":"-translate-x-full"),children:[me&&(0,ft.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 bg-blue-600 text-white py-2 px-6 rounded-md shadow-lg",style:{top:"auto",bottom:"120px"},children:me}),se&&(0,ft.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-green-100 p-2 text-center",children:(0,ft.jsx)("p",{children:se})}),(0,ft.jsxs)("div",{className:"flex flex-col items-center mt-12 mb-6",children:[null!==re&&void 0!==re&&re.profilePicture?(0,ft.jsx)("img",{src:re.profilePicture,alt:"User Avatar",className:"w-20 h-20 rounded-full border-4 border-white shadow-lg transform transition-transform hover:scale-105"}):(0,ft.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-300 animate-pulse"}),(0,ft.jsxs)("h2",{className:"mt-3 text-lg font-semibold text-center",children:[(null===re||void 0===re?void 0:re.firstName)||"User"," ",(null===re||void 0===re?void 0:re.lastName)||"Name"]})]}),(0,ft.jsx)("ul",{className:"space-y-4",children:be.map((_=>{let{name:$,icon:ee,path:ne}=_;const re=oe.pathname===ne;return(0,ft.jsx)("li",{children:(0,ft.jsx)(at,{to:ne,onClick:()=>te(!1),className:"flex items-center gap-4 px-4 py-2 rounded-lg transition-all duration-200 "+(re?"bg-white/20 border-l-4 border-green-400 text-white font-semibold":"hover:bg-white/10 hover:scale-[1.02]"),children:(0,ft.jsx)(components_Tooltip,{text:$,position:"right",children:(0,ft.jsxs)("div",{className:"flex items-center gap-4 text-lg",children:[ee,(0,ft.jsx)("span",{children:$})]})})})},$)}))}),(0,ft.jsxs)("div",{className:"mt-8 border-t border-white/30 pt-4",children:[(0,ft.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-white/80 mb-2",children:"Accounts"}),he.map((_=>(0,ft.jsx)("button",{onClick:()=>(async _=>{const $=he.find(($=>$.name===_));if($)try{await ne(),await ie($.user.email,$.password),pe($.name),console.log(`Switched to ${$.user.email}`)}catch(ee){console.error("Error switching account:",ee),alert("Failed to switch account. Please try logging in again.")}else console.error("Account not found")})(_.name),className:"block w-full mb-20 text-left px-4 py-2 rounded-lg "+(_.name===fe?"bg-white/20 text-white font-semibold":"hover:bg-white/10"),children:_.user.email},_.name))),(0,ft.jsxs)("button",{onClick:()=>{_e("Feature Coming Soon!"),setTimeout((()=>{_e("")}),4e3)},"aria-disabled":"true",className:"mt-2 block w-full text-left px-4 py-2  z-60 rounded-lg bg-green-600 opacity-80 cursor-not-allowed flex items-center gap-2",children:[(0,ft.jsx)("span",{children:"+ Add Account"}),(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11V17M12 7h.01M17 21H7a2 2 0 01-2-2V7a2 2 0 012-2h3m4 0h3a2 2 0 012 2v12a2 2 0 01-2 2z"})})]})]}),(0,ft.jsxs)("div",{className:"sm:hidden mt-4 flex bg-gray-300 rounded-xl p-2 justify-around text-sm",children:[(0,ft.jsx)(Lo.default,{}),(0,ft.jsx)(components_Tooltip,{text:"Notifications",position:"top",children:(0,ft.jsx)(at,{to:"/notifications",className:"cursor-pointer hover:text-blue-200",onClick:()=>te(!1),children:"\ud83d\udd14"})}),(0,ft.jsx)(components_Tooltip,{text:"Account",position:"top",children:(0,ft.jsx)(at,{to:"/account",className:"cursor-pointer hover:text-blue-200",onClick:()=>te(!1),children:"\ud83d\udc64"})})]}),(0,ft.jsx)("div",{className:"sm:hidden mt-20",children:(0,ft.jsx)("ul",{children:(0,ft.jsx)(components_Tooltip,{text:"Log Out",position:"top",children:(0,ft.jsxs)("li",{onClick:async()=>{try{console.log("Attempting to log out..."),await ne(),le("You have been logged out successfully."),setTimeout((()=>{ae("/login")}),2e3)}catch(_){console.error("Logout failed:",_.message),le("Logout failed. Please try again.")}},className:"flex items-center space-x-3 py-3 cursor-pointer text-red-600 hover:text-red-500",children:[(0,ft.jsx)(It.QeK,{}),(0,ft.jsx)("span",{children:"Log Out"})]})})})})]})},components_Header=_=>{let{toggleSidebar:$,isProfileMenuOpen:te,setIsProfileMenuOpen:ne}=_;const re=useLocation(),ie=useNavigate(),{logout:ae}=(0,ct.As)(),[oe,se]=(0,ee.useState)(""),le=(re.pathname.split("/").filter(Boolean).join(" ")||"Dashboard").replace(/\_/g," ").replace(/\b\w/g,(_=>_.toUpperCase()));return(0,ft.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-30 px-6 py-4 flex justify-between items-center bg-white/80 dark:bg-gray-800/80 backdrop-blur-md shadow-md transition-all duration-300",children:[" ",(0,ft.jsx)("button",{onClick:$,className:"p-2 rounded bg-gradient-to-r from-blue-600 to-green-500 text-white dark:bg-gray-700",children:"\u2630"}),(0,ft.jsx)("h1",{className:"text-3xl italic font-bold capitalize text-blue-600 font-poppins dark:text-blue-400",children:"Omnis"}),(0,ft.jsx)("h1",{className:"text-2xl font-bold capitalize dark:text-white",children:le}),(0,ft.jsxs)("div",{className:"hidden sm:flex items-center space-x-6",children:[(0,ft.jsx)(Lo.default,{}),(0,ft.jsx)(at,{to:"/notifications",className:"cursor-pointer hover:text-blue-200",children:"\ud83d\udd14"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("span",{className:"cursor-pointer profile-trigger hover:text-xl",onClick:()=>ne((_=>!_)),children:"\ud83d\udc64"}),te&&(0,ft.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-700 rounded shadow-lg p-2 profile-dropdown",onClick:_=>_.stopPropagation(),children:[(0,ft.jsxs)(at,{to:"/profile",className:"block px-4 py-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center space-x-2",onClick:()=>ne(!1),children:[(0,ft.jsx)(It.JXP,{className:"dark:text-white"}),(0,ft.jsx)("span",{className:"dark:text-white",children:"Profile"})]}),(0,ft.jsxs)(at,{to:"/account",className:"block px-4 py-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center space-x-2",onClick:()=>ne(!1),children:[(0,ft.jsx)(It.cfS,{className:"dark:text-white"}),(0,ft.jsx)("span",{className:"dark:text-white",children:"Account"})]}),(0,ft.jsxs)("div",{onClick:()=>{(async()=>{try{console.log("Attempting to log out..."),await ae(),se("You have been logged out successfully."),setTimeout((()=>{ie("/login")}),2e3)}catch(_){console.error("Logout failed:",_.message),se("Logout failed. Please try again.")}})(),ne(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-200 text-red-900 dark:hover:bg-gray-600 text-red-600 dark:text-red-400 flex items-center space-x-2",children:[(0,ft.jsx)(It.QeK,{}),(0,ft.jsx)("span",{children:"Log Out"})]})]})]})]}),oe&&(0,ft.jsx)("div",{className:"fixed top-4 right-4 p-4 bg-green-200 text-green-800 rounded-md shadow-md z-30",children:oe})]})},Wo={_origin:"https://api.emailjs.com"},validateParams=(_,$,ee)=>{if(!_)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!$)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!ee)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class EmailJSResponseStatus{constructor(_){this.status=_.status,this.text=_.responseText}}const sendPost=function(_,$){let ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((te,ne)=>{const re=new XMLHttpRequest;re.addEventListener("load",(_=>{let{target:$}=_;const ee=new EmailJSResponseStatus($);200===ee.status||"OK"===ee.text?te(ee):ne(ee)})),re.addEventListener("error",(_=>{let{target:$}=_;ne(new EmailJSResponseStatus($))})),re.open("POST",Wo._origin+_,!0),Object.keys(ee).forEach((_=>{re.setRequestHeader(_,ee[_])})),re.send($)}))},es_sendForm=(_,$,ee,te)=>{const ne=te||Wo._userID,re=(_=>{let $;if($="string"===typeof _?document.querySelector(_):_,!$||"FORM"!==$.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return $})(ee);validateParams(ne,_,$);const ie=new FormData(re);return ie.append("lib_version","3.2.0"),ie.append("service_id",_),ie.append("template_id",$),ie.append("user_id",ne),sendPost("/api/v1.0/email/send-form",ie)};const Ho=function FeedbackButton(){const[_,$]=(0,ee.useState)(!1),[te,ne]=(0,ee.useState)(""),[re,ie]=(0,ee.useState)(""),[ae,oe]=(0,ee.useState)(null),[se,le]=(0,ee.useState)(""),toggleFeedbackForm=()=>{$(!_)};return(0,ee.useEffect)((()=>{if(se){const _=setTimeout((()=>le("")),3e3);return()=>clearTimeout(_)}}),[se]),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("div",{className:"fixed bottom-6 bg-opacity-50 backdrop-blur-sm right-6 z-[9999]",title:"Feedback Button",children:(0,ft.jsx)("button",{onClick:toggleFeedbackForm,className:"bg-blue-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-full shadow-lg",children:(0,ft.jsx)(It.Jwm,{})})}),se&&(0,ft.jsx)("div",{className:"fixed bottom-24 right-4 bg-black/80 text-white text-sm px-4 py-2 rounded shadow-lg z-[9999] transition-opacity animate-fade",children:se}),_&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[9998]",onClick:toggleFeedbackForm}),_&&(0,ft.jsxs)("div",{className:"fixed bottom-20 right-6 z-[9999] bg-white backdrop-blur-sm dark:bg-gray-800 text-gray-900 dark:text-white p-6 rounded-lg shadow-lg w-80 border-2 border-blue-300",children:[(0,ft.jsx)("h2",{className:"text-lg font-bold mb-4 text-blue-700 dark:text-blue-400",children:"Submit Feedback"}),(0,ft.jsxs)("form",{onSubmit:_=>{_.preventDefault(),te.trim()&&re&&null!==ae?(es_sendForm("service_lfch17n","template_zb3uq0x",_.target,"Ru_HJfV9Y-llO0KHQ").then((_=>{console.log("\u2705 Email sent:",_.text),le("Thank you for your feedback!"),ne(""),ie(""),oe(null),$(!1)}),(_=>{console.error("\u274c Email error:",_.text),le("Something went wrong. Please try again.")})),_.target.reset()):le("Please fill in all fields before submitting.")},children:[(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{className:"block text-sm font-semibold mb-2 text-green-600 dark:text-green-400",children:"Select Category"}),(0,ft.jsxs)("select",{name:"category",value:re,onChange:_=>ie(_.target.value),className:"w-full p-2 border dark:border-gray-600 rounded-lg text-sm bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none",children:[(0,ft.jsx)("option",{value:"",children:"Choose a category"}),(0,ft.jsx)("option",{value:"General",children:"General"}),(0,ft.jsx)("option",{value:"UI/UX",children:"UI/UX"}),(0,ft.jsx)("option",{value:"Performance",children:"Performance"}),(0,ft.jsx)("option",{value:"Feature Request",children:"Feature Request"})]})]}),(0,ft.jsxs)("div",{className:"mb-4 flex items-center space-x-6",children:[(0,ft.jsx)("input",{type:"hidden",name:"rating",value:ae?"Positive":!1===ae?"Negative":""}),(0,ft.jsx)("button",{type:"button",onClick:()=>oe(!0),className:"text-2xl transition "+(!0===ae?"text-green-500":"text-gray-500 hover:text-green-600"),children:(0,ft.jsx)(It.Ydy,{})}),(0,ft.jsx)("button",{type:"button",onClick:()=>oe(!1),className:"text-2xl transition "+(!1===ae?"text-red-500":"text-gray-500 hover:text-red-600"),children:(0,ft.jsx)(It.rxb,{})})]}),(0,ft.jsx)("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Your Feedback"}),(0,ft.jsx)("textarea",{name:"message",className:"w-full h-24 border dark:border-gray-600 rounded p-2 mb-4 text-sm bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none",placeholder:"Enter your feedback...",value:te,onChange:_=>ne(_.target.value)}),(0,ft.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,ft.jsx)("button",{type:"button",onClick:toggleFeedbackForm,className:"text-red-600 hover:text-red-800 transition",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Submit"})]})]})]})]})};function CreatorsCorner(){const[_,$]=(0,ee.useState)(!1);return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"fixed bottom-6 left-6 z-[9999] cursor-pointer text-green-400 hover:text-blue-600 transition",onClick:()=>$(!0),children:(0,ft.jsx)(It.TPq,{size:30})}),_&&(0,ft.jsx)("div",{className:"fixed inset-0 flex items-end sm:items-center justify-center z-[9999] bg-black/60 backdrop-blur-sm",children:(0,ft.jsxs)("div",{className:"\r bg-white rounded-xl shadow-lg w-full max-w-xl p-6 mx-4 relative text-sm leading-relaxed\r max-h-[80vh] sm:max-h-[70vh] overflow-y-auto\r ",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-center text-blue-600 mb-4",children:"Dedication"}),(0,ft.jsx)("pre",{className:"whitespace-pre-wrap text-gray-700",children:"This work is more than a product.\nIt is a response to a calling\u2014\nA vision whispered in the quiet place,\nA fire lit by the One who formed me.\n\nOmnis was not built by strength alone,\nBut by grace, revelation, and obedience.\nEvery line of code, every design choice,\nAcknowledges the hand of the Master Builder.\n\nMay it be clear to all who use this:\nThat I have met with God.\nLet it show in the clarity it brings,\nIn the wisdom it offers,\nIn the peace that flows through its use.\n\nI return the glory to the One who gave the vision\u2014\nJesus Christ, my Source, my Anchor, my King.\n\nMay Omnis serve not just needs, but purpose.\nNot just progress, but destiny.\nAnd may it always, always point back to You."}),(0,ft.jsx)("button",{onClick:()=>$(!1),className:"absolute top-2 right-3 text-gray-500 hover:text-gray-700 text-lg",children:"\xd7"})]})})]})}const components_Footer=()=>(0,ft.jsx)("footer",{className:"\n        w-full bg-white dark:bg-gray-800 shadow p-4 z-10\n        transition-transform duration-300 ease-in-out\n      ",children:(0,ft.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,ft.jsxs)("div",{className:"text-gray-600 text-sm font-semibold",children:["The Creator \xa9 ",(new Date).getFullYear()]}),(0,ft.jsxs)("div",{className:"flex justify-center gap-2 text-gray-500",children:[(0,ft.jsx)("a",{href:"https://twitter.com/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition text-xl",children:(0,ft.jsx)(It.TC4,{})}),(0,ft.jsx)("a",{href:"https://linkedin.com/in/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition text-xl",children:(0,ft.jsx)(It.Wjy,{})}),(0,ft.jsx)("a",{href:"https://github.com/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition text-xl",children:(0,ft.jsx)(It.BR8,{})})]}),(0,ft.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 text-sm text-gray-500",children:[(0,ft.jsx)("a",{href:"/privacy",className:"hover:text-gray-400",children:"Privacy Policy"}),(0,ft.jsx)("a",{href:"/terms",className:"hover:text-gray-400",children:"Terms of Service"}),(0,ft.jsx)("a",{href:"/contact",className:"hover:text-gray-400",children:"Contact"})]})]})});var $o=__webpack_require__(1003),Ko=__webpack_require__(8638);const Go=(0,xt.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Yo=(0,xt.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),components_AuthForm=()=>{const{signup:_,login:$,resetPassword:te}=(0,ct.As)(),ne=useNavigate(),[re,ie]=(0,ee.useState)(""),[ae,oe]=(0,ee.useState)(""),[se,le]=(0,ee.useState)(""),[de,he]=(0,ee.useState)(""),[fe,pe]=(0,ee.useState)(""),[me,_e]=(0,ee.useState)(""),[be,we]=(0,ee.useState)(""),[Ee,ke]=(0,ee.useState)(""),[Ve,De]=(0,ee.useState)(""),[Ne,Me]=(0,ee.useState)(""),[je,Le]=(0,ee.useState)(!0),[ze,qe]=(0,ee.useState)(!1),[Ke,et]=(0,ee.useState)(!1),[tt,nt]=(0,ee.useState)(!1),[rt,it]=(0,ee.useState)(!1),getPasswordStrength=()=>fe.length<6?"Weak":fe.match(/[a-z]/)&&fe.match(/[A-Z]/)&&fe.match(/[0-9]/)&&fe.length>=8?"Strong":"Medium";return(0,ft.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen space-y-4 bg-white py-8 px-4 sm:px-6 sm:py-8 w-full max-w-md lg:max-w-xl xl:max-w-2xl mx-auto overflow-y-auto",children:ze?Ke?(0,ft.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-900",children:[(0,ft.jsx)("h2",{className:"text-3xl font-light mb-6",children:"Reset Your Password"}),Ne&&(0,ft.jsx)("p",{className:"text-red-500 mb-4",children:Ne}),(0,ft.jsxs)("form",{onSubmit:async _=>{_.preventDefault();try{await te(de),alert("Password reset email sent!"),et(!1),Me("")}catch($){console.error("Password Reset Error:",$),Me($.message||"Failed to send reset email")}},className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[(0,ft.jsx)("input",{type:"email",placeholder:"Enter your email",value:de,onChange:_=>he(_.target.value),required:!0,className:"mb-4 p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-500 text-white py-3 rounded-full",children:"Send Password Reset Email"})]}),(0,ft.jsx)("button",{className:"text-blue-600 mt-4 hover:underline",onClick:()=>{et(!1),Le(!1),Me("")},children:"Back to Login"})]}):(0,ft.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-900",children:[(0,ft.jsx)("h2",{className:"text-3xl font-light mb-6 mt-8",children:je?"Create Your Omnis Account":"Welcome Back!"}),Ne&&(0,ft.jsx)("p",{className:"text-red-500 mb-4",children:Ne}),(0,ft.jsxs)("form",{onSubmit:async ee=>{ee.preventDefault();try{if(je){if(fe!==me)return void Me("Passwords do not match");await _(re,ae,se,de,fe,be,Ee,Ve)}else{await $(de,fe);const _=(0,dt.xI)().currentUser;if(_){const $=(0,St.H9)(ht.db,"users",_.uid);await(0,St.mZ)($,{lastLogin:(0,St.O5)()}),await(async()=>{const _=(0,dt.xI)().currentUser;if(_){const $=(0,St.H9)(ht.db,"users",_.uid),ee=await(0,St.x7)($);ee.exists()&&console.log("Last login:",ee.data().lastLogin)}})()}}ne("/dashboard")}catch(te){console.error("Auth Error:",te),Me(te.message||"An unexpected error occurred")}},className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md space-y-4",children:[je&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("input",{type:"text",placeholder:"First Name",value:re,onChange:_=>ie(_.target.value),required:!0,className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"Last Name",value:ae,onChange:_=>oe(_.target.value),required:!0,className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("input",{type:"tel",placeholder:"Phone Number",value:se,onChange:_=>le(_.target.value),required:!0,className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"Location/City",value:be,onChange:_=>we(_.target.value),required:!0,className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"Country",value:Ee,onChange:_=>ke(_.target.value),required:!0,className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("input",{type:"file",accept:"image/*",onChange:async _=>{const $=_.target.files[0];if($){const _={maxSizeMB:1,maxWidthOrHeight:500};try{const ee=await imageCompression($,_),te=await imageCompression.getDataUrlFromFile(ee);De(te)}catch(Ne){console.error("Image compression error",Ne)}}},className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,ft.jsx)("input",{type:"email",placeholder:"Email",value:de,onChange:_=>he(_.target.value),required:!0,className:"p-3 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsxs)("div",{className:"relative w-full",children:[(0,ft.jsx)("input",{type:tt?"text":"password",placeholder:"Password",value:fe,onChange:_=>pe(_.target.value),required:!0,className:"p-3 border rounded-lg w-full pr-10 focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("button",{type:"button",onClick:()=>nt(!tt),className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500","aria-label":tt?"Hide password":"Show password",children:tt?(0,ft.jsx)(Go,{size:20}):(0,ft.jsx)(Yo,{size:20})})]}),je&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Password strength: ",(0,ft.jsx)("span",{className:(_=>{switch(_){case"Weak":return"text-red-500";case"Medium":return"text-yellow-500";case"Strong":return"text-green-500";default:return"text-gray-500"}})(getPasswordStrength()),children:getPasswordStrength()})]}),(0,ft.jsxs)("div",{className:"relative w-full",children:[(0,ft.jsx)("input",{type:rt?"text":"password",placeholder:"Confirm Password",value:me,onChange:_=>_e(_.target.value),required:!0,className:"p-3 border rounded-lg w-full pr-10 focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,ft.jsx)("button",{type:"button",onClick:()=>it(!rt),className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500","aria-label":rt?"Hide password":"Show password",children:rt?(0,ft.jsx)(Go,{size:20}):(0,ft.jsx)(Yo,{size:20})})]})]}),(0,ft.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-500 text-white py-3 rounded-full",children:je?"Sign Up":"Login"}),!je&&(0,ft.jsx)("button",{type:"button",className:"text-blue-600 mt-4 hover:underline w-full",onClick:()=>et(!0),children:"Forgot Password?"})]}),(0,ft.jsx)("button",{className:"text-blue-600 mt-4 hover:underline",onClick:()=>Le(!je),children:je?"Already have an account? Log in":"Don't have an account? Sign up"})]}):(0,ft.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,ft.jsx)("p",{className:"text-5xl text-gray-800 italic font-light",children:"New to Omnis?"}),(0,ft.jsx)("button",{onClick:()=>qe(!0),className:"px-6 py-3 text-lg font-semibold bg-gradient-to-r from-blue-600 to-green-500 text-white rounded-full hover:bg-blue-700 transition-transform transform hover:scale-105",children:"Signup"})]})})},pages_ProfilePage=()=>{const{currentUser:_}=(0,ct.As)(),[$,te]=(0,ee.useState)(null),[ne,re]=(0,ee.useState)(!0),[ie,ae]=(0,ee.useState)(!1),[oe,se]=(0,ee.useState)("dashboard");return(0,ee.useEffect)((()=>{if(!_)return;const $=(0,St.H9)(ht.db,"users",_.uid),ee=(0,St.aQ)($,(_=>{_.exists()?(te(_.data()),ae(_.data().isOnline)):te(null),re(!1)}));return()=>ee()}),[_]),(0,ft.jsx)("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900 p-6",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-10 w-full max-w-6xl mx-auto",children:[(0,ft.jsxs)("div",{className:"bg-white h-96 border-2 dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-blue-500/50 transition",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("img",{src:(null===$||void 0===$?void 0:$.profilePic)||"default-profile.png",alt:"Profile",className:"w-14 h-14 rounded-full"}),(0,ft.jsx)("div",{className:"ml-4",children:(0,ft.jsx)("p",{className:"text-gray-900 dark:text-white",children:(null===$||void 0===$?void 0:$.firstName)||"User"})})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("span",{className:"inline-block w-3 h-3 rounded-full "+(ie?"bg-green-500":"bg-red-500")}),(0,ft.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:ie?"Online":"Offline"})]})]}),(0,ft.jsx)("hr",{className:"border-gray-300 dark:border-gray-600 my-4"}),(0,ft.jsxs)("h2",{className:"text-lg font-semibold text-center text-blue-500 flex items-center justify-center",children:[(0,ft.jsx)(It.VSk,{className:"mr-2"})," Account Settings"]}),(0,ft.jsxs)("div",{className:"mt-4 space-y-2 text-gray-700 dark:text-gray-300",children:[(0,ft.jsxs)("p",{className:"flex items-center",children:[(0,ft.jsx)(It.F5$,{className:"mr-2"}),(0,ft.jsx)("span",{children:"Change Password"})]}),(0,ft.jsxs)("p",{className:"flex items-center",children:[(0,ft.jsx)(It.pcC,{className:"mr-2"}),(0,ft.jsx)("span",{children:"Enable Two-Factor Authentication"})]}),(0,ft.jsxs)("p",{className:"flex items-center",children:[(0,ft.jsx)(It.GGD,{className:"mr-2"}),(0,ft.jsx)("span",{children:"Manage Linked Accounts"})]}),(0,ft.jsxs)("p",{className:"flex items-center",children:[(0,ft.jsx)(It.EkJ,{className:"mr-2"}),(0,ft.jsx)("span",{children:"Notification Preferences"})]})]})]}),(0,ft.jsxs)("div",{className:"bg-white border-2 h-96 dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-blue-500/50 transition",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-center text-blue-500",children:"Subscriptions & Billing"}),(0,ft.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-2",children:"Manage your subscriptions and billing details."})]}),(0,ft.jsxs)("div",{className:"bg-white border-2 h-96 dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-blue-500/50 transition",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-center text-blue-500",children:"Activity Log"}),(0,ft.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-2",children:"Your recent activities will be displayed here."}),(0,ft.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded mt-4 hover:bg-blue-700 transition",children:"Download Log"})]}),(0,ft.jsxs)("div",{className:"bg-white border-2  h-96 dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-blue-500/50 transition",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-center text-blue-500",children:"Social Links"}),(0,ft.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,ft.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Link Facebook"}),(0,ft.jsx)("button",{className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition",children:"Link LinkedIn"}),(0,ft.jsx)("button",{className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition",children:"Link X (Twitter)"})]})]})]})})},PrivateRoute=_=>{let{children:$}=_;const{user:ee,loading:te}=(0,ct.As)();return te?(0,ft.jsx)("div",{children:"Loading..."}):ee?$:(0,ft.jsx)(Navigate,{to:"/login"})},PublicRoute=_=>{let{children:$}=_;const{user:ee,loading:te}=(0,ct.As)();return te?(0,ft.jsx)("div",{children:"Loading..."}):ee?(0,ft.jsx)(Navigate,{to:"/dashboard"}):$},Qo=["/login"],AppContent=()=>{const _=useLocation(),{user:$,loading:te}=(0,ct.As)(),[ne,re]=(0,ee.useState)(!1),[ie,ae]=(0,ee.useState)(!1),[oe,se]=(0,ee.useState)("dashboard"),handleLogout=()=>{(0,dt.CI)(ht.j2).catch((_=>{console.error("Error signing out:",_)}))},le=Qo.includes(_.pathname),[de,he]=(0,ee.useState)(!1),[fe,pe]=(0,ee.useState)(!1);return(0,ee.useEffect)((()=>{const _=setTimeout((()=>he(!0)),7e3);return()=>clearTimeout(_)}),[]),(0,ee.useEffect)((()=>{if($){pe(!0);const _=setTimeout((()=>{pe(!1)}),3e3);return()=>clearTimeout(_)}pe(!1)}),[$]),te?(0,ft.jsx)("div",{children:"Loading..."}):de?$?fe?(0,ft.jsx)(SplashScreen,{}):(0,ft.jsx)("div",{className:"scale-95 lg:scale-75 origin-top-left w-[105.26%] lg:w-[133.33%]",children:(0,ft.jsx)("div",{className:"min-h-full w-full bg-white dark:bg-gray-900",children:(0,ft.jsx)("main",{className:"min-h-full w-full pt-28 px-2 bg-white dark:bg-gray-900",children:(0,ft.jsxs)(AccountProvider,{children:[(0,ft.jsx)(ut.l$,{position:"top-right"}),!le&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(components_Header,{toggleSidebar:()=>re(!ne),currentPage:oe,isProfileMenuOpen:ie,setIsProfileMenuOpen:ae,setCurrentPage:se,handleLogout:handleLogout}),(0,ft.jsx)(qo,{isSidebarOpen:ne,setIsSidebarOpen:re,handleLogout:handleLogout})]}),(0,ft.jsx)($o.W,{children:(0,ft.jsx)(Ko.p,{children:(0,ft.jsxs)(Routes,{children:[(0,ft.jsx)(Route,{path:"/login",element:(0,ft.jsx)(PublicRoute,{children:(0,ft.jsx)(components_AuthForm,{})})}),(0,ft.jsx)(Route,{path:"/",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_OmnisDashboard,{})})}),(0,ft.jsx)(Route,{path:"/home",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(wt,{})})}),(0,ft.jsx)(Route,{path:"/dashboard",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_OmnisDashboard,{})})}),(0,ft.jsx)(Route,{path:"/partner-chat",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(PartnerChat,{})})}),(0,ft.jsx)(Route,{path:"/saved-scenarios",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(SavedScenarios,{})})}),(0,ft.jsx)(Route,{path:"/user-profile",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_UserProfilePage,{})})}),(0,ft.jsx)(Route,{path:"/support",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(Support,{})})}),(0,ft.jsx)(Route,{path:"/activity-log",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(ActivityLog,{})})}),(0,ft.jsx)(Route,{path:"/resources",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_ResourcesPage,{})})}),(0,ft.jsx)(Route,{path:"/new-scenario",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_ScenarioTabs,{})})}),(0,ft.jsx)(Route,{path:"/settings",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(Settings,{})})}),(0,ft.jsx)(Route,{path:"/analytics",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_AnalyticsPage,{})})}),(0,ft.jsx)(Route,{path:"/payments",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_PaymentsPage,{})})}),(0,ft.jsx)(Route,{path:"/notifications",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(NotificationsPage,{})})}),(0,ft.jsx)(Route,{path:"/account",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(pages_ProfilePage,{})})}),(0,ft.jsx)(Route,{path:"/profile",element:(0,ft.jsx)(PrivateRoute,{children:(0,ft.jsx)(SimpleProfilePage,{})})})]})})}),!le&&(0,ft.jsx)(components_Footer,{}),!le&&(0,ft.jsx)(CreatorsCorner,{}),!le&&(0,ft.jsx)(Ho,{})]})})})}):(0,ft.jsxs)(Routes,{children:[(0,ft.jsx)(Route,{path:"/login",element:(0,ft.jsx)(PublicRoute,{children:(0,ft.jsx)(components_AuthForm,{})})}),(0,ft.jsx)(Route,{path:"*",element:(0,ft.jsx)(Navigate,{to:"/login"})})]}):(0,ft.jsx)(SplashScreen,{})};function App_App(){return(0,ft.jsx)(ct.OJ,{children:(0,ft.jsx)(AppContent,{})})}te.createRoot(document.getElementById("root")).render((0,ft.jsx)(ee.StrictMode,{children:(0,ft.jsx)(BrowserRouter,{children:(0,ft.jsx)(App_App,{})})}))})()})();
//# sourceMappingURL=main.67218f14.js.map