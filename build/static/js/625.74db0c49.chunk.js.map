{"version":3,"file":"static/js/625.74db0c49.chunk.js","mappings":"+KAUA,MAmGA,EAnGoBA,IAA6B,IAADC,EAAAC,EAAA,IAA3B,UAAEC,EAAS,QAAEC,GAASJ,EACzC,MAAOK,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,KAC5BG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,GAGjCK,GADOC,EAAAA,EAAAA,MACKC,YA+ClB,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kEAAiEC,UAC9EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qEAAoEC,SAAA,EACjFF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,0CAAyCC,SAAC,sBACxDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gDAA+CC,SACnB,cAAlC,OAAJL,QAAI,IAAJA,GAAqB,QAAjBX,EAAJW,EAAMO,aAAa,UAAE,IAAAlB,OAAjB,EAAJA,EAAuBmB,YACpB,0CACA,oDAGiC,cAAlC,OAAJR,QAAI,IAAJA,GAAqB,QAAjBV,EAAJU,EAAMO,aAAa,UAAE,IAAAjB,OAAjB,EAAJA,EAAuBkB,cACtBL,EAAAA,EAAAA,KAAA,SACEM,KAAK,WACLC,YAAY,WACZN,UAAU,kDACVO,MAAOlB,EACPmB,SAAWC,GAAMnB,EAAYmB,EAAEC,OAAOH,OACtCI,SAAUjB,IAIbF,IAASO,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAET,KAEpDU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,UACEa,QAtEWC,UACnB,GAAKjB,EAAL,CAKAD,GAAW,GACXF,EAAS,IAET,IAAK,IAADqB,EACF,MAAMV,EAAiC,QAAvBU,EAAGlB,EAAKO,aAAa,UAAE,IAAAW,OAAA,EAApBA,EAAsBV,WAEzC,GAAmB,aAAfA,EAA2B,CAC7B,IAAKf,EAGH,OAFAI,EAAS,8BACTE,GAAW,GAIb,MAAMoB,EAAaC,EAAAA,GAAkBD,WAAWnB,EAAKqB,MAAO5B,SACtD6B,EAAAA,EAAAA,IAA6BtB,EAAMmB,EAC3C,KAAO,IAAmB,eAAfX,EAMT,OAFAX,EAAS,2CACTE,GAAW,GAL2B,CACtC,MAAMwB,EAAW,IAAIC,EAAAA,SACfC,EAAAA,EAAAA,IAAwBzB,EAAMuB,EACtC,CAIA,CAEAxB,GAAW,GACXL,EAAY,IACZG,EAAS,IACTN,GACF,CAAE,MAAOmC,GACPC,QAAQ/B,MAAM8B,GACd7B,EACe,wBAAb6B,EAAIE,KACA,sBACA,uCAEN7B,GAAW,EACb,CAtCA,MAFEF,EAAS,+BAwCX,EA6BQO,UAAW,uDACTN,EAAU,gCAAkC,oBAE9CiB,SAAUjB,EAAQO,SAEjBP,EAAU,eAAiB,aAE9BK,EAAAA,EAAAA,KAAA,UACEa,QAASxB,EACTY,UAAU,mIACVW,SAAUjB,EAAQO,SACnB,kBAKD,C","sources":["components/ReauthModal.js"],"sourcesContent":["// components/ReauthModal.jsx\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  getAuth,\r\n  EmailAuthProvider,\r\n  reauthenticateWithCredential,\r\n  reauthenticateWithPopup,\r\n  GoogleAuthProvider,\r\n} from \"firebase/auth\";\r\n\r\nconst ReauthModal = ({ onSuccess, onClose }) => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n\r\n  const handleReauth = async () => {\r\n    if (!user) {\r\n      setError(\"No authenticated user found.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const providerId = user.providerData[0]?.providerId;\r\n\r\n      if (providerId === \"password\") {\r\n        if (!password) {\r\n          setError(\"Password is required.\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const credential = EmailAuthProvider.credential(user.email, password);\r\n        await reauthenticateWithCredential(user, credential);\r\n      } else if (providerId === \"google.com\") {\r\n        const provider = new GoogleAuthProvider();\r\n        await reauthenticateWithPopup(user, provider);\r\n      } else {\r\n        setError(\"Unsupported authentication method.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setLoading(false);\r\n      setPassword(\"\");\r\n      setError(\"\");\r\n      onSuccess();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\r\n        err.code === \"auth/wrong-password\"\r\n          ? \"Incorrect password.\"\r\n          : \"Reauthentication failed. Try again.\"\r\n      );\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60\">\r\n      <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg max-w-sm w-full\">\r\n        <h2 className=\"text-xl font-semibold text-red-600 mb-4\">Confirm Identity</h2>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-2\">\r\n          {user?.providerData[0]?.providerId === \"password\"\r\n            ? \"Please enter your password to continue.\"\r\n            : \"Please confirm using your provider to continue.\"}\r\n        </p>\r\n\r\n        {user?.providerData[0]?.providerId === \"password\" && (\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"w-full p-2 border rounded dark:bg-gray-700 mb-3\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            disabled={loading}\r\n          />\r\n        )}\r\n\r\n        {error && <p className=\"text-red-500 text-sm mb-2\">{error}</p>}\r\n\r\n        <div className=\"flex justify-between mt-4\">\r\n          <button\r\n            onClick={handleReauth}\r\n            className={`px-4 py-2 bg-red-600 text-white rounded transition ${\r\n              loading ? \"opacity-50 cursor-not-allowed\" : \"hover:bg-red-700\"\r\n            }`}\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Verifying...\" : \"Confirm\"}\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600 transition\"\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReauthModal;\r\n"],"names":["_ref","_user$providerData$2","_user$providerData$3","onSuccess","onClose","password","setPassword","useState","error","setError","loading","setLoading","user","getAuth","currentUser","_jsx","className","children","_jsxs","providerData","providerId","type","placeholder","value","onChange","e","target","disabled","onClick","async","_user$providerData$","credential","EmailAuthProvider","email","reauthenticateWithCredential","provider","GoogleAuthProvider","reauthenticateWithPopup","err","console","code"],"sourceRoot":""}