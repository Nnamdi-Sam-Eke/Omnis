"use strict";(self.webpackChunkomnis=self.webpackChunkomnis||[]).push([[58],{6058:(e,t,n)=>{n.r(t),n.d(t,{Bar:()=>o,Bubble:()=>f,Chart:()=>c,Doughnut:()=>d,Line:()=>u,Pie:()=>E,PolarArea:()=>i,Radar:()=>l,Scatter:()=>p,getDatasetAtEvent:()=>getDatasetAtEvent,getElementAtEvent:()=>getElementAtEvent,getElementsAtEvent:()=>getElementsAtEvent});var a=n(5043),r=n(7304);const s="label";function reforwardRef(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function setLabels(e,t){e.labels=t}function setDatasets(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const a=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!a.includes(r)?(a.push(r),Object.assign(r,t),r):{...t}}))}function cloneData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;const n={labels:[],datasets:[]};return setLabels(n,e.labels),setDatasets(n,e.datasets,t),n}function getDatasetAtEvent(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"dataset",{intersect:!0},!1)}function getElementAtEvent(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"nearest",{intersect:!0},!1)}function getElementsAtEvent(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"index",{intersect:!0},!1)}function ChartComponent(e,t){const{height:n=150,width:s=300,redraw:c=!1,datasetIdKey:u,type:o,data:l,options:d,plugins:i=[],fallbackContent:f,updateMode:E,...p}=e,h=(0,a.useRef)(null),g=(0,a.useRef)(null),renderChart=()=>{h.current&&(g.current=new r.t1(h.current,{type:o,data:cloneData(l,u),options:d&&{...d},plugins:i}),reforwardRef(t,g.current))},destroyChart=()=>{reforwardRef(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,a.useEffect)((()=>{!c&&g.current&&d&&function setOptions(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,d)}),[c,d]),(0,a.useEffect)((()=>{!c&&g.current&&setLabels(g.current.config.data,l.labels)}),[c,l.labels]),(0,a.useEffect)((()=>{!c&&g.current&&l.datasets&&setDatasets(g.current.config.data,l.datasets,u)}),[c,l.datasets]),(0,a.useEffect)((()=>{g.current&&(c?(destroyChart(),setTimeout(renderChart)):g.current.update(E))}),[c,d,l.labels,l.datasets,E]),(0,a.useEffect)((()=>{g.current&&(destroyChart(),setTimeout(renderChart))}),[o]),(0,a.useEffect)((()=>(renderChart(),()=>destroyChart())),[]),a.createElement("canvas",{ref:h,role:"img",height:n,width:s,...p},f)}const c=(0,a.forwardRef)(ChartComponent);function createTypedChart(e,t){return r.t1.register(t),(0,a.forwardRef)(((t,n)=>a.createElement(c,{...t,ref:n,type:e})))}const u=createTypedChart("line",r.ZT),o=createTypedChart("bar",r.A6),l=createTypedChart("radar",r.h9),d=createTypedChart("doughnut",r.ju),i=createTypedChart("polarArea",r.G5),f=createTypedChart("bubble",r.Jb),E=createTypedChart("pie",r.P$),p=createTypedChart("scatter",r.Pz)}}]);
//# sourceMappingURL=58.2cdf87f0.chunk.js.map