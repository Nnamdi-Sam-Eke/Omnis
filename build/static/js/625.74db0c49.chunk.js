"use strict";(self.webpackChunkdigital_twin_app=self.webpackChunkdigital_twin_app||[]).push([[625],{625:(e,r,a)=>{a.r(r),a.d(r,{default:()=>i});var t=a(339),s=a(942),d=a(931);const i=e=>{var r,a;let{onSuccess:i,onClose:o}=e;const[n,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),v=(0,s.xI)().currentUser;return(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg max-w-sm w-full",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Confirm Identity"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"password"===(null===v||void 0===v||null===(r=v.providerData[0])||void 0===r?void 0:r.providerId)?"Please enter your password to continue.":"Please confirm using your provider to continue."}),"password"===(null===v||void 0===v||null===(a=v.providerData[0])||void 0===a?void 0:a.providerId)&&(0,d.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 border rounded dark:bg-gray-700 mb-3",value:n,onChange:e=>l(e.target.value),disabled:p}),c&&(0,d.jsx)("p",{className:"text-red-500 text-sm mb-2",children:c}),(0,d.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,d.jsx)("button",{onClick:async()=>{if(v){g(!0),u("");try{var e;const r=null===(e=v.providerData[0])||void 0===e?void 0:e.providerId;if("password"===r){if(!n)return u("Password is required."),void g(!1);const e=s.IX.credential(v.email,n);await(0,s.kZ)(v,e)}else{if("google.com"!==r)return u("Unsupported authentication method."),void g(!1);{const e=new s.HF;await(0,s.Bm)(v,e)}}g(!1),l(""),u(""),i()}catch(r){console.error(r),u("auth/wrong-password"===r.code?"Incorrect password.":"Reauthentication failed. Try again."),g(!1)}}else u("No authenticated user found.")},className:"px-4 py-2 bg-red-600 text-white rounded transition "+(p?"opacity-50 cursor-not-allowed":"hover:bg-red-700"),disabled:p,children:p?"Verifying...":"Confirm"}),(0,d.jsx)("button",{onClick:o,className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600 transition",disabled:p,children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=625.74db0c49.chunk.js.map